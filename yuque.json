[
  {
    "id": 48316652,
    "slug": "ny150b",
    "title": "博客第1期",
    "book_id": 20286859,
    "book": {
      "id": 20286859,
      "type": "Book",
      "slug": "qeaqxg",
      "name": "阿松博客同步仓库",
      "user_id": 21990331,
      "description": "阿松博客同步仓库",
      "creator_id": 21990331,
      "public": 1,
      "items_count": 1,
      "likes_count": 0,
      "watches_count": 1,
      "content_updated_at": "2021-07-04T05:51:03.052Z",
      "updated_at": "2021-07-04T05:51:03.000Z",
      "created_at": "2021-07-04T05:51:02.000Z",
      "namespace": "asong-m4h1o/qeaqxg",
      "user": {
        "id": 21990331,
        "type": "User",
        "login": "asong-m4h1o",
        "name": "阿松",
        "description": null,
        "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
        "books_count": 1,
        "public_books_count": 1,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2021-07-01T06:12:00.000Z",
        "updated_at": "2021-07-04T05:51:03.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 21990331,
    "creator": {
      "id": 21990331,
      "type": "User",
      "login": "asong-m4h1o",
      "name": "阿松",
      "description": null,
      "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
      "books_count": 1,
      "public_books_count": 1,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2021-07-01T06:12:00.000Z",
      "updated_at": "2021-07-04T05:51:03.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "该博客模版案例来自 [@蚂蚁金服体验技术部](#) \n<a name=\"Cpuzj\"></a>\n### \n<a name=\"az6uF\"></a>\n### 插入带链接的标题（ctrl+K）[Best Year in Music](https://pudding.cool/projects/music-history/)\n这幅可视化作品展示了 1960 年以来，Billboard 历年榜单的前五名音乐的变化情况，效果呈现设计感十足，还可以在聆听音乐的同时回顾音乐的变迁史。<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/85075/1569743511172-7dfff3da-684a-4902-babc-cd9117fe3b7a.png#align=left&display=inline&height=648&name=image.png&originHeight=1296&originWidth=2868&size=965213&status=done&width=1434)<br />_插入图片，点击图片，设置图片大小_<br />值得一提的是，作者正是大名鼎鼎的数据新闻站点 [The Pudding](https://pudding.cool/)。作为可视化新闻媒体中的姣姣者，The Pudding 擅长对那些兼具信息量和娱乐度的争议性话题进行可视化呈现，来使得复杂的观点变得更容易被公众理解。该团队虽然仅由数名全职记者和工程师组成，但战斗力强悍，目前已有数十个大型的数据可视化作品。<br />输入作者 [@诸岳(dengfuping)](/dengfuping)<br />\n<br />\n\n<a name=\"xyPrr\"></a>\n### [Road Suffixes in the USA](https://erdavis.com/2019/07/04/road-suffixes-in-the-usa-take-2/)\n美国道路命名多种多样，例如著名的纽约第五大道（Fifth Avenue），又或者凤凰城（Phoenix）的Washington Street，Thomas Road，Union Hill Drive等。不同的道路，有不同的叫法，Avenue, Street, Road, Drive等等。想了解更多关于美国道路命名可以参考[这篇文章](http://blog.sina.com.cn/s/blog_7010d1db0101he93.html)。<br />作者用R语言统计了美国每个县的每种道路后缀（例如Avenue）的总里程，并把每个县总里程最大的道路后缀通过颜色映射到地图上。可以看出美国大部分县的道路都是以Rd(Road的缩写)结尾的。<br />![road-suffix-map.png](https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625739-f1c8b376-5632-4d08-8fcc-56142f0b0c1a.png#align=left&display=inline&height=603&name=road-suffix-map.png&originHeight=1767&originWidth=2048&size=328604&status=done&width=699)<br />_插入图片，点击图片，设置图片大小_\n\n另外还以柱状图的方式展示了每种道路后缀的总里程（英里）：<br />![road-suffix-bar.png](https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625720-b8759449-4b6a-4b11-bbc0-896fe8dca73e.png#align=left&display=inline&height=737&name=road-suffix-bar.png&originHeight=737&originWidth=890&size=23572&status=done&width=890)<br />by [@长哲(changzhe)](/changzhe)\n\n\n\n<a name=\"hduVH\"></a>\n# [「](https://zhuanlan.zhihu.com/p/83685690)[加餐」](https://zhuanlan.zhihu.com/p/83685690)[Hello World 图可视化](https://zhuanlan.zhihu.com/p/83685690)\n图可视化是信息可视化的子领域，它通过展示元素、关系，帮助用户获取数据的洞悉能力。它已被广泛地应用在流程图、社交网络、英特网、蛋白质网络等关系数据的呈现。<br />[本文](https://zhuanlan.zhihu.com/p/83685690)由 AntV 团队 [@十吾(shiwu-5wap2)](/shiwu-5wap2) 👆撰写，参考自[1][2]两篇图可视化学术论文，简要介绍图可视化的历史、背景、机遇与挑战。\n",
    "body_draft": "该博客模版案例来自 [@蚂蚁金服体验技术部](#) \n<a name=\"Cpuzj\"></a>\n### \n<a name=\"az6uF\"></a>\n### 插入带链接的标题（ctrl+K）[Best Year in Music](https://pudding.cool/projects/music-history/)\n这幅可视化作品展示了 1960 年以来，Billboard 历年榜单的前五名音乐的变化情况，效果呈现设计感十足，还可以在聆听音乐的同时回顾音乐的变迁史。<br />![image.png](https://cdn.nlark.com/yuque/0/2019/png/85075/1569743511172-7dfff3da-684a-4902-babc-cd9117fe3b7a.png#align=left&display=inline&height=648&name=image.png&originHeight=1296&originWidth=2868&size=965213&status=done&width=1434)<br />_插入图片，点击图片，设置图片大小_<br />值得一提的是，作者正是大名鼎鼎的数据新闻站点 [The Pudding](https://pudding.cool/)。作为可视化新闻媒体中的姣姣者，The Pudding 擅长对那些兼具信息量和娱乐度的争议性话题进行可视化呈现，来使得复杂的观点变得更容易被公众理解。该团队虽然仅由数名全职记者和工程师组成，但战斗力强悍，目前已有数十个大型的数据可视化作品。<br />输入作者 [@诸岳(dengfuping)](/dengfuping)<br />\n<br />\n\n<a name=\"xyPrr\"></a>\n### [Road Suffixes in the USA](https://erdavis.com/2019/07/04/road-suffixes-in-the-usa-take-2/)\n美国道路命名多种多样，例如著名的纽约第五大道（Fifth Avenue），又或者凤凰城（Phoenix）的Washington Street，Thomas Road，Union Hill Drive等。不同的道路，有不同的叫法，Avenue, Street, Road, Drive等等。想了解更多关于美国道路命名可以参考[这篇文章](http://blog.sina.com.cn/s/blog_7010d1db0101he93.html)。<br />作者用R语言统计了美国每个县的每种道路后缀（例如Avenue）的总里程，并把每个县总里程最大的道路后缀通过颜色映射到地图上。可以看出美国大部分县的道路都是以Rd(Road的缩写)结尾的。<br />![road-suffix-map.png](https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625739-f1c8b376-5632-4d08-8fcc-56142f0b0c1a.png#align=left&display=inline&height=603&name=road-suffix-map.png&originHeight=1767&originWidth=2048&size=328604&status=done&width=699)<br />_插入图片，点击图片，设置图片大小_\n\n另外还以柱状图的方式展示了每种道路后缀的总里程（英里）：<br />![road-suffix-bar.png](https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625720-b8759449-4b6a-4b11-bbc0-896fe8dca73e.png#align=left&display=inline&height=737&name=road-suffix-bar.png&originHeight=737&originWidth=890&size=23572&status=done&width=890)<br />by [@长哲(changzhe)](/changzhe)\n\n\n\n<a name=\"hduVH\"></a>\n# [「](https://zhuanlan.zhihu.com/p/83685690)[加餐」](https://zhuanlan.zhihu.com/p/83685690)[Hello World 图可视化](https://zhuanlan.zhihu.com/p/83685690)\n图可视化是信息可视化的子领域，它通过展示元素、关系，帮助用户获取数据的洞悉能力。它已被广泛地应用在流程图、社交网络、英特网、蛋白质网络等关系数据的呈现。<br />[本文](https://zhuanlan.zhihu.com/p/83685690)由 AntV 团队 [@十吾(shiwu-5wap2)](/shiwu-5wap2) 👆撰写，参考自[1][2]两篇图可视化学术论文，简要介绍图可视化的历史、背景、机遇与挑战。\n",
    "body_html": "<!doctype html><div class=\"lake-content-editor-core lake-engine\" data-lake-element=\"root\" data-selection-105911=\"%7B%22path%22%3A%5B%5B2%2C0%2C0%2C0%2C0%5D%2C%5B2%2C0%2C0%2C0%2C0%5D%5D%2C%22uuid%22%3A%22105911%22%2C%22active%22%3Atrue%7D\"><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #8C8C8C;\">该博客模版案例来自&nbsp;</span><span data-card-type=\"inline\" data-lake-card=\"mention\"><span class=\"lake-mention-at\">@蚂蚁金服体验技术部</span></span><span style=\"color: #8C8C8C;\">&nbsp;</span></p><h3 id=\"Cpuzj\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\"><br></h3><h3 id=\"az6uF\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\"><span style=\"color: #8C8C8C;\"><span>插入带链接的标题（ctrl+K）</span></span><a href=\"https://pudding.cool/projects/music-history/\" target=\"_blank\"><u><span>Best Year in Music</span></u></a></h3><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">这幅可视化作品展示了 1960 年以来，<span>Billboard&nbsp;</span><span>历年榜单的前五名音乐的变化情况，效果呈现设计感十足，还可以在聆听音乐的同时回顾音乐的变迁史。</span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2019/png/85075/1569743511172-7dfff3da-684a-4902-babc-cd9117fe3b7a.png?x-oss-process=image/resize,w_2000\" data-raw-src=\"https://cdn.nlark.com/yuque/0/2019/png/85075/1569743511172-7dfff3da-684a-4902-babc-cd9117fe3b7a.png\" class=\"image lake-drag-image\" alt=\"image.png\" title=\"image.png\" style=\"visibility: visible; width: 746px; height: 337px;\"></span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #8C8C8C;\"><em><span>插入图片，点击图片，设置图片大小</span></em></span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>值得一提的是，作者正是大名鼎鼎的数据新闻站点&nbsp;</span><span><a href=\"https://pudding.cool/\" target=\"_blank\">The Pudding</a>。作为可视化新闻媒体中的姣姣者，</span><span>The Pudding 擅长对那些兼具信息量和娱乐度的争议性话题进行可视化呈现，来使得复杂的观点变得更容易被公众理解。该团队虽然仅由数名全职记者和工程师组成，但战斗力强悍，</span><span>目前已有</span><span>数十个大型的数据可视化作品。</span></p><p style=\"text-align: right; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>输入作者&nbsp;<span data-card-type=\"inline\" data-lake-card=\"mention\"><a class=\"lake-mention-at\" href=\"https://www.yuque.com/dengfuping\">@诸岳(dengfuping)</a></span></span></p><p style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h3 id=\"xyPrr\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 20px; line-height: 28px;\"><a href=\"https://erdavis.com/2019/07/04/road-suffixes-in-the-usa-take-2/\" target=\"_blank\"><u>Road Suffixes in the USA</u></a></h3><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">美国道路命名多种多样，例如著名的纽约第五大道（<span style=\"color: #333333;\">Fifth Avenue</span>），又或者凤凰城（Phoenix）的<span style=\"color: #323E32;\">Washington Street，</span><span style=\"color: #323E32;\">Thomas Road，</span><span style=\"color: #323E32;\">Union Hill Drive等。不同的道路，有不同的叫法，Avenue, Street, Road, Drive等等。想了解更多关于美国道路命名可以参考</span><a href=\"http://blog.sina.com.cn/s/blog_7010d1db0101he93.html\" target=\"_blank\">这篇文章</a><span style=\"color: #323E32;\">。</span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">作者<span>用R语言</span>统计了美国每个县的每种道路后缀（例如Avenue）的总里程，并把每个县总里程最大的道路后缀通过颜色映射到地图上。可以看出美国大部分县的道路都是以Rd(Road的缩写)结尾的。</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\" class=\"\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625739-f1c8b376-5632-4d08-8fcc-56142f0b0c1a.png?x-oss-process=image/resize,w_2000\" data-raw-src=\"https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625739-f1c8b376-5632-4d08-8fcc-56142f0b0c1a.png\" class=\"image lake-drag-image\" alt=\"road-suffix-map.png\" title=\"road-suffix-map.png\" style=\"visibility: visible; width: 699px; height: 603px;\"></span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #8C8C8C;\"><em><span>插入图片，点击图片，设置图片大小</span></em></span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">另外还以柱状图的方式展示了每种道路后缀的总里程（英里）：</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span data-card-type=\"inline\" data-lake-card=\"image\"><img data-role=\"image\" src=\"https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625720-b8759449-4b6a-4b11-bbc0-896fe8dca73e.png\" data-raw-src=\"https://cdn.nlark.com/yuque/0/2019/png/85075/1569743625720-b8759449-4b6a-4b11-bbc0-896fe8dca73e.png\" class=\"image lake-drag-image\" alt=\"road-suffix-bar.png\" title=\"road-suffix-bar.png\" style=\"visibility: visible; width: 746px; height: 618px;\"></span></p><p style=\"text-align: right; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span>by&nbsp;<span data-card-type=\"inline\" data-lake-card=\"mention\"><a class=\"lake-mention-at\" href=\"https://www.yuque.com/changzhe\">@长哲(changzhe)</a></span></span></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"text-align: left; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h1 id=\"hduVH\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 28px; line-height: 36px;\"><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><span>「</span></a><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><span>加餐」</span></a><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><u>Hello World 图可视化</u></a></h1><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\">图可视化是信息可视化的子领域，它通过展示元素、关系，帮助用户获取数据的洞悉能力。它已被广泛地应用在流程图、社交网络、英特网、蛋白质网络等关系数据的呈现。</p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><u>本文</u></a>由 AntV 团队&nbsp;<span data-card-type=\"inline\" data-lake-card=\"mention\" class=\"\"><a class=\"lake-mention-at\" href=\"https://www.yuque.com/shiwu-5wap2\">@十吾(shiwu-5wap2)</a></span><span>&nbsp;👆撰写，</span>参考自[1][2]两篇图可视化学术论文，简要介绍图可视化的历史、背景、机遇与挑战。</p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><p><span style=\"color: #8C8C8C;\">该博客模版案例来自 </span><card type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22%22%2C%22name%22%3A%22%E8%9A%82%E8%9A%81%E9%87%91%E6%9C%8D%E4%BD%93%E9%AA%8C%E6%8A%80%E6%9C%AF%E9%83%A8%22%7D\"></card><span style=\"color: #8C8C8C;\"> </span></p><h3 id=\"Cpuzj\"><br /></h3><h3 id=\"az6uF\"><span style=\"color: #8C8C8C;\"><span>插入带链接的标题（ctrl+K）</span></span><a href=\"https://pudding.cool/projects/music-history/\" target=\"_blank\"><u><span>Best Year in Music</span></u></a></h3><p>这幅可视化作品展示了 1960 年以来，<span>Billboard </span><span>历年榜单的前五名音乐的变化情况，效果呈现设计感十足，还可以在聆听音乐的同时回顾音乐的变迁史。</span></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F85075%2F1569743511172-7dfff3da-684a-4902-babc-cd9117fe3b7a.png%22%2C%22originWidth%22%3A2868%2C%22originHeight%22%3A1296%2C%22name%22%3A%22image.png%22%2C%22size%22%3A965213%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22search%22%3A%22%22%2C%22width%22%3A1434%2C%22height%22%3A648%7D\"></card></p><p><span style=\"color: #8C8C8C;\"><em><span>插入图片，点击图片，设置图片大小</span></em></span></p><p><span>值得一提的是，作者正是大名鼎鼎的数据新闻站点 </span><span><a href=\"https://pudding.cool/\" target=\"_blank\">The Pudding</a>。作为可视化新闻媒体中的姣姣者，</span><span>The Pudding 擅长对那些兼具信息量和娱乐度的争议性话题进行可视化呈现，来使得复杂的观点变得更容易被公众理解。该团队虽然仅由数名全职记者和工程师组成，但战斗力强悍，</span><span>目前已有</span><span>数十个大型的数据可视化作品。</span></p><p style=\"text-align: right;\"><span>输入作者 <card data-login=\"dengfuping\" data-name=\"诸岳\" type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22dengfuping%22%2C%22name%22%3A%22%E8%AF%B8%E5%B2%B3%22%7D\"></card></span></p><p style=\"text-align: left;\"><br /></p><p style=\"text-align: left;\"><br /></p><h3 id=\"xyPrr\"><a href=\"https://erdavis.com/2019/07/04/road-suffixes-in-the-usa-take-2/\" target=\"_blank\"><u>Road Suffixes in the USA</u></a></h3><p>美国道路命名多种多样，例如著名的纽约第五大道（<span style=\"color: #333333;\">Fifth Avenue</span>），又或者凤凰城（Phoenix）的<span style=\"color: #323E32;\">Washington Street，</span><span style=\"color: #323E32;\">Thomas Road，</span><span style=\"color: #323E32;\">Union Hill Drive等。不同的道路，有不同的叫法，Avenue, Street, Road, Drive等等。想了解更多关于美国道路命名可以参考</span><a href=\"http://blog.sina.com.cn/s/blog_7010d1db0101he93.html\" target=\"_blank\">这篇文章</a><span style=\"color: #323E32;\">。</span></p><p>作者<span>用R语言</span>统计了美国每个县的每种道路后缀（例如Avenue）的总里程，并把每个县总里程最大的道路后缀通过颜色映射到地图上。可以看出美国大部分县的道路都是以Rd(Road的缩写)结尾的。</p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F85075%2F1569743625739-f1c8b376-5632-4d08-8fcc-56142f0b0c1a.png%22%2C%22originWidth%22%3A2048%2C%22originHeight%22%3A1767%2C%22name%22%3A%22road-suffix-map.png%22%2C%22size%22%3A328604%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22search%22%3A%22%22%2C%22width%22%3A699%2C%22height%22%3A603%7D\"></card></p><p><span style=\"color: #8C8C8C;\"><em><span>插入图片，点击图片，设置图片大小</span></em></span></p><p><br /></p><p>另外还以柱状图的方式展示了每种道路后缀的总里程（英里）：</p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F85075%2F1569743625720-b8759449-4b6a-4b11-bbc0-896fe8dca73e.png%22%2C%22originWidth%22%3A890%2C%22originHeight%22%3A737%2C%22name%22%3A%22road-suffix-bar.png%22%2C%22size%22%3A23572%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22search%22%3A%22%22%2C%22width%22%3A890%2C%22height%22%3A737%7D\"></card></p><p style=\"text-align: right;\"><span>by <card data-login=\"changzhe\" data-name=\"长哲\" type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22changzhe%22%2C%22name%22%3A%22%E9%95%BF%E5%93%B2%22%7D\"></card></span></p><p><br /></p><p style=\"text-align: left;\"><br /></p><h1 id=\"hduVH\"><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><span>「</span></a><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><span>加餐」</span></a><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><u>Hello World 图可视化</u></a></h1><p>图可视化是信息可视化的子领域，它通过展示元素、关系，帮助用户获取数据的洞悉能力。它已被广泛地应用在流程图、社交网络、英特网、蛋白质网络等关系数据的呈现。</p><p><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><u>本文</u></a>由 AntV 团队 <card data-login=\"shiwu-5wap2\" data-name=\"十吾\" type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22shiwu-5wap2%22%2C%22name%22%3A%22%E5%8D%81%E5%90%BE%22%7D\"></card><span> 👆撰写，</span>参考自[1][2]两篇图可视化学术论文，简要介绍图可视化的历史、背景、机遇与挑战。</p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><p><span style=\"color: #8C8C8C;\">该博客模版案例来自 </span><card type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22%22%2C%22name%22%3A%22%E8%9A%82%E8%9A%81%E9%87%91%E6%9C%8D%E4%BD%93%E9%AA%8C%E6%8A%80%E6%9C%AF%E9%83%A8%22%7D\"></card><span style=\"color: #8C8C8C;\"> </span></p><h3 id=\"Cpuzj\"><br /></h3><h3 id=\"az6uF\"><span style=\"color: #8C8C8C;\"><span>插入带链接的标题（ctrl+K）</span></span><a href=\"https://pudding.cool/projects/music-history/\" target=\"_blank\"><u><span>Best Year in Music</span></u></a></h3><p>这幅可视化作品展示了 1960 年以来，<span>Billboard </span><span>历年榜单的前五名音乐的变化情况，效果呈现设计感十足，还可以在聆听音乐的同时回顾音乐的变迁史。</span></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F85075%2F1569743511172-7dfff3da-684a-4902-babc-cd9117fe3b7a.png%22%2C%22originWidth%22%3A2868%2C%22originHeight%22%3A1296%2C%22name%22%3A%22image.png%22%2C%22size%22%3A965213%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22search%22%3A%22%22%2C%22width%22%3A1434%2C%22height%22%3A648%7D\"></card></p><p><span style=\"color: #8C8C8C;\"><em><span>插入图片，点击图片，设置图片大小</span></em></span></p><p><span>值得一提的是，作者正是大名鼎鼎的数据新闻站点 </span><span><a href=\"https://pudding.cool/\" target=\"_blank\">The Pudding</a>。作为可视化新闻媒体中的姣姣者，</span><span>The Pudding 擅长对那些兼具信息量和娱乐度的争议性话题进行可视化呈现，来使得复杂的观点变得更容易被公众理解。该团队虽然仅由数名全职记者和工程师组成，但战斗力强悍，</span><span>目前已有</span><span>数十个大型的数据可视化作品。</span></p><p style=\"text-align: right;\"><span>输入作者 <card data-login=\"dengfuping\" data-name=\"诸岳\" type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22dengfuping%22%2C%22name%22%3A%22%E8%AF%B8%E5%B2%B3%22%7D\"></card></span></p><p style=\"text-align: left;\"><br /></p><p style=\"text-align: left;\"><br /></p><h3 id=\"xyPrr\"><a href=\"https://erdavis.com/2019/07/04/road-suffixes-in-the-usa-take-2/\" target=\"_blank\"><u>Road Suffixes in the USA</u></a></h3><p>美国道路命名多种多样，例如著名的纽约第五大道（<span style=\"color: #333333;\">Fifth Avenue</span>），又或者凤凰城（Phoenix）的<span style=\"color: #323E32;\">Washington Street，</span><span style=\"color: #323E32;\">Thomas Road，</span><span style=\"color: #323E32;\">Union Hill Drive等。不同的道路，有不同的叫法，Avenue, Street, Road, Drive等等。想了解更多关于美国道路命名可以参考</span><a href=\"http://blog.sina.com.cn/s/blog_7010d1db0101he93.html\" target=\"_blank\">这篇文章</a><span style=\"color: #323E32;\">。</span></p><p>作者<span>用R语言</span>统计了美国每个县的每种道路后缀（例如Avenue）的总里程，并把每个县总里程最大的道路后缀通过颜色映射到地图上。可以看出美国大部分县的道路都是以Rd(Road的缩写)结尾的。</p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F85075%2F1569743625739-f1c8b376-5632-4d08-8fcc-56142f0b0c1a.png%22%2C%22originWidth%22%3A2048%2C%22originHeight%22%3A1767%2C%22name%22%3A%22road-suffix-map.png%22%2C%22size%22%3A328604%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22search%22%3A%22%22%2C%22width%22%3A699%2C%22height%22%3A603%7D\"></card></p><p><span style=\"color: #8C8C8C;\"><em><span>插入图片，点击图片，设置图片大小</span></em></span></p><p><br /></p><p>另外还以柱状图的方式展示了每种道路后缀的总里程（英里）：</p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F85075%2F1569743625720-b8759449-4b6a-4b11-bbc0-896fe8dca73e.png%22%2C%22originWidth%22%3A890%2C%22originHeight%22%3A737%2C%22name%22%3A%22road-suffix-bar.png%22%2C%22size%22%3A23572%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22search%22%3A%22%22%2C%22width%22%3A890%2C%22height%22%3A737%7D\"></card></p><p style=\"text-align: right;\"><span>by <card data-login=\"changzhe\" data-name=\"长哲\" type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22changzhe%22%2C%22name%22%3A%22%E9%95%BF%E5%93%B2%22%7D\"></card></span></p><p><br /></p><p style=\"text-align: left;\"><br /></p><h1 id=\"hduVH\"><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><span>「</span></a><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><span>加餐」</span></a><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><u>Hello World 图可视化</u></a></h1><p>图可视化是信息可视化的子领域，它通过展示元素、关系，帮助用户获取数据的洞悉能力。它已被广泛地应用在流程图、社交网络、英特网、蛋白质网络等关系数据的呈现。</p><p><a href=\"https://zhuanlan.zhihu.com/p/83685690\" target=\"_blank\"><u>本文</u></a>由 AntV 团队 <card data-login=\"shiwu-5wap2\" data-name=\"十吾\" type=\"inline\" name=\"mention\" value=\"data:%7B%22login%22%3A%22shiwu-5wap2%22%2C%22name%22%3A%22%E5%8D%81%E5%90%BE%22%7D\"></card><span> 👆撰写，</span>参考自[1][2]两篇图可视化学术论文，简要介绍图可视化的历史、背景、机遇与挑战。</p>",
    "public": 1,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2021-07-04T05:51:03.000Z",
    "deleted_at": null,
    "created_at": "2021-07-04T05:51:03.000Z",
    "updated_at": "2021-07-04T05:51:03.000Z",
    "published_at": "2021-07-04T05:51:03.000Z",
    "first_published_at": "2021-07-04T05:51:03.000Z",
    "word_count": 0,
    "cover": "https://cdn.nlark.com/yuque/0/2019/png/105911/1570527117308-c7131366-f7d1-49de-b874-ddf2384e3937.png",
    "description": null,
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 48380654,
    "slug": "mkgnis",
    "title": "Spring5学习笔记",
    "book_id": 20286859,
    "book": {
      "id": 20286859,
      "type": "Book",
      "slug": "qeaqxg",
      "name": "阿松博客",
      "user_id": 21990331,
      "description": "阿松博客",
      "creator_id": 21990331,
      "public": 1,
      "items_count": 2,
      "likes_count": 0,
      "watches_count": 1,
      "content_updated_at": "2021-07-07T01:23:08.031Z",
      "updated_at": "2021-07-07T01:23:08.000Z",
      "created_at": "2021-07-04T05:51:02.000Z",
      "namespace": "asong-m4h1o/qeaqxg",
      "user": {
        "id": 21990331,
        "type": "User",
        "login": "asong-m4h1o",
        "name": "阿松",
        "description": null,
        "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
        "books_count": 1,
        "public_books_count": 1,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2021-07-01T06:12:00.000Z",
        "updated_at": "2021-07-07T09:03:27.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 21990331,
    "creator": {
      "id": 21990331,
      "type": "User",
      "login": "asong-m4h1o",
      "name": "阿松",
      "description": null,
      "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
      "books_count": 1,
      "public_books_count": 1,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2021-07-01T06:12:00.000Z",
      "updated_at": "2021-07-07T09:03:27.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "\n<br />![v2-c7d94fabd9e1251acb3bba73458e3813_720w.jpg](https://cdn.nlark.com/yuque/0/2021/jpeg/21990331/1625470123698-d2c29622-abbf-4042-b3a6-46d13f848425.jpeg#clientId=u144c994e-9948-4&from=paste&height=220&id=u1a5ee6b2&margin=%5Bobject%20Object%5D&name=v2-c7d94fabd9e1251acb3bba73458e3813_720w.jpg&originHeight=330&originWidth=780&originalType=binary&ratio=1&size=17036&status=done&style=none&taskId=u06eb739c-b8a1-480f-bd25-9b74cdab4ad&width=521)\n<a name=\"Spring5\"></a>\n# Spring5\n\n\n<a name=\"f127deba\"></a>\n## 1.、Spring\n\n\n<a name=\"c5aa432b\"></a>\n### 1.1、简介\n\n\n-  Spring ——> 春天，为开源软件带来了春天 \n-  2002，首次推出了Spring框架的雏形：interface21框架！ \n-  Spring框架以interface21框架为基础，经过重新设计，并不断丰富其内涵，于2004年3月24日发布了1.0正式版 \n-  Spring的理念：使用现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ \n-  SSH：Struct2 + Spring + Hibernate（全自动持久化框架）！ \n-  SSM：SpringMVC + Spring + MyBatis（半自动持久化框架，可自定义性质更强）！ \n\n\n<br />spring官网： [https://spring.io/projects/spring-framework#overview](https://spring.io/projects/spring-framework#overview)<br />\n<br />官方下载： [https://repo.spring.io/release/org/springframework/spring/](https://repo.spring.io/release/org/springframework/spring/)<br />\n<br />GitHub： [https://github.com/spring-projects/spring-framework](https://github.com/spring-projects/spring-framework)<br />\n<br />Spring Web MVC： [spring-webmvc最新版](https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE)<br />\n<br />Spring Web MVC和Spring-JDBC的pom配置文件：<br />\n\n```xml\n<!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-webmvc</artifactId>\n    <version>5.2.7.RELEASE</version>\n</dependency>\n\n<!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-jdbc</artifactId>\n    <version>5.2.7.RELEASE</version>\n</dependency>\n```\n\n\n<a name=\"d0c5f72e\"></a>\n### 1.2 优点\n\n\n- Spring是一个开源的免费的框架（容器）！\n- Spring是一个轻量级的、非入侵式的框架！\n- 控制反转（IoC），面向切面编程（AOP）\n- 支持事务的处理，对框架整合的支持！（几乎市面上所有热门框架都能整合进去）！\n\n\n<br />=== 总结一句话：Spring就是一个轻量级的控制反转（IoC）和面向切面编程（AOP）的框架！ ===<br />\n\n<a name=\"e97d5a26\"></a>\n### 1.3 组成\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471469101-9ac80fb7-a32a-41fa-8ed3-85dc36791cd4.png#clientId=ue6922a46-94b3-4&from=paste&height=375&id=u553607f9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=750&originWidth=1449&originalType=binary&ratio=1&size=270746&status=done&style=none&taskId=ufd3f5eae-1736-41c9-8255-72f6add5160&width=724.5)<br />\n<br />\n\n<a name=\"6b590df3\"></a>\n### 1.4、扩展\n\n<br />现代化的java开发 -> 基于Spring的开发！<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471489413-df72e28a-2468-4e34-9a71-1fb0436b433f.png#clientId=ue6922a46-94b3-4&from=paste&height=284&id=u0f064c2e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=567&originWidth=1445&originalType=binary&ratio=1&size=664695&status=done&style=none&taskId=u4176e656-ae09-409b-8999-5ad3ed67e44&width=722.5)<br />\n\n- Spring Boot \n   - 一个快速开发的脚手架\n   - 基于SpringBoot可以快速开发单个微服务\n   - 约定大于配置！\n\n \n\n- Spring Cloud \n   - SpringCloud是基于SpringBoot实现的！\n\n <br />因为现在大多数公司都在使用SpringBoot进行快速开发，学习SpringBoot的前提，需要完全掌握Spring及SpringMVC！承上启下的作用！<br />\n\n<a name=\"0e8f9773\"></a>\n## 2、IoC（控制反转）理论推导\n\n<br />**传统**的调用<br />\n\n1.  UserDao  \n```java\npackage dao;\npublic interface UserDao {\n\tvoid getUser();\n}\n```\n\n2.  UserDaoImp  \n```java\npackage dao;\npublic class UserDaoImpl implements UserDao{\n\tpublic void getUser() {\n\t\tSystem.out.println(\"默认获取用户数据\");\t\n\t}\n}\n```\n\n3.  UserSevice  \n```java\npackage Service;\npublic interface UserService {\n\tvoid getUser();\n}\n```\n\n4.  UserServiceImp  \n```java\npackage Service;\nimport dao.UserDao;\nimport dao.UserDaoImpl;\n\npublic class UserServiceImpl implements UserService{\n\t\tUserDao userDao = new UserDaoImpl();\t\t\n\t\tpublic void getUser(){\n\t\t\tuserDao.getUser();\n\t\t}\t\n}\n```\n\n<br />测试<br />\n\n```java\npackage holle0;\nimport Service.UserService;\nimport Service.UserServiceImpl;\n\npublic class MyTest0 {\n\tpublic static void main(String[] args) {\n\t\t// 用户实际调用的是业务层，dao层他们不需要接触\n\t\tUserService userService = new UserServiceImpl();\n\t\tuserService.getUser();\n\t}\n}\n```\n\n<br />在我们之前的业务中，用户的需求可能会影响我们原来的代码，我们需要根据用户的需求去修改原代码！如果程序代码量十分大，修改一次的成本代价十分昂贵！<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471525605-dfe1b994-8532-43a8-8fd3-c810b4a9ad52.png#clientId=ue6922a46-94b3-4&from=paste&height=547&id=u64f67cf9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1094&originWidth=887&originalType=binary&ratio=1&size=114582&status=done&style=none&taskId=uf1e21627-30d9-4320-8487-04c4391dad0&width=443.5)<br />**改良：**我们使用一个Set接口实现。已经发生了革命性的变化！<br />\n\n```java\n//在Service层的实现类(UserServiceImpl)增加一个Set()方法\n//利用set动态实现值的注入！\n//DAO层并不写死固定调用哪一个UserDao的实现类\n//而是通过Service层调用方法设置实现类！\nprivate UserDao userDao;\npublic void setUserDao(UserDao userDao){\n    this.userDao = userDao;\n}\n```\n\n<br />set() 方法实际上是动态改变了 UserDao userDao 的 初始化部分（**new UserDaoImpl()**）<br />\n<br />测试中加上<br />\n\n```java\n((UserServiceImpl)userService).setUserDao(new UserDaoImpl());\n```\n\n\n- 之前，程序是主动创建对象！**控制权在程序猿手上**！\n- 使用了set注入后，程序不再具有主动性，而是变成了被动的接受对象！（**主动权在客户手上**）\n\n\n<br />本质上解决了问题，程序员不用再去管理对象的创建<br />\n<br />系统的耦合性大大降低，可以更专注在业务的实现上<br />\n<br />这是IoC（控制反转）的原型，反转(理解)：主动权交给了用户<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471548672-390be083-84e3-4789-b6a8-61b4d2bb6bae.png#clientId=ue6922a46-94b3-4&from=paste&height=544&id=u68f4844a&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1087&originWidth=986&originalType=binary&ratio=1&size=121755&status=done&style=none&taskId=u875cbec4-c3b4-47b5-9578-c161d15fdb5&width=493)<br />\n\n<a name=\"e7031f03\"></a>\n### IoC本质\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471698388-279f845b-d9fd-4c1c-aa04-9178f7d2e879.png#clientId=u65c68b31-85a1-4&from=paste&height=97&id=ubbca603d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=194&originWidth=1433&originalType=binary&ratio=1&size=450005&status=done&style=none&taskId=u65cdfe48-8874-4914-ae85-e831f02b4c9&width=716.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471724309-5072877d-ff16-4f20-aaae-47fcd9335689.png#clientId=u65c68b31-85a1-4&from=paste&height=216&id=udae5b455&margin=%5Bobject%20Object%5D&name=image.png&originHeight=431&originWidth=1427&originalType=binary&ratio=1&size=373766&status=done&style=none&taskId=ucefa5faf-a866-4671-b89c-558a37831fe&width=713.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471762487-5054c138-9bdc-4529-963b-70a06aa8918c.png#clientId=u65c68b31-85a1-4&from=paste&height=643&id=u82ca1a76&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1285&originWidth=1447&originalType=binary&ratio=1&size=537847&status=done&style=none&taskId=ub21bca2a-1dd7-4539-b6bb-139c888d2f2&width=723.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471787767-b51f0885-276f-4a0a-8883-835ff617f080.png#clientId=u65c68b31-85a1-4&from=paste&height=108&id=u1868c399&margin=%5Bobject%20Object%5D&name=image.png&originHeight=216&originWidth=1444&originalType=binary&ratio=1&size=476060&status=done&style=none&taskId=ud4a40ca1-31a7-4ffb-a4ee-9f5fa582c1e&width=722)<br />\n\n<a name=\"1b88cb11\"></a>\n## 3、HolleSpring\n\n<br />在父模块中导入jar包<br />\n\n```xml\n<!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n<dependency>\n\t<groupId>org.springframework</groupId>\n\t<artifactId>spring-webmvc</artifactId>\n\t<version>5.2.7.RELEASE</version>\n</dependency>\n```\n\n<br />pojo的Hello.java<br />\n\n```java\npackage pojo;\n\npublic class Hello {\n\n\tprivate String str;\n\t\n\tpublic String getStr() {\n\t\treturn str;\n\t}\n\n\tpublic void setStr(String str) {\n\t\tthis.str = str;\n\t}\n\t\n\t@Override\n\tpublic String toString() {\n\t\treturn \"Holle [str=\" + str + \"]\";\n\t}\n}\n```\n\n<br />在resource里面的xml配置<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n\n    <!--在Spring中创建对象，在Spring这些都称为bean\n    \t类型 变量名 = new 类型();\n    \tHolle holle = new Holle();\n    \t\n    \tbean = 对象(holle)\n    \tid = 变量名(holle)\n    \tclass = new的对象(new Holle();)\n    \tproperty 相当于给对象中的属性设值,让str=\"Spring\"\n    -->\n    \n    <bean id=\"hello\" class=\"pojo.Hello\">\n        <property name=\"str\" value=\"Spring\"/>\n    </bean>\n</beans>\n```\n\n<br />测试类MyTest<br />\n\n```java\npackage holle1;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport pojo.Hello;\n\npublic class MyTest {\n\n\tpublic static void main(String[] args) {\n\t\t//获取Spring的上下文对象\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\t\t//我们的对象下能在都在spring·中管理了，我们要使用，直接取出来就可以了\n\t\tHello holle = (Hello) context.getBean(\"hello\");\n\t\tSystem.out.println(holle.toString());\n\t}\n\n}\n```\n\n<br />核心用set注入，所以必须要有下面的se()方法<br />\n\n```java\n//Hello类\npublic void setStr(String str) {\n\t\tthis.str = str;\n\t}\n```\n\n<br />**思考：**<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471815422-ae6ce201-a69e-466e-bd47-7f699c396eea.png#clientId=u65c68b31-85a1-4&from=paste&height=428&id=ue193d403&margin=%5Bobject%20Object%5D&name=image.png&originHeight=856&originWidth=1431&originalType=binary&ratio=1&size=1137501&status=done&style=none&taskId=u9f574879-54f0-4587-a3d6-b3938d958c7&width=715.5)<br />IoC：对象由Spring 来创建，管理，装配！<br />\n<br />**弹幕评论里面的理解：**<br />\n<br />原来这套程序是：你写好菜单买好菜，客人来了自己把菜炒好招待，就相当于你请人吃饭<br />现在这套程序是：你告诉楼下餐厅，你要哪些菜，客人来的时候，餐厅把做好的你需要的菜送上来<br />IoC：炒菜这件事，不再由你自己来做，而是委托给了第三方__餐厅来做<br />\n<br />此时的区别就是，如果我还需要做其他的菜，我不需要自己搞菜谱买材料再做好，而是告诉餐厅，我要什么菜，什么时候要，你做好送来<br />\n<br />.<br />\n<br />在前面第一个module试试引入Spring<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"userDaomSql\" class=\"dao.UserDaoMysqlImpl\"></bean>\n\n    <bean id=\"userServiceImpl\" class=\"service.UserServiceImp\">\n        <!--ref引用spring中已经创建很好的对象-->\n        <!--value是一个具体的值,基本数据类型-->\n        <property name=\"userDao\" ref=\"userDaomSql\"/>\n    </bean>\n\n</beans>\n```\n\n<br />第一个module改良后测试<br />\n\n```java\npackage holle0;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport service.UserServiceImpl;\n\npublic class MyTest0 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\t\tUserServiceImpl userServiceImpl = (UserServiceImpl) context.getBean(\"userServiceImpl\");\n\t\tuserServiceImpl.getUser();\n\t}\n}\n```\n\n<br />**总结：**<br />\n<br />所有的类都要装配的beans.xml 里面；<br />\n<br />所有的bean 都要通过容器去取；<br />\n<br />容器里面取得的bean，拿出来就是一个对象，用对象调用方法即可；<br />\n\n<a name=\"4ddfc2b5\"></a>\n## 4、IoC创建对象的方式\n\n\n1. 使用无参构造创建对象，默认。\n2. 使用有参构造（如下）\n\n\n<br />下标赋值<br />\n<br />index指的是有参构造中参数的下标，下标从0开始;<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"user\" class=\"pojo.User\">\n        <constructor-arg index=\"0\" value=\"chen\"/>\n    </bean>\n</beans>\n```\n\n<br />类型赋值（不建议使用）<br />\n\n```xml\n<bean id=\"user\" class=\"pojo.User\">\n    <constructor-arg type=\"java.lang.String\" value=\"kuang\"/>\n</bean>\n```\n\n<br />直接通过参数名（掌握）<br />\n\n```xml\n<bean id=\"user\" class=\"pojo.User\">\n    <constructor-arg name=\"name\" value=\"kuang\"></constructor-arg>\n</bean>\n<!-- 比如参数名是name，则有name=\"具体值\" -->\n```\n\n<br />注册bean之后就对象的初始化了（**类似 new 类名()**）<br />\n<br />弹幕评论：<br />\n<br />name方式还需要无参构造和set方法,index和type只需要有参构造<br />\n<br />就算是new 两个对象，也是只有一个实例（**单例模式：全局唯一**）<br />\n\n```java\nUser user = (User) context.getBean(\"user\");\nUser user2 = (User) context.getBean(\"user\");\nsystem.out.println(user == user2)//结果为true\n```\n\n<br />总结：在配置文件加载的时候，容器(< bean>)中管理的对象就已经初始化了<br />\n\n<a name=\"55d787f1\"></a>\n## 5、Spring配置\n\n\n<a name=\"0395086d\"></a>\n### 5.1、别名\n\n\n```xml\n<bean id=\"user\" class=\"pojo.User\">\n    <constructor-arg name=\"name\" value=\"chen\"></constructor-arg>\n</bean>\n\n<alias name=\"user\" alias=\"userLove\"/>\n<!-- 使用时\n\tUser user2 = (User) context.getBean(\"userLove\");\t\n-->\n```\n\n\n<a name=\"bd36fb1e\"></a>\n### 5.2、Bean的配置\n\n\n```xml\n<!--id：bean的唯一标识符，也就是相当于我们学的对象名\nclass：bean对象所对应的会限定名：包名+类型\nname：也是别名，而且name可以同时取多个别名 -->\n<bean id=\"user\" class=\"pojo.User\" name=\"u1 u2,u3;u4\">\n    <property name=\"name\" value=\"chen\"/>\n</bean>\n<!-- 使用时\n\tUser user2 = (User) context.getBean(\"u1\");\t\n-->\n```\n\n\n<a name=\"8cc591db\"></a>\n### 5.3、import\n\n<br />import一般用于团队开发使用，它可以将多个配置文件，导入合并为一个<br />\n<br />假设，现在项目中有多个人开发，这三个人复制不同的类开发，不同的类需要注册在不同的bean中，我们可以利<br />用import将所有人的beans.xml合并为一个总的！<br />\n\n-  张三(beans.xm1) \n-  李四(beans2.xm1) \n-  王五(beans3.xm1) \n-  applicationContext.xml  \n```xml\n<import resource=\"beans.xm1\"/>\n<import resource=\"beans2.xml\"/>\n<import resource=\"beans3.xm1\"/>\n```\n\n<br />**使用的时候，直接使用总的配置就可以了**<br />\n<br />弹幕评论：<br />\n<br />按照在总的xml中的导入顺序来进行创建，后导入的会重写先导入的，最终实例化的对象会是后导入xml中的那个<br />\n\n<a name=\"e5c5c9f1\"></a>\n## 6、依赖注入（DI）\n\n\n<a name=\"809c1a44\"></a>\n### 6.1、构造器注入\n\n<br />第4点有提到<br />\n\n<a name=\"9a618fd8\"></a>\n### 6.2、set方式注入【重点】\n\n<br />依赖注入：set注入！<br />\n\n- 依赖：bean对象的创建依赖于容器\n- 注入：bean对象中的所有属性，由容器来注入\n\n\n<br />【环境搭建】<br />\n\n1.  复杂类型<br />Address类 \n2.  真实测试对象<br />Student类 \n3.  beans.xml \n4.  测试<br />MyTest3 \n\n\n<br />Student类<br />\n\n```java\npackage pojo;\n\nimport java.util.*;\n@Get\n@Set\npublic class Student {\n//别忘了写get和set方法（用lombok注解也行）\n    private String name;\n    private Address address;\n\n    private String[] books;\n    private List<String> hobbies;\n\n    private Map<String, String> card;\n    private Set<String> game;\n\n    private Properties infor;\n    private String wife;\n\n    @Override\n    public String toString() {\n        return \"Student{\" +\"\\n\"+\n                \"name='\" + name + '\\'' +\"\\n\"+\n                \", address=\" + address.toString() +\"\\n\"+\n                \", books=\" + Arrays.toString(books) +\"\\n\"+\n                \", hobbies=\" + hobbies +\"\\n\"+\n                \", card=\" + card +\"\\n\"+\n                \", game=\" + game +\"\\n\"+\n                \", infor=\" + infor +\"\\n\"+\n                \", wife='\" + wife + '\\'' +\"\\n\"+\n                '}';\n    }\n}\n```\n\n<br />Address类<br />\n\n```java\npackage pojo;\n\npublic class Address {\n\n    private String address;\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    @Override\n    public String toString() {\n        return \"Address{\" +\n                \"address='\" + address + '\\'' +\n                '}';\n    }\n}\n```\n\n<br />beans.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n\t<bean id=\"address\" class=\"pojo.Address\">\n\t\t<property name=\"address\" value=\"address你好\" />\n\t</bean>\n\n\t<bean id=\"student\" class=\"pojo.Student\">\n\t\t<!--第一种，普通值注入 -->\n\t\t<property name=\"name\" value=\"name你好\" />\n\t\t<!--第二种，ref注入 -->\n\t\t<property name=\"address\" ref=\"address\" />\n\n\t\t<!--数组注入 -->\n\t\t<property name=\"books\">\n\t\t\t<array>\n\t\t\t\t<value>三国</value>\n\t\t\t\t<value>西游</value>\n\t\t\t\t<value>水浒</value>\n\t\t\t</array>\n\t\t</property>\n\n\t\t<!--list列表注入 -->\n\t\t<property name=\"hobbies\">\n\t\t\t<list>\n\t\t\t\t<value>唱</value>\n\t\t\t\t<value>跳</value>\n\t\t\t\t<value>rap</value>\n\t\t\t\t<value>篮球</value>\n\t\t\t</list>\n\t\t</property>\n\n\t\t<!--map键值对注入 -->\n\t\t<property name=\"card\">\n\t\t\t<map>\n\t\t\t\t<entry key=\"username\" value=\"root\" />\n\t\t\t\t<entry key=\"password\" value=\"root\" />\n\t\t\t</map>\n\t\t</property>\n\n\t\t<!--set(可去重)注入 -->\n\t\t<property name=\"game\">\n\t\t\t<set>\n\t\t\t\t<value>wangzhe</value>\n\t\t\t\t<value>lol</value>\n\t\t\t\t<value>galname</value>\n\t\t\t</set>\n\t\t</property>\n\n\t\t<!--空指针null注入 -->\n\t\t<property name=\"wife\">\n\t\t\t<null></null>\n\t\t</property>\n\n\t\t<!--properties常量注入 -->\n\t\t<property name=\"infor\">\n\t\t\t<props>\n\t\t\t\t<prop key=\"id\">20200802</prop>\n\t\t\t\t<prop key=\"name\">cbh</prop>\n\t\t\t</props>\n\t\t</property>\n\t</bean>\n</beans>\n```\n\n<br />MyTest3<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport pojo.Student;\n\npublic class MyTest3 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\t\tStudent stu = (Student) context.getBean(\"student\");\n\t\tSystem.out.println(stu.toString());\n\t}\t\n}\n```\n\n\n<a name=\"3c94674f\"></a>\n### 6.3、拓展注入\n\n<br />官方文档位置<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471878381-057df3da-65e9-41cf-8804-c9d387f0fcf3.png#clientId=u65c68b31-85a1-4&from=paste&height=328&id=u58d619ea&margin=%5Bobject%20Object%5D&name=image.png&originHeight=656&originWidth=1427&originalType=binary&ratio=1&size=326070&status=done&style=none&taskId=uda825a33-9e6c-4d24-ac9a-4ca18afea94&width=713.5)<br />\n<br />pojo增加User类<br />\n\n```java\npackage pojo;\n\npublic class User {\n    private String name;\n    private int id;\n\tpublic User() {\n        \n\t}\n\tpublic User(String name, int id) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.id = id;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic int getId() {\n\t\treturn id;\n\t}\n\tpublic void setId(int id) {\n\t\tthis.id = id;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\treturn \"User [name=\" + name + \", id=\" + id + \"]\";\n\t}\n}\n```\n\n<br />注意： beans 里面加上这下面两行<br />\n<br />使用p和c命名空间需要导入xml约束<br />\n<br />xmlns:p=“http://www.springframework.org/schema/p”<br />xmlns:c=“http://www.springframework.org/schema/c”<br />\n\n```xml\n?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:c=\"http://www.springframework.org/schema/c\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <!--p命名空间注入/set注入，可以直接注入属性的值-》property-->\n    <bean id=\"user\" class=\"pojo.User\" p:name=\"cxk\" p:id=\"20\" >\n    </bean>\n\n    <!--c命名空间，通过构造器注入，需要写入有参和无参构造方法-》construct-args-->\n    <bean id=\"user2\" class=\"pojo.User\" c:name=\"cbh\" c:id=\"22\"></bean>\n</beans>\n```\n\n<br />测试<br />\n\n```java\nApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\nUser user = context.getBean(\"user\",User.class);//确定class对象，就不用再强转了\nSystem.out.println(user.toString());\n```\n\n\n<a name=\"16334c78\"></a>\n### 6.4、Bean作用域\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471904621-7ed632de-12df-40e9-a3b9-ae6b4a446088.png#clientId=u65c68b31-85a1-4&from=paste&height=422&id=u6d12e90f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=843&originWidth=1424&originalType=binary&ratio=1&size=421622&status=done&style=none&taskId=u236a3f01-9665-409c-89c8-6110309854a&width=712)<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471928095-937427a8-29ae-435a-b602-df741f768463.png#clientId=u65c68b31-85a1-4&from=paste&height=377&id=u79de32bf&margin=%5Bobject%20Object%5D&name=image.png&originHeight=753&originWidth=1427&originalType=binary&ratio=1&size=374384&status=done&style=none&taskId=ubdb4b1f9-53e8-4604-a7d3-3d0df1261d0&width=713.5)<br />\n\n1.  单例模式（默认）  \n```xml\n<bean id=\"user2\" class=\"pojo.User\" c:name=\"cxk\" c:age=\"19\" scope=\"singleton\"></bean>\n1\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471985296-9123fd81-1e81-4c8e-beba-1596e15f352a.png#clientId=u65c68b31-85a1-4&from=paste&height=331&id=u44aa8f75&margin=%5Bobject%20Object%5D&name=image.png&originHeight=662&originWidth=1438&originalType=binary&ratio=1&size=310107&status=done&style=none&taskId=u3910b108-eea1-4fb9-bf65-538b0106af5&width=719)<br />弹幕评论：单例模式是把对象放在pool中，需要再取出来，使用的都是同一个对象实例<br />\n\n1.  原型模式: 每次从容器中get的时候，都产生一个新对象！  \n```xml\n<bean id=\"user2\" class=\"pojo.User\" c:name=\"cxk\" c:age=\"19\" scope=\"prototype\"></bean>\n1\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472006517-1d85d479-1c63-4354-8b85-3b700f0423e2.png#clientId=u65c68b31-85a1-4&from=paste&height=330&id=uafc03b06&margin=%5Bobject%20Object%5D&name=image.png&originHeight=659&originWidth=1421&originalType=binary&ratio=1&size=290775&status=done&style=none&taskId=ua3770b8a-768b-48a4-8ed9-aba7346dfd7&width=710.5)<br />\n\n1. 其余的request、session、application这些只能在web开放中使用！\n\n\n\n<a name=\"2401aaad\"></a>\n## 7、Bean的自动装配\n\n\n- 自动装配是Spring满足bean依赖的一种方式\n- Spring会在上下文自动寻找，并自动给bean装配属性\n\n\n<br />在Spring中有三种装配的方式<br />\n\n1.  在xml中显示配置 \n2.  在java中显示配置 \n3.  隐式的自动装配bean 【重要】 \n4.  环境搭建：一个人有两个宠物 \n5.  byType自动装配：byType会自动查找，和自己对象set方法参数的类型相同的bean<br />保证所有的class唯一(类为全局唯一) \n6.  byName自动装配：byName会自动查找，和自己对象set对应的值对应的id<br />保证所有id唯一，并且和set注入的值一致  \n```xml\n<!-- 找不到id和多个相同class -->\n<bean id=\"cat1\" class=\"pojo.Cat\"/>\n<bean id=\"cat2\" class=\"pojo.Cat\"/>\n<!-- 找不到 id=cat，且有两个Cat -->\n```\n\n\n<a name=\"013694b5\"></a>\n### 7.1测试：自动装配\n\n<br />pojo的Cat类<br />\n\n```java\npublic class Cat {\n    public void shut(){\n        System.out.println(\"miao\");\n    }\n}\n```\n\n<br />pojo的Dog类<br />\n\n```java\npublic class Dog {\n\n    public void shut(){\n        System.out.println(\"wow\");\n    }\n\n}\n```\n\n<br />pojo的People类<br />\n\n```java\npackage pojo;\npublic class People {\n    \n    private Cat cat;\n    private Dog dog;\n    private String name;\n\n    public Cat getCat() {\n        return cat;\n    }\n\n    public void setCat(Cat cat) {\n        this.cat = cat;\n    }\n\n    public Dog getDog() {\n        return dog;\n    }\n\n    public void setDog(Dog dog) {\n        this.dog = dog;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return \"People{\" +\n                \"cat=\" + cat +\n                \", dog=\" + dog +\n                \", name='\" + name + '\\'' +\n                '}';\n    }\n}\n```\n\n<br />xml配置 -> byType 自动装配<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"cat\" class=\"pojo.Cat\"/>\n    <bean id=\"dog\" class=\"pojo.Dog\"/>\n    \n    <!--byType会在容器自动查找，和自己对象属性相同的bean\n\t\t例如，Dog dog; 那么就会查找pojo的Dog类，再进行自动装配\n\t-->\n    <bean id=\"people\" class=\"pojo.People\" autowire=\"byType\">\n        <property name=\"name\" value=\"cbh\"></property>\n    </bean>\n\n</beans>\n```\n\n<br />xml配置 -> byName 自动装配<br />\n\n```xml\n<bean id=\"cat\" class=\"pojo.Cat\"/>\n<bean id=\"dog\" class=\"pojo.Dog\"/>\n<!--byname会在容器自动查找，和自己对象set方法的set后面的值对应的id\n  例如:setDog()，取set后面的字符作为id，则要id = dog 才可以进行自动装配\n  \n -->\n<bean id=\"people\" class=\"pojo.People\" autowire=\"byName\">\n\t<property name=\"name\" value=\"cbh\"></property>\n</bean>\n```\n\n<br />弹幕评论：byName只能取到小写，大写取不到<br />\n\n<a name=\"cddbd9d6\"></a>\n### 7.2、使用注解实现自动装配\n\n<br />jdk1.5支持的注解，spring2.5支持的注解<br />\n<br />The introduction of annotation-based configuration raised the question of whether this approach is “better” than XML.（翻译：基于注释的配置的引入提出了一个问题，即这种方法是否比XML“更好”）<br />\n\n1. 导入context约束\n\n\n<br />**xmlns:context=\"**[**http://www.springframework.org/schema/context**](http://www.springframework.org/schema/context)**\"**<br />\n\n1. 配置注解的支持：< context:annotation-config/>\n\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\">\n\n    <context:annotation-config/>\n</beans>\n```\n\n\n<a name=\"f296a4dc\"></a>\n#### 7.2.1、[@Autowired ](/Autowired ) \n\n<br />**默认是byType方式，如果匹配不上，就会byName**<br />\n<br />在属性上个使用，也可以在set上使用<br />\n<br />我们可以不用编写set方法了，前提是自动装配的属性在Spring容器里，且要符合ByName 自动装配<br />\n\n```java\npublic class People {\n    @Autowired\n    private Cat cat;\n    @Autowired\n    private Dog dog;\n    private String name;\n}\n```\n\n\n> [@Nullable ](/Nullable ) 字段标记了这个注解，说明该字段可以为空 \n>  \n> public name([@Nullable ](/Nullable ) String name){ \n>  \n> }\n\n\n\n```java\n//源码\npublic @interface Autowired { \n\tboolean required() default true; \n}\n```\n\n<br />如果定义了Autowire的require属性为false，说明这个对象可以为null，否则不允许为空（false表示找不到装配，不抛出异常）<br />\n\n<a name=\"99af1956\"></a>\n#### 7.2.2、@Autowired+[@Qualifier ](/Qualifier ) \n\n<br />**@Autowired不能唯一装配时，需要@Autowired+**[**@Qualifier **](/Qualifier )** **<br />\n<br />如果[@Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value ](/Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value ) = “dog”)去配合使用，指定一个唯一的id对象 <br />\n\n```java\npublic class People {\n    @Autowired\n    private Cat cat;\n    @Autowired\n    @Qualifier(value = \"dog\")\n    private Dog dog;\n    private String name;\n}\n```\n\n<br />弹幕评论：<br />\n<br />如果xml文件中同一个对象被多个bean使用，Autowired无法按类型找到，可以用@Qualifier指定id查找<br />\n\n<a name=\"258454b4\"></a>\n#### 7.2.3、[@Resource ](/Resource ) \n\n<br />**默认是byName方式，如果匹配不上，就会byType**<br />\n\n```java\npublic class People {\n    Resource(name=\"cat\")\n    private Cat cat;\n    Resource(name=\"dog\")\n    private Dog dog;\n    private String name;\n}\n```\n\n<br />弹幕评论：<br />\n<br />Autowired是byType，@Autowired+[@Qualifier ](/Qualifier ) = byType || byName <br />\n<br />Autowired是先byteType,如果唯一則注入，否则byName查找。resource是先byname,不符合再继续byType<br />\n\n<a name=\"9cdb3b71\"></a>\n#### 区别：\n\n<br />@Resource和@Autowired的区别：<br />\n\n- 都是用来自动装配的，都可以放在属性字段上\n- @Autowired通过byType的方式实现，而且必须要求这个对象存在！【常用】\n- @Resource默认通过byname的方式实现，如果找不到名字，则通过byType实现！如果两个都找不到的情况下，就报错！【常用】\n- 执行顺序不同：@Autowired通过byType的方式实现。@Resource默认通过byname的方式实现\n\n\n\n<a name=\"854e10cf\"></a>\n## 8、使用注解开发\n\n<br />在spring4之后，使用注解开发，必须要保证aop包的导入<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472040975-16f26b51-4e5d-402d-9197-1f4070053ed9.png#clientId=u65c68b31-85a1-4&from=paste&height=274&id=ua663f32d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=548&originWidth=846&originalType=binary&ratio=1&size=196088&status=done&style=none&taskId=u32f1f35d-08fe-466a-ac85-5abaf88a5a3&width=423)<br />使用注解需要导入contex的约束<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\">\n\n    <context:annotation-config/>\n\n</beans>\n```\n\n\n<a name=\"dfb77a85\"></a>\n### 8.1、bean\n\n<br />弹幕评论：<br />有了< context:component-scan>，另一个< context:annotation-config/>标签可以移除掉，因为已经被包含进去了。<br />\n\n```xml\n<!--指定要扫描的包，这个包下面的注解才会生效\n\t别只扫一个com.kuang.pojo包--> \n<context:component-scan base-package=\"com.kuang\"/> \n<context:annotation-config/>\n```\n\n\n```java\n//@Component 组件\n//等价于<bean id=\"user\" classs\"pojo.User\"/> \n@Component\npublic class User {  \n     public String name =\"秦疆\";\n}\n```\n\n\n<a name=\"a7a26744\"></a>\n### 8.2、属性如何注入[@value ](/value ) \n\n\n```java\n@Component\npublic class User { \n    //相当于<property name=\"name\" value=\"kuangshen\"/> \n    @value(\"kuangshen\") \n    public String name; \n    \n    //也可以放在set方法上面\n    //@value(\"kuangshen\")\n    public void setName(String name) { \n        this.name = name; \n    }\n}\n```\n\n\n<a name=\"3f91c3c2\"></a>\n### 8.3、衍生的注解\n\n<br />@Component有几个衍生注解，会按照web开发中，mvc架构中分层。<br />\n\n- dao （@Repository）\n- service（@Service）\n- controller（@Controller）\n\n\n<br />**这四个注解的功能是一样的，都是代表将某个类注册到容器中**<br />\n\n<a name=\"137b3e5b\"></a>\n### 8.4、自动装配置\n\n<br />@Autowired：默认是byType方式，如果匹配不上，就会byName<br />\n<br />@Nullable：字段标记了这个注解，说明该字段可以为空<br />\n<br />@Resource：默认是byName方式，如果匹配不上，就会byType<br />\n\n<a name=\"fd88b712\"></a>\n### 8.5、作用域[@scope ](/scope ) \n\n\n```java\n//原型模式prototype，单例模式singleton\n//scope(\"prototype\")相当于<bean scope=\"prototype\"></bean>\n@Component \n@scope(\"prototype\")\npublic class User { \n    \n    //相当于<property name=\"name\" value=\"kuangshen\"/> \n    @value(\"kuangshen\") \n    public String name; \n    \n    //也可以放在set方法上面\n    @value(\"kuangshen\")\n    public void setName(String name) { \n        this.name = name; \n    }\n}\n```\n\n\n<a name=\"3c4563c2\"></a>\n### 8.6、小结\n\n<br />**xml与注解：**<br />\n\n- xml更加万能，维护简单，适用于任何场合\n- 注解，不是自己的类使用不了，维护复杂\n\n\n<br />**最佳实践：**<br />\n\n- xml用来管理bean\n- 注解只用来完成属性的注入\n- 要开启注解支持\n\n\n\n<a name=\"ecb615f1\"></a>\n## 9、使用Java的方式配置Spring\n\n<br />不使用Spring的xml配置，完全交给java来做！<br />\n<br />Spring的一个子项目，在spring4之后，，，它成为了核心功能<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472064164-cf739a67-0d9a-4f49-b36f-8d78ccaf6136.png#clientId=u65c68b31-85a1-4&from=paste&height=344&id=u974c124e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=687&originWidth=1424&originalType=binary&ratio=1&size=1679930&status=done&style=none&taskId=ue3516ca5-3e68-458a-bd30-916ccabb60a&width=712)<br />**实体类：pojo的User.java**<br />\n\n```java\n//这里这个注解的意思,就是说明这个类被Spring接管了,注册到了容器中 \n@component \npublic class User { \n    private String name;\n    \n    public String getName() { \n    \treturn name; \n    } \n    //属性注入值\n    @value(\"QINJIANG')  \n    public void setName(String name) { \n    \tthis.name = name; \n    } \n    @Override \n    public String toString() { \n        return \"user{\" + \n        \"name='\" + name + '\\''+ \n        '}'; \n    } \n}\n```\n\n<br />弹幕评论：要么使用@Bean，要么使用@Component和ComponentScan，两种效果一样<br />\n<br />**配置文件：config中的kuang.java**<br />\n<br />@Import(KuangConfig2.class)，用@import来包含KuangConfig2.java<br />\n\n```java\n//这个也会Spring容器托管,注册到容器中,因为他本米就是一个@Component \n// @Configuration表这是一个配置类,就像我们之前看的beans.xml，类似于<beans>标签\n@Configuration \n@componentScan(\"com.Kuang.pojo\") //开启扫描\n//@Import(KuangConfig2.class)\npublic class KuangConfig { \n    //注册一个bean , 就相当于我们之前写的一个bean 标签 \n    //这个方法的名字,就相当于bean 标签中的 id 属性 ->getUser\n    //这个方法的返同值,就相当于bean 标签中的class 属性 ->User\n    \n    //@Bean \n    public User getUser(){ \n    \treturn new User(); //就是返回要注入到bean的对象! \n    } \n}\n```\n\n<br />弹幕评论：ComponentScan、@Component(\"pojo”) 这两个注解配合使用<br />\n<br />**测试类**<br />\n\n```java\npublic class MyTest { \n    public static void main(String[ ] args) { \n    //如果完全使用了配置类方式去做,我们就只能通过 Annotationconfig 上下文来获取容器,通过配置类的class对象加载! \n    ApplicationContext context = new AnnotationConfigApplicationContext(KuangConfig.Class); //class对象\n    User getUser =(User)context.getBean( \"getUser\"); //方法名getUser\n    System.out.Println(getUser.getName()); \n    } \n}\n```\n\n<br />**会创建两个相同对象问题的说明：**<br />\n<br />**弹幕总结 - -> @Bean是相当于< bean>标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了**<br />\n\n```java\n//这个也会Spring容器托管,注册到容器中,因为他本米就是一个@Component \n// @Configuration表这是一个配置类,就像我们之前看的beans.xml，类似于<beans>标签\n@Configuration \n@componentScan(\"com.Kuang.pojo\") //开启扫描\n//@Import(KuangConfig2.class)\npublic class KuangConfig { \n    //注册一个bean , 就相当于我们之前写的一个bean 标签 \n    //这个方法的名字,就相当于bean 标签中的 id 属性 ->getUser\n    //这个方法的返同值,就相当于bean 标签中的class 属性 ->User\n    \n    //@Bean \n    public User getUser(){ \n    \treturn new User(); //就是返回要注入到bean的对象! \n    } \n}\n```\n\n<br />弹幕评论：ComponentScan、@Component(\"pojo”) 这两个注解配合使用<br />\n<br />**测试类**<br />\n\n```java\npublic class MyTest { \n    public static void main(String[ ] args) { \n    //如果完全使用了配置类方式去做,我们就只能通过 Annotationconfig 上下文来获取容器,通过配置类的class对象加载! \n    ApplicationContext context = new AnnotationConfigApplicationContext(KuangConfig.Class); //class对象\n    User getUser =(User)context.getBean( \"getUser\"); //方法名getUser\n    System.out.Println(getUser.getName()); \n    } \n}\n```\n\n<br />**会创建两个相同对象问题的说明：**<br />\n<br />**弹幕总结 - -> @Bean是相当于< bean>标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了**<br />\n\n<a name=\"37ce5f92\"></a>\n## 10、动态代理\n\n<br />代理模式是SpringAOP的底层<br />\n<br />分类：动态代理和静态代理<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472093138-32a4cc48-0e0c-4470-8d41-95edc040a9f5.png#clientId=u65c68b31-85a1-4&from=paste&height=318&id=u06036644&margin=%5Bobject%20Object%5D&name=image.png&originHeight=635&originWidth=1426&originalType=binary&ratio=1&size=295439&status=done&style=none&taskId=u3a4682f7-93df-4327-89d8-5588d7a3f33&width=713)<br />\n\n<a name=\"ac68d745\"></a>\n### 10.1、静态代理\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472110260-68d6d574-e8a2-4ada-974a-93238575f044.png#clientId=u65c68b31-85a1-4&from=paste&height=213&id=ued37f954&margin=%5Bobject%20Object%5D&name=image.png&originHeight=426&originWidth=1458&originalType=binary&ratio=1&size=333570&status=done&style=none&taskId=ufa2f2bd3-104b-4298-ac4b-082af9a2452&width=729)<br />代码步骤：<br />\n<br />1、接口<br />\n\n```java\npackage pojo;\npublic interface Host {\n\tpublic void rent();\n}\n```\n\n<br />2、真实角色<br />\n\n```java\npackage pojo;\npublic class HostMaster implements Host{\t\n    \n\tpublic void rent() {\n\t\tSystem.out.println(\"房东要出租房子\");\n\t}\n}\n```\n\n<br />3、代理角色<br />\n\n```java\npackage pojo;\npublic class Proxy {\n\n\tpublic Host host;\n\t\n\tpublic Proxy() {\n\t\t\n\t}\n\t\n\tpublic Proxy(Host host) {\n\t\tsuper();\n\t\tthis.host = host;\n\t}\n\t\n\tpublic void rent() {\n\t\tseeHouse();\n\t\thost.rent();\n\t\tfee();\n\t\tsign();\n\t}\n\t//看房\n\tpublic void seeHouse() {\n\t\tSystem.out.println(\"看房子\");\n\t}\n\t//收费\n\tpublic void fee() {\n\t\tSystem.out.println(\"收中介费\");\n\t}\n\t//合同\n\tpublic void sign() {\n\t\tSystem.out.println(\"签合同\");\n\t}\t\t\n}\n```\n\n<br />4、客户端访问代理角色<br />\n\n```java\npackage holle4_proxy;\n\nimport pojo.Host;\nimport pojo.HostMaster;\nimport pojo.Proxy;\n\npublic class My {\n\n\tpublic static void main(String[] args) {\n\t\t//房东要出租房子\n\t\tHost host = new HostMaster();\n\t\t//中介帮房东出租房子，但也收取一定费用（增加一些房东不做的操作）\n\t\tProxy proxy = new Proxy(host);\n\t\t//看不到房东，但通过代理，还是租到了房子\n\t\tproxy.rent();\n\t\t\n\t}\n}\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472182662-cd60ab25-c271-4316-af34-9722171677ff.png#clientId=u65c68b31-85a1-4&from=paste&height=276&id=u44fe5565&margin=%5Bobject%20Object%5D&name=image.png&originHeight=552&originWidth=1432&originalType=binary&ratio=1&size=318739&status=done&style=none&taskId=u4c988078-ba16-4d13-ad27-de269300307&width=716)<br />代码翻倍：几十个真实角色就得写几十个代理<br />\n<br />AOP横向开发<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472202392-f8398270-e31d-4f1d-962d-c24024ab0170.png#clientId=u65c68b31-85a1-4&from=paste&height=616&id=u6f0ff715&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1231&originWidth=1429&originalType=binary&ratio=1&size=535042&status=done&style=none&taskId=uee994fb2-a8b0-4b92-9319-ac8f359e328&width=714.5)<br />\n\n<a name=\"7f64b1e7\"></a>\n### 10.2、动态代理\n\n<br />动态代理和静态角色一样，动态代理底层是反射机制<br />\n<br />动态代理类是动态生成的，不是我们直接写好的！<br />\n<br />动态代理(两大类)：基于接口，基于类<br />\n\n- 基于接口：JDK的动态代理【使用ing】\n- 基于类：cglib\n- java字节码实现：javasisit\n\n\n<br />了解两个类<br />1、Proxy：代理<br />2、InvocationHandler：调用处理程序<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472250406-dbe28260-99f3-47cd-bcb3-dd256a81ddfe.png#clientId=u65c68b31-85a1-4&from=paste&height=75&id=uec06fc4f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=150&originWidth=1437&originalType=binary&ratio=1&size=119714&status=done&style=none&taskId=u1b8a68e3-05e6-4b8b-b247-e42a373ad8b&width=718.5)<br />\n<br />实例：<br />\n<br />接口 Host.java<br />\n\n```java\n//接口\npackage pojo2;\npublic interface Host {\n\tpublic void rent();\n\t\n}\n```\n\n<br />接口Host实现类 HostMaster.java<br />\n\n```java\n//接口实现类\npackage pojo2;\npublic class HostMaster implements Host{\t\n\tpublic void rent() {\n\t\tSystem.out.println(\"房东要租房子\");\n\t}\n}\n```\n\n<br />代理角色的处理程序类 ProxyInvocationHandler.java<br />\n\n```java\npackage pojo2;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\n///用这个类，自动生成代理\npublic class ProxyInvocationHandler implements InvocationHandler {\n\n\t// Foo f =(Foo) Proxy.NewProxyInstance(Foo. Class.GetClassLoader(),\n\t// new Class<?>[] { Foo.Class },\n\t// handler);\n\n\t// 被代理的接口\n\tpublic HostMaster hostMaster ;\n\t\n\tpublic void setHostMaster(HostMaster hostMaster) {\n\t\tthis.hostMaster = hostMaster;\n\t}\n\n\t// 得到生成的代理类 \n\tpublic Object getProxy() {\n\t\t// newProxyInstance() -> 生成代理对象，就不用再写具体的代理类了\n\t\t// this.getClass().getClassLoader() -> 找到加载类的位置\n\t\t// hostMaster.getClass().getInterfaces() -> 代理的具体接口\n\t\t// this -> 代表了接口InvocationHandler的实现类ProxyInvocationHandler\n\t\treturn Proxy.newProxyInstance(this.getClass().getClassLoader(), hostMaster.getClass().getInterfaces(), this);\n\n\n\t// 处理代理实例并返回结果\n\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\t\tseeHouse();\n\t\t// 动态代理的本质，就是使用反射机制实现的\n        // invoke()执行它真正要执行的方法\n\t\tObject result = method.invoke(hostMaster, args);\n\t\tfee();\n\t\treturn result;\n\t}\n\n\tpublic void seeHouse() {\n\t\tSystem.out.println(\"看房子\");\n\t}\n\n\tpublic void fee() {\n\t\tSystem.out.println(\"收中介费\");\n\t}\n\n}\n```\n\n<br />用户类 My2.java<br />\n\n```java\npackage holle4_proxy;\n\nimport pojo2.Host;\nimport pojo2.Host2;\nimport pojo2.HostMaster;\nimport pojo2.ProxyInvocationHandler;\n\npublic class My2 {\n\n\tpublic static void main(String[] args) {\n        \n\t\t//真实角色\n\t\tHostMaster hostMaster = new HostMaster();\n        \n\t\t//代理角色，现在没有；用代理角色的处理程序来实现Host接口的调用\n\t\tProxyInvocationHandler pih = new ProxyInvocationHandler();\n        \n        //pih -> HostMaster接口类 -> Host接口\n\t\tpih.setHostMaster(hostMaster);\n        \n\t\t//获取newProxyInstance动态生成代理类\n\t\tHost proxy = (Host) pih.getProxy();\n\t\t\n\t\tproxy.rent();\n\n\t}\n}\n```\n\n<br />弹幕评论：<br />什么时候调用invoke方法的?<br />代理实例调用方法时invoke方法就会被调用，可以debug试试<br />\n<br />改为**万能代理类**<br />\n\n```java\n///用这个类，自动生代理\npublic class ProxyInvocationHandler implements InvocationHandler {\n\n\t// 被代理的接口\n\tpublic Object target;\n\n\tpublic void setTarget(Object target) {\n\t\tthis.target = target;\n\t}\n\n\t// 得到生成的代理类 -> 固定的代码\n\tpublic Object getProxy() {\n\t\treturn Proxy.newProxyInstance(this.getClass().getClassLoader(), target.getClass().getInterfaces(), this);\n\t}\n\n\t// 处理代理实例并返回结果\n\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\t\t// 动态代理的本质，就是使用反射机制实现的\n\t\t// invoke()执行它真正要执行的方法\n\t\tObject result = method.invoke(target, args);\n\t\treturn result;\n\t}\n\n}\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472286319-fedd39e9-373b-4ad8-9f64-4b8ee3c604ca.png#clientId=u65c68b31-85a1-4&from=paste&height=297&id=u9fe42ff0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=593&originWidth=1465&originalType=binary&ratio=1&size=416618&status=done&style=none&taskId=ua22f25c6-84a0-4f29-9431-610048ecc8e&width=732.5)<br />\n\n<a name=\"8fcd49a5\"></a>\n## 11、AOP\n\n\n<a name=\"7b90ca80\"></a>\n### 11.1、什么是AOP\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472302779-a8366011-5841-48c9-a6c7-eff3e7546103.png#clientId=u65c68b31-85a1-4&from=paste&height=97&id=u04219bd7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=194&originWidth=1456&originalType=binary&ratio=1&size=457846&status=done&style=none&taskId=ua7ef26da-9f3b-497b-b0a7-659aab41f56&width=728)<br />\n\n<a name=\"11d4b04b\"></a>\n### 11.2、AOP在Spring中的使用\n\n<br />提供声明式事务，允许用户自定义切面<br />\n\n- 横切关注点：跨越应用程序多个模块的方法或功能。即是，与我们业务逻辑无关的，但是我们需要关注的部分，就是横切关注点。如日志，安全，缓存，事务等等…\n- 切面(Aspect)：横切关注点 被模块化的特殊对象。即，它是一个类。（Log类）\n- 通知(Advice)：切面必须要完成的工作。即，它是类中的一个方法。（Log类中的方法）\n- 目标(Target)：被通知对象。（生成的代理类)\n- 代理(Proxy)：向目标对象应用通知之后创建的对象。（生成的代理类）\n- 切入点(PointCut)：切面通知执行的”地点”的定义。（最后两点：在哪个地方执行，比如：method.invoke()）\n- 连接点(JointPoint)：与切入点匹配的执行点。\n\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472322962-506e3170-dbca-45d9-ac0b-0e3eea0c8a9e.png#clientId=u65c68b31-85a1-4&from=paste&height=443&id=uf65ee572&margin=%5Bobject%20Object%5D&name=image.png&originHeight=886&originWidth=1451&originalType=binary&ratio=1&size=606566&status=done&style=none&taskId=ud3471f4c-c60b-46b1-b070-7126b300d2b&width=725.5)<br />SpringAOP中，通过Advice定义横切逻辑，Spring中支持5种类型的Advice:<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472344670-8b22f0b8-df31-4b7a-bdb5-98af8fdf68cc.png#clientId=u65c68b31-85a1-4&from=paste&height=233&id=u99ab396b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=466&originWidth=1409&originalType=binary&ratio=1&size=265012&status=done&style=none&taskId=u47ab38d8-661a-472d-8686-7cd6f379dbd&width=704.5)<br />**即AOP在不改变原有代码的情况下，去增加新的功能。**（代理）<br />\n\n<a name=\"6e16d25f\"></a>\n### 11.3、使用Spring实现AOP\n\n<br />导入jar包<br />\n\n```xml\n<!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver -->\n<dependency>\n    <groupId>org.aspectj</groupId>\n    <artifactId>aspectjweaver</artifactId>\n    <version>1.9.4</version>\n</dependency>\n```\n\n\n<a name=\"c727a170\"></a>\n#### 11.3.1、方法一：使用原生spring接口\n\n<br />springAPI接口实现<br />\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n    <!--注册bean-->\n    <bean id=\"userservice\" class=\"service.UserServiceImpl\"/>\n    <bean id=\"log\" class=\"log.Log\"/>\n    <bean id=\"afterLog\" class=\"log.AfterLog\"/>\n\t<!--方式一，使用原生Spring API接口-->\n    <!--配置aop,还需要导入aop约束-->\n    <aop:config>\n        <!--切入点：expression:表达式，execution（要执行的位置）-->\n        <aop:pointcut id=\"pointcut\" expression=\"execution(* service.UserServiceImpl.*(..))\"/>\n        <!--UserServiceImpl.*(..) -》 UserServiceImpl类下的所以方法(参数)-->\n        <!--执行环绕增加-->\n        <aop:advisor advice-ref=\"log\" pointcut-ref=\"pointcut\"/>\n        <aop:advisor advice-ref=\"afterLog\" pointcut-ref=\"pointcut\"/>\n        <!-- 环绕,在id=\"pointcut\"的前后切入 -->\n    </aop:config>\n\n</beans>\n```\n\n<br />execution(返回类型，类名，方法名(参数)) -> execution(_ com.service._,*(…))<br />\n<br />UserService.java<br />\n\n```java\npackage service;\npublic interface UserService {   \n\t    public void add() ;\n\t    public void delete() ;\n\t    public void query() ;\n\t    public void update();\n}\n```\n\n<br />UserService 的实现类 UserServiceImp.java<br />\n\n```java\npackage service;\n\npublic class UserServiceImpl implements UserService {\n\n    public void add() {\n        System.out.println(\"add增\");\n    }\n    public void delete() {\n        System.out.println(\"delete删\");\n    }\n    public void update() {\n        System.out.println(\"update改\");\n    }\n    public void query() {\n        System.out.println(\"query查\");\n    }\n}\n```\n\n<br />前置Log.java<br />\n\n```java\npackage log;\nimport org.springframework.aop.MethodBeforeAdvice;\nimport java.lang.reflect.Method;\n\npublic class Log implements MethodBeforeAdvice {\n    //method：要执行的目标对象的方法\n    //args：参数\n    //target：目标对象\n    public void before(Method method, Object[] args, Object target) throws Throwable {\n        System.out.println(target.getClass().getName()+\"的\"+method.getName()+\"被执行了\");\n    }\n}\n```\n\n<br />后置AfterLog.java<br />\n\n```java\npackage log;\nimport java.lang.reflect.Method;\nimport org.springframework.aop.AfterReturningAdvice;\n\npublic class AfterLog implements AfterReturningAdvice {\n    //returnVaule: 返回值\n    public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable {\n    \tSystem.out.println(\"执行了\"+method.getName()+\"方法，返回值是\"+returnValue);\n    }\n}\n```\n\n<br />测试类MyTest5<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport service.UserService;\n\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(\"userservice\");\n        userService.add();\n    }\n}\n```\n\n\n<a name=\"8d2cce88\"></a>\n#### 11.3.2、方法二：自定义类实现AOP\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xmlns:aop=\"http://www.springframework.org/schema/aop\"\n      xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n   \thttps://www.springframework.org/schema/beans/spring-beans.xsd\n   \thttp://www.springframework.org/schema/aop\n   \thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n   <!--注册bean-->\n   <bean id=\"userservice\" class=\"service.UserServiceImpl\"/>\n   <bean id=\"log\" class=\"log.Log\"/>\n   <bean id=\"afterLog\" class=\"log.AfterLog\"/>\n   <!-- 方式二，自定义 -->\n   <bean id=\"diy\" class=\"diy.DiyPointcut\"/>\n   <aop:config>\n       <!--自定义切面-->\n       <aop:aspect ref=\"diy\">\n           <!--切入点-->\n           <aop:pointcut id=\"point\" expression=\"execution(* service.UserServiceImpl.*(..))\"/>\n           <aop:before method=\"before\" pointcut-ref=\"point\"/>\n           <aop:after method=\"after\" pointcut-ref=\"point\"/>\n       </aop:aspect>\n   </aop:config>\n\n</beans>\n```\n\n\n```java\npackage diy;\npublic class DiyPointcut {\n\n    public void before(){\n        System.out.println(\"插入到前面\");\n    }\n\n    public void after(){\n        System.out.println(\"插入到后面\");\n    }\n}\n```\n\n\n```java\n//测试\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(\"userservice\");\n        userService.add();\n    }\n}\n```\n\n\n<a name=\"09383569\"></a>\n#### 11.3.3、方法三：使用注解实现\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\n    <!-- 注册 -->\n    <bean id=\"userservice\" class=\"service.UserServiceImpl\"/>\n    <!--方式三，使用注解实现-->\n    <bean id=\"diyAnnotation\" class=\"diy.DiyAnnotation\"></bean>\n    \n    <!-- 开启自动代理 \n\t\t实现方式：默认JDK (proxy-targer-class=\"fasle\")\n    \t\t\t cgbin (proxy-targer-class=\"true\")-->\n\t<aop:aspectj-autoproxy/>\n    \n</beans>\n```\n\n<br />DiyAnnotation.java<br />\n\n```java\npackage diy;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect  //标注这个类是一个切面\npublic class DiyAnnotation {\n\t\n    @Before(\"execution(* service.UserServiceImpl.*(..))\")\n    public void before(){\n        System.out.println(\"=====方法执行前=====\");\n    }\n\n    @After(\"execution(* service.UserServiceImpl.*(..))\")\n    public void after(){\n        System.out.println(\"=====方法执行后=====\");\n    }\n\n    //在环绕增强中，我们可以给地暖管一个参数，代表我们要获取切入的点\n    @Around(\"execution(* service.UserServiceImpl.*(..))\")\n    public void around(ProceedingJoinPoint joinPoint) throws Throwable {\n        System.out.println(\"环绕前\");\n\n        Object proceed = joinPoint.proceed();\n\n        System.out.println(\"环绕后\");\n    }\n}\n```\n\n<br />测试<br />\n\n```java\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(\"userservice\");\n        userService.add();\n    }\n}\n```\n\n<br />输出结果：<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472366377-cc3b2d27-7a9d-4c51-81f4-ea9986f2dc37.png#clientId=u65c68b31-85a1-4&from=paste&height=152&id=ub2d25d62&margin=%5Bobject%20Object%5D&name=image.png&originHeight=304&originWidth=530&originalType=binary&ratio=1&size=16982&status=done&style=none&taskId=uc5e52ebc-7c61-4cc3-936b-fd7f9c8de83&width=265)<br />\n\n<a name=\"697586fb\"></a>\n## 12、整合mybatis\n\n<br />mybatis-spring官网：[https://mybatis.org/spring/zh/](https://mybatis.org/spring/zh/)<br />\n<br />**mybatis的配置流程：**<br />\n\n1. 编写实体类\n2. 编写核心配置文件\n3. 编写接口\n4. 编写Mapper.xmi\n5. 测试\n\n\n\n<a name=\"c033efd7\"></a>\n### 12.1、mybatis-spring-方式一\n\n\n1. 编写数据源配置\n2. sqISessionFactory\n3. sqISessionTemplate（相当于sqISession）\n4. 需要给接口加实现类【new】\n5. 将自己写的实现类，注入到Spring中\n6. 测试！\n\n\n<br />先导入jar包<br />\n\n```xml\n<dependencies>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.aspectj</groupId>\n        <artifactId>aspectjweaver</artifactId>\n        <version>1.9.4</version>\n    </dependency>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-jdbc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis</artifactId>\n        <version>3.5.2</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis-spring</artifactId>\n        <version>2.0.4</version>\n    </dependency>\n\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <version>8.0.12</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n        <version>1.18.12</version>\n    </dependency>\n\n</dependencies>\n\t\n<!--在build中配置resources，来防止资源导出失败的问题-->\n<!-- Maven解决静态资源过滤问题 -->\n<build>\n<resources>\n    <resource>\n        <directory>src/main/java</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n    <resource>\n        <directory>src/main/resources</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n</resources>\n</build>\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472386121-cbb94361-c6f6-47ba-868e-39521696a0a2.png#clientId=u65c68b31-85a1-4&from=paste&height=536&id=ud6ca78bf&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1071&originWidth=727&originalType=binary&ratio=1&size=184771&status=done&style=none&taskId=ude8d9f5a-d54e-4e62-b99f-e34a08fb5cd&width=363.5)<br />**编写顺序：**<br />**User -> UserMapper -> UserMapper.xml -> spring-dao.xml -> UserServiceImpl -> applicationContext.xml -> MyTest6**<br />\n<br />**代码步骤：**<br />\n<br />pojo实体类 User<br />\n\n```java\npackage pojo;\nimport lombok.Data;\n@Data\npublic class User {\n\tprivate int id;\n\tprivate String name;\n\tprivate String pwd;\n}\n```\n\n<br />mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml<br />\n<br />接口UserMapper<br />\n\n```java\npackage mapper;\nimport java.util.List;\nimport pojo.User;\npublic interface UserMapper {\n\tpublic List<User> getUser();\n}\n```\n\n<br />UserMapperImpl<br />\n\n```java\npackage mapper;\nimport java.util.List;\nimport org.mybatis.spring.SqlSessionTemplate;\nimport pojo.User;\n\npublic class UserMapperImpl implements UserMapper{\n\t\n\t//我们的所有操作，在原来都使用sqlSession来执行，现在都使用SqlSessionTemplate；\n\tprivate SqlSessionTemplate sqlSessionTemplate;\n\n\tpublic void setSqlSessionTemplate(SqlSessionTemplate sqlSessionTemplate) {\n\t\tthis.sqlSessionTemplate = sqlSessionTemplate;\n\t}\n\n\tpublic List<User> getUser() {\n\t\tUserMapper mapper = sqlSessionTemplate.getMapper(UserMapper.class);\n\t\treturn mapper.getUser();\n\t}\n}\n```\n\n<br />UserMapper.xml （狂神给面子才留下来的）<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n        \n<!-- 绑定接口 -->\n<mapper namespace=\"mapper.UserMapper\">\n\t<select id=\"getUser\" resultType=\"pojo.User\">\n\t\tselect * from mybatis.mybatis\n\t</select>\n</mapper>\n```\n\n<br />resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml<br />\n<br />mybatis-config.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n  PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n\t<!--开启日志-->\n\t<settings>\n\t\t<setting name=\"logImpl\" value=\"STDOUT_LOGGING\" />\n\t</settings>\n\t\n\t<!--可以给实体类起别名 -->\n\t<typeAliases> \n\t\t<package name=\"pojo\" />\n\t</typeAliases>\n\n</configuration>\n```\n\n<br />spring-dao.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\t\n\t<!--DataSource:使用Spring的数帮源替换Mybatis的配置 其他数据源：c3p0、dbcp、druid \n\t\t这使用Spring提供的JDBC: org.springframework.jdbc.datasource -->\n\t<!--data source -->\n\t<bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n\t\t<property name=\"driverClassName\"\n\t\t\tvalue=\"com.mysql.cj.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\"/>\n\t\t<property name=\"username\" value=\"root\" />\n\t\t<property name=\"password\" value=\"root\" />\n\t</bean>\n\t\n\t<!--sqlSessionFactory-->\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"datasource\" />\n        <!--绑定 mybatis 配置文件-->\n        <property name=\"configLocation\" value=\"classpath:mybatis-config.xml\"/>\n        <property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/>\n    </bean>\n\n\t<!-- sqlSessionTemplate 就是之前使用的：sqlsession -->\n    <bean id=\"sqlSession\" class=\"org.mybatis.spring.SqlSessionTemplate\">\n    \t<!-- 只能使用构造器注入sqlSessionFactory 原因：它没有set方法-->\t\n        <constructor-arg index=\"0\" ref=\"sqlSessionFactory\"/>\n    </bean>\n\t\t\n</beans>\n```\n\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n    \n\t<!-- 导入spring-dao.xml -->\n\t<import resource=\"spring-dao.xml\"/>\n\t\n    <bean id=\"userMapper\" class=\"mapper.UserMapperImpl\">\n        <property name=\"sqlSessionTemplate\" ref=\"sqlSession\"></property>\n    </bean>\n\n</beans>\n```\n\n<br />测试类<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport mapper.UserMapper;\nimport pojo.User;\npublic class MyTest6 {\n\tpublic static void main(String[] args) {\n        \n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t\t\n\t\tUserMapper userMapper = (UserMapper) context.getBean(\"userMapper\");\n\t\t\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}\n```\n\n\n<a name=\"4c4395cd\"></a>\n### 12.2、mybatis-spring-方式二\n\n<br />UserServiceImpl2<br />\n\n```java\npackage mapper;\nimport pojo.User;\nimport org.apache.ibatis.session.SqlSession;\nimport org.mybatis.spring.support.SqlSessionDaoSupport;\nimport java.util.List;\n//继承SqlSessionDaoSupport 类\npublic class UserMapperImpl2 extends SqlSessionDaoSupport implements UserMapper {\n    public List<User> getUser() {\n        SqlSession sqlSession = getSqlSession();\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        return mapper.getUser();\n        //或者一句话：return getSqlSession().getMapper(UserMapper.class).getUser();\n    }\n}\n```\n\n<br />spring-dao.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\t\n\t<!--DataSource:使用Spring的数帮源替换Mybatis的配置 c3p0 dbcp druid \n\t\t这使用Spring提供的JDBC: org.springframework.jdbc.datasource -->\n\t<!--data source -->\n\t<bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n\t\t<property name=\"driverClassName\"\n\t\t\tvalue=\"com.mysql.cj.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\"/>\n\t\t<property name=\"username\" value=\"root\" />\n\t\t<property name=\"password\" value=\"root\" />\n\t</bean>\n\t\n\t<!--sqlSessionFactory-->\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"datasource\" />\n        <!--绑定 mybatis 配置文件-->\n        <property name=\"configLocation\" value=\"classpath:mybatis-config.xml\"/>\n        <property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/>\n    </bean>\n    \n\t<!-- 方法二：SqlSessionTemplate 可以不写了-->\n    \n</beans>\n```\n\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n\t<import resource=\"spring-dao.xml\" />\n\n\t<!-- 方法二 -->\n\t<bean id=\"userMapper2\" class=\"mapper.UserMapperImpl2\">\n\t\t<property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\"></property>\n\t</bean>\n</beans>\n```\n\n<br />测试<br />\n\n```java\npublic class MyTest6 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t\tUserMapper userMapper = (UserMapper) context.getBean(\"userMapper2\");\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}\n```\n\n\n<a name=\"11e5c339\"></a>\n## 13. 声明式事务\n\n\n- 把一组业务当成一个业务来做；要么都成功，要么都失败！\n- 事务在项目开发中，十分的重要，涉及到数据的一致性问题\n- 确保完整性和一致性\n\n\n<br />事务的ACID原则：<br />1、原子性<br />2、隔离性<br />3、一致性<br />4、持久性<br />\n<br />ACID参考文章：[https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html](https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html)<br />\n<br />Spring中的事务管理<br />\n\n- 声明式事务：AOP\n- 编程式事务：需要再代码中，进行事务管理\n\n\n<br />**声明式事务**<br />\n<br />先导入jar包<br />\n\n```xml\n<dependencies>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.aspectj</groupId>\n        <artifactId>aspectjweaver</artifactId>\n        <version>1.9.4</version>\n    </dependency>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-jdbc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis</artifactId>\n        <version>3.5.2</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis-spring</artifactId>\n        <version>2.0.4</version>\n    </dependency>\n\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <version>8.0.12</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n        <version>1.18.12</version>\n    </dependency>\n\n</dependencies>\n\t\n<!--在build中配置resources，来防止资源导出失败的问题-->\n<!-- Maven解决静态资源过滤问题 -->\n<build>\n<resources>\n    <resource>\n        <directory>src/main/java</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n    <resource>\n        <directory>src/main/resources</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n</resources>\n</build>\n```\n\n<br />**代码步骤：**<br />\n<br />pojo实体类 User<br />\n\n```java\npackage pojo;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\tprivate int id;\n\tprivate String name;\n\tprivate String pwd;\n}\n```\n\n<br />mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml<br />\n<br />接口UserMapper<br />\n\n```java\npackage mapper;\nimport java.util.List;\nimport org.apache.ibatis.annotations.Param;\nimport pojo.User;\n\npublic interface UserMapper {\n\tpublic List<User> getUser();\n\t\n\tpublic int insertUser(User user); \n\t\n\tpublic int delUser(@Param(\"id\") int id); \n}\n```\n\n<br />UserMapperImpl<br />\n\n```java\npackage mapper;\n\nimport pojo.User;\nimport org.apache.ibatis.session.SqlSession;\nimport org.mybatis.spring.support.SqlSessionDaoSupport;\nimport java.util.List;\n\npublic class UserMapperImpl extends SqlSessionDaoSupport implements UserMapper {\n    public List<User> getUser() {\n    \tUser user = new User(5,\"你好\",\"ok\");\n    \tinsertUser(user);\n    \tdelUser(5);\n        SqlSession sqlSession = getSqlSession();\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        return mapper.getUser();\n        //或者return  getSqlSession().getMapper(UserMapper.class).getUser();\n    }\n    //插入\n\tpublic int insertUser(User user) {\n\t\treturn getSqlSession().getMapper(UserMapper.class).insertUser(user);\n\t}\n\t//删除\n\tpublic int delUser(int id) {\n\t\treturn getSqlSession().getMapper(UserMapper.class).delUser(id);\n\t}\n}\n```\n\n<br />UserMapper.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n        \n<!-- 绑定接口 -->\n<mapper namespace=\"mapper.UserMapper\">\n\t<select id=\"getUser\" resultType=\"pojo.User\">\n\t\tselect * from mybatis.mybatis\n\t</select>\n\t\n\t<insert id=\"insertUser\"  parameterType=\"pojo.User\" >\n\t\tinsert into  mybatis.mybatis (id,name,pwd) values (#{id},#{name},#{pwd})\n\t</insert>\n\t\n\t<delete id=\"delUser\" parameterType=\"_int\">\n\t\tdeleteAAAAA from mybatis.mybatis where id = #{id}\n\t\t<!-- deleteAAAAA是故意写错的 -->\n\t</delete>\n\n</mapper>\n```\n\n<br />resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml<br />\n<br />mybatis-config.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n  PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<!-- configuration -->\n<configuration>\n\t\n\t<!--开启日志-->\n\t<settings>\n\t\t<setting name=\"logImpl\" value=\"STDOUT_LOGGING\" />\n\t</settings>\n\t\n\t<!--可以给实体类起别名-->\n\t<typeAliases> \n\t\t<package name=\"pojo\" />\n\t</typeAliases>\n\n</configuration>\n```\n\n<br />spring-dao.xml（已导入约束）<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/tx\n        https://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\t\n\t<!--data source -->\n\t<bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n\t\t<property name=\"driverClassName\"\n\t\t\tvalue=\"com.mysql.cj.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\"/>\n\t\t<property name=\"username\" value=\"root\" />\n\t\t<property name=\"password\" value=\"root\" />\n\t</bean>\n\t\n\t<!--sqlSessionFactory-->\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"datasource\" />\n        <!--绑定 mybatis 配置文件-->\n        <property name=\"configLocation\" value=\"classpath:mybatis-config.xml\"/>\n        <property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/>\n    </bean>\n\t\n\t<!--声明式事务-->\n    <bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n        <constructor-arg ref=\"datasource\" />\n    </bean>\n\n    <!--结合aop实现事务织入-->\n    <!--配置事务的通知类-->\n    <tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\">\n        <!--给哪些方法配置事务-->\n        <!--新东西：配置事务的传播特性 propagation-->\n        <tx:attributes>\n            <tx:method name=\"add\" propagation=\"REQUIRED\"/>\n            <tx:method name=\"delete\" propagation=\"REQUIRED\"/>\n            <tx:method name=\"update\" propagation=\"REQUIRED\"/>\n            <tx:method name=\"query\" read-only=\"true\"/>\n            <!-- *号包含上面4个方法：\n            <tx:method name=\"*\" propagation=\"REQUIRED\"/> -->\n        </tx:attributes>\n    </tx:advice>\n\n    <!--配置事务切入-->\n    <aop:config>\n        <aop:pointcut id=\"txpointcut\" expression=\"execution(* mapper.*.*(..))\"/>\n        <aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"txpointcut\"/>\n    </aop:config>\n\n</beans>\n```\n\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n\t<import resource=\"spring-dao.xml\" />\n\n\t<bean id=\"userMapper\" class=\"mapper.UserMapperImpl\">\n\t\t<property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\"></property>\n\t</bean>\n</beans>\n```\n\n<br />测试类<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport mapper.UserMapper;import pojo.User;\npublic class MyTest7 {\n\tpublic static void main(String[] args) {\n\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t\t\n\t\tUserMapper userMapper = (UserMapper) context.getBean(\"userMapper\");\n\t\t\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}\n```\n\n<br />**思考：**<br />为什么需要事务？<br />\n\n- 如果不配置事务，可能存在数据提交不一致的情况下；\n- 如果不在spring中去配置声明式事务，我们就需要在代码中手动配置事务！\n- 事务在项目的开发中非常重要，涉及到数据的一致性和完整性问题！\n",
    "body_draft": "\n<br />![v2-c7d94fabd9e1251acb3bba73458e3813_720w.jpg](https://cdn.nlark.com/yuque/0/2021/jpeg/21990331/1625470123698-d2c29622-abbf-4042-b3a6-46d13f848425.jpeg#clientId=u144c994e-9948-4&from=paste&height=220&id=u1a5ee6b2&margin=%5Bobject%20Object%5D&name=v2-c7d94fabd9e1251acb3bba73458e3813_720w.jpg&originHeight=330&originWidth=780&originalType=binary&ratio=1&size=17036&status=done&style=none&taskId=u06eb739c-b8a1-480f-bd25-9b74cdab4ad&width=521)\n<a name=\"Spring5\"></a>\n# Spring5\n\n\n<a name=\"f127deba\"></a>\n## 1.、Spring\n\n\n<a name=\"c5aa432b\"></a>\n### 1.1、简介\n\n\n-  Spring ——> 春天，为开源软件带来了春天 \n-  2002，首次推出了Spring框架的雏形：interface21框架！ \n-  Spring框架以interface21框架为基础，经过重新设计，并不断丰富其内涵，于2004年3月24日发布了1.0正式版 \n-  Spring的理念：使用现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ \n-  SSH：Struct2 + Spring + Hibernate（全自动持久化框架）！ \n-  SSM：SpringMVC + Spring + MyBatis（半自动持久化框架，可自定义性质更强）！ \n\n\n<br />spring官网： [https://spring.io/projects/spring-framework#overview](https://spring.io/projects/spring-framework#overview)<br />\n<br />官方下载： [https://repo.spring.io/release/org/springframework/spring/](https://repo.spring.io/release/org/springframework/spring/)<br />\n<br />GitHub： [https://github.com/spring-projects/spring-framework](https://github.com/spring-projects/spring-framework)<br />\n<br />Spring Web MVC： [spring-webmvc最新版](https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE)<br />\n<br />Spring Web MVC和Spring-JDBC的pom配置文件：<br />\n\n```xml\n<!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-webmvc</artifactId>\n    <version>5.2.7.RELEASE</version>\n</dependency>\n\n<!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->\n<dependency>\n    <groupId>org.springframework</groupId>\n    <artifactId>spring-jdbc</artifactId>\n    <version>5.2.7.RELEASE</version>\n</dependency>\n```\n\n\n<a name=\"d0c5f72e\"></a>\n### 1.2 优点\n\n\n- Spring是一个开源的免费的框架（容器）！\n- Spring是一个轻量级的、非入侵式的框架！\n- 控制反转（IoC），面向切面编程（AOP）\n- 支持事务的处理，对框架整合的支持！（几乎市面上所有热门框架都能整合进去）！\n\n\n<br />=== 总结一句话：Spring就是一个轻量级的控制反转（IoC）和面向切面编程（AOP）的框架！ ===<br />\n\n<a name=\"e97d5a26\"></a>\n### 1.3 组成\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471469101-9ac80fb7-a32a-41fa-8ed3-85dc36791cd4.png#clientId=ue6922a46-94b3-4&from=paste&height=375&id=u553607f9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=750&originWidth=1449&originalType=binary&ratio=1&size=270746&status=done&style=none&taskId=ufd3f5eae-1736-41c9-8255-72f6add5160&width=724.5)<br />\n<br />\n\n<a name=\"6b590df3\"></a>\n### 1.4、扩展\n\n<br />现代化的java开发 -> 基于Spring的开发！<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471489413-df72e28a-2468-4e34-9a71-1fb0436b433f.png#clientId=ue6922a46-94b3-4&from=paste&height=284&id=u0f064c2e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=567&originWidth=1445&originalType=binary&ratio=1&size=664695&status=done&style=none&taskId=u4176e656-ae09-409b-8999-5ad3ed67e44&width=722.5)<br />\n\n- Spring Boot \n   - 一个快速开发的脚手架\n   - 基于SpringBoot可以快速开发单个微服务\n   - 约定大于配置！\n\n \n\n- Spring Cloud \n   - SpringCloud是基于SpringBoot实现的！\n\n <br />因为现在大多数公司都在使用SpringBoot进行快速开发，学习SpringBoot的前提，需要完全掌握Spring及SpringMVC！承上启下的作用！<br />\n\n<a name=\"0e8f9773\"></a>\n## 2、IoC（控制反转）理论推导\n\n<br />**传统**的调用<br />\n\n1.  UserDao  \n```java\npackage dao;\npublic interface UserDao {\n\tvoid getUser();\n}\n```\n\n2.  UserDaoImp  \n```java\npackage dao;\npublic class UserDaoImpl implements UserDao{\n\tpublic void getUser() {\n\t\tSystem.out.println(\"默认获取用户数据\");\t\n\t}\n}\n```\n\n3.  UserSevice  \n```java\npackage Service;\npublic interface UserService {\n\tvoid getUser();\n}\n```\n\n4.  UserServiceImp  \n```java\npackage Service;\nimport dao.UserDao;\nimport dao.UserDaoImpl;\n\npublic class UserServiceImpl implements UserService{\n\t\tUserDao userDao = new UserDaoImpl();\t\t\n\t\tpublic void getUser(){\n\t\t\tuserDao.getUser();\n\t\t}\t\n}\n```\n\n<br />测试<br />\n\n```java\npackage holle0;\nimport Service.UserService;\nimport Service.UserServiceImpl;\n\npublic class MyTest0 {\n\tpublic static void main(String[] args) {\n\t\t// 用户实际调用的是业务层，dao层他们不需要接触\n\t\tUserService userService = new UserServiceImpl();\n\t\tuserService.getUser();\n\t}\n}\n```\n\n<br />在我们之前的业务中，用户的需求可能会影响我们原来的代码，我们需要根据用户的需求去修改原代码！如果程序代码量十分大，修改一次的成本代价十分昂贵！<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471525605-dfe1b994-8532-43a8-8fd3-c810b4a9ad52.png#clientId=ue6922a46-94b3-4&from=paste&height=547&id=u64f67cf9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1094&originWidth=887&originalType=binary&ratio=1&size=114582&status=done&style=none&taskId=uf1e21627-30d9-4320-8487-04c4391dad0&width=443.5)<br />**改良：**我们使用一个Set接口实现。已经发生了革命性的变化！<br />\n\n```java\n//在Service层的实现类(UserServiceImpl)增加一个Set()方法\n//利用set动态实现值的注入！\n//DAO层并不写死固定调用哪一个UserDao的实现类\n//而是通过Service层调用方法设置实现类！\nprivate UserDao userDao;\npublic void setUserDao(UserDao userDao){\n    this.userDao = userDao;\n}\n```\n\n<br />set() 方法实际上是动态改变了 UserDao userDao 的 初始化部分（**new UserDaoImpl()**）<br />\n<br />测试中加上<br />\n\n```java\n((UserServiceImpl)userService).setUserDao(new UserDaoImpl());\n```\n\n\n- 之前，程序是主动创建对象！**控制权在程序猿手上**！\n- 使用了set注入后，程序不再具有主动性，而是变成了被动的接受对象！（**主动权在客户手上**）\n\n\n<br />本质上解决了问题，程序员不用再去管理对象的创建<br />\n<br />系统的耦合性大大降低，可以更专注在业务的实现上<br />\n<br />这是IoC（控制反转）的原型，反转(理解)：主动权交给了用户<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471548672-390be083-84e3-4789-b6a8-61b4d2bb6bae.png#clientId=ue6922a46-94b3-4&from=paste&height=544&id=u68f4844a&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1087&originWidth=986&originalType=binary&ratio=1&size=121755&status=done&style=none&taskId=u875cbec4-c3b4-47b5-9578-c161d15fdb5&width=493)<br />\n\n<a name=\"e7031f03\"></a>\n### IoC本质\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471698388-279f845b-d9fd-4c1c-aa04-9178f7d2e879.png#clientId=u65c68b31-85a1-4&from=paste&height=97&id=ubbca603d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=194&originWidth=1433&originalType=binary&ratio=1&size=450005&status=done&style=none&taskId=u65cdfe48-8874-4914-ae85-e831f02b4c9&width=716.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471724309-5072877d-ff16-4f20-aaae-47fcd9335689.png#clientId=u65c68b31-85a1-4&from=paste&height=216&id=udae5b455&margin=%5Bobject%20Object%5D&name=image.png&originHeight=431&originWidth=1427&originalType=binary&ratio=1&size=373766&status=done&style=none&taskId=ucefa5faf-a866-4671-b89c-558a37831fe&width=713.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471762487-5054c138-9bdc-4529-963b-70a06aa8918c.png#clientId=u65c68b31-85a1-4&from=paste&height=643&id=u82ca1a76&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1285&originWidth=1447&originalType=binary&ratio=1&size=537847&status=done&style=none&taskId=ub21bca2a-1dd7-4539-b6bb-139c888d2f2&width=723.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471787767-b51f0885-276f-4a0a-8883-835ff617f080.png#clientId=u65c68b31-85a1-4&from=paste&height=108&id=u1868c399&margin=%5Bobject%20Object%5D&name=image.png&originHeight=216&originWidth=1444&originalType=binary&ratio=1&size=476060&status=done&style=none&taskId=ud4a40ca1-31a7-4ffb-a4ee-9f5fa582c1e&width=722)<br />\n\n<a name=\"1b88cb11\"></a>\n## 3、HolleSpring\n\n<br />在父模块中导入jar包<br />\n\n```xml\n<!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n<dependency>\n\t<groupId>org.springframework</groupId>\n\t<artifactId>spring-webmvc</artifactId>\n\t<version>5.2.7.RELEASE</version>\n</dependency>\n```\n\n<br />pojo的Hello.java<br />\n\n```java\npackage pojo;\n\npublic class Hello {\n\n\tprivate String str;\n\t\n\tpublic String getStr() {\n\t\treturn str;\n\t}\n\n\tpublic void setStr(String str) {\n\t\tthis.str = str;\n\t}\n\t\n\t@Override\n\tpublic String toString() {\n\t\treturn \"Holle [str=\" + str + \"]\";\n\t}\n}\n```\n\n<br />在resource里面的xml配置<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n\n    <!--在Spring中创建对象，在Spring这些都称为bean\n    \t类型 变量名 = new 类型();\n    \tHolle holle = new Holle();\n    \t\n    \tbean = 对象(holle)\n    \tid = 变量名(holle)\n    \tclass = new的对象(new Holle();)\n    \tproperty 相当于给对象中的属性设值,让str=\"Spring\"\n    -->\n    \n    <bean id=\"hello\" class=\"pojo.Hello\">\n        <property name=\"str\" value=\"Spring\"/>\n    </bean>\n</beans>\n```\n\n<br />测试类MyTest<br />\n\n```java\npackage holle1;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport pojo.Hello;\n\npublic class MyTest {\n\n\tpublic static void main(String[] args) {\n\t\t//获取Spring的上下文对象\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\t\t//我们的对象下能在都在spring·中管理了，我们要使用，直接取出来就可以了\n\t\tHello holle = (Hello) context.getBean(\"hello\");\n\t\tSystem.out.println(holle.toString());\n\t}\n\n}\n```\n\n<br />核心用set注入，所以必须要有下面的se()方法<br />\n\n```java\n//Hello类\npublic void setStr(String str) {\n\t\tthis.str = str;\n\t}\n```\n\n<br />**思考：**<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471815422-ae6ce201-a69e-466e-bd47-7f699c396eea.png#clientId=u65c68b31-85a1-4&from=paste&height=428&id=ue193d403&margin=%5Bobject%20Object%5D&name=image.png&originHeight=856&originWidth=1431&originalType=binary&ratio=1&size=1137501&status=done&style=none&taskId=u9f574879-54f0-4587-a3d6-b3938d958c7&width=715.5)<br />IoC：对象由Spring 来创建，管理，装配！<br />\n<br />**弹幕评论里面的理解：**<br />\n<br />原来这套程序是：你写好菜单买好菜，客人来了自己把菜炒好招待，就相当于你请人吃饭<br />现在这套程序是：你告诉楼下餐厅，你要哪些菜，客人来的时候，餐厅把做好的你需要的菜送上来<br />IoC：炒菜这件事，不再由你自己来做，而是委托给了第三方__餐厅来做<br />\n<br />此时的区别就是，如果我还需要做其他的菜，我不需要自己搞菜谱买材料再做好，而是告诉餐厅，我要什么菜，什么时候要，你做好送来<br />\n<br />.<br />\n<br />在前面第一个module试试引入Spring<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"userDaomSql\" class=\"dao.UserDaoMysqlImpl\"></bean>\n\n    <bean id=\"userServiceImpl\" class=\"service.UserServiceImp\">\n        <!--ref引用spring中已经创建很好的对象-->\n        <!--value是一个具体的值,基本数据类型-->\n        <property name=\"userDao\" ref=\"userDaomSql\"/>\n    </bean>\n\n</beans>\n```\n\n<br />第一个module改良后测试<br />\n\n```java\npackage holle0;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport service.UserServiceImpl;\n\npublic class MyTest0 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\t\tUserServiceImpl userServiceImpl = (UserServiceImpl) context.getBean(\"userServiceImpl\");\n\t\tuserServiceImpl.getUser();\n\t}\n}\n```\n\n<br />**总结：**<br />\n<br />所有的类都要装配的beans.xml 里面；<br />\n<br />所有的bean 都要通过容器去取；<br />\n<br />容器里面取得的bean，拿出来就是一个对象，用对象调用方法即可；<br />\n\n<a name=\"4ddfc2b5\"></a>\n## 4、IoC创建对象的方式\n\n\n1. 使用无参构造创建对象，默认。\n2. 使用有参构造（如下）\n\n\n<br />下标赋值<br />\n<br />index指的是有参构造中参数的下标，下标从0开始;<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"user\" class=\"pojo.User\">\n        <constructor-arg index=\"0\" value=\"chen\"/>\n    </bean>\n</beans>\n```\n\n<br />类型赋值（不建议使用）<br />\n\n```xml\n<bean id=\"user\" class=\"pojo.User\">\n    <constructor-arg type=\"java.lang.String\" value=\"kuang\"/>\n</bean>\n```\n\n<br />直接通过参数名（掌握）<br />\n\n```xml\n<bean id=\"user\" class=\"pojo.User\">\n    <constructor-arg name=\"name\" value=\"kuang\"></constructor-arg>\n</bean>\n<!-- 比如参数名是name，则有name=\"具体值\" -->\n```\n\n<br />注册bean之后就对象的初始化了（**类似 new 类名()**）<br />\n<br />弹幕评论：<br />\n<br />name方式还需要无参构造和set方法,index和type只需要有参构造<br />\n<br />就算是new 两个对象，也是只有一个实例（**单例模式：全局唯一**）<br />\n\n```java\nUser user = (User) context.getBean(\"user\");\nUser user2 = (User) context.getBean(\"user\");\nsystem.out.println(user == user2)//结果为true\n```\n\n<br />总结：在配置文件加载的时候，容器(< bean>)中管理的对象就已经初始化了<br />\n\n<a name=\"55d787f1\"></a>\n## 5、Spring配置\n\n\n<a name=\"0395086d\"></a>\n### 5.1、别名\n\n\n```xml\n<bean id=\"user\" class=\"pojo.User\">\n    <constructor-arg name=\"name\" value=\"chen\"></constructor-arg>\n</bean>\n\n<alias name=\"user\" alias=\"userLove\"/>\n<!-- 使用时\n\tUser user2 = (User) context.getBean(\"userLove\");\t\n-->\n```\n\n\n<a name=\"bd36fb1e\"></a>\n### 5.2、Bean的配置\n\n\n```xml\n<!--id：bean的唯一标识符，也就是相当于我们学的对象名\nclass：bean对象所对应的会限定名：包名+类型\nname：也是别名，而且name可以同时取多个别名 -->\n<bean id=\"user\" class=\"pojo.User\" name=\"u1 u2,u3;u4\">\n    <property name=\"name\" value=\"chen\"/>\n</bean>\n<!-- 使用时\n\tUser user2 = (User) context.getBean(\"u1\");\t\n-->\n```\n\n\n<a name=\"8cc591db\"></a>\n### 5.3、import\n\n<br />import一般用于团队开发使用，它可以将多个配置文件，导入合并为一个<br />\n<br />假设，现在项目中有多个人开发，这三个人复制不同的类开发，不同的类需要注册在不同的bean中，我们可以利<br />用import将所有人的beans.xml合并为一个总的！<br />\n\n-  张三(beans.xm1) \n-  李四(beans2.xm1) \n-  王五(beans3.xm1) \n-  applicationContext.xml  \n```xml\n<import resource=\"beans.xm1\"/>\n<import resource=\"beans2.xml\"/>\n<import resource=\"beans3.xm1\"/>\n```\n\n<br />**使用的时候，直接使用总的配置就可以了**<br />\n<br />弹幕评论：<br />\n<br />按照在总的xml中的导入顺序来进行创建，后导入的会重写先导入的，最终实例化的对象会是后导入xml中的那个<br />\n\n<a name=\"e5c5c9f1\"></a>\n## 6、依赖注入（DI）\n\n\n<a name=\"809c1a44\"></a>\n### 6.1、构造器注入\n\n<br />第4点有提到<br />\n\n<a name=\"9a618fd8\"></a>\n### 6.2、set方式注入【重点】\n\n<br />依赖注入：set注入！<br />\n\n- 依赖：bean对象的创建依赖于容器\n- 注入：bean对象中的所有属性，由容器来注入\n\n\n<br />【环境搭建】<br />\n\n1.  复杂类型<br />Address类 \n2.  真实测试对象<br />Student类 \n3.  beans.xml \n4.  测试<br />MyTest3 \n\n\n<br />Student类<br />\n\n```java\npackage pojo;\n\nimport java.util.*;\n@Get\n@Set\npublic class Student {\n//别忘了写get和set方法（用lombok注解也行）\n    private String name;\n    private Address address;\n\n    private String[] books;\n    private List<String> hobbies;\n\n    private Map<String, String> card;\n    private Set<String> game;\n\n    private Properties infor;\n    private String wife;\n\n    @Override\n    public String toString() {\n        return \"Student{\" +\"\\n\"+\n                \"name='\" + name + '\\'' +\"\\n\"+\n                \", address=\" + address.toString() +\"\\n\"+\n                \", books=\" + Arrays.toString(books) +\"\\n\"+\n                \", hobbies=\" + hobbies +\"\\n\"+\n                \", card=\" + card +\"\\n\"+\n                \", game=\" + game +\"\\n\"+\n                \", infor=\" + infor +\"\\n\"+\n                \", wife='\" + wife + '\\'' +\"\\n\"+\n                '}';\n    }\n}\n```\n\n<br />Address类<br />\n\n```java\npackage pojo;\n\npublic class Address {\n\n    private String address;\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    @Override\n    public String toString() {\n        return \"Address{\" +\n                \"address='\" + address + '\\'' +\n                '}';\n    }\n}\n```\n\n<br />beans.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n\t<bean id=\"address\" class=\"pojo.Address\">\n\t\t<property name=\"address\" value=\"address你好\" />\n\t</bean>\n\n\t<bean id=\"student\" class=\"pojo.Student\">\n\t\t<!--第一种，普通值注入 -->\n\t\t<property name=\"name\" value=\"name你好\" />\n\t\t<!--第二种，ref注入 -->\n\t\t<property name=\"address\" ref=\"address\" />\n\n\t\t<!--数组注入 -->\n\t\t<property name=\"books\">\n\t\t\t<array>\n\t\t\t\t<value>三国</value>\n\t\t\t\t<value>西游</value>\n\t\t\t\t<value>水浒</value>\n\t\t\t</array>\n\t\t</property>\n\n\t\t<!--list列表注入 -->\n\t\t<property name=\"hobbies\">\n\t\t\t<list>\n\t\t\t\t<value>唱</value>\n\t\t\t\t<value>跳</value>\n\t\t\t\t<value>rap</value>\n\t\t\t\t<value>篮球</value>\n\t\t\t</list>\n\t\t</property>\n\n\t\t<!--map键值对注入 -->\n\t\t<property name=\"card\">\n\t\t\t<map>\n\t\t\t\t<entry key=\"username\" value=\"root\" />\n\t\t\t\t<entry key=\"password\" value=\"root\" />\n\t\t\t</map>\n\t\t</property>\n\n\t\t<!--set(可去重)注入 -->\n\t\t<property name=\"game\">\n\t\t\t<set>\n\t\t\t\t<value>wangzhe</value>\n\t\t\t\t<value>lol</value>\n\t\t\t\t<value>galname</value>\n\t\t\t</set>\n\t\t</property>\n\n\t\t<!--空指针null注入 -->\n\t\t<property name=\"wife\">\n\t\t\t<null></null>\n\t\t</property>\n\n\t\t<!--properties常量注入 -->\n\t\t<property name=\"infor\">\n\t\t\t<props>\n\t\t\t\t<prop key=\"id\">20200802</prop>\n\t\t\t\t<prop key=\"name\">cbh</prop>\n\t\t\t</props>\n\t\t</property>\n\t</bean>\n</beans>\n```\n\n<br />MyTest3<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport pojo.Student;\n\npublic class MyTest3 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\n\t\tStudent stu = (Student) context.getBean(\"student\");\n\t\tSystem.out.println(stu.toString());\n\t}\t\n}\n```\n\n\n<a name=\"3c94674f\"></a>\n### 6.3、拓展注入\n\n<br />官方文档位置<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471878381-057df3da-65e9-41cf-8804-c9d387f0fcf3.png#clientId=u65c68b31-85a1-4&from=paste&height=328&id=u58d619ea&margin=%5Bobject%20Object%5D&name=image.png&originHeight=656&originWidth=1427&originalType=binary&ratio=1&size=326070&status=done&style=none&taskId=uda825a33-9e6c-4d24-ac9a-4ca18afea94&width=713.5)<br />\n<br />pojo增加User类<br />\n\n```java\npackage pojo;\n\npublic class User {\n    private String name;\n    private int id;\n\tpublic User() {\n        \n\t}\n\tpublic User(String name, int id) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.id = id;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic int getId() {\n\t\treturn id;\n\t}\n\tpublic void setId(int id) {\n\t\tthis.id = id;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\treturn \"User [name=\" + name + \", id=\" + id + \"]\";\n\t}\n}\n```\n\n<br />注意： beans 里面加上这下面两行<br />\n<br />使用p和c命名空间需要导入xml约束<br />\n<br />xmlns:p=“http://www.springframework.org/schema/p”<br />xmlns:c=“http://www.springframework.org/schema/c”<br />\n\n```xml\n?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:c=\"http://www.springframework.org/schema/c\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <!--p命名空间注入/set注入，可以直接注入属性的值-》property-->\n    <bean id=\"user\" class=\"pojo.User\" p:name=\"cxk\" p:id=\"20\" >\n    </bean>\n\n    <!--c命名空间，通过构造器注入，需要写入有参和无参构造方法-》construct-args-->\n    <bean id=\"user2\" class=\"pojo.User\" c:name=\"cbh\" c:id=\"22\"></bean>\n</beans>\n```\n\n<br />测试<br />\n\n```java\nApplicationContext context = new ClassPathXmlApplicationContext(\"beans.xml\");\nUser user = context.getBean(\"user\",User.class);//确定class对象，就不用再强转了\nSystem.out.println(user.toString());\n```\n\n\n<a name=\"16334c78\"></a>\n### 6.4、Bean作用域\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471904621-7ed632de-12df-40e9-a3b9-ae6b4a446088.png#clientId=u65c68b31-85a1-4&from=paste&height=422&id=u6d12e90f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=843&originWidth=1424&originalType=binary&ratio=1&size=421622&status=done&style=none&taskId=u236a3f01-9665-409c-89c8-6110309854a&width=712)<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471928095-937427a8-29ae-435a-b602-df741f768463.png#clientId=u65c68b31-85a1-4&from=paste&height=377&id=u79de32bf&margin=%5Bobject%20Object%5D&name=image.png&originHeight=753&originWidth=1427&originalType=binary&ratio=1&size=374384&status=done&style=none&taskId=ubdb4b1f9-53e8-4604-a7d3-3d0df1261d0&width=713.5)<br />\n\n1.  单例模式（默认）  \n```xml\n<bean id=\"user2\" class=\"pojo.User\" c:name=\"cxk\" c:age=\"19\" scope=\"singleton\"></bean>\n1\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471985296-9123fd81-1e81-4c8e-beba-1596e15f352a.png#clientId=u65c68b31-85a1-4&from=paste&height=331&id=u44aa8f75&margin=%5Bobject%20Object%5D&name=image.png&originHeight=662&originWidth=1438&originalType=binary&ratio=1&size=310107&status=done&style=none&taskId=u3910b108-eea1-4fb9-bf65-538b0106af5&width=719)<br />弹幕评论：单例模式是把对象放在pool中，需要再取出来，使用的都是同一个对象实例<br />\n\n1.  原型模式: 每次从容器中get的时候，都产生一个新对象！  \n```xml\n<bean id=\"user2\" class=\"pojo.User\" c:name=\"cxk\" c:age=\"19\" scope=\"prototype\"></bean>\n1\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472006517-1d85d479-1c63-4354-8b85-3b700f0423e2.png#clientId=u65c68b31-85a1-4&from=paste&height=330&id=uafc03b06&margin=%5Bobject%20Object%5D&name=image.png&originHeight=659&originWidth=1421&originalType=binary&ratio=1&size=290775&status=done&style=none&taskId=ua3770b8a-768b-48a4-8ed9-aba7346dfd7&width=710.5)<br />\n\n1. 其余的request、session、application这些只能在web开放中使用！\n\n\n\n<a name=\"2401aaad\"></a>\n## 7、Bean的自动装配\n\n\n- 自动装配是Spring满足bean依赖的一种方式\n- Spring会在上下文自动寻找，并自动给bean装配属性\n\n\n<br />在Spring中有三种装配的方式<br />\n\n1.  在xml中显示配置 \n2.  在java中显示配置 \n3.  隐式的自动装配bean 【重要】 \n4.  环境搭建：一个人有两个宠物 \n5.  byType自动装配：byType会自动查找，和自己对象set方法参数的类型相同的bean<br />保证所有的class唯一(类为全局唯一) \n6.  byName自动装配：byName会自动查找，和自己对象set对应的值对应的id<br />保证所有id唯一，并且和set注入的值一致  \n```xml\n<!-- 找不到id和多个相同class -->\n<bean id=\"cat1\" class=\"pojo.Cat\"/>\n<bean id=\"cat2\" class=\"pojo.Cat\"/>\n<!-- 找不到 id=cat，且有两个Cat -->\n```\n\n\n<a name=\"013694b5\"></a>\n### 7.1测试：自动装配\n\n<br />pojo的Cat类<br />\n\n```java\npublic class Cat {\n    public void shut(){\n        System.out.println(\"miao\");\n    }\n}\n```\n\n<br />pojo的Dog类<br />\n\n```java\npublic class Dog {\n\n    public void shut(){\n        System.out.println(\"wow\");\n    }\n\n}\n```\n\n<br />pojo的People类<br />\n\n```java\npackage pojo;\npublic class People {\n    \n    private Cat cat;\n    private Dog dog;\n    private String name;\n\n    public Cat getCat() {\n        return cat;\n    }\n\n    public void setCat(Cat cat) {\n        this.cat = cat;\n    }\n\n    public Dog getDog() {\n        return dog;\n    }\n\n    public void setDog(Dog dog) {\n        this.dog = dog;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return \"People{\" +\n                \"cat=\" + cat +\n                \", dog=\" + dog +\n                \", name='\" + name + '\\'' +\n                '}';\n    }\n}\n```\n\n<br />xml配置 -> byType 自动装配<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\">\n\n    <bean id=\"cat\" class=\"pojo.Cat\"/>\n    <bean id=\"dog\" class=\"pojo.Dog\"/>\n    \n    <!--byType会在容器自动查找，和自己对象属性相同的bean\n\t\t例如，Dog dog; 那么就会查找pojo的Dog类，再进行自动装配\n\t-->\n    <bean id=\"people\" class=\"pojo.People\" autowire=\"byType\">\n        <property name=\"name\" value=\"cbh\"></property>\n    </bean>\n\n</beans>\n```\n\n<br />xml配置 -> byName 自动装配<br />\n\n```xml\n<bean id=\"cat\" class=\"pojo.Cat\"/>\n<bean id=\"dog\" class=\"pojo.Dog\"/>\n<!--byname会在容器自动查找，和自己对象set方法的set后面的值对应的id\n  例如:setDog()，取set后面的字符作为id，则要id = dog 才可以进行自动装配\n  \n -->\n<bean id=\"people\" class=\"pojo.People\" autowire=\"byName\">\n\t<property name=\"name\" value=\"cbh\"></property>\n</bean>\n```\n\n<br />弹幕评论：byName只能取到小写，大写取不到<br />\n\n<a name=\"cddbd9d6\"></a>\n### 7.2、使用注解实现自动装配\n\n<br />jdk1.5支持的注解，spring2.5支持的注解<br />\n<br />The introduction of annotation-based configuration raised the question of whether this approach is “better” than XML.（翻译：基于注释的配置的引入提出了一个问题，即这种方法是否比XML“更好”）<br />\n\n1. 导入context约束\n\n\n<br />**xmlns:context=\"**[**http://www.springframework.org/schema/context**](http://www.springframework.org/schema/context)**\"**<br />\n\n1. 配置注解的支持：< context:annotation-config/>\n\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\">\n\n    <context:annotation-config/>\n</beans>\n```\n\n\n<a name=\"f296a4dc\"></a>\n#### 7.2.1、[@Autowired ](/Autowired ) \n\n<br />**默认是byType方式，如果匹配不上，就会byName**<br />\n<br />在属性上个使用，也可以在set上使用<br />\n<br />我们可以不用编写set方法了，前提是自动装配的属性在Spring容器里，且要符合ByName 自动装配<br />\n\n```java\npublic class People {\n    @Autowired\n    private Cat cat;\n    @Autowired\n    private Dog dog;\n    private String name;\n}\n```\n\n\n> [@Nullable ](/Nullable ) 字段标记了这个注解，说明该字段可以为空 \n>  \n> public name([@Nullable ](/Nullable ) String name){ \n>  \n> }\n\n\n\n```java\n//源码\npublic @interface Autowired { \n\tboolean required() default true; \n}\n```\n\n<br />如果定义了Autowire的require属性为false，说明这个对象可以为null，否则不允许为空（false表示找不到装配，不抛出异常）<br />\n\n<a name=\"99af1956\"></a>\n#### 7.2.2、@Autowired+[@Qualifier ](/Qualifier ) \n\n<br />**@Autowired不能唯一装配时，需要@Autowired+**[**@Qualifier **](/Qualifier )** **<br />\n<br />如果[@Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value ](/Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value ) = “dog”)去配合使用，指定一个唯一的id对象 <br />\n\n```java\npublic class People {\n    @Autowired\n    private Cat cat;\n    @Autowired\n    @Qualifier(value = \"dog\")\n    private Dog dog;\n    private String name;\n}\n```\n\n<br />弹幕评论：<br />\n<br />如果xml文件中同一个对象被多个bean使用，Autowired无法按类型找到，可以用@Qualifier指定id查找<br />\n\n<a name=\"258454b4\"></a>\n#### 7.2.3、[@Resource ](/Resource ) \n\n<br />**默认是byName方式，如果匹配不上，就会byType**<br />\n\n```java\npublic class People {\n    Resource(name=\"cat\")\n    private Cat cat;\n    Resource(name=\"dog\")\n    private Dog dog;\n    private String name;\n}\n```\n\n<br />弹幕评论：<br />\n<br />Autowired是byType，@Autowired+[@Qualifier ](/Qualifier ) = byType || byName <br />\n<br />Autowired是先byteType,如果唯一則注入，否则byName查找。resource是先byname,不符合再继续byType<br />\n\n<a name=\"9cdb3b71\"></a>\n#### 区别：\n\n<br />@Resource和@Autowired的区别：<br />\n\n- 都是用来自动装配的，都可以放在属性字段上\n- @Autowired通过byType的方式实现，而且必须要求这个对象存在！【常用】\n- @Resource默认通过byname的方式实现，如果找不到名字，则通过byType实现！如果两个都找不到的情况下，就报错！【常用】\n- 执行顺序不同：@Autowired通过byType的方式实现。@Resource默认通过byname的方式实现\n\n\n\n<a name=\"854e10cf\"></a>\n## 8、使用注解开发\n\n<br />在spring4之后，使用注解开发，必须要保证aop包的导入<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472040975-16f26b51-4e5d-402d-9197-1f4070053ed9.png#clientId=u65c68b31-85a1-4&from=paste&height=274&id=ua663f32d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=548&originWidth=846&originalType=binary&ratio=1&size=196088&status=done&style=none&taskId=u32f1f35d-08fe-466a-ac85-5abaf88a5a3&width=423)<br />使用注解需要导入contex的约束<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\">\n\n    <context:annotation-config/>\n\n</beans>\n```\n\n\n<a name=\"dfb77a85\"></a>\n### 8.1、bean\n\n<br />弹幕评论：<br />有了< context:component-scan>，另一个< context:annotation-config/>标签可以移除掉，因为已经被包含进去了。<br />\n\n```xml\n<!--指定要扫描的包，这个包下面的注解才会生效\n\t别只扫一个com.kuang.pojo包--> \n<context:component-scan base-package=\"com.kuang\"/> \n<context:annotation-config/>\n```\n\n\n```java\n//@Component 组件\n//等价于<bean id=\"user\" classs\"pojo.User\"/> \n@Component\npublic class User {  \n     public String name =\"秦疆\";\n}\n```\n\n\n<a name=\"a7a26744\"></a>\n### 8.2、属性如何注入[@value ](/value ) \n\n\n```java\n@Component\npublic class User { \n    //相当于<property name=\"name\" value=\"kuangshen\"/> \n    @value(\"kuangshen\") \n    public String name; \n    \n    //也可以放在set方法上面\n    //@value(\"kuangshen\")\n    public void setName(String name) { \n        this.name = name; \n    }\n}\n```\n\n\n<a name=\"3f91c3c2\"></a>\n### 8.3、衍生的注解\n\n<br />@Component有几个衍生注解，会按照web开发中，mvc架构中分层。<br />\n\n- dao （@Repository）\n- service（@Service）\n- controller（@Controller）\n\n\n<br />**这四个注解的功能是一样的，都是代表将某个类注册到容器中**<br />\n\n<a name=\"137b3e5b\"></a>\n### 8.4、自动装配置\n\n<br />@Autowired：默认是byType方式，如果匹配不上，就会byName<br />\n<br />@Nullable：字段标记了这个注解，说明该字段可以为空<br />\n<br />@Resource：默认是byName方式，如果匹配不上，就会byType<br />\n\n<a name=\"fd88b712\"></a>\n### 8.5、作用域[@scope ](/scope ) \n\n\n```java\n//原型模式prototype，单例模式singleton\n//scope(\"prototype\")相当于<bean scope=\"prototype\"></bean>\n@Component \n@scope(\"prototype\")\npublic class User { \n    \n    //相当于<property name=\"name\" value=\"kuangshen\"/> \n    @value(\"kuangshen\") \n    public String name; \n    \n    //也可以放在set方法上面\n    @value(\"kuangshen\")\n    public void setName(String name) { \n        this.name = name; \n    }\n}\n```\n\n\n<a name=\"3c4563c2\"></a>\n### 8.6、小结\n\n<br />**xml与注解：**<br />\n\n- xml更加万能，维护简单，适用于任何场合\n- 注解，不是自己的类使用不了，维护复杂\n\n\n<br />**最佳实践：**<br />\n\n- xml用来管理bean\n- 注解只用来完成属性的注入\n- 要开启注解支持\n\n\n\n<a name=\"ecb615f1\"></a>\n## 9、使用Java的方式配置Spring\n\n<br />不使用Spring的xml配置，完全交给java来做！<br />\n<br />Spring的一个子项目，在spring4之后，，，它成为了核心功能<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472064164-cf739a67-0d9a-4f49-b36f-8d78ccaf6136.png#clientId=u65c68b31-85a1-4&from=paste&height=344&id=u974c124e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=687&originWidth=1424&originalType=binary&ratio=1&size=1679930&status=done&style=none&taskId=ue3516ca5-3e68-458a-bd30-916ccabb60a&width=712)<br />**实体类：pojo的User.java**<br />\n\n```java\n//这里这个注解的意思,就是说明这个类被Spring接管了,注册到了容器中 \n@component \npublic class User { \n    private String name;\n    \n    public String getName() { \n    \treturn name; \n    } \n    //属性注入值\n    @value(\"QINJIANG')  \n    public void setName(String name) { \n    \tthis.name = name; \n    } \n    @Override \n    public String toString() { \n        return \"user{\" + \n        \"name='\" + name + '\\''+ \n        '}'; \n    } \n}\n```\n\n<br />弹幕评论：要么使用@Bean，要么使用@Component和ComponentScan，两种效果一样<br />\n<br />**配置文件：config中的kuang.java**<br />\n<br />@Import(KuangConfig2.class)，用@import来包含KuangConfig2.java<br />\n\n```java\n//这个也会Spring容器托管,注册到容器中,因为他本米就是一个@Component \n// @Configuration表这是一个配置类,就像我们之前看的beans.xml，类似于<beans>标签\n@Configuration \n@componentScan(\"com.Kuang.pojo\") //开启扫描\n//@Import(KuangConfig2.class)\npublic class KuangConfig { \n    //注册一个bean , 就相当于我们之前写的一个bean 标签 \n    //这个方法的名字,就相当于bean 标签中的 id 属性 ->getUser\n    //这个方法的返同值,就相当于bean 标签中的class 属性 ->User\n    \n    //@Bean \n    public User getUser(){ \n    \treturn new User(); //就是返回要注入到bean的对象! \n    } \n}\n```\n\n<br />弹幕评论：ComponentScan、@Component(\"pojo”) 这两个注解配合使用<br />\n<br />**测试类**<br />\n\n```java\npublic class MyTest { \n    public static void main(String[ ] args) { \n    //如果完全使用了配置类方式去做,我们就只能通过 Annotationconfig 上下文来获取容器,通过配置类的class对象加载! \n    ApplicationContext context = new AnnotationConfigApplicationContext(KuangConfig.Class); //class对象\n    User getUser =(User)context.getBean( \"getUser\"); //方法名getUser\n    System.out.Println(getUser.getName()); \n    } \n}\n```\n\n<br />**会创建两个相同对象问题的说明：**<br />\n<br />**弹幕总结 - -> @Bean是相当于< bean>标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了**<br />\n\n```java\n//这个也会Spring容器托管,注册到容器中,因为他本米就是一个@Component \n// @Configuration表这是一个配置类,就像我们之前看的beans.xml，类似于<beans>标签\n@Configuration \n@componentScan(\"com.Kuang.pojo\") //开启扫描\n//@Import(KuangConfig2.class)\npublic class KuangConfig { \n    //注册一个bean , 就相当于我们之前写的一个bean 标签 \n    //这个方法的名字,就相当于bean 标签中的 id 属性 ->getUser\n    //这个方法的返同值,就相当于bean 标签中的class 属性 ->User\n    \n    //@Bean \n    public User getUser(){ \n    \treturn new User(); //就是返回要注入到bean的对象! \n    } \n}\n```\n\n<br />弹幕评论：ComponentScan、@Component(\"pojo”) 这两个注解配合使用<br />\n<br />**测试类**<br />\n\n```java\npublic class MyTest { \n    public static void main(String[ ] args) { \n    //如果完全使用了配置类方式去做,我们就只能通过 Annotationconfig 上下文来获取容器,通过配置类的class对象加载! \n    ApplicationContext context = new AnnotationConfigApplicationContext(KuangConfig.Class); //class对象\n    User getUser =(User)context.getBean( \"getUser\"); //方法名getUser\n    System.out.Println(getUser.getName()); \n    } \n}\n```\n\n<br />**会创建两个相同对象问题的说明：**<br />\n<br />**弹幕总结 - -> @Bean是相当于< bean>标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了**<br />\n\n<a name=\"37ce5f92\"></a>\n## 10、动态代理\n\n<br />代理模式是SpringAOP的底层<br />\n<br />分类：动态代理和静态代理<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472093138-32a4cc48-0e0c-4470-8d41-95edc040a9f5.png#clientId=u65c68b31-85a1-4&from=paste&height=318&id=u06036644&margin=%5Bobject%20Object%5D&name=image.png&originHeight=635&originWidth=1426&originalType=binary&ratio=1&size=295439&status=done&style=none&taskId=u3a4682f7-93df-4327-89d8-5588d7a3f33&width=713)<br />\n\n<a name=\"ac68d745\"></a>\n### 10.1、静态代理\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472110260-68d6d574-e8a2-4ada-974a-93238575f044.png#clientId=u65c68b31-85a1-4&from=paste&height=213&id=ued37f954&margin=%5Bobject%20Object%5D&name=image.png&originHeight=426&originWidth=1458&originalType=binary&ratio=1&size=333570&status=done&style=none&taskId=ufa2f2bd3-104b-4298-ac4b-082af9a2452&width=729)<br />代码步骤：<br />\n<br />1、接口<br />\n\n```java\npackage pojo;\npublic interface Host {\n\tpublic void rent();\n}\n```\n\n<br />2、真实角色<br />\n\n```java\npackage pojo;\npublic class HostMaster implements Host{\t\n    \n\tpublic void rent() {\n\t\tSystem.out.println(\"房东要出租房子\");\n\t}\n}\n```\n\n<br />3、代理角色<br />\n\n```java\npackage pojo;\npublic class Proxy {\n\n\tpublic Host host;\n\t\n\tpublic Proxy() {\n\t\t\n\t}\n\t\n\tpublic Proxy(Host host) {\n\t\tsuper();\n\t\tthis.host = host;\n\t}\n\t\n\tpublic void rent() {\n\t\tseeHouse();\n\t\thost.rent();\n\t\tfee();\n\t\tsign();\n\t}\n\t//看房\n\tpublic void seeHouse() {\n\t\tSystem.out.println(\"看房子\");\n\t}\n\t//收费\n\tpublic void fee() {\n\t\tSystem.out.println(\"收中介费\");\n\t}\n\t//合同\n\tpublic void sign() {\n\t\tSystem.out.println(\"签合同\");\n\t}\t\t\n}\n```\n\n<br />4、客户端访问代理角色<br />\n\n```java\npackage holle4_proxy;\n\nimport pojo.Host;\nimport pojo.HostMaster;\nimport pojo.Proxy;\n\npublic class My {\n\n\tpublic static void main(String[] args) {\n\t\t//房东要出租房子\n\t\tHost host = new HostMaster();\n\t\t//中介帮房东出租房子，但也收取一定费用（增加一些房东不做的操作）\n\t\tProxy proxy = new Proxy(host);\n\t\t//看不到房东，但通过代理，还是租到了房子\n\t\tproxy.rent();\n\t\t\n\t}\n}\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472182662-cd60ab25-c271-4316-af34-9722171677ff.png#clientId=u65c68b31-85a1-4&from=paste&height=276&id=u44fe5565&margin=%5Bobject%20Object%5D&name=image.png&originHeight=552&originWidth=1432&originalType=binary&ratio=1&size=318739&status=done&style=none&taskId=u4c988078-ba16-4d13-ad27-de269300307&width=716)<br />代码翻倍：几十个真实角色就得写几十个代理<br />\n<br />AOP横向开发<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472202392-f8398270-e31d-4f1d-962d-c24024ab0170.png#clientId=u65c68b31-85a1-4&from=paste&height=616&id=u6f0ff715&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1231&originWidth=1429&originalType=binary&ratio=1&size=535042&status=done&style=none&taskId=uee994fb2-a8b0-4b92-9319-ac8f359e328&width=714.5)<br />\n\n<a name=\"7f64b1e7\"></a>\n### 10.2、动态代理\n\n<br />动态代理和静态角色一样，动态代理底层是反射机制<br />\n<br />动态代理类是动态生成的，不是我们直接写好的！<br />\n<br />动态代理(两大类)：基于接口，基于类<br />\n\n- 基于接口：JDK的动态代理【使用ing】\n- 基于类：cglib\n- java字节码实现：javasisit\n\n\n<br />了解两个类<br />1、Proxy：代理<br />2、InvocationHandler：调用处理程序<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472250406-dbe28260-99f3-47cd-bcb3-dd256a81ddfe.png#clientId=u65c68b31-85a1-4&from=paste&height=75&id=uec06fc4f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=150&originWidth=1437&originalType=binary&ratio=1&size=119714&status=done&style=none&taskId=u1b8a68e3-05e6-4b8b-b247-e42a373ad8b&width=718.5)<br />\n<br />实例：<br />\n<br />接口 Host.java<br />\n\n```java\n//接口\npackage pojo2;\npublic interface Host {\n\tpublic void rent();\n\t\n}\n```\n\n<br />接口Host实现类 HostMaster.java<br />\n\n```java\n//接口实现类\npackage pojo2;\npublic class HostMaster implements Host{\t\n\tpublic void rent() {\n\t\tSystem.out.println(\"房东要租房子\");\n\t}\n}\n```\n\n<br />代理角色的处理程序类 ProxyInvocationHandler.java<br />\n\n```java\npackage pojo2;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\n///用这个类，自动生成代理\npublic class ProxyInvocationHandler implements InvocationHandler {\n\n\t// Foo f =(Foo) Proxy.NewProxyInstance(Foo. Class.GetClassLoader(),\n\t// new Class<?>[] { Foo.Class },\n\t// handler);\n\n\t// 被代理的接口\n\tpublic HostMaster hostMaster ;\n\t\n\tpublic void setHostMaster(HostMaster hostMaster) {\n\t\tthis.hostMaster = hostMaster;\n\t}\n\n\t// 得到生成的代理类 \n\tpublic Object getProxy() {\n\t\t// newProxyInstance() -> 生成代理对象，就不用再写具体的代理类了\n\t\t// this.getClass().getClassLoader() -> 找到加载类的位置\n\t\t// hostMaster.getClass().getInterfaces() -> 代理的具体接口\n\t\t// this -> 代表了接口InvocationHandler的实现类ProxyInvocationHandler\n\t\treturn Proxy.newProxyInstance(this.getClass().getClassLoader(), hostMaster.getClass().getInterfaces(), this);\n\n\n\t// 处理代理实例并返回结果\n\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\t\tseeHouse();\n\t\t// 动态代理的本质，就是使用反射机制实现的\n        // invoke()执行它真正要执行的方法\n\t\tObject result = method.invoke(hostMaster, args);\n\t\tfee();\n\t\treturn result;\n\t}\n\n\tpublic void seeHouse() {\n\t\tSystem.out.println(\"看房子\");\n\t}\n\n\tpublic void fee() {\n\t\tSystem.out.println(\"收中介费\");\n\t}\n\n}\n```\n\n<br />用户类 My2.java<br />\n\n```java\npackage holle4_proxy;\n\nimport pojo2.Host;\nimport pojo2.Host2;\nimport pojo2.HostMaster;\nimport pojo2.ProxyInvocationHandler;\n\npublic class My2 {\n\n\tpublic static void main(String[] args) {\n        \n\t\t//真实角色\n\t\tHostMaster hostMaster = new HostMaster();\n        \n\t\t//代理角色，现在没有；用代理角色的处理程序来实现Host接口的调用\n\t\tProxyInvocationHandler pih = new ProxyInvocationHandler();\n        \n        //pih -> HostMaster接口类 -> Host接口\n\t\tpih.setHostMaster(hostMaster);\n        \n\t\t//获取newProxyInstance动态生成代理类\n\t\tHost proxy = (Host) pih.getProxy();\n\t\t\n\t\tproxy.rent();\n\n\t}\n}\n```\n\n<br />弹幕评论：<br />什么时候调用invoke方法的?<br />代理实例调用方法时invoke方法就会被调用，可以debug试试<br />\n<br />改为**万能代理类**<br />\n\n```java\n///用这个类，自动生代理\npublic class ProxyInvocationHandler implements InvocationHandler {\n\n\t// 被代理的接口\n\tpublic Object target;\n\n\tpublic void setTarget(Object target) {\n\t\tthis.target = target;\n\t}\n\n\t// 得到生成的代理类 -> 固定的代码\n\tpublic Object getProxy() {\n\t\treturn Proxy.newProxyInstance(this.getClass().getClassLoader(), target.getClass().getInterfaces(), this);\n\t}\n\n\t// 处理代理实例并返回结果\n\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\t\t// 动态代理的本质，就是使用反射机制实现的\n\t\t// invoke()执行它真正要执行的方法\n\t\tObject result = method.invoke(target, args);\n\t\treturn result;\n\t}\n\n}\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472286319-fedd39e9-373b-4ad8-9f64-4b8ee3c604ca.png#clientId=u65c68b31-85a1-4&from=paste&height=297&id=u9fe42ff0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=593&originWidth=1465&originalType=binary&ratio=1&size=416618&status=done&style=none&taskId=ua22f25c6-84a0-4f29-9431-610048ecc8e&width=732.5)<br />\n\n<a name=\"8fcd49a5\"></a>\n## 11、AOP\n\n\n<a name=\"7b90ca80\"></a>\n### 11.1、什么是AOP\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472302779-a8366011-5841-48c9-a6c7-eff3e7546103.png#clientId=u65c68b31-85a1-4&from=paste&height=97&id=u04219bd7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=194&originWidth=1456&originalType=binary&ratio=1&size=457846&status=done&style=none&taskId=ua7ef26da-9f3b-497b-b0a7-659aab41f56&width=728)<br />\n\n<a name=\"11d4b04b\"></a>\n### 11.2、AOP在Spring中的使用\n\n<br />提供声明式事务，允许用户自定义切面<br />\n\n- 横切关注点：跨越应用程序多个模块的方法或功能。即是，与我们业务逻辑无关的，但是我们需要关注的部分，就是横切关注点。如日志，安全，缓存，事务等等…\n- 切面(Aspect)：横切关注点 被模块化的特殊对象。即，它是一个类。（Log类）\n- 通知(Advice)：切面必须要完成的工作。即，它是类中的一个方法。（Log类中的方法）\n- 目标(Target)：被通知对象。（生成的代理类)\n- 代理(Proxy)：向目标对象应用通知之后创建的对象。（生成的代理类）\n- 切入点(PointCut)：切面通知执行的”地点”的定义。（最后两点：在哪个地方执行，比如：method.invoke()）\n- 连接点(JointPoint)：与切入点匹配的执行点。\n\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472322962-506e3170-dbca-45d9-ac0b-0e3eea0c8a9e.png#clientId=u65c68b31-85a1-4&from=paste&height=443&id=uf65ee572&margin=%5Bobject%20Object%5D&name=image.png&originHeight=886&originWidth=1451&originalType=binary&ratio=1&size=606566&status=done&style=none&taskId=ud3471f4c-c60b-46b1-b070-7126b300d2b&width=725.5)<br />SpringAOP中，通过Advice定义横切逻辑，Spring中支持5种类型的Advice:<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472344670-8b22f0b8-df31-4b7a-bdb5-98af8fdf68cc.png#clientId=u65c68b31-85a1-4&from=paste&height=233&id=u99ab396b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=466&originWidth=1409&originalType=binary&ratio=1&size=265012&status=done&style=none&taskId=u47ab38d8-661a-472d-8686-7cd6f379dbd&width=704.5)<br />**即AOP在不改变原有代码的情况下，去增加新的功能。**（代理）<br />\n\n<a name=\"6e16d25f\"></a>\n### 11.3、使用Spring实现AOP\n\n<br />导入jar包<br />\n\n```xml\n<!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver -->\n<dependency>\n    <groupId>org.aspectj</groupId>\n    <artifactId>aspectjweaver</artifactId>\n    <version>1.9.4</version>\n</dependency>\n```\n\n\n<a name=\"c727a170\"></a>\n#### 11.3.1、方法一：使用原生spring接口\n\n<br />springAPI接口实现<br />\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n    <!--注册bean-->\n    <bean id=\"userservice\" class=\"service.UserServiceImpl\"/>\n    <bean id=\"log\" class=\"log.Log\"/>\n    <bean id=\"afterLog\" class=\"log.AfterLog\"/>\n\t<!--方式一，使用原生Spring API接口-->\n    <!--配置aop,还需要导入aop约束-->\n    <aop:config>\n        <!--切入点：expression:表达式，execution（要执行的位置）-->\n        <aop:pointcut id=\"pointcut\" expression=\"execution(* service.UserServiceImpl.*(..))\"/>\n        <!--UserServiceImpl.*(..) -》 UserServiceImpl类下的所以方法(参数)-->\n        <!--执行环绕增加-->\n        <aop:advisor advice-ref=\"log\" pointcut-ref=\"pointcut\"/>\n        <aop:advisor advice-ref=\"afterLog\" pointcut-ref=\"pointcut\"/>\n        <!-- 环绕,在id=\"pointcut\"的前后切入 -->\n    </aop:config>\n\n</beans>\n```\n\n<br />execution(返回类型，类名，方法名(参数)) -> execution(_ com.service._,*(…))<br />\n<br />UserService.java<br />\n\n```java\npackage service;\npublic interface UserService {   \n\t    public void add() ;\n\t    public void delete() ;\n\t    public void query() ;\n\t    public void update();\n}\n```\n\n<br />UserService 的实现类 UserServiceImp.java<br />\n\n```java\npackage service;\n\npublic class UserServiceImpl implements UserService {\n\n    public void add() {\n        System.out.println(\"add增\");\n    }\n    public void delete() {\n        System.out.println(\"delete删\");\n    }\n    public void update() {\n        System.out.println(\"update改\");\n    }\n    public void query() {\n        System.out.println(\"query查\");\n    }\n}\n```\n\n<br />前置Log.java<br />\n\n```java\npackage log;\nimport org.springframework.aop.MethodBeforeAdvice;\nimport java.lang.reflect.Method;\n\npublic class Log implements MethodBeforeAdvice {\n    //method：要执行的目标对象的方法\n    //args：参数\n    //target：目标对象\n    public void before(Method method, Object[] args, Object target) throws Throwable {\n        System.out.println(target.getClass().getName()+\"的\"+method.getName()+\"被执行了\");\n    }\n}\n```\n\n<br />后置AfterLog.java<br />\n\n```java\npackage log;\nimport java.lang.reflect.Method;\nimport org.springframework.aop.AfterReturningAdvice;\n\npublic class AfterLog implements AfterReturningAdvice {\n    //returnVaule: 返回值\n    public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable {\n    \tSystem.out.println(\"执行了\"+method.getName()+\"方法，返回值是\"+returnValue);\n    }\n}\n```\n\n<br />测试类MyTest5<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport service.UserService;\n\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(\"userservice\");\n        userService.add();\n    }\n}\n```\n\n\n<a name=\"8d2cce88\"></a>\n#### 11.3.2、方法二：自定义类实现AOP\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xmlns:aop=\"http://www.springframework.org/schema/aop\"\n      xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n   \thttps://www.springframework.org/schema/beans/spring-beans.xsd\n   \thttp://www.springframework.org/schema/aop\n   \thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n   <!--注册bean-->\n   <bean id=\"userservice\" class=\"service.UserServiceImpl\"/>\n   <bean id=\"log\" class=\"log.Log\"/>\n   <bean id=\"afterLog\" class=\"log.AfterLog\"/>\n   <!-- 方式二，自定义 -->\n   <bean id=\"diy\" class=\"diy.DiyPointcut\"/>\n   <aop:config>\n       <!--自定义切面-->\n       <aop:aspect ref=\"diy\">\n           <!--切入点-->\n           <aop:pointcut id=\"point\" expression=\"execution(* service.UserServiceImpl.*(..))\"/>\n           <aop:before method=\"before\" pointcut-ref=\"point\"/>\n           <aop:after method=\"after\" pointcut-ref=\"point\"/>\n       </aop:aspect>\n   </aop:config>\n\n</beans>\n```\n\n\n```java\npackage diy;\npublic class DiyPointcut {\n\n    public void before(){\n        System.out.println(\"插入到前面\");\n    }\n\n    public void after(){\n        System.out.println(\"插入到后面\");\n    }\n}\n```\n\n\n```java\n//测试\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(\"userservice\");\n        userService.add();\n    }\n}\n```\n\n\n<a name=\"09383569\"></a>\n#### 11.3.3、方法三：使用注解实现\n\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\n    <!-- 注册 -->\n    <bean id=\"userservice\" class=\"service.UserServiceImpl\"/>\n    <!--方式三，使用注解实现-->\n    <bean id=\"diyAnnotation\" class=\"diy.DiyAnnotation\"></bean>\n    \n    <!-- 开启自动代理 \n\t\t实现方式：默认JDK (proxy-targer-class=\"fasle\")\n    \t\t\t cgbin (proxy-targer-class=\"true\")-->\n\t<aop:aspectj-autoproxy/>\n    \n</beans>\n```\n\n<br />DiyAnnotation.java<br />\n\n```java\npackage diy;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect  //标注这个类是一个切面\npublic class DiyAnnotation {\n\t\n    @Before(\"execution(* service.UserServiceImpl.*(..))\")\n    public void before(){\n        System.out.println(\"=====方法执行前=====\");\n    }\n\n    @After(\"execution(* service.UserServiceImpl.*(..))\")\n    public void after(){\n        System.out.println(\"=====方法执行后=====\");\n    }\n\n    //在环绕增强中，我们可以给地暖管一个参数，代表我们要获取切入的点\n    @Around(\"execution(* service.UserServiceImpl.*(..))\")\n    public void around(ProceedingJoinPoint joinPoint) throws Throwable {\n        System.out.println(\"环绕前\");\n\n        Object proceed = joinPoint.proceed();\n\n        System.out.println(\"环绕后\");\n    }\n}\n```\n\n<br />测试<br />\n\n```java\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(\"userservice\");\n        userService.add();\n    }\n}\n```\n\n<br />输出结果：<br />\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472366377-cc3b2d27-7a9d-4c51-81f4-ea9986f2dc37.png#clientId=u65c68b31-85a1-4&from=paste&height=152&id=ub2d25d62&margin=%5Bobject%20Object%5D&name=image.png&originHeight=304&originWidth=530&originalType=binary&ratio=1&size=16982&status=done&style=none&taskId=uc5e52ebc-7c61-4cc3-936b-fd7f9c8de83&width=265)<br />\n\n<a name=\"697586fb\"></a>\n## 12、整合mybatis\n\n<br />mybatis-spring官网：[https://mybatis.org/spring/zh/](https://mybatis.org/spring/zh/)<br />\n<br />**mybatis的配置流程：**<br />\n\n1. 编写实体类\n2. 编写核心配置文件\n3. 编写接口\n4. 编写Mapper.xmi\n5. 测试\n\n\n\n<a name=\"c033efd7\"></a>\n### 12.1、mybatis-spring-方式一\n\n\n1. 编写数据源配置\n2. sqISessionFactory\n3. sqISessionTemplate（相当于sqISession）\n4. 需要给接口加实现类【new】\n5. 将自己写的实现类，注入到Spring中\n6. 测试！\n\n\n<br />先导入jar包<br />\n\n```xml\n<dependencies>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.aspectj</groupId>\n        <artifactId>aspectjweaver</artifactId>\n        <version>1.9.4</version>\n    </dependency>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-jdbc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis</artifactId>\n        <version>3.5.2</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis-spring</artifactId>\n        <version>2.0.4</version>\n    </dependency>\n\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <version>8.0.12</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n        <version>1.18.12</version>\n    </dependency>\n\n</dependencies>\n\t\n<!--在build中配置resources，来防止资源导出失败的问题-->\n<!-- Maven解决静态资源过滤问题 -->\n<build>\n<resources>\n    <resource>\n        <directory>src/main/java</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n    <resource>\n        <directory>src/main/resources</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n</resources>\n</build>\n```\n\n<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472386121-cbb94361-c6f6-47ba-868e-39521696a0a2.png#clientId=u65c68b31-85a1-4&from=paste&height=536&id=ud6ca78bf&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1071&originWidth=727&originalType=binary&ratio=1&size=184771&status=done&style=none&taskId=ude8d9f5a-d54e-4e62-b99f-e34a08fb5cd&width=363.5)<br />**编写顺序：**<br />**User -> UserMapper -> UserMapper.xml -> spring-dao.xml -> UserServiceImpl -> applicationContext.xml -> MyTest6**<br />\n<br />**代码步骤：**<br />\n<br />pojo实体类 User<br />\n\n```java\npackage pojo;\nimport lombok.Data;\n@Data\npublic class User {\n\tprivate int id;\n\tprivate String name;\n\tprivate String pwd;\n}\n```\n\n<br />mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml<br />\n<br />接口UserMapper<br />\n\n```java\npackage mapper;\nimport java.util.List;\nimport pojo.User;\npublic interface UserMapper {\n\tpublic List<User> getUser();\n}\n```\n\n<br />UserMapperImpl<br />\n\n```java\npackage mapper;\nimport java.util.List;\nimport org.mybatis.spring.SqlSessionTemplate;\nimport pojo.User;\n\npublic class UserMapperImpl implements UserMapper{\n\t\n\t//我们的所有操作，在原来都使用sqlSession来执行，现在都使用SqlSessionTemplate；\n\tprivate SqlSessionTemplate sqlSessionTemplate;\n\n\tpublic void setSqlSessionTemplate(SqlSessionTemplate sqlSessionTemplate) {\n\t\tthis.sqlSessionTemplate = sqlSessionTemplate;\n\t}\n\n\tpublic List<User> getUser() {\n\t\tUserMapper mapper = sqlSessionTemplate.getMapper(UserMapper.class);\n\t\treturn mapper.getUser();\n\t}\n}\n```\n\n<br />UserMapper.xml （狂神给面子才留下来的）<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n        \n<!-- 绑定接口 -->\n<mapper namespace=\"mapper.UserMapper\">\n\t<select id=\"getUser\" resultType=\"pojo.User\">\n\t\tselect * from mybatis.mybatis\n\t</select>\n</mapper>\n```\n\n<br />resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml<br />\n<br />mybatis-config.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n  PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n\t<!--开启日志-->\n\t<settings>\n\t\t<setting name=\"logImpl\" value=\"STDOUT_LOGGING\" />\n\t</settings>\n\t\n\t<!--可以给实体类起别名 -->\n\t<typeAliases> \n\t\t<package name=\"pojo\" />\n\t</typeAliases>\n\n</configuration>\n```\n\n<br />spring-dao.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\t\n\t<!--DataSource:使用Spring的数帮源替换Mybatis的配置 其他数据源：c3p0、dbcp、druid \n\t\t这使用Spring提供的JDBC: org.springframework.jdbc.datasource -->\n\t<!--data source -->\n\t<bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n\t\t<property name=\"driverClassName\"\n\t\t\tvalue=\"com.mysql.cj.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\"/>\n\t\t<property name=\"username\" value=\"root\" />\n\t\t<property name=\"password\" value=\"root\" />\n\t</bean>\n\t\n\t<!--sqlSessionFactory-->\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"datasource\" />\n        <!--绑定 mybatis 配置文件-->\n        <property name=\"configLocation\" value=\"classpath:mybatis-config.xml\"/>\n        <property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/>\n    </bean>\n\n\t<!-- sqlSessionTemplate 就是之前使用的：sqlsession -->\n    <bean id=\"sqlSession\" class=\"org.mybatis.spring.SqlSessionTemplate\">\n    \t<!-- 只能使用构造器注入sqlSessionFactory 原因：它没有set方法-->\t\n        <constructor-arg index=\"0\" ref=\"sqlSessionFactory\"/>\n    </bean>\n\t\t\n</beans>\n```\n\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n    \n\t<!-- 导入spring-dao.xml -->\n\t<import resource=\"spring-dao.xml\"/>\n\t\n    <bean id=\"userMapper\" class=\"mapper.UserMapperImpl\">\n        <property name=\"sqlSessionTemplate\" ref=\"sqlSession\"></property>\n    </bean>\n\n</beans>\n```\n\n<br />测试类<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport mapper.UserMapper;\nimport pojo.User;\npublic class MyTest6 {\n\tpublic static void main(String[] args) {\n        \n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t\t\n\t\tUserMapper userMapper = (UserMapper) context.getBean(\"userMapper\");\n\t\t\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}\n```\n\n\n<a name=\"4c4395cd\"></a>\n### 12.2、mybatis-spring-方式二\n\n<br />UserServiceImpl2<br />\n\n```java\npackage mapper;\nimport pojo.User;\nimport org.apache.ibatis.session.SqlSession;\nimport org.mybatis.spring.support.SqlSessionDaoSupport;\nimport java.util.List;\n//继承SqlSessionDaoSupport 类\npublic class UserMapperImpl2 extends SqlSessionDaoSupport implements UserMapper {\n    public List<User> getUser() {\n        SqlSession sqlSession = getSqlSession();\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        return mapper.getUser();\n        //或者一句话：return getSqlSession().getMapper(UserMapper.class).getUser();\n    }\n}\n```\n\n<br />spring-dao.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\t\n\t<!--DataSource:使用Spring的数帮源替换Mybatis的配置 c3p0 dbcp druid \n\t\t这使用Spring提供的JDBC: org.springframework.jdbc.datasource -->\n\t<!--data source -->\n\t<bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n\t\t<property name=\"driverClassName\"\n\t\t\tvalue=\"com.mysql.cj.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\"/>\n\t\t<property name=\"username\" value=\"root\" />\n\t\t<property name=\"password\" value=\"root\" />\n\t</bean>\n\t\n\t<!--sqlSessionFactory-->\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"datasource\" />\n        <!--绑定 mybatis 配置文件-->\n        <property name=\"configLocation\" value=\"classpath:mybatis-config.xml\"/>\n        <property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/>\n    </bean>\n    \n\t<!-- 方法二：SqlSessionTemplate 可以不写了-->\n    \n</beans>\n```\n\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n\t<import resource=\"spring-dao.xml\" />\n\n\t<!-- 方法二 -->\n\t<bean id=\"userMapper2\" class=\"mapper.UserMapperImpl2\">\n\t\t<property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\"></property>\n\t</bean>\n</beans>\n```\n\n<br />测试<br />\n\n```java\npublic class MyTest6 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t\tUserMapper userMapper = (UserMapper) context.getBean(\"userMapper2\");\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}\n```\n\n\n<a name=\"11e5c339\"></a>\n## 13. 声明式事务\n\n\n- 把一组业务当成一个业务来做；要么都成功，要么都失败！\n- 事务在项目开发中，十分的重要，涉及到数据的一致性问题\n- 确保完整性和一致性\n\n\n<br />事务的ACID原则：<br />1、原子性<br />2、隔离性<br />3、一致性<br />4、持久性<br />\n<br />ACID参考文章：[https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html](https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html)<br />\n<br />Spring中的事务管理<br />\n\n- 声明式事务：AOP\n- 编程式事务：需要再代码中，进行事务管理\n\n\n<br />**声明式事务**<br />\n<br />先导入jar包<br />\n\n```xml\n<dependencies>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-webmvc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.aspectj</groupId>\n        <artifactId>aspectjweaver</artifactId>\n        <version>1.9.4</version>\n    </dependency>\n\n    <!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->\n    <dependency>\n        <groupId>org.springframework</groupId>\n        <artifactId>spring-jdbc</artifactId>\n        <version>5.2.7.RELEASE</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis</artifactId>\n        <version>3.5.2</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.mybatis</groupId>\n        <artifactId>mybatis-spring</artifactId>\n        <version>2.0.4</version>\n    </dependency>\n\n    <dependency>\n        <groupId>mysql</groupId>\n        <artifactId>mysql-connector-java</artifactId>\n        <version>8.0.12</version>\n    </dependency>\n\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n        <version>1.18.12</version>\n    </dependency>\n\n</dependencies>\n\t\n<!--在build中配置resources，来防止资源导出失败的问题-->\n<!-- Maven解决静态资源过滤问题 -->\n<build>\n<resources>\n    <resource>\n        <directory>src/main/java</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n    <resource>\n        <directory>src/main/resources</directory>\n        <includes>\n            <include>**/*.properties</include>\n            <include>**/*.xml</include>\n        </includes>\n        <filtering>false</filtering>\n    </resource>\n</resources>\n</build>\n```\n\n<br />**代码步骤：**<br />\n<br />pojo实体类 User<br />\n\n```java\npackage pojo;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\tprivate int id;\n\tprivate String name;\n\tprivate String pwd;\n}\n```\n\n<br />mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml<br />\n<br />接口UserMapper<br />\n\n```java\npackage mapper;\nimport java.util.List;\nimport org.apache.ibatis.annotations.Param;\nimport pojo.User;\n\npublic interface UserMapper {\n\tpublic List<User> getUser();\n\t\n\tpublic int insertUser(User user); \n\t\n\tpublic int delUser(@Param(\"id\") int id); \n}\n```\n\n<br />UserMapperImpl<br />\n\n```java\npackage mapper;\n\nimport pojo.User;\nimport org.apache.ibatis.session.SqlSession;\nimport org.mybatis.spring.support.SqlSessionDaoSupport;\nimport java.util.List;\n\npublic class UserMapperImpl extends SqlSessionDaoSupport implements UserMapper {\n    public List<User> getUser() {\n    \tUser user = new User(5,\"你好\",\"ok\");\n    \tinsertUser(user);\n    \tdelUser(5);\n        SqlSession sqlSession = getSqlSession();\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        return mapper.getUser();\n        //或者return  getSqlSession().getMapper(UserMapper.class).getUser();\n    }\n    //插入\n\tpublic int insertUser(User user) {\n\t\treturn getSqlSession().getMapper(UserMapper.class).insertUser(user);\n\t}\n\t//删除\n\tpublic int delUser(int id) {\n\t\treturn getSqlSession().getMapper(UserMapper.class).delUser(id);\n\t}\n}\n```\n\n<br />UserMapper.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n        \n<!-- 绑定接口 -->\n<mapper namespace=\"mapper.UserMapper\">\n\t<select id=\"getUser\" resultType=\"pojo.User\">\n\t\tselect * from mybatis.mybatis\n\t</select>\n\t\n\t<insert id=\"insertUser\"  parameterType=\"pojo.User\" >\n\t\tinsert into  mybatis.mybatis (id,name,pwd) values (#{id},#{name},#{pwd})\n\t</insert>\n\t\n\t<delete id=\"delUser\" parameterType=\"_int\">\n\t\tdeleteAAAAA from mybatis.mybatis where id = #{id}\n\t\t<!-- deleteAAAAA是故意写错的 -->\n\t</delete>\n\n</mapper>\n```\n\n<br />resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml<br />\n<br />mybatis-config.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n  PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n  \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<!-- configuration -->\n<configuration>\n\t\n\t<!--开启日志-->\n\t<settings>\n\t\t<setting name=\"logImpl\" value=\"STDOUT_LOGGING\" />\n\t</settings>\n\t\n\t<!--可以给实体类起别名-->\n\t<typeAliases> \n\t\t<package name=\"pojo\" />\n\t</typeAliases>\n\n</configuration>\n```\n\n<br />spring-dao.xml（已导入约束）<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/tx\n        https://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd\">\n\t\t\n\t<!--data source -->\n\t<bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n\t\t<property name=\"driverClassName\"\n\t\t\tvalue=\"com.mysql.cj.jdbc.Driver\" />\n\t\t<property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai\"/>\n\t\t<property name=\"username\" value=\"root\" />\n\t\t<property name=\"password\" value=\"root\" />\n\t</bean>\n\t\n\t<!--sqlSessionFactory-->\n    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n        <property name=\"dataSource\" ref=\"datasource\" />\n        <!--绑定 mybatis 配置文件-->\n        <property name=\"configLocation\" value=\"classpath:mybatis-config.xml\"/>\n        <property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/>\n    </bean>\n\t\n\t<!--声明式事务-->\n    <bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n        <constructor-arg ref=\"datasource\" />\n    </bean>\n\n    <!--结合aop实现事务织入-->\n    <!--配置事务的通知类-->\n    <tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\">\n        <!--给哪些方法配置事务-->\n        <!--新东西：配置事务的传播特性 propagation-->\n        <tx:attributes>\n            <tx:method name=\"add\" propagation=\"REQUIRED\"/>\n            <tx:method name=\"delete\" propagation=\"REQUIRED\"/>\n            <tx:method name=\"update\" propagation=\"REQUIRED\"/>\n            <tx:method name=\"query\" read-only=\"true\"/>\n            <!-- *号包含上面4个方法：\n            <tx:method name=\"*\" propagation=\"REQUIRED\"/> -->\n        </tx:attributes>\n    </tx:advice>\n\n    <!--配置事务切入-->\n    <aop:config>\n        <aop:pointcut id=\"txpointcut\" expression=\"execution(* mapper.*.*(..))\"/>\n        <aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"txpointcut\"/>\n    </aop:config>\n\n</beans>\n```\n\n<br />applicationContext.xml<br />\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txmlns:aop=\"http://www.springframework.org/schema/aop\"\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd\">\n\n\t<import resource=\"spring-dao.xml\" />\n\n\t<bean id=\"userMapper\" class=\"mapper.UserMapperImpl\">\n\t\t<property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\"></property>\n\t</bean>\n</beans>\n```\n\n<br />测试类<br />\n\n```java\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport mapper.UserMapper;import pojo.User;\npublic class MyTest7 {\n\tpublic static void main(String[] args) {\n\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t\t\n\t\tUserMapper userMapper = (UserMapper) context.getBean(\"userMapper\");\n\t\t\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}\n```\n\n<br />**思考：**<br />为什么需要事务？<br />\n\n- 如果不配置事务，可能存在数据提交不一致的情况下；\n- 如果不在spring中去配置声明式事务，我们就需要在代码中手动配置事务！\n- 事务在项目的开发中非常重要，涉及到数据的一致性和完整性问题！\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"traditional\"><p id=\"u33c16e34\" class=\"ne-p\"><br></p><p id=\"ufb3d753d\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/jpeg/21990331/1625470123698-d2c29622-abbf-4042-b3a6-46d13f848425.jpeg\" width=\"521\" id=\"u1a5ee6b2\" class=\"ne-image\"></p><h1 id=\"Spring5\"><span class=\"ne-text\">Spring5</span></h1><p id=\"u7a3f4cdc\" class=\"ne-p\"><br></p><h2 id=\"f127deba\"><span class=\"ne-text\">1.、Spring</span></h2><p id=\"u24695a25\" class=\"ne-p\"><br></p><h3 id=\"c5aa432b\"><span class=\"ne-text\">1.1、简介</span></h3><p id=\"ue9c56e8f\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ua461011b\"><span class=\"ne-text\"> Spring ——&gt; 春天，为开源软件带来了春天 </span></li></ul><ul class=\"ne-ul\"><li id=\"ua39aa87d\"><span class=\"ne-text\"> 2002，首次推出了Spring框架的雏形：interface21框架！ </span></li></ul><ul class=\"ne-ul\"><li id=\"uc13599e2\"><span class=\"ne-text\"> Spring框架以interface21框架为基础，经过重新设计，并不断丰富其内涵，于2004年3月24日发布了1.0正式版 </span></li></ul><ul class=\"ne-ul\"><li id=\"ucea16018\"><span class=\"ne-text\"> Spring的理念：使用现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ </span></li></ul><ul class=\"ne-ul\"><li id=\"ua2240493\"><span class=\"ne-text\"> SSH：Struct2 + Spring + Hibernate（全自动持久化框架）！ </span></li></ul><ul class=\"ne-ul\"><li id=\"u2b4c7c1c\"><span class=\"ne-text\"> SSM：SpringMVC + Spring + MyBatis（半自动持久化框架，可自定义性质更强）！ </span></li></ul><p id=\"ue7cdcc71\" class=\"ne-p\"><br></p><p id=\"u287abb85\" class=\"ne-p\"><span class=\"ne-text\">spring官网： </span><a href=\"https://spring.io/projects/spring-framework#overview\" data-href=\"https://spring.io/projects/spring-framework#overview\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://spring.io/projects/spring-framework#overview</span></a></p><p id=\"udbc9367c\" class=\"ne-p\"><br></p><p id=\"ue74f454a\" class=\"ne-p\"><span class=\"ne-text\">官方下载： </span><a href=\"https://repo.spring.io/release/org/springframework/spring/\" data-href=\"https://repo.spring.io/release/org/springframework/spring/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://repo.spring.io/release/org/springframework/spring/</span></a></p><p id=\"u3660e164\" class=\"ne-p\"><br></p><p id=\"u60310c6a\" class=\"ne-p\"><span class=\"ne-text\">GitHub： </span><a href=\"https://github.com/spring-projects/spring-framework\" data-href=\"https://github.com/spring-projects/spring-framework\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://github.com/spring-projects/spring-framework</span></a></p><p id=\"u9252018b\" class=\"ne-p\"><br></p><p id=\"u61be89d7\" class=\"ne-p\"><span class=\"ne-text\">Spring Web MVC： </span><a href=\"https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE\" data-href=\"https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">spring-webmvc最新版</span></a></p><p id=\"ua0199865\" class=\"ne-p\"><br></p><p id=\"ue0261212\" class=\"ne-p\"><span class=\"ne-text\">Spring Web MVC和Spring-JDBC的pom配置文件：</span></p><p id=\"u72c0ee99\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"6401a972\" class=\"ne-codeblock\">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;</pre><p id=\"u1dc608a6\" class=\"ne-p\"><br></p><h3 id=\"d0c5f72e\"><span class=\"ne-text\">1.2 优点</span></h3><p id=\"uabd3ce6b\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u981b3a37\"><span class=\"ne-text\">Spring是一个开源的免费的框架（容器）！</span></li></ul><ul class=\"ne-ul\"><li id=\"u98b3c276\"><span class=\"ne-text\">Spring是一个轻量级的、非入侵式的框架！</span></li></ul><ul class=\"ne-ul\"><li id=\"uf0020816\"><span class=\"ne-text\">控制反转（IoC），面向切面编程（AOP）</span></li></ul><ul class=\"ne-ul\"><li id=\"ucad3054b\"><span class=\"ne-text\">支持事务的处理，对框架整合的支持！（几乎市面上所有热门框架都能整合进去）！</span></li></ul><p id=\"u36050e5b\" class=\"ne-p\"><br></p><p id=\"u10576bc1\" class=\"ne-p\"><span class=\"ne-text\">=== 总结一句话：Spring就是一个轻量级的控制反转（IoC）和面向切面编程（AOP）的框架！ ===</span></p><p id=\"u9bf4e53f\" class=\"ne-p\"><br></p><h3 id=\"e97d5a26\"><span class=\"ne-text\">1.3 组成</span></h3><p id=\"u46e16bed\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471469101-9ac80fb7-a32a-41fa-8ed3-85dc36791cd4.png\" width=\"724.5\" id=\"u553607f9\" class=\"ne-image\"></p><p id=\"u4cf5fa60\" class=\"ne-p\"><br></p><p id=\"u4583f367\" class=\"ne-p\"><br></p><h3 id=\"6b590df3\"><span class=\"ne-text\">1.4、扩展</span></h3><p id=\"u74e4f1e9\" class=\"ne-p\"><br></p><p id=\"u9d88e110\" class=\"ne-p\"><span class=\"ne-text\">现代化的java开发 -&gt; 基于Spring的开发！</span></p><p id=\"ufd04242b\" class=\"ne-p\"><br></p><p id=\"u09cb4f7a\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471489413-df72e28a-2468-4e34-9a71-1fb0436b433f.png\" width=\"722.5\" id=\"u0f064c2e\" class=\"ne-image\"></p><p id=\"ucafefa7c\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u64c8715f\"><span class=\"ne-text\">Spring Boot </span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u8628b658\"><span class=\"ne-text\">一个快速开发的脚手架</span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u54aebf22\"><span class=\"ne-text\">基于SpringBoot可以快速开发单个微服务</span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u8c683569\"><span class=\"ne-text\">约定大于配置！</span></li></ul><p id=\"uec34c5f9\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ul class=\"ne-ul\"><li id=\"u971324ce\"><span class=\"ne-text\">Spring Cloud </span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u43127e2f\"><span class=\"ne-text\">SpringCloud是基于SpringBoot实现的！</span></li></ul><p id=\"uf2d1f0a2\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u02c9a514\" class=\"ne-p\"><span class=\"ne-text\">因为现在大多数公司都在使用SpringBoot进行快速开发，学习SpringBoot的前提，需要完全掌握Spring及SpringMVC！承上启下的作用！</span></p><p id=\"u5f26eb16\" class=\"ne-p\"><br></p><h2 id=\"0e8f9773\"><span class=\"ne-text\">2、IoC（控制反转）理论推导</span></h2><p id=\"u9831bb98\" class=\"ne-p\"><br></p><p id=\"u8cadbcf0\" class=\"ne-p\"><strong><span class=\"ne-text\">传统</span></strong><span class=\"ne-text\">的调用</span></p><p id=\"ue3d472b9\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ucf78816b\"><span class=\"ne-text\"> UserDao </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"java\" id=\"4994d2fd\" class=\"ne-codeblock\">package dao;\npublic interface UserDao {\n\tvoid getUser();\n}</pre><ol start=\"2\" class=\"ne-ol\"><li id=\"u2b0499c0\"><span class=\"ne-text\"> UserDaoImp </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"java\" id=\"f4fda1ac\" class=\"ne-codeblock\">package dao;\npublic class UserDaoImpl implements UserDao{\n\tpublic void getUser() {\n\t\tSystem.out.println(&quot;默认获取用户数据&quot;);\t\n\t}\n}</pre><ol start=\"3\" class=\"ne-ol\"><li id=\"ud5270d29\"><span class=\"ne-text\"> UserSevice </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"java\" id=\"fc565eda\" class=\"ne-codeblock\">package Service;\npublic interface UserService {\n\tvoid getUser();\n}</pre><ol start=\"4\" class=\"ne-ol\"><li id=\"ub8802b83\"><span class=\"ne-text\"> UserServiceImp </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"java\" id=\"ea2a62b8\" class=\"ne-codeblock\">package Service;\nimport dao.UserDao;\nimport dao.UserDaoImpl;\n\npublic class UserServiceImpl implements UserService{\n\t\tUserDao userDao = new UserDaoImpl();\t\t\n\t\tpublic void getUser(){\n\t\t\tuserDao.getUser();\n\t\t}\t\n}</pre><p id=\"u7b766b9b\" class=\"ne-p\"><br></p><p id=\"ubc7873d2\" class=\"ne-p\"><span class=\"ne-text\">测试</span></p><p id=\"ubfe9bad9\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"f7186df3\" class=\"ne-codeblock\">package holle0;\nimport Service.UserService;\nimport Service.UserServiceImpl;\n\npublic class MyTest0 {\n\tpublic static void main(String[] args) {\n\t\t// 用户实际调用的是业务层，dao层他们不需要接触\n\t\tUserService userService = new UserServiceImpl();\n\t\tuserService.getUser();\n\t}\n}</pre><p id=\"u1d56349f\" class=\"ne-p\"><br></p><p id=\"u04ca42fa\" class=\"ne-p\"><span class=\"ne-text\">在我们之前的业务中，用户的需求可能会影响我们原来的代码，我们需要根据用户的需求去修改原代码！如果程序代码量十分大，修改一次的成本代价十分昂贵！</span></p><p id=\"ua83cc58b\" class=\"ne-p\"><br></p><p id=\"u901a4bcb\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471525605-dfe1b994-8532-43a8-8fd3-c810b4a9ad52.png\" width=\"443.5\" id=\"u64f67cf9\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><strong><span class=\"ne-text\">改良：</span></strong><span class=\"ne-text\">我们使用一个Set接口实现。已经发生了革命性的变化！</span></p><p id=\"u91035894\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"16e3de66\" class=\"ne-codeblock\">//在Service层的实现类(UserServiceImpl)增加一个Set()方法\n//利用set动态实现值的注入！\n//DAO层并不写死固定调用哪一个UserDao的实现类\n//而是通过Service层调用方法设置实现类！\nprivate UserDao userDao;\npublic void setUserDao(UserDao userDao){\n    this.userDao = userDao;\n}</pre><p id=\"uffc45f64\" class=\"ne-p\"><br></p><p id=\"u5f5d7b15\" class=\"ne-p\"><span class=\"ne-text\">set() 方法实际上是动态改变了 UserDao userDao 的 初始化部分（</span><strong><span class=\"ne-text\">new UserDaoImpl()</span></strong><span class=\"ne-text\">）</span></p><p id=\"ufefa9a6d\" class=\"ne-p\"><br></p><p id=\"u92c63b67\" class=\"ne-p\"><span class=\"ne-text\">测试中加上</span></p><p id=\"u23e40e40\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"510ae50f\" class=\"ne-codeblock\">((UserServiceImpl)userService).setUserDao(new UserDaoImpl());</pre><p id=\"ua3f7e65a\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u6a0f65c4\"><span class=\"ne-text\">之前，程序是主动创建对象！</span><strong><span class=\"ne-text\">控制权在程序猿手上</span></strong><span class=\"ne-text\">！</span></li></ul><ul class=\"ne-ul\"><li id=\"u81268f8a\"><span class=\"ne-text\">使用了set注入后，程序不再具有主动性，而是变成了被动的接受对象！（</span><strong><span class=\"ne-text\">主动权在客户手上</span></strong><span class=\"ne-text\">）</span></li></ul><p id=\"ue95713c3\" class=\"ne-p\"><br></p><p id=\"u3ae2466c\" class=\"ne-p\"><span class=\"ne-text\">本质上解决了问题，程序员不用再去管理对象的创建</span></p><p id=\"u6a969884\" class=\"ne-p\"><br></p><p id=\"ube3d558a\" class=\"ne-p\"><span class=\"ne-text\">系统的耦合性大大降低，可以更专注在业务的实现上</span></p><p id=\"u85c0d912\" class=\"ne-p\"><br></p><p id=\"ufc7508fd\" class=\"ne-p\"><span class=\"ne-text\">这是IoC（控制反转）的原型，反转(理解)：主动权交给了用户</span></p><p id=\"u709808a9\" class=\"ne-p\"><br></p><p id=\"u30233927\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471548672-390be083-84e3-4789-b6a8-61b4d2bb6bae.png\" width=\"493\" id=\"u68f4844a\" class=\"ne-image\"></p><p id=\"ud97ff9ef\" class=\"ne-p\"><br></p><h3 id=\"e7031f03\"><span class=\"ne-text\">IoC本质</span></h3><p id=\"u20b7c12a\" class=\"ne-p\"><br></p><p id=\"u7c74e810\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471698388-279f845b-d9fd-4c1c-aa04-9178f7d2e879.png\" width=\"716.5\" id=\"ubbca603d\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471724309-5072877d-ff16-4f20-aaae-47fcd9335689.png\" width=\"713.5\" id=\"udae5b455\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471762487-5054c138-9bdc-4529-963b-70a06aa8918c.png\" width=\"723.5\" id=\"u82ca1a76\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471787767-b51f0885-276f-4a0a-8883-835ff617f080.png\" width=\"722\" id=\"u1868c399\" class=\"ne-image\"></p><p id=\"u1ec38d1d\" class=\"ne-p\"><br></p><h2 id=\"1b88cb11\"><span class=\"ne-text\">3、HolleSpring</span></h2><p id=\"uceea695d\" class=\"ne-p\"><br></p><p id=\"u64726363\" class=\"ne-p\"><span class=\"ne-text\">在父模块中导入jar包</span></p><p id=\"ud1ecd106\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"2195a1b8\" class=\"ne-codeblock\">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n\t&lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;</pre><p id=\"u091da4e1\" class=\"ne-p\"><br></p><p id=\"uf06c2b24\" class=\"ne-p\"><span class=\"ne-text\">pojo的Hello.java</span></p><p id=\"u174016b0\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"8202a0b5\" class=\"ne-codeblock\">package pojo;\n\npublic class Hello {\n\n\tprivate String str;\n\t\n\tpublic String getStr() {\n\t\treturn str;\n\t}\n\n\tpublic void setStr(String str) {\n\t\tthis.str = str;\n\t}\n\t\n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;Holle [str=&quot; + str + &quot;]&quot;;\n\t}\n}</pre><p id=\"u609209ce\" class=\"ne-p\"><br></p><p id=\"ua7306575\" class=\"ne-p\"><span class=\"ne-text\">在resource里面的xml配置</span></p><p id=\"u3e6851ad\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"f150d17a\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n\n    &lt;!--在Spring中创建对象，在Spring这些都称为bean\n    \t类型 变量名 = new 类型();\n    \tHolle holle = new Holle();\n    \t\n    \tbean = 对象(holle)\n    \tid = 变量名(holle)\n    \tclass = new的对象(new Holle();)\n    \tproperty 相当于给对象中的属性设值,让str=&quot;Spring&quot;\n    --&gt;\n    \n    &lt;bean id=&quot;hello&quot; class=&quot;pojo.Hello&quot;&gt;\n        &lt;property name=&quot;str&quot; value=&quot;Spring&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;</pre><p id=\"ue9fba786\" class=\"ne-p\"><br></p><p id=\"u22c5498b\" class=\"ne-p\"><span class=\"ne-text\">测试类MyTest</span></p><p id=\"u49a00b67\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"233e33b6\" class=\"ne-codeblock\">package holle1;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport pojo.Hello;\n\npublic class MyTest {\n\n\tpublic static void main(String[] args) {\n\t\t//获取Spring的上下文对象\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\n\t\t//我们的对象下能在都在spring·中管理了，我们要使用，直接取出来就可以了\n\t\tHello holle = (Hello) context.getBean(&quot;hello&quot;);\n\t\tSystem.out.println(holle.toString());\n\t}\n\n}</pre><p id=\"u6caaf5ff\" class=\"ne-p\"><br></p><p id=\"u76aef1a0\" class=\"ne-p\"><span class=\"ne-text\">核心用set注入，所以必须要有下面的se()方法</span></p><p id=\"u273d9a89\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"6861621d\" class=\"ne-codeblock\">//Hello类\npublic void setStr(String str) {\n\t\tthis.str = str;\n\t}</pre><p id=\"uc59fc3a3\" class=\"ne-p\"><br></p><p id=\"u81091736\" class=\"ne-p\"><strong><span class=\"ne-text\">思考：</span></strong></p><p id=\"u371091e0\" class=\"ne-p\"><br></p><p id=\"u36e35cbf\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471815422-ae6ce201-a69e-466e-bd47-7f699c396eea.png\" width=\"715.5\" id=\"ue193d403\" class=\"ne-image\"><span class=\"ne-text\"><br />IoC：对象由Spring 来创建，管理，装配！</span></p><p id=\"u2d837258\" class=\"ne-p\"><br></p><p id=\"u92ecd726\" class=\"ne-p\"><strong><span class=\"ne-text\">弹幕评论里面的理解：</span></strong></p><p id=\"u2125d0ab\" class=\"ne-p\"><br></p><p id=\"ud17cba16\" class=\"ne-p\"><span class=\"ne-text\">原来这套程序是：你写好菜单买好菜，客人来了自己把菜炒好招待，就相当于你请人吃饭<br /></span><span class=\"ne-text\">现在这套程序是：你告诉楼下餐厅，你要哪些菜，客人来的时候，餐厅把做好的你需要的菜送上来<br /></span><span class=\"ne-text\">IoC：炒菜这件事，不再由你自己来做，而是委托给了第三方__餐厅来做</span></p><p id=\"u3dc58cb7\" class=\"ne-p\"><br></p><p id=\"uc2b1a29b\" class=\"ne-p\"><span class=\"ne-text\">此时的区别就是，如果我还需要做其他的菜，我不需要自己搞菜谱买材料再做好，而是告诉餐厅，我要什么菜，什么时候要，你做好送来</span></p><p id=\"u55623b76\" class=\"ne-p\"><br></p><p id=\"ua5a85aff\" class=\"ne-p\"><span class=\"ne-text\">.</span></p><p id=\"u54ce8a98\" class=\"ne-p\"><br></p><p id=\"u1198bc7c\" class=\"ne-p\"><span class=\"ne-text\">在前面第一个module试试引入Spring</span></p><p id=\"u615cd840\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"fe0587d3\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean id=&quot;userDaomSql&quot; class=&quot;dao.UserDaoMysqlImpl&quot;&gt;&lt;/bean&gt;\n\n    &lt;bean id=&quot;userServiceImpl&quot; class=&quot;service.UserServiceImp&quot;&gt;\n        &lt;!--ref引用spring中已经创建很好的对象--&gt;\n        &lt;!--value是一个具体的值,基本数据类型--&gt;\n        &lt;property name=&quot;userDao&quot; ref=&quot;userDaomSql&quot;/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;</pre><p id=\"u8d0e8f3b\" class=\"ne-p\"><br></p><p id=\"u2895651e\" class=\"ne-p\"><span class=\"ne-text\">第一个module改良后测试</span></p><p id=\"u521645ed\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"236f8849\" class=\"ne-codeblock\">package holle0;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport service.UserServiceImpl;\n\npublic class MyTest0 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\n\t\tUserServiceImpl userServiceImpl = (UserServiceImpl) context.getBean(&quot;userServiceImpl&quot;);\n\t\tuserServiceImpl.getUser();\n\t}\n}</pre><p id=\"uf9438934\" class=\"ne-p\"><br></p><p id=\"u7ec07400\" class=\"ne-p\"><strong><span class=\"ne-text\">总结：</span></strong></p><p id=\"u319ca5e2\" class=\"ne-p\"><br></p><p id=\"ub02fb17e\" class=\"ne-p\"><span class=\"ne-text\">所有的类都要装配的beans.xml 里面；</span></p><p id=\"u7d2a6a3e\" class=\"ne-p\"><br></p><p id=\"ue3b394ba\" class=\"ne-p\"><span class=\"ne-text\">所有的bean 都要通过容器去取；</span></p><p id=\"uce7d3f05\" class=\"ne-p\"><br></p><p id=\"ud14cf2ee\" class=\"ne-p\"><span class=\"ne-text\">容器里面取得的bean，拿出来就是一个对象，用对象调用方法即可；</span></p><p id=\"u6caaf4eb\" class=\"ne-p\"><br></p><h2 id=\"4ddfc2b5\"><span class=\"ne-text\">4、IoC创建对象的方式</span></h2><p id=\"ue0d18de9\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"uc43ecc91\"><span class=\"ne-text\">使用无参构造创建对象，默认。</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u1f9bfb00\"><span class=\"ne-text\">使用有参构造（如下）</span></li></ol><p id=\"u8d38bcda\" class=\"ne-p\"><br></p><p id=\"uda6e3e4e\" class=\"ne-p\"><span class=\"ne-text\">下标赋值</span></p><p id=\"ue1388fe7\" class=\"ne-p\"><br></p><p id=\"uf7ef7b5b\" class=\"ne-p\"><span class=\"ne-text\">index指的是有参构造中参数的下标，下标从0开始;</span></p><p id=\"u4715ba07\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"8a39dcdc\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean id=&quot;user&quot; class=&quot;pojo.User&quot;&gt;\n        &lt;constructor-arg index=&quot;0&quot; value=&quot;chen&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;</pre><p id=\"uf4456887\" class=\"ne-p\"><br></p><p id=\"u05945534\" class=\"ne-p\"><span class=\"ne-text\">类型赋值（不建议使用）</span></p><p id=\"u6ea2aac2\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"06e5ceea\" class=\"ne-codeblock\">&lt;bean id=&quot;user&quot; class=&quot;pojo.User&quot;&gt;\n    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;kuang&quot;/&gt;\n&lt;/bean&gt;</pre><p id=\"u20139086\" class=\"ne-p\"><br></p><p id=\"u64d347e7\" class=\"ne-p\"><span class=\"ne-text\">直接通过参数名（掌握）</span></p><p id=\"u9f4c09ff\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"1e70e708\" class=\"ne-codeblock\">&lt;bean id=&quot;user&quot; class=&quot;pojo.User&quot;&gt;\n    &lt;constructor-arg name=&quot;name&quot; value=&quot;kuang&quot;&gt;&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n&lt;!-- 比如参数名是name，则有name=&quot;具体值&quot; --&gt;</pre><p id=\"udce4fc9d\" class=\"ne-p\"><br></p><p id=\"u06179dfe\" class=\"ne-p\"><span class=\"ne-text\">注册bean之后就对象的初始化了（</span><strong><span class=\"ne-text\">类似 new 类名()</span></strong><span class=\"ne-text\">）</span></p><p id=\"u02d446e8\" class=\"ne-p\"><br></p><p id=\"ub673c739\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：</span></p><p id=\"u724820bf\" class=\"ne-p\"><br></p><p id=\"ue9368b39\" class=\"ne-p\"><span class=\"ne-text\">name方式还需要无参构造和set方法,index和type只需要有参构造</span></p><p id=\"u097e0ea7\" class=\"ne-p\"><br></p><p id=\"u43ad2a49\" class=\"ne-p\"><span class=\"ne-text\">就算是new 两个对象，也是只有一个实例（</span><strong><span class=\"ne-text\">单例模式：全局唯一</span></strong><span class=\"ne-text\">）</span></p><p id=\"ubd1abf58\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"12fa1e9f\" class=\"ne-codeblock\">User user = (User) context.getBean(&quot;user&quot;);\nUser user2 = (User) context.getBean(&quot;user&quot;);\nsystem.out.println(user == user2)//结果为true</pre><p id=\"ua19a2372\" class=\"ne-p\"><br></p><p id=\"u92cea3cc\" class=\"ne-p\"><span class=\"ne-text\">总结：在配置文件加载的时候，容器(&lt; bean&gt;)中管理的对象就已经初始化了</span></p><p id=\"ua17286c5\" class=\"ne-p\"><br></p><h2 id=\"55d787f1\"><span class=\"ne-text\">5、Spring配置</span></h2><p id=\"u300413f5\" class=\"ne-p\"><br></p><h3 id=\"0395086d\"><span class=\"ne-text\">5.1、别名</span></h3><p id=\"u715bd22b\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"5fea7168\" class=\"ne-codeblock\">&lt;bean id=&quot;user&quot; class=&quot;pojo.User&quot;&gt;\n    &lt;constructor-arg name=&quot;name&quot; value=&quot;chen&quot;&gt;&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n\n&lt;alias name=&quot;user&quot; alias=&quot;userLove&quot;/&gt;\n&lt;!-- 使用时\n\tUser user2 = (User) context.getBean(&quot;userLove&quot;);\t\n--&gt;</pre><p id=\"u818aea7d\" class=\"ne-p\"><br></p><h3 id=\"bd36fb1e\"><span class=\"ne-text\">5.2、Bean的配置</span></h3><p id=\"ue1df8104\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"3f398a6b\" class=\"ne-codeblock\">&lt;!--id：bean的唯一标识符，也就是相当于我们学的对象名\nclass：bean对象所对应的会限定名：包名+类型\nname：也是别名，而且name可以同时取多个别名 --&gt;\n&lt;bean id=&quot;user&quot; class=&quot;pojo.User&quot; name=&quot;u1 u2,u3;u4&quot;&gt;\n    &lt;property name=&quot;name&quot; value=&quot;chen&quot;/&gt;\n&lt;/bean&gt;\n&lt;!-- 使用时\n\tUser user2 = (User) context.getBean(&quot;u1&quot;);\t\n--&gt;</pre><p id=\"u6c898a58\" class=\"ne-p\"><br></p><h3 id=\"8cc591db\"><span class=\"ne-text\">5.3、import</span></h3><p id=\"u74ae15a4\" class=\"ne-p\"><br></p><p id=\"u2b353f95\" class=\"ne-p\"><span class=\"ne-text\">import一般用于团队开发使用，它可以将多个配置文件，导入合并为一个</span></p><p id=\"u4beeb80c\" class=\"ne-p\"><br></p><p id=\"u4def494a\" class=\"ne-p\"><span class=\"ne-text\">假设，现在项目中有多个人开发，这三个人复制不同的类开发，不同的类需要注册在不同的bean中，我们可以利<br /></span><span class=\"ne-text\">用import将所有人的beans.xml合并为一个总的！</span></p><p id=\"uccc9b457\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u440ef9ed\"><span class=\"ne-text\"> 张三(beans.xm1) </span></li></ul><ul class=\"ne-ul\"><li id=\"u5392b0d3\"><span class=\"ne-text\"> 李四(beans2.xm1) </span></li></ul><ul class=\"ne-ul\"><li id=\"u17c7ec75\"><span class=\"ne-text\"> 王五(beans3.xm1) </span></li></ul><ul class=\"ne-ul\"><li id=\"uccd7d242\"><span class=\"ne-text\"> applicationContext.xml </span><span class=\"ne-text\"> </span></li></ul><pre data-language=\"xml\" id=\"7c8f6c35\" class=\"ne-codeblock\">&lt;import resource=&quot;beans.xm1&quot;/&gt;\n&lt;import resource=&quot;beans2.xml&quot;/&gt;\n&lt;import resource=&quot;beans3.xm1&quot;/&gt;</pre><p id=\"uf22bdd0e\" class=\"ne-p\"><br></p><p id=\"u99958971\" class=\"ne-p\"><strong><span class=\"ne-text\">使用的时候，直接使用总的配置就可以了</span></strong></p><p id=\"u843d1d7f\" class=\"ne-p\"><br></p><p id=\"ufd937c59\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：</span></p><p id=\"ud6ee83e9\" class=\"ne-p\"><br></p><p id=\"u77a1a5f2\" class=\"ne-p\"><span class=\"ne-text\">按照在总的xml中的导入顺序来进行创建，后导入的会重写先导入的，最终实例化的对象会是后导入xml中的那个</span></p><p id=\"u83eb07cb\" class=\"ne-p\"><br></p><h2 id=\"e5c5c9f1\"><span class=\"ne-text\">6、依赖注入（DI）</span></h2><p id=\"u2bea6e8f\" class=\"ne-p\"><br></p><h3 id=\"809c1a44\"><span class=\"ne-text\">6.1、构造器注入</span></h3><p id=\"u8b2b8fe6\" class=\"ne-p\"><br></p><p id=\"u24770b7c\" class=\"ne-p\"><span class=\"ne-text\">第4点有提到</span></p><p id=\"u01ba2c1b\" class=\"ne-p\"><br></p><h3 id=\"9a618fd8\"><span class=\"ne-text\">6.2、set方式注入【重点】</span></h3><p id=\"ueb12759c\" class=\"ne-p\"><br></p><p id=\"u6da7fc1a\" class=\"ne-p\"><span class=\"ne-text\">依赖注入：set注入！</span></p><p id=\"uf27ab953\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u6f7b9c1e\"><span class=\"ne-text\">依赖：bean对象的创建依赖于容器</span></li></ul><ul class=\"ne-ul\"><li id=\"u9ecb64c8\"><span class=\"ne-text\">注入：bean对象中的所有属性，由容器来注入</span></li></ul><p id=\"u54df77ec\" class=\"ne-p\"><br></p><p id=\"u55bb78b3\" class=\"ne-p\"><span class=\"ne-text\">【环境搭建】</span></p><p id=\"u6fcbfae6\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u7a245fe1\"><span class=\"ne-text\"> 复杂类型<br /></span><span class=\"ne-text\">Address类 </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ua2016dbb\"><span class=\"ne-text\"> 真实测试对象<br /></span><span class=\"ne-text\">Student类 </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"ua735f486\"><span class=\"ne-text\"> beans.xml </span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u8ab901a0\"><span class=\"ne-text\"> 测试<br /></span><span class=\"ne-text\">MyTest3 </span></li></ol><p id=\"ua4e0eeb7\" class=\"ne-p\"><br></p><p id=\"u8cbebe27\" class=\"ne-p\"><span class=\"ne-text\">Student类</span></p><p id=\"ue081b883\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"9315fcfd\" class=\"ne-codeblock\">package pojo;\n\nimport java.util.*;\n@Get\n@Set\npublic class Student {\n//别忘了写get和set方法（用lombok注解也行）\n    private String name;\n    private Address address;\n\n    private String[] books;\n    private List&lt;String&gt; hobbies;\n\n    private Map&lt;String, String&gt; card;\n    private Set&lt;String&gt; game;\n\n    private Properties infor;\n    private String wife;\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +&quot;\\n&quot;+\n                &quot;name='&quot; + name + '\\'' +&quot;\\n&quot;+\n                &quot;, address=&quot; + address.toString() +&quot;\\n&quot;+\n                &quot;, books=&quot; + Arrays.toString(books) +&quot;\\n&quot;+\n                &quot;, hobbies=&quot; + hobbies +&quot;\\n&quot;+\n                &quot;, card=&quot; + card +&quot;\\n&quot;+\n                &quot;, game=&quot; + game +&quot;\\n&quot;+\n                &quot;, infor=&quot; + infor +&quot;\\n&quot;+\n                &quot;, wife='&quot; + wife + '\\'' +&quot;\\n&quot;+\n                '}';\n    }\n}</pre><p id=\"uafd756ca\" class=\"ne-p\"><br></p><p id=\"uc757b93d\" class=\"ne-p\"><span class=\"ne-text\">Address类</span></p><p id=\"uecc76417\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"b0de775c\" class=\"ne-codeblock\">package pojo;\n\npublic class Address {\n\n    private String address;\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Address{&quot; +\n                &quot;address='&quot; + address + '\\'' +\n                '}';\n    }\n}</pre><p id=\"u78b877db\" class=\"ne-p\"><br></p><p id=\"ub82dfd40\" class=\"ne-p\"><span class=\"ne-text\">beans.xml</span></p><p id=\"u39dee3cc\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"fa8c1ab8\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n\t&lt;bean id=&quot;address&quot; class=&quot;pojo.Address&quot;&gt;\n\t\t&lt;property name=&quot;address&quot; value=&quot;address你好&quot; /&gt;\n\t&lt;/bean&gt;\n\n\t&lt;bean id=&quot;student&quot; class=&quot;pojo.Student&quot;&gt;\n\t\t&lt;!--第一种，普通值注入 --&gt;\n\t\t&lt;property name=&quot;name&quot; value=&quot;name你好&quot; /&gt;\n\t\t&lt;!--第二种，ref注入 --&gt;\n\t\t&lt;property name=&quot;address&quot; ref=&quot;address&quot; /&gt;\n\n\t\t&lt;!--数组注入 --&gt;\n\t\t&lt;property name=&quot;books&quot;&gt;\n\t\t\t&lt;array&gt;\n\t\t\t\t&lt;value&gt;三国&lt;/value&gt;\n\t\t\t\t&lt;value&gt;西游&lt;/value&gt;\n\t\t\t\t&lt;value&gt;水浒&lt;/value&gt;\n\t\t\t&lt;/array&gt;\n\t\t&lt;/property&gt;\n\n\t\t&lt;!--list列表注入 --&gt;\n\t\t&lt;property name=&quot;hobbies&quot;&gt;\n\t\t\t&lt;list&gt;\n\t\t\t\t&lt;value&gt;唱&lt;/value&gt;\n\t\t\t\t&lt;value&gt;跳&lt;/value&gt;\n\t\t\t\t&lt;value&gt;rap&lt;/value&gt;\n\t\t\t\t&lt;value&gt;篮球&lt;/value&gt;\n\t\t\t&lt;/list&gt;\n\t\t&lt;/property&gt;\n\n\t\t&lt;!--map键值对注入 --&gt;\n\t\t&lt;property name=&quot;card&quot;&gt;\n\t\t\t&lt;map&gt;\n\t\t\t\t&lt;entry key=&quot;username&quot; value=&quot;root&quot; /&gt;\n\t\t\t\t&lt;entry key=&quot;password&quot; value=&quot;root&quot; /&gt;\n\t\t\t&lt;/map&gt;\n\t\t&lt;/property&gt;\n\n\t\t&lt;!--set(可去重)注入 --&gt;\n\t\t&lt;property name=&quot;game&quot;&gt;\n\t\t\t&lt;set&gt;\n\t\t\t\t&lt;value&gt;wangzhe&lt;/value&gt;\n\t\t\t\t&lt;value&gt;lol&lt;/value&gt;\n\t\t\t\t&lt;value&gt;galname&lt;/value&gt;\n\t\t\t&lt;/set&gt;\n\t\t&lt;/property&gt;\n\n\t\t&lt;!--空指针null注入 --&gt;\n\t\t&lt;property name=&quot;wife&quot;&gt;\n\t\t\t&lt;null&gt;&lt;/null&gt;\n\t\t&lt;/property&gt;\n\n\t\t&lt;!--properties常量注入 --&gt;\n\t\t&lt;property name=&quot;infor&quot;&gt;\n\t\t\t&lt;props&gt;\n\t\t\t\t&lt;prop key=&quot;id&quot;&gt;20200802&lt;/prop&gt;\n\t\t\t\t&lt;prop key=&quot;name&quot;&gt;cbh&lt;/prop&gt;\n\t\t\t&lt;/props&gt;\n\t\t&lt;/property&gt;\n\t&lt;/bean&gt;\n&lt;/beans&gt;</pre><p id=\"u46ce3414\" class=\"ne-p\"><br></p><p id=\"u77e948f4\" class=\"ne-p\"><span class=\"ne-text\">MyTest3</span></p><p id=\"u1fb06377\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"9db21316\" class=\"ne-codeblock\">import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport pojo.Student;\n\npublic class MyTest3 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\n\t\tStudent stu = (Student) context.getBean(&quot;student&quot;);\n\t\tSystem.out.println(stu.toString());\n\t}\t\n}</pre><p id=\"ua682be66\" class=\"ne-p\"><br></p><h3 id=\"3c94674f\"><span class=\"ne-text\">6.3、拓展注入</span></h3><p id=\"u93a563b7\" class=\"ne-p\"><br></p><p id=\"ub50d5d37\" class=\"ne-p\"><span class=\"ne-text\">官方文档位置</span></p><p id=\"ubd07feee\" class=\"ne-p\"><br></p><p id=\"uaa502723\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471878381-057df3da-65e9-41cf-8804-c9d387f0fcf3.png\" width=\"713.5\" id=\"u58d619ea\" class=\"ne-image\"></p><p id=\"u47db98f2\" class=\"ne-p\"><br></p><p id=\"ue344f449\" class=\"ne-p\"><span class=\"ne-text\">pojo增加User类</span></p><p id=\"u5730d9df\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"6e372cdd\" class=\"ne-codeblock\">package pojo;\n\npublic class User {\n    private String name;\n    private int id;\n\tpublic User() {\n        \n\t}\n\tpublic User(String name, int id) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.id = id;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n\tpublic int getId() {\n\t\treturn id;\n\t}\n\tpublic void setId(int id) {\n\t\tthis.id = id;\n\t}\n\t@Override\n\tpublic String toString() {\n\t\treturn &quot;User [name=&quot; + name + &quot;, id=&quot; + id + &quot;]&quot;;\n\t}\n}</pre><p id=\"ua74e3d3f\" class=\"ne-p\"><br></p><p id=\"ufc28a002\" class=\"ne-p\"><span class=\"ne-text\">注意： beans 里面加上这下面两行</span></p><p id=\"ue68b5664\" class=\"ne-p\"><br></p><p id=\"u7a5e68e8\" class=\"ne-p\"><span class=\"ne-text\">使用p和c命名空间需要导入xml约束</span></p><p id=\"u30710d1b\" class=\"ne-p\"><br></p><p id=\"u6e044ffa\" class=\"ne-p\"><span class=\"ne-text\">xmlns:p=“http://www.springframework.org/schema/p”<br /></span><span class=\"ne-text\">xmlns:c=“http://www.springframework.org/schema/c”</span></p><p id=\"ue5d1209f\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"4296cc52\" class=\"ne-codeblock\">?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:c=&quot;http://www.springframework.org/schema/c&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;!--p命名空间注入/set注入，可以直接注入属性的值-》property--&gt;\n    &lt;bean id=&quot;user&quot; class=&quot;pojo.User&quot; p:name=&quot;cxk&quot; p:id=&quot;20&quot; &gt;\n    &lt;/bean&gt;\n\n    &lt;!--c命名空间，通过构造器注入，需要写入有参和无参构造方法-》construct-args--&gt;\n    &lt;bean id=&quot;user2&quot; class=&quot;pojo.User&quot; c:name=&quot;cbh&quot; c:id=&quot;22&quot;&gt;&lt;/bean&gt;\n&lt;/beans&gt;</pre><p id=\"u10591681\" class=\"ne-p\"><br></p><p id=\"u954c0a1a\" class=\"ne-p\"><span class=\"ne-text\">测试</span></p><p id=\"u750d7056\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"73a0d61e\" class=\"ne-codeblock\">ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\nUser user = context.getBean(&quot;user&quot;,User.class);//确定class对象，就不用再强转了\nSystem.out.println(user.toString());</pre><p id=\"u479fc57b\" class=\"ne-p\"><br></p><h3 id=\"16334c78\"><span class=\"ne-text\">6.4、Bean作用域</span></h3><p id=\"uc4928608\" class=\"ne-p\"><br></p><p id=\"u394fad2b\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471904621-7ed632de-12df-40e9-a3b9-ae6b4a446088.png\" width=\"712\" id=\"u6d12e90f\" class=\"ne-image\"></p><p id=\"u2d12ff40\" class=\"ne-p\"><br></p><p id=\"u97471f29\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471928095-937427a8-29ae-435a-b602-df741f768463.png\" width=\"713.5\" id=\"u79de32bf\" class=\"ne-image\"></p><p id=\"uaed8d8b2\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u48051658\"><span class=\"ne-text\"> 单例模式（默认） </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"xml\" id=\"f91b4cc0\" class=\"ne-codeblock\">&lt;bean id=&quot;user2&quot; class=&quot;pojo.User&quot; c:name=&quot;cxk&quot; c:age=&quot;19&quot; scope=&quot;singleton&quot;&gt;&lt;/bean&gt;\n1</pre><p id=\"u2cd2b019\" class=\"ne-p\"><br></p><p id=\"u73835292\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625471985296-9123fd81-1e81-4c8e-beba-1596e15f352a.png\" width=\"719\" id=\"u44aa8f75\" class=\"ne-image\"><span class=\"ne-text\"><br />弹幕评论：单例模式是把对象放在pool中，需要再取出来，使用的都是同一个对象实例</span></p><p id=\"udb674de6\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u62ec68c2\"><span class=\"ne-text\"> 原型模式: 每次从容器中get的时候，都产生一个新对象！ </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"xml\" id=\"fa8b79aa\" class=\"ne-codeblock\">&lt;bean id=&quot;user2&quot; class=&quot;pojo.User&quot; c:name=&quot;cxk&quot; c:age=&quot;19&quot; scope=&quot;prototype&quot;&gt;&lt;/bean&gt;\n1</pre><p id=\"u91bdbb59\" class=\"ne-p\"><br></p><p id=\"u1a1200c2\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472006517-1d85d479-1c63-4354-8b85-3b700f0423e2.png\" width=\"710.5\" id=\"uafc03b06\" class=\"ne-image\"></p><p id=\"u2f53d200\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u316e2d3b\"><span class=\"ne-text\">其余的request、session、application这些只能在web开放中使用！</span></li></ol><p id=\"ue2d94565\" class=\"ne-p\"><br></p><h2 id=\"2401aaad\"><span class=\"ne-text\">7、Bean的自动装配</span></h2><p id=\"u8cfd193a\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u7ba18ad2\"><span class=\"ne-text\">自动装配是Spring满足bean依赖的一种方式</span></li></ul><ul class=\"ne-ul\"><li id=\"u7de52fb0\"><span class=\"ne-text\">Spring会在上下文自动寻找，并自动给bean装配属性</span></li></ul><p id=\"uc333fa1a\" class=\"ne-p\"><br></p><p id=\"ud39b23fd\" class=\"ne-p\"><span class=\"ne-text\">在Spring中有三种装配的方式</span></p><p id=\"ubc19bba9\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u670de48b\"><span class=\"ne-text\"> 在xml中显示配置 </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u2a5f09f7\"><span class=\"ne-text\"> 在java中显示配置 </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u1af56d11\"><span class=\"ne-text\"> 隐式的自动装配bean 【重要】 </span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u79ae0658\"><span class=\"ne-text\"> 环境搭建：一个人有两个宠物 </span></li></ol><ol start=\"5\" class=\"ne-ol\"><li id=\"u8acc51e0\"><span class=\"ne-text\"> byType自动装配：byType会自动查找，和自己对象set方法参数的类型相同的bean<br /></span><span class=\"ne-text\">保证所有的class唯一(类为全局唯一) </span></li></ol><ol start=\"6\" class=\"ne-ol\"><li id=\"u85ae21f7\"><span class=\"ne-text\"> byName自动装配：byName会自动查找，和自己对象set对应的值对应的id<br /></span><span class=\"ne-text\">保证所有id唯一，并且和set注入的值一致 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"xml\" id=\"f308b92d\" class=\"ne-codeblock\">&lt;!-- 找不到id和多个相同class --&gt;\n&lt;bean id=&quot;cat1&quot; class=&quot;pojo.Cat&quot;/&gt;\n&lt;bean id=&quot;cat2&quot; class=&quot;pojo.Cat&quot;/&gt;\n&lt;!-- 找不到 id=cat，且有两个Cat --&gt;</pre><p id=\"u13452480\" class=\"ne-p\"><br></p><h3 id=\"013694b5\"><span class=\"ne-text\">7.1测试：自动装配</span></h3><p id=\"u6f3dbd17\" class=\"ne-p\"><br></p><p id=\"u9bb4ffdd\" class=\"ne-p\"><span class=\"ne-text\">pojo的Cat类</span></p><p id=\"u46ca8beb\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"a1c71048\" class=\"ne-codeblock\">public class Cat {\n    public void shut(){\n        System.out.println(&quot;miao&quot;);\n    }\n}</pre><p id=\"ue91e284d\" class=\"ne-p\"><br></p><p id=\"u36549670\" class=\"ne-p\"><span class=\"ne-text\">pojo的Dog类</span></p><p id=\"u4f322037\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"f3ae705e\" class=\"ne-codeblock\">public class Dog {\n\n    public void shut(){\n        System.out.println(&quot;wow&quot;);\n    }\n\n}</pre><p id=\"u0d644df7\" class=\"ne-p\"><br></p><p id=\"u2e3bf3b2\" class=\"ne-p\"><span class=\"ne-text\">pojo的People类</span></p><p id=\"ub4aa433f\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"65dd22ae\" class=\"ne-codeblock\">package pojo;\npublic class People {\n    \n    private Cat cat;\n    private Dog dog;\n    private String name;\n\n    public Cat getCat() {\n        return cat;\n    }\n\n    public void setCat(Cat cat) {\n        this.cat = cat;\n    }\n\n    public Dog getDog() {\n        return dog;\n    }\n\n    public void setDog(Dog dog) {\n        this.dog = dog;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return &quot;People{&quot; +\n                &quot;cat=&quot; + cat +\n                &quot;, dog=&quot; + dog +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n}</pre><p id=\"u4e8fffdb\" class=\"ne-p\"><br></p><p id=\"u149faa2c\" class=\"ne-p\"><span class=\"ne-text\">xml配置 -&gt; byType 自动装配</span></p><p id=\"ua776c0cb\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"48fde1a2\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean id=&quot;cat&quot; class=&quot;pojo.Cat&quot;/&gt;\n    &lt;bean id=&quot;dog&quot; class=&quot;pojo.Dog&quot;/&gt;\n    \n    &lt;!--byType会在容器自动查找，和自己对象属性相同的bean\n\t\t例如，Dog dog; 那么就会查找pojo的Dog类，再进行自动装配\n\t--&gt;\n    &lt;bean id=&quot;people&quot; class=&quot;pojo.People&quot; autowire=&quot;byType&quot;&gt;\n        &lt;property name=&quot;name&quot; value=&quot;cbh&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;</pre><p id=\"ufbb7ecf5\" class=\"ne-p\"><br></p><p id=\"uafe3be5c\" class=\"ne-p\"><span class=\"ne-text\">xml配置 -&gt; byName 自动装配</span></p><p id=\"u79d5ca9a\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"75a49405\" class=\"ne-codeblock\">&lt;bean id=&quot;cat&quot; class=&quot;pojo.Cat&quot;/&gt;\n&lt;bean id=&quot;dog&quot; class=&quot;pojo.Dog&quot;/&gt;\n&lt;!--byname会在容器自动查找，和自己对象set方法的set后面的值对应的id\n  例如:setDog()，取set后面的字符作为id，则要id = dog 才可以进行自动装配\n  \n --&gt;\n&lt;bean id=&quot;people&quot; class=&quot;pojo.People&quot; autowire=&quot;byName&quot;&gt;\n\t&lt;property name=&quot;name&quot; value=&quot;cbh&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;</pre><p id=\"udd9ac5ba\" class=\"ne-p\"><br></p><p id=\"u8683b04f\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：byName只能取到小写，大写取不到</span></p><p id=\"u5ac1ee85\" class=\"ne-p\"><br></p><h3 id=\"cddbd9d6\"><span class=\"ne-text\">7.2、使用注解实现自动装配</span></h3><p id=\"ud37c9097\" class=\"ne-p\"><br></p><p id=\"ufd2ba58d\" class=\"ne-p\"><span class=\"ne-text\">jdk1.5支持的注解，spring2.5支持的注解</span></p><p id=\"ub1ffe726\" class=\"ne-p\"><br></p><p id=\"ue32a56b6\" class=\"ne-p\"><span class=\"ne-text\">The introduction of annotation-based configuration raised the question of whether this approach is “better” than XML.（翻译：基于注释的配置的引入提出了一个问题，即这种方法是否比XML“更好”）</span></p><p id=\"u25cbc24d\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ue977ecaf\"><span class=\"ne-text\">导入context约束</span></li></ol><p id=\"u5769a63e\" class=\"ne-p\"><br></p><p id=\"ube326aec\" class=\"ne-p\"><strong><span class=\"ne-text\">xmlns:context=&quot;</span></strong><a href=\"http://www.springframework.org/schema/context\" data-href=\"http://www.springframework.org/schema/context\" target=\"_blank\" class=\"ne-link\"><strong><span class=\"ne-text\">http://www.springframework.org/schema/context</span></strong></a><strong><span class=\"ne-text\">&quot;</span></strong></p><p id=\"u569653ea\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ue2105ddd\"><span class=\"ne-text\">配置注解的支持：&lt; context:annotation-config/&gt;</span></li></ol><p id=\"u4d646e87\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"1c8a1d7b\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:annotation-config/&gt;\n&lt;/beans&gt;</pre><p id=\"u1a1dc2da\" class=\"ne-p\"><br></p><h4 id=\"f296a4dc\"><span class=\"ne-text\">7.2.1、</span><a href=\"/Autowired \" data-href=\"/Autowired \" class=\"ne-link\"><span class=\"ne-text\">@Autowired </span></a><span class=\"ne-text\"> </span></h4><p id=\"ubd6f6fd8\" class=\"ne-p\"><br></p><p id=\"ue5290dcf\" class=\"ne-p\"><strong><span class=\"ne-text\">默认是byType方式，如果匹配不上，就会byName</span></strong></p><p id=\"u61378b7f\" class=\"ne-p\"><br></p><p id=\"u0517671c\" class=\"ne-p\"><span class=\"ne-text\">在属性上个使用，也可以在set上使用</span></p><p id=\"u4c0637d3\" class=\"ne-p\"><br></p><p id=\"u62632a95\" class=\"ne-p\"><span class=\"ne-text\">我们可以不用编写set方法了，前提是自动装配的属性在Spring容器里，且要符合ByName 自动装配</span></p><p id=\"uaaf1de9a\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"ec980cea\" class=\"ne-codeblock\">public class People {\n    @Autowired\n    private Cat cat;\n    @Autowired\n    private Dog dog;\n    private String name;\n}</pre><p id=\"u281b74ab\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u528d5393\" class=\"ne-p\"><a href=\"/Nullable \" data-href=\"/Nullable \" class=\"ne-link\"><span class=\"ne-text\">@Nullable </span></a><span class=\"ne-text\"> 字段标记了这个注解，说明该字段可以为空 </span></p><p id=\"u6ba09ce5\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"uda7dab2c\" class=\"ne-p\"><span class=\"ne-text\">public name(</span><a href=\"/Nullable \" data-href=\"/Nullable \" class=\"ne-link\"><span class=\"ne-text\">@Nullable </span></a><span class=\"ne-text\"> String name){ </span></p><p id=\"u1228a782\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"uac40858e\" class=\"ne-p\"><span class=\"ne-text\">}</span></p></div><p id=\"uc6a47637\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"9ecb047e\" class=\"ne-codeblock\">//源码\npublic @interface Autowired { \n\tboolean required() default true; \n}</pre><p id=\"u00eee96e\" class=\"ne-p\"><br></p><p id=\"ub380c2b6\" class=\"ne-p\"><span class=\"ne-text\">如果定义了Autowire的require属性为false，说明这个对象可以为null，否则不允许为空（false表示找不到装配，不抛出异常）</span></p><p id=\"u57dd1643\" class=\"ne-p\"><br></p><h4 id=\"99af1956\"><span class=\"ne-text\">7.2.2、@Autowired+</span><a href=\"/Qualifier \" data-href=\"/Qualifier \" class=\"ne-link\"><span class=\"ne-text\">@Qualifier </span></a><span class=\"ne-text\"> </span></h4><p id=\"ub889f625\" class=\"ne-p\"><br></p><p id=\"uddc02b53\" class=\"ne-p\"><strong><span class=\"ne-text\">@Autowired不能唯一装配时，需要@Autowired+</span></strong><a href=\"/Qualifier \" data-href=\"/Qualifier \" class=\"ne-link\"><strong><span class=\"ne-text\">@Qualifier </span></strong></a><strong><span class=\"ne-text\"> </span></strong></p><p id=\"u1ae2aac1\" class=\"ne-p\"><br></p><p id=\"uc60850a1\" class=\"ne-p\"><span class=\"ne-text\">如果</span><a href=\"/Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value \" data-href=\"/Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value \" class=\"ne-link\"><span class=\"ne-text\">@Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value </span></a><span class=\"ne-text\"> = “dog”)去配合使用，指定一个唯一的id对象 </span></p><p id=\"u35aa1ca2\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"a82f4a07\" class=\"ne-codeblock\">public class People {\n    @Autowired\n    private Cat cat;\n    @Autowired\n    @Qualifier(value = &quot;dog&quot;)\n    private Dog dog;\n    private String name;\n}</pre><p id=\"u072e77a3\" class=\"ne-p\"><br></p><p id=\"u97d48e58\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：</span></p><p id=\"u79643045\" class=\"ne-p\"><br></p><p id=\"u01bb1ad9\" class=\"ne-p\"><span class=\"ne-text\">如果xml文件中同一个对象被多个bean使用，Autowired无法按类型找到，可以用@Qualifier指定id查找</span></p><p id=\"uc589f50c\" class=\"ne-p\"><br></p><h4 id=\"258454b4\"><span class=\"ne-text\">7.2.3、</span><a href=\"/Resource \" data-href=\"/Resource \" class=\"ne-link\"><span class=\"ne-text\">@Resource </span></a><span class=\"ne-text\"> </span></h4><p id=\"u02df0f43\" class=\"ne-p\"><br></p><p id=\"u271b7b21\" class=\"ne-p\"><strong><span class=\"ne-text\">默认是byName方式，如果匹配不上，就会byType</span></strong></p><p id=\"udcd5c1ec\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"89d44e82\" class=\"ne-codeblock\">public class People {\n    Resource(name=&quot;cat&quot;)\n    private Cat cat;\n    Resource(name=&quot;dog&quot;)\n    private Dog dog;\n    private String name;\n}</pre><p id=\"uaa1a1b61\" class=\"ne-p\"><br></p><p id=\"u647edda1\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：</span></p><p id=\"u77881aab\" class=\"ne-p\"><br></p><p id=\"ubb2ea703\" class=\"ne-p\"><span class=\"ne-text\">Autowired是byType，@Autowired+</span><a href=\"/Qualifier \" data-href=\"/Qualifier \" class=\"ne-link\"><span class=\"ne-text\">@Qualifier </span></a><span class=\"ne-text\"> = byType || byName </span></p><p id=\"ub29f5a3d\" class=\"ne-p\"><br></p><p id=\"ue83a457d\" class=\"ne-p\"><span class=\"ne-text\">Autowired是先byteType,如果唯一則注入，否则byName查找。resource是先byname,不符合再继续byType</span></p><p id=\"u472bcbd0\" class=\"ne-p\"><br></p><h4 id=\"9cdb3b71\"><span class=\"ne-text\">区别：</span></h4><p id=\"u42e25834\" class=\"ne-p\"><br></p><p id=\"u273a4f9a\" class=\"ne-p\"><span class=\"ne-text\">@Resource和@Autowired的区别：</span></p><p id=\"u7b634839\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u93220938\"><span class=\"ne-text\">都是用来自动装配的，都可以放在属性字段上</span></li></ul><ul class=\"ne-ul\"><li id=\"u83258af4\"><span class=\"ne-text\">@Autowired通过byType的方式实现，而且必须要求这个对象存在！【常用】</span></li></ul><ul class=\"ne-ul\"><li id=\"u4b701c47\"><span class=\"ne-text\">@Resource默认通过byname的方式实现，如果找不到名字，则通过byType实现！如果两个都找不到的情况下，就报错！【常用】</span></li></ul><ul class=\"ne-ul\"><li id=\"ud1333a9b\"><span class=\"ne-text\">执行顺序不同：@Autowired通过byType的方式实现。@Resource默认通过byname的方式实现</span></li></ul><p id=\"u87905291\" class=\"ne-p\"><br></p><h2 id=\"854e10cf\"><span class=\"ne-text\">8、使用注解开发</span></h2><p id=\"ub14549a1\" class=\"ne-p\"><br></p><p id=\"u62b24f85\" class=\"ne-p\"><span class=\"ne-text\">在spring4之后，使用注解开发，必须要保证aop包的导入<br /></span><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472040975-16f26b51-4e5d-402d-9197-1f4070053ed9.png\" width=\"423\" id=\"ua663f32d\" class=\"ne-image\"><span class=\"ne-text\"><br />使用注解需要导入contex的约束</span></p><p id=\"u17e1f641\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"4d5ed5ef\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:annotation-config/&gt;\n\n&lt;/beans&gt;</pre><p id=\"u9f118f03\" class=\"ne-p\"><br></p><h3 id=\"dfb77a85\"><span class=\"ne-text\">8.1、bean</span></h3><p id=\"ueaeb7e27\" class=\"ne-p\"><br></p><p id=\"u0ac75b24\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：<br /></span><span class=\"ne-text\">有了&lt; context:component-scan&gt;，另一个&lt; context:annotation-config/&gt;标签可以移除掉，因为已经被包含进去了。</span></p><p id=\"ubc368a17\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"e771370b\" class=\"ne-codeblock\">&lt;!--指定要扫描的包，这个包下面的注解才会生效\n\t别只扫一个com.kuang.pojo包--&gt; \n&lt;context:component-scan base-package=&quot;com.kuang&quot;/&gt; \n&lt;context:annotation-config/&gt;</pre><p id=\"ub3e1ed27\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"ab97c6d9\" class=\"ne-codeblock\">//@Component 组件\n//等价于&lt;bean id=&quot;user&quot; classs&quot;pojo.User&quot;/&gt; \n@Component\npublic class User {  \n     public String name =&quot;秦疆&quot;;\n}</pre><p id=\"u436f7eaa\" class=\"ne-p\"><br></p><h3 id=\"a7a26744\"><span class=\"ne-text\">8.2、属性如何注入</span><a href=\"/value \" data-href=\"/value \" class=\"ne-link\"><span class=\"ne-text\">@value </span></a><span class=\"ne-text\"> </span></h3><p id=\"u312c124d\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"e02353a3\" class=\"ne-codeblock\">@Component\npublic class User { \n    //相当于&lt;property name=&quot;name&quot; value=&quot;kuangshen&quot;/&gt; \n    @value(&quot;kuangshen&quot;) \n    public String name; \n    \n    //也可以放在set方法上面\n    //@value(&quot;kuangshen&quot;)\n    public void setName(String name) { \n        this.name = name; \n    }\n}</pre><p id=\"u784b5687\" class=\"ne-p\"><br></p><h3 id=\"3f91c3c2\"><span class=\"ne-text\">8.3、衍生的注解</span></h3><p id=\"ufa323a05\" class=\"ne-p\"><br></p><p id=\"u84660458\" class=\"ne-p\"><span class=\"ne-text\">@Component有几个衍生注解，会按照web开发中，mvc架构中分层。</span></p><p id=\"uc411cbcc\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u205cad80\"><span class=\"ne-text\">dao （@Repository）</span></li></ul><ul class=\"ne-ul\"><li id=\"u7152069a\"><span class=\"ne-text\">service（@Service）</span></li></ul><ul class=\"ne-ul\"><li id=\"u2963efbd\"><span class=\"ne-text\">controller（@Controller）</span></li></ul><p id=\"uadb6436b\" class=\"ne-p\"><br></p><p id=\"u8dffd2db\" class=\"ne-p\"><strong><span class=\"ne-text\">这四个注解的功能是一样的，都是代表将某个类注册到容器中</span></strong></p><p id=\"u51e9689e\" class=\"ne-p\"><br></p><h3 id=\"137b3e5b\"><span class=\"ne-text\">8.4、自动装配置</span></h3><p id=\"uf84385a9\" class=\"ne-p\"><br></p><p id=\"u6b90ac19\" class=\"ne-p\"><span class=\"ne-text\">@Autowired：默认是byType方式，如果匹配不上，就会byName</span></p><p id=\"u1f9f4445\" class=\"ne-p\"><br></p><p id=\"u98f6b489\" class=\"ne-p\"><span class=\"ne-text\">@Nullable：字段标记了这个注解，说明该字段可以为空</span></p><p id=\"u98a3c724\" class=\"ne-p\"><br></p><p id=\"uca90a6ab\" class=\"ne-p\"><span class=\"ne-text\">@Resource：默认是byName方式，如果匹配不上，就会byType</span></p><p id=\"ub6c7c93e\" class=\"ne-p\"><br></p><h3 id=\"fd88b712\"><span class=\"ne-text\">8.5、作用域</span><a href=\"/scope \" data-href=\"/scope \" class=\"ne-link\"><span class=\"ne-text\">@scope </span></a><span class=\"ne-text\"> </span></h3><p id=\"u87b86fc5\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"6fbd537e\" class=\"ne-codeblock\">//原型模式prototype，单例模式singleton\n//scope(&quot;prototype&quot;)相当于&lt;bean scope=&quot;prototype&quot;&gt;&lt;/bean&gt;\n@Component \n@scope(&quot;prototype&quot;)\npublic class User { \n    \n    //相当于&lt;property name=&quot;name&quot; value=&quot;kuangshen&quot;/&gt; \n    @value(&quot;kuangshen&quot;) \n    public String name; \n    \n    //也可以放在set方法上面\n    @value(&quot;kuangshen&quot;)\n    public void setName(String name) { \n        this.name = name; \n    }\n}</pre><p id=\"u0818a9f4\" class=\"ne-p\"><br></p><h3 id=\"3c4563c2\"><span class=\"ne-text\">8.6、小结</span></h3><p id=\"u456b36d5\" class=\"ne-p\"><br></p><p id=\"u99cea3b6\" class=\"ne-p\"><strong><span class=\"ne-text\">xml与注解：</span></strong></p><p id=\"ube241bcd\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u97d0764a\"><span class=\"ne-text\">xml更加万能，维护简单，适用于任何场合</span></li></ul><ul class=\"ne-ul\"><li id=\"ua8de0875\"><span class=\"ne-text\">注解，不是自己的类使用不了，维护复杂</span></li></ul><p id=\"u8fa455a1\" class=\"ne-p\"><br></p><p id=\"u3da04bb5\" class=\"ne-p\"><strong><span class=\"ne-text\">最佳实践：</span></strong></p><p id=\"u693bd3f3\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u11f4582d\"><span class=\"ne-text\">xml用来管理bean</span></li></ul><ul class=\"ne-ul\"><li id=\"ue073c7d4\"><span class=\"ne-text\">注解只用来完成属性的注入</span></li></ul><ul class=\"ne-ul\"><li id=\"ue3f63aa4\"><span class=\"ne-text\">要开启注解支持</span></li></ul><p id=\"u05d6863f\" class=\"ne-p\"><br></p><h2 id=\"ecb615f1\"><span class=\"ne-text\">9、使用Java的方式配置Spring</span></h2><p id=\"ua7002f5c\" class=\"ne-p\"><br></p><p id=\"u0866bebf\" class=\"ne-p\"><span class=\"ne-text\">不使用Spring的xml配置，完全交给java来做！</span></p><p id=\"uebf4f93c\" class=\"ne-p\"><br></p><p id=\"ued73d45f\" class=\"ne-p\"><span class=\"ne-text\">Spring的一个子项目，在spring4之后，，，它成为了核心功能</span></p><p id=\"ub37d7002\" class=\"ne-p\"><br></p><p id=\"u538f5805\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472064164-cf739a67-0d9a-4f49-b36f-8d78ccaf6136.png\" width=\"712\" id=\"u974c124e\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><strong><span class=\"ne-text\">实体类：pojo的User.java</span></strong></p><p id=\"ueaf51451\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"1ecbba14\" class=\"ne-codeblock\">//这里这个注解的意思,就是说明这个类被Spring接管了,注册到了容器中 \n@component \npublic class User { \n    private String name;\n    \n    public String getName() { \n    \treturn name; \n    } \n    //属性注入值\n    @value(&quot;QINJIANG')  \n    public void setName(String name) { \n    \tthis.name = name; \n    } \n    @Override \n    public String toString() { \n        return &quot;user{&quot; + \n        &quot;name='&quot; + name + '\\''+ \n        '}'; \n    } \n}</pre><p id=\"uf1749e95\" class=\"ne-p\"><br></p><p id=\"u8be98291\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：要么使用@Bean，要么使用@Component和ComponentScan，两种效果一样</span></p><p id=\"u091ae37c\" class=\"ne-p\"><br></p><p id=\"u8dd448f1\" class=\"ne-p\"><strong><span class=\"ne-text\">配置文件：config中的kuang.java</span></strong></p><p id=\"uba68b1a5\" class=\"ne-p\"><br></p><p id=\"u443e7f2e\" class=\"ne-p\"><span class=\"ne-text\">@Import(KuangConfig2.class)，用@import来包含KuangConfig2.java</span></p><p id=\"ua3ae4902\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"81e33b81\" class=\"ne-codeblock\">//这个也会Spring容器托管,注册到容器中,因为他本米就是一个@Component \n// @Configuration表这是一个配置类,就像我们之前看的beans.xml，类似于&lt;beans&gt;标签\n@Configuration \n@componentScan(&quot;com.Kuang.pojo&quot;) //开启扫描\n//@Import(KuangConfig2.class)\npublic class KuangConfig { \n    //注册一个bean , 就相当于我们之前写的一个bean 标签 \n    //这个方法的名字,就相当于bean 标签中的 id 属性 -&gt;getUser\n    //这个方法的返同值,就相当于bean 标签中的class 属性 -&gt;User\n    \n    //@Bean \n    public User getUser(){ \n    \treturn new User(); //就是返回要注入到bean的对象! \n    } \n}</pre><p id=\"u62476a4a\" class=\"ne-p\"><br></p><p id=\"u639798dc\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：ComponentScan、@Component(&quot;pojo”) 这两个注解配合使用</span></p><p id=\"u46673551\" class=\"ne-p\"><br></p><p id=\"u28f5b3e4\" class=\"ne-p\"><strong><span class=\"ne-text\">测试类</span></strong></p><p id=\"u5f11b28a\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"6135ad97\" class=\"ne-codeblock\">public class MyTest { \n    public static void main(String[ ] args) { \n    //如果完全使用了配置类方式去做,我们就只能通过 Annotationconfig 上下文来获取容器,通过配置类的class对象加载! \n    ApplicationContext context = new AnnotationConfigApplicationContext(KuangConfig.Class); //class对象\n    User getUser =(User)context.getBean( &quot;getUser&quot;); //方法名getUser\n    System.out.Println(getUser.getName()); \n    } \n}</pre><p id=\"ue80304de\" class=\"ne-p\"><br></p><p id=\"u1a626d67\" class=\"ne-p\"><strong><span class=\"ne-text\">会创建两个相同对象问题的说明：</span></strong></p><p id=\"u4818489f\" class=\"ne-p\"><br></p><p id=\"u9eb122bf\" class=\"ne-p\"><strong><span class=\"ne-text\">弹幕总结 - -&gt; @Bean是相当于&lt; bean&gt;标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了</span></strong></p><p id=\"u386eefe2\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"81e33b81-1\" class=\"ne-codeblock\">//这个也会Spring容器托管,注册到容器中,因为他本米就是一个@Component \n// @Configuration表这是一个配置类,就像我们之前看的beans.xml，类似于&lt;beans&gt;标签\n@Configuration \n@componentScan(&quot;com.Kuang.pojo&quot;) //开启扫描\n//@Import(KuangConfig2.class)\npublic class KuangConfig { \n    //注册一个bean , 就相当于我们之前写的一个bean 标签 \n    //这个方法的名字,就相当于bean 标签中的 id 属性 -&gt;getUser\n    //这个方法的返同值,就相当于bean 标签中的class 属性 -&gt;User\n    \n    //@Bean \n    public User getUser(){ \n    \treturn new User(); //就是返回要注入到bean的对象! \n    } \n}</pre><p id=\"u1c3f1476\" class=\"ne-p\"><br></p><p id=\"u36beb76d\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：ComponentScan、@Component(&quot;pojo”) 这两个注解配合使用</span></p><p id=\"ub8063bac\" class=\"ne-p\"><br></p><p id=\"u18f3d3e8\" class=\"ne-p\"><strong><span class=\"ne-text\">测试类</span></strong></p><p id=\"u618cad28\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"6135ad97-1\" class=\"ne-codeblock\">public class MyTest { \n    public static void main(String[ ] args) { \n    //如果完全使用了配置类方式去做,我们就只能通过 Annotationconfig 上下文来获取容器,通过配置类的class对象加载! \n    ApplicationContext context = new AnnotationConfigApplicationContext(KuangConfig.Class); //class对象\n    User getUser =(User)context.getBean( &quot;getUser&quot;); //方法名getUser\n    System.out.Println(getUser.getName()); \n    } \n}</pre><p id=\"u40d9a5ac\" class=\"ne-p\"><br></p><p id=\"u5b84e5c8\" class=\"ne-p\"><strong><span class=\"ne-text\">会创建两个相同对象问题的说明：</span></strong></p><p id=\"u896a50ce\" class=\"ne-p\"><br></p><p id=\"udb88d953\" class=\"ne-p\"><strong><span class=\"ne-text\">弹幕总结 - -&gt; @Bean是相当于&lt; bean&gt;标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了</span></strong></p><p id=\"uc5b2a9bf\" class=\"ne-p\"><br></p><h2 id=\"37ce5f92\"><span class=\"ne-text\">10、动态代理</span></h2><p id=\"u30177436\" class=\"ne-p\"><br></p><p id=\"u4d84b115\" class=\"ne-p\"><span class=\"ne-text\">代理模式是SpringAOP的底层</span></p><p id=\"u1c26c9c7\" class=\"ne-p\"><br></p><p id=\"u1c08fd19\" class=\"ne-p\"><span class=\"ne-text\">分类：动态代理和静态代理</span></p><p id=\"u94313368\" class=\"ne-p\"><br></p><p id=\"ucbf24b25\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472093138-32a4cc48-0e0c-4470-8d41-95edc040a9f5.png\" width=\"713\" id=\"u06036644\" class=\"ne-image\"></p><p id=\"u4556e4e9\" class=\"ne-p\"><br></p><h3 id=\"ac68d745\"><span class=\"ne-text\">10.1、静态代理</span></h3><p id=\"ub7583ea9\" class=\"ne-p\"><br></p><p id=\"u2c96c119\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472110260-68d6d574-e8a2-4ada-974a-93238575f044.png\" width=\"729\" id=\"ued37f954\" class=\"ne-image\"><span class=\"ne-text\"><br />代码步骤：</span></p><p id=\"u7da15eda\" class=\"ne-p\"><br></p><p id=\"udb0a9ccc\" class=\"ne-p\"><span class=\"ne-text\">1、接口</span></p><p id=\"uc89db04e\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"c81ef282\" class=\"ne-codeblock\">package pojo;\npublic interface Host {\n\tpublic void rent();\n}</pre><p id=\"ud688a2d4\" class=\"ne-p\"><br></p><p id=\"udd53965c\" class=\"ne-p\"><span class=\"ne-text\">2、真实角色</span></p><p id=\"u1cf64652\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"b6e0874a\" class=\"ne-codeblock\">package pojo;\npublic class HostMaster implements Host{\t\n    \n\tpublic void rent() {\n\t\tSystem.out.println(&quot;房东要出租房子&quot;);\n\t}\n}</pre><p id=\"u0afdfda9\" class=\"ne-p\"><br></p><p id=\"u6365e5e2\" class=\"ne-p\"><span class=\"ne-text\">3、代理角色</span></p><p id=\"u6b295404\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"72dd35fd\" class=\"ne-codeblock\">package pojo;\npublic class Proxy {\n\n\tpublic Host host;\n\t\n\tpublic Proxy() {\n\t\t\n\t}\n\t\n\tpublic Proxy(Host host) {\n\t\tsuper();\n\t\tthis.host = host;\n\t}\n\t\n\tpublic void rent() {\n\t\tseeHouse();\n\t\thost.rent();\n\t\tfee();\n\t\tsign();\n\t}\n\t//看房\n\tpublic void seeHouse() {\n\t\tSystem.out.println(&quot;看房子&quot;);\n\t}\n\t//收费\n\tpublic void fee() {\n\t\tSystem.out.println(&quot;收中介费&quot;);\n\t}\n\t//合同\n\tpublic void sign() {\n\t\tSystem.out.println(&quot;签合同&quot;);\n\t}\t\t\n}</pre><p id=\"uc21535a7\" class=\"ne-p\"><br></p><p id=\"u9f4bba4c\" class=\"ne-p\"><span class=\"ne-text\">4、客户端访问代理角色</span></p><p id=\"ufa1c3d41\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"2479edd4\" class=\"ne-codeblock\">package holle4_proxy;\n\nimport pojo.Host;\nimport pojo.HostMaster;\nimport pojo.Proxy;\n\npublic class My {\n\n\tpublic static void main(String[] args) {\n\t\t//房东要出租房子\n\t\tHost host = new HostMaster();\n\t\t//中介帮房东出租房子，但也收取一定费用（增加一些房东不做的操作）\n\t\tProxy proxy = new Proxy(host);\n\t\t//看不到房东，但通过代理，还是租到了房子\n\t\tproxy.rent();\n\t\t\n\t}\n}</pre><p id=\"u2ce33bd2\" class=\"ne-p\"><br></p><p id=\"u2805ace6\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472182662-cd60ab25-c271-4316-af34-9722171677ff.png\" width=\"716\" id=\"u44fe5565\" class=\"ne-image\"><span class=\"ne-text\"><br />代码翻倍：几十个真实角色就得写几十个代理</span></p><p id=\"u181ee8dc\" class=\"ne-p\"><br></p><p id=\"ua1582753\" class=\"ne-p\"><span class=\"ne-text\">AOP横向开发</span></p><p id=\"udc8f824e\" class=\"ne-p\"><br></p><p id=\"u7469fd93\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472202392-f8398270-e31d-4f1d-962d-c24024ab0170.png\" width=\"714.5\" id=\"u6f0ff715\" class=\"ne-image\"></p><p id=\"u1a9a257a\" class=\"ne-p\"><br></p><h3 id=\"7f64b1e7\"><span class=\"ne-text\">10.2、动态代理</span></h3><p id=\"u6a225b97\" class=\"ne-p\"><br></p><p id=\"u52a215f4\" class=\"ne-p\"><span class=\"ne-text\">动态代理和静态角色一样，动态代理底层是反射机制</span></p><p id=\"u55bec41f\" class=\"ne-p\"><br></p><p id=\"u945d5d3b\" class=\"ne-p\"><span class=\"ne-text\">动态代理类是动态生成的，不是我们直接写好的！</span></p><p id=\"u484da3d8\" class=\"ne-p\"><br></p><p id=\"u8855b148\" class=\"ne-p\"><span class=\"ne-text\">动态代理(两大类)：基于接口，基于类</span></p><p id=\"u63e248cd\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u2805d496\"><span class=\"ne-text\">基于接口：JDK的动态代理【使用ing】</span></li></ul><ul class=\"ne-ul\"><li id=\"u6fdc1d52\"><span class=\"ne-text\">基于类：cglib</span></li></ul><ul class=\"ne-ul\"><li id=\"uc4ad0ce4\"><span class=\"ne-text\">java字节码实现：javasisit</span></li></ul><p id=\"u6bcf2dca\" class=\"ne-p\"><br></p><p id=\"ua0f98868\" class=\"ne-p\"><span class=\"ne-text\">了解两个类<br />1、Proxy：代理<br />2、InvocationHandler：调用处理程序<br /></span><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472250406-dbe28260-99f3-47cd-bcb3-dd256a81ddfe.png\" width=\"718.5\" id=\"uec06fc4f\" class=\"ne-image\"></p><p id=\"uf9e30c89\" class=\"ne-p\"><br></p><p id=\"ub82b9ddf\" class=\"ne-p\"><span class=\"ne-text\">实例：</span></p><p id=\"u56a2dad4\" class=\"ne-p\"><br></p><p id=\"u6fd8cfbd\" class=\"ne-p\"><span class=\"ne-text\">接口 Host.java</span></p><p id=\"ua647c123\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"2e8be48e\" class=\"ne-codeblock\">//接口\npackage pojo2;\npublic interface Host {\n\tpublic void rent();\n\t\n}</pre><p id=\"u02faeb2a\" class=\"ne-p\"><br></p><p id=\"u647890b9\" class=\"ne-p\"><span class=\"ne-text\">接口Host实现类 HostMaster.java</span></p><p id=\"uac75c7a9\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"fdc507ab\" class=\"ne-codeblock\">//接口实现类\npackage pojo2;\npublic class HostMaster implements Host{\t\n\tpublic void rent() {\n\t\tSystem.out.println(&quot;房东要租房子&quot;);\n\t}\n}</pre><p id=\"u73adfd40\" class=\"ne-p\"><br></p><p id=\"u17066677\" class=\"ne-p\"><span class=\"ne-text\">代理角色的处理程序类 ProxyInvocationHandler.java</span></p><p id=\"u95088721\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"09bd3632\" class=\"ne-codeblock\">package pojo2;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\n\n///用这个类，自动生成代理\npublic class ProxyInvocationHandler implements InvocationHandler {\n\n\t// Foo f =(Foo) Proxy.NewProxyInstance(Foo. Class.GetClassLoader(),\n\t// new Class&lt;?&gt;[] { Foo.Class },\n\t// handler);\n\n\t// 被代理的接口\n\tpublic HostMaster hostMaster ;\n\t\n\tpublic void setHostMaster(HostMaster hostMaster) {\n\t\tthis.hostMaster = hostMaster;\n\t}\n\n\t// 得到生成的代理类 \n\tpublic Object getProxy() {\n\t\t// newProxyInstance() -&gt; 生成代理对象，就不用再写具体的代理类了\n\t\t// this.getClass().getClassLoader() -&gt; 找到加载类的位置\n\t\t// hostMaster.getClass().getInterfaces() -&gt; 代理的具体接口\n\t\t// this -&gt; 代表了接口InvocationHandler的实现类ProxyInvocationHandler\n\t\treturn Proxy.newProxyInstance(this.getClass().getClassLoader(), hostMaster.getClass().getInterfaces(), this);\n\n\n\t// 处理代理实例并返回结果\n\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\t\tseeHouse();\n\t\t// 动态代理的本质，就是使用反射机制实现的\n        // invoke()执行它真正要执行的方法\n\t\tObject result = method.invoke(hostMaster, args);\n\t\tfee();\n\t\treturn result;\n\t}\n\n\tpublic void seeHouse() {\n\t\tSystem.out.println(&quot;看房子&quot;);\n\t}\n\n\tpublic void fee() {\n\t\tSystem.out.println(&quot;收中介费&quot;);\n\t}\n\n}</pre><p id=\"u17d68ad0\" class=\"ne-p\"><br></p><p id=\"ubc6cc3ac\" class=\"ne-p\"><span class=\"ne-text\">用户类 My2.java</span></p><p id=\"u78fc5ad2\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"316ccb94\" class=\"ne-codeblock\">package holle4_proxy;\n\nimport pojo2.Host;\nimport pojo2.Host2;\nimport pojo2.HostMaster;\nimport pojo2.ProxyInvocationHandler;\n\npublic class My2 {\n\n\tpublic static void main(String[] args) {\n        \n\t\t//真实角色\n\t\tHostMaster hostMaster = new HostMaster();\n        \n\t\t//代理角色，现在没有；用代理角色的处理程序来实现Host接口的调用\n\t\tProxyInvocationHandler pih = new ProxyInvocationHandler();\n        \n        //pih -&gt; HostMaster接口类 -&gt; Host接口\n\t\tpih.setHostMaster(hostMaster);\n        \n\t\t//获取newProxyInstance动态生成代理类\n\t\tHost proxy = (Host) pih.getProxy();\n\t\t\n\t\tproxy.rent();\n\n\t}\n}</pre><p id=\"u0dc97ef7\" class=\"ne-p\"><br></p><p id=\"u6a87434e\" class=\"ne-p\"><span class=\"ne-text\">弹幕评论：<br /></span><span class=\"ne-text\">什么时候调用invoke方法的?<br /></span><span class=\"ne-text\">代理实例调用方法时invoke方法就会被调用，可以debug试试</span></p><p id=\"u01340d45\" class=\"ne-p\"><br></p><p id=\"ue2cd13df\" class=\"ne-p\"><span class=\"ne-text\">改为</span><strong><span class=\"ne-text\">万能代理类</span></strong></p><p id=\"u5386d90d\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"f67b8446\" class=\"ne-codeblock\">///用这个类，自动生代理\npublic class ProxyInvocationHandler implements InvocationHandler {\n\n\t// 被代理的接口\n\tpublic Object target;\n\n\tpublic void setTarget(Object target) {\n\t\tthis.target = target;\n\t}\n\n\t// 得到生成的代理类 -&gt; 固定的代码\n\tpublic Object getProxy() {\n\t\treturn Proxy.newProxyInstance(this.getClass().getClassLoader(), target.getClass().getInterfaces(), this);\n\t}\n\n\t// 处理代理实例并返回结果\n\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n\t\t// 动态代理的本质，就是使用反射机制实现的\n\t\t// invoke()执行它真正要执行的方法\n\t\tObject result = method.invoke(target, args);\n\t\treturn result;\n\t}\n\n}</pre><p id=\"u747eed1c\" class=\"ne-p\"><br></p><p id=\"u2b41d676\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472286319-fedd39e9-373b-4ad8-9f64-4b8ee3c604ca.png\" width=\"732.5\" id=\"u9fe42ff0\" class=\"ne-image\"></p><p id=\"u85bc2827\" class=\"ne-p\"><br></p><h2 id=\"8fcd49a5\"><span class=\"ne-text\">11、AOP</span></h2><p id=\"uf487067f\" class=\"ne-p\"><br></p><h3 id=\"7b90ca80\"><span class=\"ne-text\">11.1、什么是AOP</span></h3><p id=\"u919e7a61\" class=\"ne-p\"><br></p><p id=\"u2d61435d\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472302779-a8366011-5841-48c9-a6c7-eff3e7546103.png\" width=\"728\" id=\"u04219bd7\" class=\"ne-image\"></p><p id=\"uf9648379\" class=\"ne-p\"><br></p><h3 id=\"11d4b04b\"><span class=\"ne-text\">11.2、AOP在Spring中的使用</span></h3><p id=\"u897be733\" class=\"ne-p\"><br></p><p id=\"uc6369f12\" class=\"ne-p\"><span class=\"ne-text\">提供声明式事务，允许用户自定义切面</span></p><p id=\"u668134c8\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"udbc39a44\"><span class=\"ne-text\">横切关注点：跨越应用程序多个模块的方法或功能。即是，与我们业务逻辑无关的，但是我们需要关注的部分，就是横切关注点。如日志，安全，缓存，事务等等…</span></li></ul><ul class=\"ne-ul\"><li id=\"u7893d60b\"><span class=\"ne-text\">切面(Aspect)：横切关注点 被模块化的特殊对象。即，它是一个类。（Log类）</span></li></ul><ul class=\"ne-ul\"><li id=\"u5d4aabd9\"><span class=\"ne-text\">通知(Advice)：切面必须要完成的工作。即，它是类中的一个方法。（Log类中的方法）</span></li></ul><ul class=\"ne-ul\"><li id=\"u29699ac7\"><span class=\"ne-text\">目标(Target)：被通知对象。（生成的代理类)</span></li></ul><ul class=\"ne-ul\"><li id=\"u6b902ffc\"><span class=\"ne-text\">代理(Proxy)：向目标对象应用通知之后创建的对象。（生成的代理类）</span></li></ul><ul class=\"ne-ul\"><li id=\"u55a9e10f\"><span class=\"ne-text\">切入点(PointCut)：切面通知执行的”地点”的定义。（最后两点：在哪个地方执行，比如：method.invoke()）</span></li></ul><ul class=\"ne-ul\"><li id=\"u9768cf13\"><span class=\"ne-text\">连接点(JointPoint)：与切入点匹配的执行点。</span></li></ul><p id=\"uc7b74b9c\" class=\"ne-p\"><br></p><p id=\"u1f100549\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472322962-506e3170-dbca-45d9-ac0b-0e3eea0c8a9e.png\" width=\"725.5\" id=\"uf65ee572\" class=\"ne-image\"><span class=\"ne-text\"><br />SpringAOP中，通过Advice定义横切逻辑，Spring中支持5种类型的Advice:</span></p><p id=\"ua6035643\" class=\"ne-p\"><br></p><p id=\"ua9fbf9e3\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472344670-8b22f0b8-df31-4b7a-bdb5-98af8fdf68cc.png\" width=\"704.5\" id=\"u99ab396b\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><strong><span class=\"ne-text\">即AOP在不改变原有代码的情况下，去增加新的功能。</span></strong><span class=\"ne-text\">（代理）</span></p><p id=\"udba572bc\" class=\"ne-p\"><br></p><h3 id=\"6e16d25f\"><span class=\"ne-text\">11.3、使用Spring实现AOP</span></h3><p id=\"ub2c16353\" class=\"ne-p\"><br></p><p id=\"u9df4bd2d\" class=\"ne-p\"><span class=\"ne-text\">导入jar包</span></p><p id=\"uc6ddbe8d\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"ef2857b4\" class=\"ne-codeblock\">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;version&gt;1.9.4&lt;/version&gt;\n&lt;/dependency&gt;</pre><p id=\"u313aad1b\" class=\"ne-p\"><br></p><h4 id=\"c727a170\"><span class=\"ne-text\">11.3.1、方法一：使用原生spring接口</span></h4><p id=\"u20acda60\" class=\"ne-p\"><br></p><p id=\"u2db27c0c\" class=\"ne-p\"><span class=\"ne-text\">springAPI接口实现</span></p><p id=\"uccb97f40\" class=\"ne-p\"><br></p><p id=\"ueab8a234\" class=\"ne-p\"><span class=\"ne-text\">applicationContext.xml</span></p><p id=\"u8839a852\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"7c8403a8\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\n    &lt;!--注册bean--&gt;\n    &lt;bean id=&quot;userservice&quot; class=&quot;service.UserServiceImpl&quot;/&gt;\n    &lt;bean id=&quot;log&quot; class=&quot;log.Log&quot;/&gt;\n    &lt;bean id=&quot;afterLog&quot; class=&quot;log.AfterLog&quot;/&gt;\n\t&lt;!--方式一，使用原生Spring API接口--&gt;\n    &lt;!--配置aop,还需要导入aop约束--&gt;\n    &lt;aop:config&gt;\n        &lt;!--切入点：expression:表达式，execution（要执行的位置）--&gt;\n        &lt;aop:pointcut id=&quot;pointcut&quot; expression=&quot;execution(* service.UserServiceImpl.*(..))&quot;/&gt;\n        &lt;!--UserServiceImpl.*(..) -》 UserServiceImpl类下的所以方法(参数)--&gt;\n        &lt;!--执行环绕增加--&gt;\n        &lt;aop:advisor advice-ref=&quot;log&quot; pointcut-ref=&quot;pointcut&quot;/&gt;\n        &lt;aop:advisor advice-ref=&quot;afterLog&quot; pointcut-ref=&quot;pointcut&quot;/&gt;\n        &lt;!-- 环绕,在id=&quot;pointcut&quot;的前后切入 --&gt;\n    &lt;/aop:config&gt;\n\n&lt;/beans&gt;</pre><p id=\"u414644bb\" class=\"ne-p\"><br></p><p id=\"u148e1b5b\" class=\"ne-p\"><span class=\"ne-text\">execution(返回类型，类名，方法名(参数)) -&gt; execution(</span><em><span class=\"ne-text\"> com.service.</span></em><span class=\"ne-text\">,*(…))</span></p><p id=\"u1a5dac99\" class=\"ne-p\"><br></p><p id=\"u243eb643\" class=\"ne-p\"><span class=\"ne-text\">UserService.java</span></p><p id=\"u00fb61cd\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"2736fcad\" class=\"ne-codeblock\">package service;\npublic interface UserService {   \n\t    public void add() ;\n\t    public void delete() ;\n\t    public void query() ;\n\t    public void update();\n}</pre><p id=\"udab4a2ba\" class=\"ne-p\"><br></p><p id=\"ucba7370b\" class=\"ne-p\"><span class=\"ne-text\">UserService 的实现类 UserServiceImp.java</span></p><p id=\"u537a42e7\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"f8a5211c\" class=\"ne-codeblock\">package service;\n\npublic class UserServiceImpl implements UserService {\n\n    public void add() {\n        System.out.println(&quot;add增&quot;);\n    }\n    public void delete() {\n        System.out.println(&quot;delete删&quot;);\n    }\n    public void update() {\n        System.out.println(&quot;update改&quot;);\n    }\n    public void query() {\n        System.out.println(&quot;query查&quot;);\n    }\n}</pre><p id=\"u6993fb53\" class=\"ne-p\"><br></p><p id=\"ua75b6744\" class=\"ne-p\"><span class=\"ne-text\">前置Log.java</span></p><p id=\"u2a14fa3f\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"be63d742\" class=\"ne-codeblock\">package log;\nimport org.springframework.aop.MethodBeforeAdvice;\nimport java.lang.reflect.Method;\n\npublic class Log implements MethodBeforeAdvice {\n    //method：要执行的目标对象的方法\n    //args：参数\n    //target：目标对象\n    public void before(Method method, Object[] args, Object target) throws Throwable {\n        System.out.println(target.getClass().getName()+&quot;的&quot;+method.getName()+&quot;被执行了&quot;);\n    }\n}</pre><p id=\"u5fda1434\" class=\"ne-p\"><br></p><p id=\"uc1d6f671\" class=\"ne-p\"><span class=\"ne-text\">后置AfterLog.java</span></p><p id=\"ud03b43ca\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"a096486f\" class=\"ne-codeblock\">package log;\nimport java.lang.reflect.Method;\nimport org.springframework.aop.AfterReturningAdvice;\n\npublic class AfterLog implements AfterReturningAdvice {\n    //returnVaule: 返回值\n    public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable {\n    \tSystem.out.println(&quot;执行了&quot;+method.getName()+&quot;方法，返回值是&quot;+returnValue);\n    }\n}</pre><p id=\"ubf5ee859\" class=\"ne-p\"><br></p><p id=\"uc744c79c\" class=\"ne-p\"><span class=\"ne-text\">测试类MyTest5</span></p><p id=\"u42757cf5\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"13d53226\" class=\"ne-codeblock\">import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport service.UserService;\n\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(&quot;userservice&quot;);\n        userService.add();\n    }\n}</pre><p id=\"ua85aa148\" class=\"ne-p\"><br></p><h4 id=\"8d2cce88\"><span class=\"ne-text\">11.3.2、方法二：自定义类实现AOP</span></h4><p id=\"u8935ed68\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"aaf70bda\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n   \thttps://www.springframework.org/schema/beans/spring-beans.xsd\n   \thttp://www.springframework.org/schema/aop\n   \thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\n   &lt;!--注册bean--&gt;\n   &lt;bean id=&quot;userservice&quot; class=&quot;service.UserServiceImpl&quot;/&gt;\n   &lt;bean id=&quot;log&quot; class=&quot;log.Log&quot;/&gt;\n   &lt;bean id=&quot;afterLog&quot; class=&quot;log.AfterLog&quot;/&gt;\n   &lt;!-- 方式二，自定义 --&gt;\n   &lt;bean id=&quot;diy&quot; class=&quot;diy.DiyPointcut&quot;/&gt;\n   &lt;aop:config&gt;\n       &lt;!--自定义切面--&gt;\n       &lt;aop:aspect ref=&quot;diy&quot;&gt;\n           &lt;!--切入点--&gt;\n           &lt;aop:pointcut id=&quot;point&quot; expression=&quot;execution(* service.UserServiceImpl.*(..))&quot;/&gt;\n           &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;point&quot;/&gt;\n           &lt;aop:after method=&quot;after&quot; pointcut-ref=&quot;point&quot;/&gt;\n       &lt;/aop:aspect&gt;\n   &lt;/aop:config&gt;\n\n&lt;/beans&gt;</pre><p id=\"u32ef0b72\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"28d1e299\" class=\"ne-codeblock\">package diy;\npublic class DiyPointcut {\n\n    public void before(){\n        System.out.println(&quot;插入到前面&quot;);\n    }\n\n    public void after(){\n        System.out.println(&quot;插入到后面&quot;);\n    }\n}</pre><p id=\"u2cdc3408\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"37f47bfc\" class=\"ne-codeblock\">//测试\npublic class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(&quot;userservice&quot;);\n        userService.add();\n    }\n}</pre><p id=\"u79650cc9\" class=\"ne-p\"><br></p><h4 id=\"09383569\"><span class=\"ne-text\">11.3.3、方法三：使用注解实现</span></h4><p id=\"u5d62575b\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"f2068eba\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\t\n    &lt;!-- 注册 --&gt;\n    &lt;bean id=&quot;userservice&quot; class=&quot;service.UserServiceImpl&quot;/&gt;\n    &lt;!--方式三，使用注解实现--&gt;\n    &lt;bean id=&quot;diyAnnotation&quot; class=&quot;diy.DiyAnnotation&quot;&gt;&lt;/bean&gt;\n    \n    &lt;!-- 开启自动代理 \n\t\t实现方式：默认JDK (proxy-targer-class=&quot;fasle&quot;)\n    \t\t\t cgbin (proxy-targer-class=&quot;true&quot;)--&gt;\n\t&lt;aop:aspectj-autoproxy/&gt;\n    \n&lt;/beans&gt;</pre><p id=\"ubb28b181\" class=\"ne-p\"><br></p><p id=\"ua704807a\" class=\"ne-p\"><span class=\"ne-text\">DiyAnnotation.java</span></p><p id=\"uc7c399df\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"fdd8b229\" class=\"ne-codeblock\">package diy;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect  //标注这个类是一个切面\npublic class DiyAnnotation {\n\t\n    @Before(&quot;execution(* service.UserServiceImpl.*(..))&quot;)\n    public void before(){\n        System.out.println(&quot;=====方法执行前=====&quot;);\n    }\n\n    @After(&quot;execution(* service.UserServiceImpl.*(..))&quot;)\n    public void after(){\n        System.out.println(&quot;=====方法执行后=====&quot;);\n    }\n\n    //在环绕增强中，我们可以给地暖管一个参数，代表我们要获取切入的点\n    @Around(&quot;execution(* service.UserServiceImpl.*(..))&quot;)\n    public void around(ProceedingJoinPoint joinPoint) throws Throwable {\n        System.out.println(&quot;环绕前&quot;);\n\n        Object proceed = joinPoint.proceed();\n\n        System.out.println(&quot;环绕后&quot;);\n    }\n}</pre><p id=\"u62e945ec\" class=\"ne-p\"><br></p><p id=\"u33a480b3\" class=\"ne-p\"><span class=\"ne-text\">测试</span></p><p id=\"u240efe63\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"b1c2694c\" class=\"ne-codeblock\">public class MyTest5 {\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        //注意:动态代理代理的是接口\n        UserService userService = (UserService) context.getBean(&quot;userservice&quot;);\n        userService.add();\n    }\n}</pre><p id=\"ud371e3be\" class=\"ne-p\"><br></p><p id=\"u4b99b1c3\" class=\"ne-p\"><span class=\"ne-text\">输出结果：</span></p><p id=\"ube4e5bde\" class=\"ne-p\"><br></p><p id=\"u13a01d72\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472366377-cc3b2d27-7a9d-4c51-81f4-ea9986f2dc37.png\" width=\"265\" id=\"ub2d25d62\" class=\"ne-image\"></p><p id=\"u2254509c\" class=\"ne-p\"><br></p><h2 id=\"697586fb\"><span class=\"ne-text\">12、整合mybatis</span></h2><p id=\"uf19bf9ec\" class=\"ne-p\"><br></p><p id=\"u2b04a408\" class=\"ne-p\"><span class=\"ne-text\">mybatis-spring官网：</span><a href=\"https://mybatis.org/spring/zh/\" data-href=\"https://mybatis.org/spring/zh/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://mybatis.org/spring/zh/</span></a></p><p id=\"u8b673a12\" class=\"ne-p\"><br></p><p id=\"u940a3529\" class=\"ne-p\"><strong><span class=\"ne-text\">mybatis的配置流程：</span></strong></p><p id=\"u4ed3ba18\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u1fd10204\"><span class=\"ne-text\">编写实体类</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ucfddfc8f\"><span class=\"ne-text\">编写核心配置文件</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"ud74fd80c\"><span class=\"ne-text\">编写接口</span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"ufe52acaf\"><span class=\"ne-text\">编写Mapper.xmi</span></li></ol><ol start=\"5\" class=\"ne-ol\"><li id=\"u563516ac\"><span class=\"ne-text\">测试</span></li></ol><p id=\"u55d0c2dd\" class=\"ne-p\"><br></p><h3 id=\"c033efd7\"><span class=\"ne-text\">12.1、mybatis-spring-方式一</span></h3><p id=\"u2d9a69ac\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u16dfccd1\"><span class=\"ne-text\">编写数据源配置</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u1b5dce70\"><span class=\"ne-text\">sqISessionFactory</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u859a6edd\"><span class=\"ne-text\">sqISessionTemplate（相当于sqISession）</span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u463c3db1\"><span class=\"ne-text\">需要给接口加实现类【new】</span></li></ol><ol start=\"5\" class=\"ne-ol\"><li id=\"uea16cade\"><span class=\"ne-text\">将自己写的实现类，注入到Spring中</span></li></ol><ol start=\"6\" class=\"ne-ol\"><li id=\"u0f12afd6\"><span class=\"ne-text\">测试！</span></li></ol><p id=\"u2be6a8e0\" class=\"ne-p\"><br></p><p id=\"u944ab4a2\" class=\"ne-p\"><span class=\"ne-text\">先导入jar包</span></p><p id=\"u061f948a\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"515c2895\" class=\"ne-codeblock\">&lt;dependencies&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\t\n&lt;!--在build中配置resources，来防止资源导出失败的问题--&gt;\n&lt;!-- Maven解决静态资源过滤问题 --&gt;\n&lt;build&gt;\n&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.xml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.xml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n&lt;/build&gt;</pre><p id=\"ub05fc26b\" class=\"ne-p\"><br></p><p id=\"u68df0d60\" class=\"ne-p\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/21990331/1625472386121-cbb94361-c6f6-47ba-868e-39521696a0a2.png\" width=\"363.5\" id=\"ud6ca78bf\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><strong><span class=\"ne-text\">编写顺序：</span></strong><span class=\"ne-text\"><br /></span><strong><span class=\"ne-text\">User -&gt; UserMapper -&gt; UserMapper.xml -&gt; spring-dao.xml -&gt; UserServiceImpl -&gt; applicationContext.xml -&gt; MyTest6</span></strong></p><p id=\"u9c148210\" class=\"ne-p\"><br></p><p id=\"u52de6f30\" class=\"ne-p\"><strong><span class=\"ne-text\">代码步骤：</span></strong></p><p id=\"u6e3a10d6\" class=\"ne-p\"><br></p><p id=\"u12d23304\" class=\"ne-p\"><span class=\"ne-text\">pojo实体类 User</span></p><p id=\"u47228ed0\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"c2503de2\" class=\"ne-codeblock\">package pojo;\nimport lombok.Data;\n@Data\npublic class User {\n\tprivate int id;\n\tprivate String name;\n\tprivate String pwd;\n}</pre><p id=\"u1108a48b\" class=\"ne-p\"><br></p><p id=\"u43352972\" class=\"ne-p\"><span class=\"ne-text\">mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml</span></p><p id=\"u21aca6fb\" class=\"ne-p\"><br></p><p id=\"ubfe2740b\" class=\"ne-p\"><span class=\"ne-text\">接口UserMapper</span></p><p id=\"ufc918148\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"710cfe9a\" class=\"ne-codeblock\">package mapper;\nimport java.util.List;\nimport pojo.User;\npublic interface UserMapper {\n\tpublic List&lt;User&gt; getUser();\n}</pre><p id=\"u3e469b68\" class=\"ne-p\"><br></p><p id=\"u85e53ddf\" class=\"ne-p\"><span class=\"ne-text\">UserMapperImpl</span></p><p id=\"ua309aa78\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"21821422\" class=\"ne-codeblock\">package mapper;\nimport java.util.List;\nimport org.mybatis.spring.SqlSessionTemplate;\nimport pojo.User;\n\npublic class UserMapperImpl implements UserMapper{\n\t\n\t//我们的所有操作，在原来都使用sqlSession来执行，现在都使用SqlSessionTemplate；\n\tprivate SqlSessionTemplate sqlSessionTemplate;\n\n\tpublic void setSqlSessionTemplate(SqlSessionTemplate sqlSessionTemplate) {\n\t\tthis.sqlSessionTemplate = sqlSessionTemplate;\n\t}\n\n\tpublic List&lt;User&gt; getUser() {\n\t\tUserMapper mapper = sqlSessionTemplate.getMapper(UserMapper.class);\n\t\treturn mapper.getUser();\n\t}\n}</pre><p id=\"u80607dc8\" class=\"ne-p\"><br></p><p id=\"uf4e7fecc\" class=\"ne-p\"><span class=\"ne-text\">UserMapper.xml （狂神给面子才留下来的）</span></p><p id=\"u4d2c2927\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"84ab8640\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n        \n&lt;!-- 绑定接口 --&gt;\n&lt;mapper namespace=&quot;mapper.UserMapper&quot;&gt;\n\t&lt;select id=&quot;getUser&quot; resultType=&quot;pojo.User&quot;&gt;\n\t\tselect * from mybatis.mybatis\n\t&lt;/select&gt;\n&lt;/mapper&gt;</pre><p id=\"ud7b0a465\" class=\"ne-p\"><br></p><p id=\"u47dfa548\" class=\"ne-p\"><span class=\"ne-text\">resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml</span></p><p id=\"udf64827f\" class=\"ne-p\"><br></p><p id=\"udecd50de\" class=\"ne-p\"><span class=\"ne-text\">mybatis-config.xml</span></p><p id=\"u5d64248b\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"f44cf828\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration\n  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n\t&lt;!--开启日志--&gt;\n\t&lt;settings&gt;\n\t\t&lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt;\n\t&lt;/settings&gt;\n\t\n\t&lt;!--可以给实体类起别名 --&gt;\n\t&lt;typeAliases&gt; \n\t\t&lt;package name=&quot;pojo&quot; /&gt;\n\t&lt;/typeAliases&gt;\n\n&lt;/configuration&gt;</pre><p id=\"uccef7c08\" class=\"ne-p\"><br></p><p id=\"ub524bd68\" class=\"ne-p\"><span class=\"ne-text\">spring-dao.xml</span></p><p id=\"u906ec157\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"ee7bd000\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\t\t\n\t&lt;!--DataSource:使用Spring的数帮源替换Mybatis的配置 其他数据源：c3p0、dbcp、druid \n\t\t这使用Spring提供的JDBC: org.springframework.jdbc.datasource --&gt;\n\t&lt;!--data source --&gt;\n\t&lt;bean id=&quot;datasource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n\t\t&lt;property name=&quot;driverClassName&quot;\n\t\t\tvalue=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;serverTimezone=Asia/Shanghai&quot;/&gt;\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n\t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\n\t&lt;/bean&gt;\n\t\n\t&lt;!--sqlSessionFactory--&gt;\n    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;datasource&quot; /&gt;\n        &lt;!--绑定 mybatis 配置文件--&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/&gt;\n        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;/&gt;\n    &lt;/bean&gt;\n\n\t&lt;!-- sqlSessionTemplate 就是之前使用的：sqlsession --&gt;\n    &lt;bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;&gt;\n    \t&lt;!-- 只能使用构造器注入sqlSessionFactory 原因：它没有set方法--&gt;\t\n        &lt;constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n\t\t\n&lt;/beans&gt;</pre><p id=\"u5583a599\" class=\"ne-p\"><br></p><p id=\"u4d848222\" class=\"ne-p\"><span class=\"ne-text\">applicationContext.xml</span></p><p id=\"ub45898ec\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"25b09536\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n    \n\t&lt;!-- 导入spring-dao.xml --&gt;\n\t&lt;import resource=&quot;spring-dao.xml&quot;/&gt;\n\t\n    &lt;bean id=&quot;userMapper&quot; class=&quot;mapper.UserMapperImpl&quot;&gt;\n        &lt;property name=&quot;sqlSessionTemplate&quot; ref=&quot;sqlSession&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;</pre><p id=\"u318fe68a\" class=\"ne-p\"><br></p><p id=\"udea25084\" class=\"ne-p\"><span class=\"ne-text\">测试类</span></p><p id=\"u73c0a404\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"7c17c9c4\" class=\"ne-codeblock\">import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport mapper.UserMapper;\nimport pojo.User;\npublic class MyTest6 {\n\tpublic static void main(String[] args) {\n        \n\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n\t\t\n\t\tUserMapper userMapper = (UserMapper) context.getBean(&quot;userMapper&quot;);\n\t\t\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}</pre><p id=\"u6761696d\" class=\"ne-p\"><br></p><h3 id=\"4c4395cd\"><span class=\"ne-text\">12.2、mybatis-spring-方式二</span></h3><p id=\"u2fa315e4\" class=\"ne-p\"><br></p><p id=\"u2fd42d91\" class=\"ne-p\"><span class=\"ne-text\">UserServiceImpl2</span></p><p id=\"u918273fb\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"6c7fd6fa\" class=\"ne-codeblock\">package mapper;\nimport pojo.User;\nimport org.apache.ibatis.session.SqlSession;\nimport org.mybatis.spring.support.SqlSessionDaoSupport;\nimport java.util.List;\n//继承SqlSessionDaoSupport 类\npublic class UserMapperImpl2 extends SqlSessionDaoSupport implements UserMapper {\n    public List&lt;User&gt; getUser() {\n        SqlSession sqlSession = getSqlSession();\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        return mapper.getUser();\n        //或者一句话：return getSqlSession().getMapper(UserMapper.class).getUser();\n    }\n}</pre><p id=\"u101689e4\" class=\"ne-p\"><br></p><p id=\"u22e0b6d8\" class=\"ne-p\"><span class=\"ne-text\">spring-dao.xml</span></p><p id=\"ud66041cb\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"8385de43\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\t\t\n\t&lt;!--DataSource:使用Spring的数帮源替换Mybatis的配置 c3p0 dbcp druid \n\t\t这使用Spring提供的JDBC: org.springframework.jdbc.datasource --&gt;\n\t&lt;!--data source --&gt;\n\t&lt;bean id=&quot;datasource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n\t\t&lt;property name=&quot;driverClassName&quot;\n\t\t\tvalue=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;serverTimezone=Asia/Shanghai&quot;/&gt;\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n\t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\n\t&lt;/bean&gt;\n\t\n\t&lt;!--sqlSessionFactory--&gt;\n    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;datasource&quot; /&gt;\n        &lt;!--绑定 mybatis 配置文件--&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/&gt;\n        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;/&gt;\n    &lt;/bean&gt;\n    \n\t&lt;!-- 方法二：SqlSessionTemplate 可以不写了--&gt;\n    \n&lt;/beans&gt;</pre><p id=\"uf55f5d3e\" class=\"ne-p\"><br></p><p id=\"uaa1f6d47\" class=\"ne-p\"><span class=\"ne-text\">applicationContext.xml</span></p><p id=\"uc74849f1\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"a58a760b\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\n\t&lt;import resource=&quot;spring-dao.xml&quot; /&gt;\n\n\t&lt;!-- 方法二 --&gt;\n\t&lt;bean id=&quot;userMapper2&quot; class=&quot;mapper.UserMapperImpl2&quot;&gt;\n\t\t&lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;\n\t&lt;/bean&gt;\n&lt;/beans&gt;</pre><p id=\"ud8e19257\" class=\"ne-p\"><br></p><p id=\"u9fdf273d\" class=\"ne-p\"><span class=\"ne-text\">测试</span></p><p id=\"u8404b1cc\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"383c3290\" class=\"ne-codeblock\">public class MyTest6 {\n\tpublic static void main(String[] args) {\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n\t\tUserMapper userMapper = (UserMapper) context.getBean(&quot;userMapper2&quot;);\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}</pre><p id=\"u96bd4443\" class=\"ne-p\"><br></p><h2 id=\"11e5c339\"><span class=\"ne-text\">13. 声明式事务</span></h2><p id=\"u1d343e0e\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ue1d36dde\"><span class=\"ne-text\">把一组业务当成一个业务来做；要么都成功，要么都失败！</span></li></ul><ul class=\"ne-ul\"><li id=\"u8715cb7a\"><span class=\"ne-text\">事务在项目开发中，十分的重要，涉及到数据的一致性问题</span></li></ul><ul class=\"ne-ul\"><li id=\"u61e488a6\"><span class=\"ne-text\">确保完整性和一致性</span></li></ul><p id=\"u918054df\" class=\"ne-p\"><br></p><p id=\"uc151542c\" class=\"ne-p\"><span class=\"ne-text\">事务的ACID原则：<br /></span><span class=\"ne-text\">1、原子性<br /></span><span class=\"ne-text\">2、隔离性<br /></span><span class=\"ne-text\">3、一致性<br /></span><span class=\"ne-text\">4、持久性</span></p><p id=\"u1e0b4b99\" class=\"ne-p\"><br></p><p id=\"u9839876f\" class=\"ne-p\"><span class=\"ne-text\">ACID参考文章：</span><a href=\"https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html\" data-href=\"https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html</span></a></p><p id=\"u99fdcd27\" class=\"ne-p\"><br></p><p id=\"udb4f8812\" class=\"ne-p\"><span class=\"ne-text\">Spring中的事务管理</span></p><p id=\"u468b1b02\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"uf8bd7b46\"><span class=\"ne-text\">声明式事务：AOP</span></li></ul><ul class=\"ne-ul\"><li id=\"ue3bd45df\"><span class=\"ne-text\">编程式事务：需要再代码中，进行事务管理</span></li></ul><p id=\"u78ede138\" class=\"ne-p\"><br></p><p id=\"u5e3ef618\" class=\"ne-p\"><strong><span class=\"ne-text\">声明式事务</span></strong></p><p id=\"ubb41dfc6\" class=\"ne-p\"><br></p><p id=\"ue171bbba\" class=\"ne-p\"><span class=\"ne-text\">先导入jar包</span></p><p id=\"u8037c43a\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"515c2895-1\" class=\"ne-codeblock\">&lt;dependencies&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\t\n&lt;!--在build中配置resources，来防止资源导出失败的问题--&gt;\n&lt;!-- Maven解决静态资源过滤问题 --&gt;\n&lt;build&gt;\n&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.xml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;include&gt;**/*.xml&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n&lt;/build&gt;</pre><p id=\"u87006774\" class=\"ne-p\"><br></p><p id=\"u83a02899\" class=\"ne-p\"><strong><span class=\"ne-text\">代码步骤：</span></strong></p><p id=\"u381ebc45\" class=\"ne-p\"><br></p><p id=\"ue9fe6cd4\" class=\"ne-p\"><span class=\"ne-text\">pojo实体类 User</span></p><p id=\"uabfadc30\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"f30c30b9\" class=\"ne-codeblock\">package pojo;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\tprivate int id;\n\tprivate String name;\n\tprivate String pwd;\n}</pre><p id=\"uf04e84dc\" class=\"ne-p\"><br></p><p id=\"ua93dcb27\" class=\"ne-p\"><span class=\"ne-text\">mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml</span></p><p id=\"uc456fd42\" class=\"ne-p\"><br></p><p id=\"u9d185ef3\" class=\"ne-p\"><span class=\"ne-text\">接口UserMapper</span></p><p id=\"u148d955a\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"3f95a62f\" class=\"ne-codeblock\">package mapper;\nimport java.util.List;\nimport org.apache.ibatis.annotations.Param;\nimport pojo.User;\n\npublic interface UserMapper {\n\tpublic List&lt;User&gt; getUser();\n\t\n\tpublic int insertUser(User user); \n\t\n\tpublic int delUser(@Param(&quot;id&quot;) int id); \n}</pre><p id=\"u5ec60dc9\" class=\"ne-p\"><br></p><p id=\"u9067e490\" class=\"ne-p\"><span class=\"ne-text\">UserMapperImpl</span></p><p id=\"u9717ccb9\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"2be76189\" class=\"ne-codeblock\">package mapper;\n\nimport pojo.User;\nimport org.apache.ibatis.session.SqlSession;\nimport org.mybatis.spring.support.SqlSessionDaoSupport;\nimport java.util.List;\n\npublic class UserMapperImpl extends SqlSessionDaoSupport implements UserMapper {\n    public List&lt;User&gt; getUser() {\n    \tUser user = new User(5,&quot;你好&quot;,&quot;ok&quot;);\n    \tinsertUser(user);\n    \tdelUser(5);\n        SqlSession sqlSession = getSqlSession();\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        return mapper.getUser();\n        //或者return  getSqlSession().getMapper(UserMapper.class).getUser();\n    }\n    //插入\n\tpublic int insertUser(User user) {\n\t\treturn getSqlSession().getMapper(UserMapper.class).insertUser(user);\n\t}\n\t//删除\n\tpublic int delUser(int id) {\n\t\treturn getSqlSession().getMapper(UserMapper.class).delUser(id);\n\t}\n}</pre><p id=\"u947ae9e9\" class=\"ne-p\"><br></p><p id=\"uf63f1b6a\" class=\"ne-p\"><span class=\"ne-text\">UserMapper.xml</span></p><p id=\"u0b2e8198\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"9bb9b753\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n        \n&lt;!-- 绑定接口 --&gt;\n&lt;mapper namespace=&quot;mapper.UserMapper&quot;&gt;\n\t&lt;select id=&quot;getUser&quot; resultType=&quot;pojo.User&quot;&gt;\n\t\tselect * from mybatis.mybatis\n\t&lt;/select&gt;\n\t\n\t&lt;insert id=&quot;insertUser&quot;  parameterType=&quot;pojo.User&quot; &gt;\n\t\tinsert into  mybatis.mybatis (id,name,pwd) values (#{id},#{name},#{pwd})\n\t&lt;/insert&gt;\n\t\n\t&lt;delete id=&quot;delUser&quot; parameterType=&quot;_int&quot;&gt;\n\t\tdeleteAAAAA from mybatis.mybatis where id = #{id}\n\t\t&lt;!-- deleteAAAAA是故意写错的 --&gt;\n\t&lt;/delete&gt;\n\n&lt;/mapper&gt;</pre><p id=\"u575b1a61\" class=\"ne-p\"><br></p><p id=\"u0ecab490\" class=\"ne-p\"><span class=\"ne-text\">resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml</span></p><p id=\"u07817bd7\" class=\"ne-p\"><br></p><p id=\"ub03b0667\" class=\"ne-p\"><span class=\"ne-text\">mybatis-config.xml</span></p><p id=\"ub1269210\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"cdcdd88b\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration\n  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;!-- configuration --&gt;\n&lt;configuration&gt;\n\t\n\t&lt;!--开启日志--&gt;\n\t&lt;settings&gt;\n\t\t&lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot; /&gt;\n\t&lt;/settings&gt;\n\t\n\t&lt;!--可以给实体类起别名--&gt;\n\t&lt;typeAliases&gt; \n\t\t&lt;package name=&quot;pojo&quot; /&gt;\n\t&lt;/typeAliases&gt;\n\n&lt;/configuration&gt;</pre><p id=\"u5ca01f1a\" class=\"ne-p\"><br></p><p id=\"u72a122da\" class=\"ne-p\"><span class=\"ne-text\">spring-dao.xml（已导入约束）</span></p><p id=\"u4ec06027\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"6a43cf52\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/tx\n        https://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\t\t\n\t&lt;!--data source --&gt;\n\t&lt;bean id=&quot;datasource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n\t\t&lt;property name=&quot;driverClassName&quot;\n\t\t\tvalue=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;serverTimezone=Asia/Shanghai&quot;/&gt;\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n\t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\n\t&lt;/bean&gt;\n\t\n\t&lt;!--sqlSessionFactory--&gt;\n    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;datasource&quot; /&gt;\n        &lt;!--绑定 mybatis 配置文件--&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/&gt;\n        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;/&gt;\n    &lt;/bean&gt;\n\t\n\t&lt;!--声明式事务--&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;constructor-arg ref=&quot;datasource&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!--结合aop实现事务织入--&gt;\n    &lt;!--配置事务的通知类--&gt;\n    &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\n        &lt;!--给哪些方法配置事务--&gt;\n        &lt;!--新东西：配置事务的传播特性 propagation--&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;add&quot; propagation=&quot;REQUIRED&quot;/&gt;\n            &lt;tx:method name=&quot;delete&quot; propagation=&quot;REQUIRED&quot;/&gt;\n            &lt;tx:method name=&quot;update&quot; propagation=&quot;REQUIRED&quot;/&gt;\n            &lt;tx:method name=&quot;query&quot; read-only=&quot;true&quot;/&gt;\n            &lt;!-- *号包含上面4个方法：\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot;/&gt; --&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n\n    &lt;!--配置事务切入--&gt;\n    &lt;aop:config&gt;\n        &lt;aop:pointcut id=&quot;txpointcut&quot; expression=&quot;execution(* mapper.*.*(..))&quot;/&gt;\n        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txpointcut&quot;/&gt;\n    &lt;/aop:config&gt;\n\n&lt;/beans&gt;</pre><p id=\"u3e351949\" class=\"ne-p\"><br></p><p id=\"u28aa2b95\" class=\"ne-p\"><span class=\"ne-text\">applicationContext.xml</span></p><p id=\"u1f0a4117\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"07798d76\" class=\"ne-codeblock\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n\t\thttps://www.springframework.org/schema/beans/spring-beans.xsd\n\t\thttp://www.springframework.org/schema/aop\n\t\thttps://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n\n\t&lt;import resource=&quot;spring-dao.xml&quot; /&gt;\n\n\t&lt;bean id=&quot;userMapper&quot; class=&quot;mapper.UserMapperImpl&quot;&gt;\n\t\t&lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;\n\t&lt;/bean&gt;\n&lt;/beans&gt;</pre><p id=\"u2ae86960\" class=\"ne-p\"><br></p><p id=\"ue2461720\" class=\"ne-p\"><span class=\"ne-text\">测试类</span></p><p id=\"u6ebc63da\" class=\"ne-p\"><br></p><pre data-language=\"java\" id=\"ffb686ab\" class=\"ne-codeblock\">import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\nimport mapper.UserMapper;import pojo.User;\npublic class MyTest7 {\n\tpublic static void main(String[] args) {\n\n\t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n\t\t\n\t\tUserMapper userMapper = (UserMapper) context.getBean(&quot;userMapper&quot;);\n\t\t\n\t\tfor (User user : userMapper.getUser()) {\n\t\t\tSystem.out.println(user);\n\t\t}\n\t}\n}</pre><p id=\"uce4f6751\" class=\"ne-p\"><br></p><p id=\"udf0c17f0\" class=\"ne-p\"><strong><span class=\"ne-text\">思考：</span></strong><span class=\"ne-text\"><br /></span><span class=\"ne-text\">为什么需要事务？</span></p><p id=\"u50a7b44c\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ua96f7901\"><span class=\"ne-text\">如果不配置事务，可能存在数据提交不一致的情况下；</span></li></ul><ul class=\"ne-ul\"><li id=\"u700c55eb\"><span class=\"ne-text\">如果不在spring中去配置声明式事务，我们就需要在代码中手动配置事务！</span></li></ul><ul class=\"ne-ul\"><li id=\"ua65f279c\"><span class=\"ne-text\">事务在项目的开发中非常重要，涉及到数据的一致性和完整性问题！</span></li></ul></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"traditional\" /><meta name=\"viewport\" content=\"fixed\" /><p data-lake-id=\"u33c16e34\" id=\"u33c16e34\"><br></p><p data-lake-id=\"ufb3d753d\" id=\"ufb3d753d\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fjpeg%2F21990331%2F1625470123698-d2c29622-abbf-4042-b3a6-46d13f848425.jpeg%22%2C%22taskId%22%3A%22u06eb739c-b8a1-480f-bd25-9b74cdab4ad%22%2C%22clientId%22%3A%22u144c994e-9948-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A521%2C%22height%22%3A220%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22v2-c7d94fabd9e1251acb3bba73458e3813_720w.jpg%22%2C%22size%22%3A17036%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A780%2C%22originHeight%22%3A330%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Spring%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A265.53653%2C%22y%22%3A190.19623%2C%22width%22%3A274.84856999999994%2C%22height%22%3A105.43666999999999%2C%22text%22%3A%22Spring%22%7D%5D%2C%22id%22%3A%22u1a5ee6b2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><h1 data-lake-id=\"Spring5\" id=\"Spring5\"><span data-lake-id=\"ua0b380df\" id=\"ua0b380df\">Spring5</span></h1><p data-lake-id=\"u7a3f4cdc\" id=\"u7a3f4cdc\"><br></p><h2 data-lake-id=\"f127deba\" id=\"f127deba\"><span data-lake-id=\"u80377564\" id=\"u80377564\">1.、Spring</span></h2><p data-lake-id=\"u24695a25\" id=\"u24695a25\"><br></p><h3 data-lake-id=\"c5aa432b\" id=\"c5aa432b\"><span data-lake-id=\"ua22d7392\" id=\"ua22d7392\">1.1、简介</span></h3><p data-lake-id=\"ue9c56e8f\" id=\"ue9c56e8f\"><br></p><ul list=\"u6c79fc9b\"><li fid=\"u2c996d2f\" data-lake-id=\"ua461011b\" id=\"ua461011b\"><span data-lake-id=\"ufdebe353\" id=\"ufdebe353\"> Spring ——&gt; 春天，为开源软件带来了春天 </span></li></ul><ul list=\"ue7a2a9c8\"><li fid=\"u0e9d4ca6\" data-lake-id=\"ua39aa87d\" id=\"ua39aa87d\"><span data-lake-id=\"u98c29034\" id=\"u98c29034\"> 2002，首次推出了Spring框架的雏形：interface21框架！ </span></li></ul><ul list=\"u4b72fd39\"><li fid=\"u282b0646\" data-lake-id=\"uc13599e2\" id=\"uc13599e2\"><span data-lake-id=\"u1b009546\" id=\"u1b009546\"> Spring框架以interface21框架为基础，经过重新设计，并不断丰富其内涵，于2004年3月24日发布了1.0正式版 </span></li></ul><ul list=\"u9b77d412\"><li fid=\"ua056d2be\" data-lake-id=\"ucea16018\" id=\"ucea16018\"><span data-lake-id=\"u538ad0c4\" id=\"u538ad0c4\"> Spring的理念：使用现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ </span></li></ul><ul list=\"u8c56a3f4\"><li fid=\"u864681ef\" data-lake-id=\"ua2240493\" id=\"ua2240493\"><span data-lake-id=\"u260c3910\" id=\"u260c3910\"> SSH：Struct2 + Spring + Hibernate（全自动持久化框架）！ </span></li></ul><ul list=\"u43f9221b\"><li fid=\"u3ce3b97c\" data-lake-id=\"u2b4c7c1c\" id=\"u2b4c7c1c\"><span data-lake-id=\"u1b7cda56\" id=\"u1b7cda56\"> SSM：SpringMVC + Spring + MyBatis（半自动持久化框架，可自定义性质更强）！ </span></li></ul><p data-lake-id=\"ue7cdcc71\" id=\"ue7cdcc71\"><br></p><p data-lake-id=\"u287abb85\" id=\"u287abb85\"><span data-lake-id=\"u1801d778\" id=\"u1801d778\">spring官网： </span><a href=\"https://spring.io/projects/spring-framework#overview\" target=\"_blank\" data-lake-id=\"u7eb80bd0\" id=\"u7eb80bd0\"><span data-lake-id=\"uf1ea10ed\" id=\"uf1ea10ed\">https://spring.io/projects/spring-framework#overview</span></a></p><p data-lake-id=\"udbc9367c\" id=\"udbc9367c\"><br></p><p data-lake-id=\"ue74f454a\" id=\"ue74f454a\"><span data-lake-id=\"u9cc7fb8c\" id=\"u9cc7fb8c\">官方下载： </span><a href=\"https://repo.spring.io/release/org/springframework/spring/\" target=\"_blank\" data-lake-id=\"u7a0f605b\" id=\"u7a0f605b\"><span data-lake-id=\"ucf635b6e\" id=\"ucf635b6e\">https://repo.spring.io/release/org/springframework/spring/</span></a></p><p data-lake-id=\"u3660e164\" id=\"u3660e164\"><br></p><p data-lake-id=\"u60310c6a\" id=\"u60310c6a\"><span data-lake-id=\"u3da9a875\" id=\"u3da9a875\">GitHub： </span><a href=\"https://github.com/spring-projects/spring-framework\" target=\"_blank\" data-lake-id=\"u3abcade3\" id=\"u3abcade3\"><span data-lake-id=\"u5cb9504f\" id=\"u5cb9504f\">https://github.com/spring-projects/spring-framework</span></a></p><p data-lake-id=\"u9252018b\" id=\"u9252018b\"><br></p><p data-lake-id=\"u61be89d7\" id=\"u61be89d7\"><span data-lake-id=\"uf52ae21f\" id=\"uf52ae21f\">Spring Web MVC： </span><a href=\"https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE\" target=\"_blank\" data-lake-id=\"ufc15a678\" id=\"ufc15a678\"><span data-lake-id=\"u1b22d4bc\" id=\"u1b22d4bc\">spring-webmvc最新版</span></a></p><p data-lake-id=\"ua0199865\" id=\"ua0199865\"><br></p><p data-lake-id=\"ue0261212\" id=\"ue0261212\"><span data-lake-id=\"u216e4d29\" id=\"u216e4d29\">Spring Web MVC和Spring-JDBC的pom配置文件：</span></p><p data-lake-id=\"u72c0ee99\" id=\"u72c0ee99\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%5Cn%5Cn%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-jdbc%20--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Espring-jdbc%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226401a972%22%7D\"></card><p data-lake-id=\"u1dc608a6\" id=\"u1dc608a6\"><br></p><h3 data-lake-id=\"d0c5f72e\" id=\"d0c5f72e\"><span data-lake-id=\"ufccd504e\" id=\"ufccd504e\">1.2 优点</span></h3><p data-lake-id=\"uabd3ce6b\" id=\"uabd3ce6b\"><br></p><ul list=\"ua79f938d\"><li fid=\"u7646752d\" data-lake-id=\"u981b3a37\" id=\"u981b3a37\"><span data-lake-id=\"u062f73ac\" id=\"u062f73ac\">Spring是一个开源的免费的框架（容器）！</span></li></ul><ul list=\"u3f5f0ae0\"><li fid=\"u9865e3f3\" data-lake-id=\"u98b3c276\" id=\"u98b3c276\"><span data-lake-id=\"uc6f97b1d\" id=\"uc6f97b1d\">Spring是一个轻量级的、非入侵式的框架！</span></li></ul><ul list=\"u09b06c9d\"><li fid=\"uf9b23d31\" data-lake-id=\"uf0020816\" id=\"uf0020816\"><span data-lake-id=\"u06837721\" id=\"u06837721\">控制反转（IoC），面向切面编程（AOP）</span></li></ul><ul list=\"u61900a82\"><li fid=\"uee0592de\" data-lake-id=\"ucad3054b\" id=\"ucad3054b\"><span data-lake-id=\"ub2d510f8\" id=\"ub2d510f8\">支持事务的处理，对框架整合的支持！（几乎市面上所有热门框架都能整合进去）！</span></li></ul><p data-lake-id=\"u36050e5b\" id=\"u36050e5b\"><br></p><p data-lake-id=\"u10576bc1\" id=\"u10576bc1\"><span data-lake-id=\"u4368ba29\" id=\"u4368ba29\">=== 总结一句话：Spring就是一个轻量级的控制反转（IoC）和面向切面编程（AOP）的框架！ ===</span></p><p data-lake-id=\"u9bf4e53f\" id=\"u9bf4e53f\"><br></p><h3 data-lake-id=\"e97d5a26\" id=\"e97d5a26\"><span data-lake-id=\"ubf667994\" id=\"ubf667994\">1.3 组成</span></h3><p data-lake-id=\"u46e16bed\" id=\"u46e16bed\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471469101-9ac80fb7-a32a-41fa-8ed3-85dc36791cd4.png%22%2C%22taskId%22%3A%22ufd3f5eae-1736-41c9-8255-72f6add5160%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A724.5%2C%22height%22%3A375%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A270746%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1449%2C%22originHeight%22%3A750%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22SpringORM%20SpringWeb%20Hibeinatesupport%20WebApplicaboncontext%20IBatssupport%20Mutipartresolver%20JDOsupport%20Webutnties%20SpringWeb%20MVC%20SpringAOP%20WebMVc%20Source-level%20Framework%20SpringContext%20metadata%20WebVhewts%20AOPinfrastructure%20Applicationcontext%20JSPNelocity%20SpringDAO%20UIsupport%20PDFExport%20Transactioninfrastructure%20Validation%20JOBCsupport%20JNDLEJBsuPportand%20DAOsupport%20remodeling%20MaiT%20SpringCore%20Supportingutites%20Beancontainer%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A426.17523%2C%22y%22%3A58.533268%2C%22width%22%3A185.86164000000002%2C%22height%22%3A35.672202000000006%2C%22text%22%3A%22SpringORM%22%7D%2C%7B%22x%22%3A848.1181%2C%22y%22%3A60.62646%2C%22width%22%3A176.81959999999992%2C%22height%22%3A35.02161%2C%22text%22%3A%22SpringWeb%22%7D%2C%7B%22x%22%3A413.74402%2C%22y%22%3A93.52601%2C%22width%22%3A214.16174%2C%22height%22%3A29.035110000000003%2C%22text%22%3A%22Hibeinatesupport%22%7D%2C%7B%22x%22%3A801.3495%2C%22y%22%3A95.38029%2C%22width%22%3A275.8605%2C%22height%22%3A26.751710000000003%2C%22text%22%3A%22WebApplicaboncontext%22%7D%2C%7B%22x%22%3A441.20627%2C%22y%22%3A122.615555%2C%22width%22%3A157.91689999999994%2C%22height%22%3A26.658344999999997%2C%22text%22%3A%22IBatssupport%22%7D%2C%7B%22x%22%3A839.2514%2C%22y%22%3A125.29521%2C%22width%22%3A197.05630000000008%2C%22height%22%3A23.578990000000005%2C%22text%22%3A%22Mutipartresolver%22%7D%2C%7B%22x%22%3A446.40128%2C%22y%22%3A150.06378%2C%22width%22%3A148.43472000000003%2C%22height%22%3A27.90813%2C%22text%22%3A%22JDOsupport%22%7D%2C%7B%22x%22%3A871.5946%2C%22y%22%3A152.5864%2C%22width%22%3A133.4683%2C%22height%22%3A24.034250000000014%2C%22text%22%3A%22Webutnties%22%7D%2C%7B%22x%22%3A1214.456%2C%22y%22%3A151.59898%2C%22width%22%3A176.365%2C%22height%22%3A40.35192999999998%2C%22text%22%3A%22SpringWeb%22%7D%2C%7B%22x%22%3A1265.9646%2C%22y%22%3A190.05911%2C%22width%22%3A72.69460000000004%2C%22height%22%3A31.008700000000005%2C%22text%22%3A%22MVC%22%7D%2C%7B%22x%22%3A59.323925%2C%22y%22%3A208.65463%2C%22width%22%3A178.201325%2C%22height%22%3A30.969809999999995%2C%22text%22%3A%22SpringAOP%22%7D%2C%7B%22x%22%3A1233.9358%2C%22y%22%3A222.68703%2C%22width%22%3A125.94150000000013%2C%22height%22%3A26.992549999999994%2C%22text%22%3A%22WebMVc%22%7D%2C%7B%22x%22%3A69.68365%2C%22y%22%3A243.30603%2C%22width%22%3A151.56598%2C%22height%22%3A23.75503999999998%2C%22text%22%3A%22Source-level%22%7D%2C%7B%22x%22%3A1233.4515%2C%22y%22%3A253.95412%2C%22width%22%3A134.82180000000017%2C%22height%22%3A24.462109999999996%2C%22text%22%3A%22Framework%22%7D%2C%7B%22x%22%3A825.32025%2C%22y%22%3A272.11795%2C%22width%22%3A225.59015%2C%22height%22%3A30.379790000000014%2C%22text%22%3A%22SpringContext%22%7D%2C%7B%22x%22%3A90.49343%2C%22y%22%3A273.21066%2C%22width%22%3A111.76467000000001%2C%22height%22%3A22.00781999999998%2C%22text%22%3A%22metadata%22%7D%2C%7B%22x%22%3A1233.7002%2C%22y%22%3A282.59885%2C%22width%22%3A132.4752000000001%2C%22height%22%3A23.70757999999995%2C%22text%22%3A%22WebVhewts%22%7D%2C%7B%22x%22%3A41.478107%2C%22y%22%3A299.95532%2C%22width%22%3A214.040313%2C%22height%22%3A24.079780000000028%2C%22text%22%3A%22AOPinfrastructure%22%7D%2C%7B%22x%22%3A827.75085%2C%22y%22%3A303.24036%2C%22width%22%3A220.94394999999997%2C%22height%22%3A29.057709999999986%2C%22text%22%3A%22Applicationcontext%22%7D%2C%7B%22x%22%3A1229.8146%2C%22y%22%3A311.42566%2C%22width%22%3A143.50130000000013%2C%22height%22%3A24.747799999999984%2C%22text%22%3A%22JSPNelocity%22%7D%2C%7B%22x%22%3A428.6438%2C%22y%22%3A313.7525%2C%22width%22%3A178.83769999999998%2C%22height%22%3A31.690249999999992%2C%22text%22%3A%22SpringDAO%22%7D%2C%7B%22x%22%3A877.7851%2C%22y%22%3A334.17505%2C%22width%22%3A121.42859999999996%2C%22height%22%3A24.900269999999978%2C%22text%22%3A%22UIsupport%22%7D%2C%7B%22x%22%3A1233.7664%2C%22y%22%3A339.59128%2C%22width%22%3A138.01160000000004%2C%22height%22%3A25.74892%2C%22text%22%3A%22PDFExport%22%7D%2C%7B%22x%22%3A371.285%2C%22y%22%3A347.44327%2C%22width%22%3A296.14579999999995%2C%22height%22%3A26.15325999999999%2C%22text%22%3A%22Transactioninfrastructure%22%7D%2C%7B%22x%22%3A877.29004%2C%22y%22%3A359.9231%2C%22width%22%3A116.28856000000007%2C%22height%22%3A24.59340000000003%2C%22text%22%3A%22Validation%22%7D%2C%7B%22x%22%3A439.21976%2C%22y%22%3A375.47882%2C%22width%22%3A164.61049999999994%2C%22height%22%3A26.363580000000013%2C%22text%22%3A%22JOBCsupport%22%7D%2C%7B%22x%22%3A803.41595%2C%22y%22%3A388.12006%2C%22width%22%3A263.59444999999994%2C%22height%22%3A27.352689999999996%2C%22text%22%3A%22JNDLEJBsuPportand%22%7D%2C%7B%22x%22%3A443.54462%2C%22y%22%3A403.69022%2C%22width%22%3A153.72253%2C%22height%22%3A25.927759999999978%2C%22text%22%3A%22DAOsupport%22%7D%2C%7B%22x%22%3A871.9811%2C%22y%22%3A420.83722%2C%22width%22%3A132.04563000000007%2C%22height%22%3A25.332519999999988%2C%22text%22%3A%22remodeling%22%7D%2C%7B%22x%22%3A912.3317%2C%22y%22%3A448.9298%2C%22width%22%3A50.76440000000002%2C%22height%22%3A21.432799999999986%2C%22text%22%3A%22MaiT%22%7D%2C%7B%22x%22%3A623.3431%2C%22y%22%3A598.67175%2C%22width%22%3A183.95535999999993%2C%22height%22%3A34.75562000000002%2C%22text%22%3A%22SpringCore%22%7D%2C%7B%22x%22%3A613.23224%2C%22y%22%3A632.4647%2C%22width%22%3A208.26695999999993%2C%22height%22%3A27.086400000000026%2C%22text%22%3A%22Supportingutites%22%7D%2C%7B%22x%22%3A628.8268%2C%22y%22%3A662.72815%2C%22width%22%3A177.50955999999996%2C%22height%22%3A24.34254999999996%2C%22text%22%3A%22Beancontainer%22%7D%5D%2C%22id%22%3A%22u553607f9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u4cf5fa60\" id=\"u4cf5fa60\"><br></p><p data-lake-id=\"u4583f367\" id=\"u4583f367\"><br></p><h3 data-lake-id=\"6b590df3\" id=\"6b590df3\"><span data-lake-id=\"u56133d26\" id=\"u56133d26\">1.4、扩展</span></h3><p data-lake-id=\"u74e4f1e9\" id=\"u74e4f1e9\"><br></p><p data-lake-id=\"u9d88e110\" id=\"u9d88e110\"><span data-lake-id=\"u9d012251\" id=\"u9d012251\">现代化的java开发 -&gt; 基于Spring的开发！</span></p><p data-lake-id=\"ufd04242b\" id=\"ufd04242b\"><br></p><p data-lake-id=\"u09cb4f7a\" id=\"u09cb4f7a\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471489413-df72e28a-2468-4e34-9a71-1fb0436b433f.png%22%2C%22taskId%22%3A%22u4176e656-ae09-409b-8999-5ad3ed67e44%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A722.5%2C%22height%22%3A284%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A664695%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1445%2C%22originHeight%22%3A567%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Spring%3Athesourceformodernjava%20SpringCLoud%20SpringCloud%20SpringBoot%20DataFIOw%20copnect%20Build%20doordinate%20YourApp%20Anything%20Eveuthing%20Anything%20%E8%BF%9E%E6%8E%A5%E4%B8%80%E5%88%87%20%E6%9E%84%E5%BB%BA%E4%B8%80%E5%88%87%20%E5%8D%8F%E8%B0%83%E4%B8%80%E5%88%87%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A269.4185%2C%22y%22%3A5.032746%2C%22width%22%3A934.9100000000001%2C%22height%22%3A59.49606399999999%2C%22text%22%3A%22Spring%3Athesourceformodernjava%22%7D%2C%7B%22x%22%3A1129.4359%2C%22y%22%3A263.0722%2C%22width%22%3A140.75670000000014%2C%22height%22%3A22.771860000000004%2C%22text%22%3A%22SpringCLoud%22%7D%2C%7B%22x%22%3A826.3018%2C%22y%22%3A274.39346%2C%22width%22%3A142.35340000000008%2C%22height%22%3A26.56747999999999%2C%22text%22%3A%22SpringCloud%22%7D%2C%7B%22x%22%3A519.40625%2C%22y%22%3A276.51416%2C%22width%22%3A131.32208000000003%2C%22height%22%3A22.46035999999998%2C%22text%22%3A%22SpringBoot%22%7D%2C%7B%22x%22%3A1154.8451%2C%22y%22%3A287.47678%2C%22width%22%3A108.27199999999993%2C%22height%22%3A18.707519999999988%2C%22text%22%3A%22DataFIOw%22%7D%2C%7B%22x%22%3A1133.8859%2C%22y%22%3A358.43057%2C%22width%22%3A127.4647%2C%22height%22%3A30.309529999999995%2C%22text%22%3A%22copnect%22%7D%2C%7B%22x%22%3A544.89197%2C%22y%22%3A361.1134%2C%22width%22%3A75.22906%2C%22height%22%3A23.70240000000001%2C%22text%22%3A%22Build%22%7D%2C%7B%22x%22%3A820.2732%2C%22y%22%3A365.28006%2C%22width%22%3A147.28124000000003%2C%22height%22%3A23.438379999999995%2C%22text%22%3A%22doordinate%22%7D%2C%7B%22x%22%3A48.91972%2C%22y%22%3A388.21567%2C%22width%22%3A140.82616000000002%2C%22height%22%3A32.575350000000014%2C%22text%22%3A%22YourApp%22%7D%2C%7B%22x%22%3A822.54266%2C%22y%22%3A390.14133%2C%22width%22%3A113.98139000000003%2C%22height%22%3A28.299669999999992%2C%22text%22%3A%22Anything%22%7D%2C%7B%22x%22%3A1108.9899%2C%22y%22%3A392.04575%2C%22width%22%3A149.0864999999999%2C%22height%22%3A28.874630000000025%2C%22text%22%3A%22Eveuthing%22%7D%2C%7B%22x%22%3A501.46017%2C%22y%22%3A393.61267%2C%22width%22%3A126.36728%2C%22height%22%3A25.28961000000004%2C%22text%22%3A%22Anything%22%7D%2C%7B%22x%22%3A1072.255%2C%22y%22%3A501.87784%2C%22width%22%3A178.76989999999978%2C%22height%22%3A43.56456000000003%2C%22text%22%3A%22%E8%BF%9E%E6%8E%A5%E4%B8%80%E5%88%87%22%7D%2C%7B%22x%22%3A417.0879%2C%22y%22%3A506.3205%2C%22width%22%3A173.9878%2C%22height%22%3A44.71769999999998%2C%22text%22%3A%22%E6%9E%84%E5%BB%BA%E4%B8%80%E5%88%87%22%7D%2C%7B%22x%22%3A747.9592%2C%22y%22%3A509.39124%2C%22width%22%3A171.92849999999999%2C%22height%22%3A42.11809999999997%2C%22text%22%3A%22%E5%8D%8F%E8%B0%83%E4%B8%80%E5%88%87%22%7D%5D%2C%22id%22%3A%22u0f064c2e%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"ucafefa7c\" id=\"ucafefa7c\"><br></p><ul list=\"u7f3b7504\"><li fid=\"u7ab961ee\" data-lake-id=\"u64c8715f\" id=\"u64c8715f\"><span data-lake-id=\"u166d45ef\" id=\"u166d45ef\">Spring Boot </span></li></ul><ul list=\"u8fe2f94f\" data-lake-indent=\"1\"><li fid=\"u848a0f66\" data-lake-id=\"u8628b658\" id=\"u8628b658\"><span data-lake-id=\"u4323a4ff\" id=\"u4323a4ff\">一个快速开发的脚手架</span></li></ul><ul list=\"u92c38df8\" data-lake-indent=\"1\"><li fid=\"u91bae913\" data-lake-id=\"u54aebf22\" id=\"u54aebf22\"><span data-lake-id=\"u71107082\" id=\"u71107082\">基于SpringBoot可以快速开发单个微服务</span></li></ul><ul list=\"u1e0629ce\" data-lake-indent=\"1\"><li fid=\"u4424dd6d\" data-lake-id=\"u8c683569\" id=\"u8c683569\"><span data-lake-id=\"u4820cb8b\" id=\"u4820cb8b\">约定大于配置！</span></li></ul><p data-lake-id=\"uec34c5f9\" id=\"uec34c5f9\"><span data-lake-id=\"u803705fd\" id=\"u803705fd\"> </span></p><ul list=\"uded17758\"><li fid=\"u45af0d91\" data-lake-id=\"u971324ce\" id=\"u971324ce\"><span data-lake-id=\"uf4be3951\" id=\"uf4be3951\">Spring Cloud </span></li></ul><ul list=\"u29f6f587\" data-lake-indent=\"1\"><li fid=\"u0ffe701a\" data-lake-id=\"u43127e2f\" id=\"u43127e2f\"><span data-lake-id=\"u79fe262a\" id=\"u79fe262a\">SpringCloud是基于SpringBoot实现的！</span></li></ul><p data-lake-id=\"uf2d1f0a2\" id=\"uf2d1f0a2\"><span data-lake-id=\"u188127b3\" id=\"u188127b3\"> </span></p><p data-lake-id=\"u02c9a514\" id=\"u02c9a514\"><span data-lake-id=\"udfcd8c16\" id=\"udfcd8c16\">因为现在大多数公司都在使用SpringBoot进行快速开发，学习SpringBoot的前提，需要完全掌握Spring及SpringMVC！承上启下的作用！</span></p><p data-lake-id=\"u5f26eb16\" id=\"u5f26eb16\"><br></p><h2 data-lake-id=\"0e8f9773\" id=\"0e8f9773\"><span data-lake-id=\"u43e90139\" id=\"u43e90139\">2、IoC（控制反转）理论推导</span></h2><p data-lake-id=\"u9831bb98\" id=\"u9831bb98\"><br></p><p data-lake-id=\"u8cadbcf0\" id=\"u8cadbcf0\"><strong><span data-lake-id=\"uaa3c2874\" id=\"uaa3c2874\">传统</span></strong><span data-lake-id=\"uf29ff64b\" id=\"uf29ff64b\">的调用</span></p><p data-lake-id=\"ue3d472b9\" id=\"ue3d472b9\"><br></p><ol list=\"uc4ccb1e9\"><li fid=\"uadb9cb3a\" data-lake-id=\"ucf78816b\" id=\"ucf78816b\"><span data-lake-id=\"u786d7e02\" id=\"u786d7e02\"> UserDao </span><span data-lake-id=\"u0a6d20b1\" id=\"u0a6d20b1\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20dao%3B%5Cnpublic%20interface%20UserDao%20%7B%5Cn%5Ctvoid%20getUser()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224994d2fd%22%7D\"></card><ol list=\"uc01a9ea5\" start=\"2\"><li fid=\"u9d32c838\" data-lake-id=\"u2b0499c0\" id=\"u2b0499c0\"><span data-lake-id=\"ucaa6d6f2\" id=\"ucaa6d6f2\"> UserDaoImp </span><span data-lake-id=\"u1ea8717d\" id=\"u1ea8717d\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20dao%3B%5Cnpublic%20class%20UserDaoImpl%20implements%20UserDao%7B%5Cn%5Ctpublic%20void%20getUser()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E9%BB%98%E8%AE%A4%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%5C%22)%3B%5Ct%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f4fda1ac%22%7D\"></card><ol list=\"udcff6a72\" start=\"3\"><li fid=\"u68d681b8\" data-lake-id=\"ud5270d29\" id=\"ud5270d29\"><span data-lake-id=\"u3b01072c\" id=\"u3b01072c\"> UserSevice </span><span data-lake-id=\"u74435c26\" id=\"u74435c26\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20Service%3B%5Cnpublic%20interface%20UserService%20%7B%5Cn%5Ctvoid%20getUser()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fc565eda%22%7D\"></card><ol list=\"ud86fee3d\" start=\"4\"><li fid=\"ucbceaa24\" data-lake-id=\"ub8802b83\" id=\"ub8802b83\"><span data-lake-id=\"u35163671\" id=\"u35163671\"> UserServiceImp </span><span data-lake-id=\"u3cfbf240\" id=\"u3cfbf240\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20Service%3B%5Cnimport%20dao.UserDao%3B%5Cnimport%20dao.UserDaoImpl%3B%5Cn%5Cnpublic%20class%20UserServiceImpl%20implements%20UserService%7B%5Cn%5Ct%5CtUserDao%20userDao%20%3D%20new%20UserDaoImpl()%3B%5Ct%5Ct%5Cn%5Ct%5Ctpublic%20void%20getUser()%7B%5Cn%5Ct%5Ct%5CtuserDao.getUser()%3B%5Cn%5Ct%5Ct%7D%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ea2a62b8%22%7D\"></card><p data-lake-id=\"u7b766b9b\" id=\"u7b766b9b\"><br></p><p data-lake-id=\"ubc7873d2\" id=\"ubc7873d2\"><span data-lake-id=\"u5fa7d274\" id=\"u5fa7d274\">测试</span></p><p data-lake-id=\"ubfe9bad9\" id=\"ubfe9bad9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle0%3B%5Cnimport%20Service.UserService%3B%5Cnimport%20Service.UserServiceImpl%3B%5Cn%5Cnpublic%20class%20MyTest0%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5Ct%2F%2F%20%E7%94%A8%E6%88%B7%E5%AE%9E%E9%99%85%E8%B0%83%E7%94%A8%E7%9A%84%E6%98%AF%E4%B8%9A%E5%8A%A1%E5%B1%82%EF%BC%8Cdao%E5%B1%82%E4%BB%96%E4%BB%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E6%8E%A5%E8%A7%A6%5Cn%5Ct%5CtUserService%20userService%20%3D%20new%20UserServiceImpl()%3B%5Cn%5Ct%5CtuserService.getUser()%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f7186df3%22%7D\"></card><p data-lake-id=\"u1d56349f\" id=\"u1d56349f\"><br></p><p data-lake-id=\"u04ca42fa\" id=\"u04ca42fa\"><span data-lake-id=\"u9a183737\" id=\"u9a183737\">在我们之前的业务中，用户的需求可能会影响我们原来的代码，我们需要根据用户的需求去修改原代码！如果程序代码量十分大，修改一次的成本代价十分昂贵！</span></p><p data-lake-id=\"ua83cc58b\" id=\"ua83cc58b\"><br></p><p data-lake-id=\"u901a4bcb\" id=\"u901a4bcb\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471525605-dfe1b994-8532-43a8-8fd3-c810b4a9ad52.png%22%2C%22taskId%22%3A%22uf1e21627-30d9-4320-8487-04c4391dad0%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A443.5%2C%22height%22%3A547%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A114582%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A887%2C%22originHeight%22%3A1094%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%94%A8%E6%88%B7%20%E4%B8%9A%E5%8A%A1%E5%B1%82%20(%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%A8%8B%E5%BA%8F%E5%91%98%2C%E7%A8%8B%E5%BA%8F%20%E8%A6%81%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%20oracle%20mysql%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A411.0588%2C%22y%22%3A153.71645%2C%22width%22%3A73.56016%2C%22height%22%3A41.33744999999999%2C%22text%22%3A%22%E7%94%A8%E6%88%B7%22%7D%2C%7B%22x%22%3A391.52594%2C%22y%22%3A470.444%2C%22width%22%3A111.64618000000002%2C%22height%22%3A43.0686%2C%22text%22%3A%22%E4%B8%9A%E5%8A%A1%E5%B1%82%22%7D%2C%7B%22x%22%3A259.84073%2C%22y%22%3A508.37878%2C%22width%22%3A388.36427000000003%2C%22height%22%3A40.42687999999998%2C%22text%22%3A%22(%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%A8%8B%E5%BA%8F%E5%91%98%2C%E7%A8%8B%E5%BA%8F%22%7D%2C%7B%22x%22%3A338.26318%2C%22y%22%3A544.83453%2C%22width%22%3A201.08682000000005%2C%22height%22%3A35.898930000000064%2C%22text%22%3A%22%E8%A6%81%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%22%7D%2C%7B%22x%22%3A395.21524%2C%22y%22%3A965.3042%2C%22width%22%3A103.60206%2C%22height%22%3A26.45150000000001%2C%22text%22%3A%22oracle%22%7D%2C%7B%22x%22%3A61.71592%2C%22y%22%3A965.1763%2C%22width%22%3A100.38973%2C%22height%22%3A28.695040000000063%2C%22text%22%3A%22mysql%22%7D%5D%2C%22id%22%3A%22u64f67cf9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u041e3e67\" id=\"u041e3e67\"><br /></span><strong><span data-lake-id=\"u94943a0d\" id=\"u94943a0d\">改良：</span></strong><span data-lake-id=\"ud4e370bc\" id=\"ud4e370bc\">我们使用一个Set接口实现。已经发生了革命性的变化！</span></p><p data-lake-id=\"u91035894\" id=\"u91035894\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E5%9C%A8Service%E5%B1%82%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB(UserServiceImpl)%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AASet()%E6%96%B9%E6%B3%95%5Cn%2F%2F%E5%88%A9%E7%94%A8set%E5%8A%A8%E6%80%81%E5%AE%9E%E7%8E%B0%E5%80%BC%E7%9A%84%E6%B3%A8%E5%85%A5%EF%BC%81%5Cn%2F%2FDAO%E5%B1%82%E5%B9%B6%E4%B8%8D%E5%86%99%E6%AD%BB%E5%9B%BA%E5%AE%9A%E8%B0%83%E7%94%A8%E5%93%AA%E4%B8%80%E4%B8%AAUserDao%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%5Cn%2F%2F%E8%80%8C%E6%98%AF%E9%80%9A%E8%BF%87Service%E5%B1%82%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E8%AE%BE%E7%BD%AE%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%81%5Cnprivate%20UserDao%20userDao%3B%5Cnpublic%20void%20setUserDao(UserDao%20userDao)%7B%5Cn%20%20%20%20this.userDao%20%3D%20userDao%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2216e3de66%22%7D\"></card><p data-lake-id=\"uffc45f64\" id=\"uffc45f64\"><br></p><p data-lake-id=\"u5f5d7b15\" id=\"u5f5d7b15\"><span data-lake-id=\"u3223a7cf\" id=\"u3223a7cf\">set() 方法实际上是动态改变了 UserDao userDao 的 初始化部分（</span><strong><span data-lake-id=\"ubbe0540d\" id=\"ubbe0540d\">new UserDaoImpl()</span></strong><span data-lake-id=\"u330507d0\" id=\"u330507d0\">）</span></p><p data-lake-id=\"ufefa9a6d\" id=\"ufefa9a6d\"><br></p><p data-lake-id=\"u92c63b67\" id=\"u92c63b67\"><span data-lake-id=\"udec86c57\" id=\"udec86c57\">测试中加上</span></p><p data-lake-id=\"u23e40e40\" id=\"u23e40e40\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22((UserServiceImpl)userService).setUserDao(new%20UserDaoImpl())%3B%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22510ae50f%22%7D\"></card><p data-lake-id=\"ua3f7e65a\" id=\"ua3f7e65a\"><br></p><ul list=\"u775af23e\"><li fid=\"ude1a44f1\" data-lake-id=\"u6a0f65c4\" id=\"u6a0f65c4\"><span data-lake-id=\"u61218cac\" id=\"u61218cac\">之前，程序是主动创建对象！</span><strong><span data-lake-id=\"u9f3a64cb\" id=\"u9f3a64cb\">控制权在程序猿手上</span></strong><span data-lake-id=\"u5254f044\" id=\"u5254f044\">！</span></li></ul><ul list=\"u540a6c63\"><li fid=\"u2ef1fc9e\" data-lake-id=\"u81268f8a\" id=\"u81268f8a\"><span data-lake-id=\"uef6e3b01\" id=\"uef6e3b01\">使用了set注入后，程序不再具有主动性，而是变成了被动的接受对象！（</span><strong><span data-lake-id=\"ue28272fa\" id=\"ue28272fa\">主动权在客户手上</span></strong><span data-lake-id=\"uc537c9f0\" id=\"uc537c9f0\">）</span></li></ul><p data-lake-id=\"ue95713c3\" id=\"ue95713c3\"><br></p><p data-lake-id=\"u3ae2466c\" id=\"u3ae2466c\"><span data-lake-id=\"ua921c1cc\" id=\"ua921c1cc\">本质上解决了问题，程序员不用再去管理对象的创建</span></p><p data-lake-id=\"u6a969884\" id=\"u6a969884\"><br></p><p data-lake-id=\"ube3d558a\" id=\"ube3d558a\"><span data-lake-id=\"u01241b2f\" id=\"u01241b2f\">系统的耦合性大大降低，可以更专注在业务的实现上</span></p><p data-lake-id=\"u85c0d912\" id=\"u85c0d912\"><br></p><p data-lake-id=\"ufc7508fd\" id=\"ufc7508fd\"><span data-lake-id=\"u56e42012\" id=\"u56e42012\">这是IoC（控制反转）的原型，反转(理解)：主动权交给了用户</span></p><p data-lake-id=\"u709808a9\" id=\"u709808a9\"><br></p><p data-lake-id=\"u30233927\" id=\"u30233927\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471548672-390be083-84e3-4789-b6a8-61b4d2bb6bae.png%22%2C%22taskId%22%3A%22u875cbec4-c3b4-47b5-9578-c161d15fdb5%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A493%2C%22height%22%3A544%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A121755%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A986%2C%22originHeight%22%3A1087%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%94%A8%E6%88%B7%20%E7%94%A8%E6%88%B7%E8%A6%81%20%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%94%A8%E6%88%B7%20%E9%95%BF%20%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%20%E4%B8%9A%E5%8A%A1%E5%B1%82%20oracle%20mysql%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A490.1789%2C%22y%22%3A111.18507%2C%22width%22%3A69.66870000000006%2C%22height%22%3A32.661789999999996%2C%22text%22%3A%22%E7%94%A8%E6%88%B7%22%7D%2C%7B%22x%22%3A616.39044%2C%22y%22%3A144.96829%2C%22width%22%3A108.52415999999994%2C%22height%22%3A41.857789999999994%2C%22text%22%3A%22%E7%94%A8%E6%88%B7%E8%A6%81%22%7D%2C%7B%22x%22%3A359.01923%2C%22y%22%3A145.77406%2C%22width%22%3A225.32763%2C%22height%22%3A37.46498%2C%22text%22%3A%22%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%94%A8%E6%88%B7%22%7D%2C%7B%22x%22%3A336.81738%2C%22y%22%3A150.76761%2C%22width%22%3A18.462949999999978%2C%22height%22%3A36.2825%2C%22text%22%3A%22%E9%95%BF%22%7D%2C%7B%22x%22%3A431.00974%2C%22y%22%3A181.65039%2C%22width%22%3A172.34076%2C%22height%22%3A38.80931000000001%2C%22text%22%3A%22%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%22%7D%2C%7B%22x%22%3A468.65793%2C%22y%22%3A491.34213%2C%22width%22%3A111.94896999999997%2C%22height%22%3A37.42447000000004%2C%22text%22%3A%22%E4%B8%9A%E5%8A%A1%E5%B1%82%22%7D%2C%7B%22x%22%3A471.57623%2C%22y%22%3A944.8344%2C%22width%22%3A105.84167000000002%2C%22height%22%3A32.96924999999999%2C%22text%22%3A%22oracle%22%7D%2C%7B%22x%22%3A138.3957%2C%22y%22%3A948.721%2C%22width%22%3A99.46737999999999%2C%22height%22%3A27.77170000000001%2C%22text%22%3A%22mysql%22%7D%5D%2C%22id%22%3A%22u68f4844a%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"ud97ff9ef\" id=\"ud97ff9ef\"><br></p><h3 data-lake-id=\"e7031f03\" id=\"e7031f03\"><span data-lake-id=\"u4f5d870b\" id=\"u4f5d870b\">IoC本质</span></h3><p data-lake-id=\"u20b7c12a\" id=\"u20b7c12a\"><br></p><p data-lake-id=\"u7c74e810\" id=\"u7c74e810\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471698388-279f845b-d9fd-4c1c-aa04-9178f7d2e879.png%22%2C%22taskId%22%3A%22u65cdfe48-8874-4914-ae85-e831f02b4c9%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A716.5%2C%22height%22%3A97%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A450005%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1433%2C%22originHeight%22%3A194%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC.CCnveriongcont%2C%E6%98%AF%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%2CD%E8%B5%96%E6%B3%A8%E5%85%A5%E6%98%AF%E5%AE%9E%E7%8E%B0l0C%E7%9A%84%E7%A7%8D%E6%96%B9%E6%B3%95%2C%E4%B9%9F%E6%9C%89%E4%BA%BA%E8%AE%A4%E4%B8%BA%E5%8F%AA%E6%98%AF%201c%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E8%AF%B4%E6%B3%95%2C%E6%B2%A1%E6%9C%890C%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%B8%AD%2C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E5%8F%82%E7%BC%96%E7%A8%8B%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%AF%B9%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E8%81%94%E7%B3%BB%E5%AE%8C%E5%85%A8%E7%A1%AC%E7%BC%96%E7%A0%81%E5%9C%A8%E7%A8%8B%E5%BA%8F%20%E4%B8%AD%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E7%94%B1%E7%A8%8B%E8%87%AA%E5%B7%B1%E6%8E%A7%E5%88%B6%2C%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E5%90%8E%E5%B0%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BD%AC%E7%A7%BB%E7%BB%99%E7%AC%AC%E4%B8%89%E6%96%B9%2C%E4%B8%AA%E4%BA%BA%E8%AE%A4%E4%B8%BA%E6%89%80%E8%83%83%E6%8E%A7%E5%8F%8D%E8%BD%AC%E5%B0%B1%E6%98%AF%3A%E8%8E%B7%E5%BE%97%E4%BE%9D%20%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F%E5%8F%8D%E8%BD%AC%E4%BA%86.%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A8.085101%2C%22y%22%3A15.637589%2C%22width%22%3A1401.816399%2C%22height%22%3A32.546831000000005%2C%22text%22%3A%22%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC.CCnveriongcont%2C%E6%98%AF%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%2CD%E8%B5%96%E6%B3%A8%E5%85%A5%E6%98%AF%E5%AE%9E%E7%8E%B0l0C%E7%9A%84%E7%A7%8D%E6%96%B9%E6%B3%95%2C%E4%B9%9F%E6%9C%89%E4%BA%BA%E8%AE%A4%E4%B8%BA%E5%8F%AA%E6%98%AF%22%7D%2C%7B%22x%22%3A7.838222%2C%22y%22%3A59.41815%2C%22width%22%3A1402.348078%2C%22height%22%3A31.95924000000001%2C%22text%22%3A%221c%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E8%AF%B4%E6%B3%95%2C%E6%B2%A1%E6%9C%890C%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%B8%AD%2C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E5%8F%82%E7%BC%96%E7%A8%8B%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%AF%B9%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E8%81%94%E7%B3%BB%E5%AE%8C%E5%85%A8%E7%A1%AC%E7%BC%96%E7%A0%81%E5%9C%A8%E7%A8%8B%E5%BA%8F%22%7D%2C%7B%22x%22%3A10.137044%2C%22y%22%3A105.4732%2C%22width%22%3A1414.6042559999999%2C%22height%22%3A30.005939999999995%2C%22text%22%3A%22%E4%B8%AD%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E7%94%B1%E7%A8%8B%E8%87%AA%E5%B7%B1%E6%8E%A7%E5%88%B6%2C%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E5%90%8E%E5%B0%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BD%AC%E7%A7%BB%E7%BB%99%E7%AC%AC%E4%B8%89%E6%96%B9%2C%E4%B8%AA%E4%BA%BA%E8%AE%A4%E4%B8%BA%E6%89%80%E8%83%83%E6%8E%A7%E5%8F%8D%E8%BD%AC%E5%B0%B1%E6%98%AF%3A%E8%8E%B7%E5%BE%97%E4%BE%9D%22%7D%2C%7B%22x%22%3A6.812621%2C%22y%22%3A148.99557%2C%22width%22%3A238.48264899999998%2C%22height%22%3A29.38053000000002%2C%22text%22%3A%22%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F%E5%8F%8D%E8%BD%AC%E4%BA%86.%22%7D%5D%2C%22id%22%3A%22ubbca603d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"uc37ba30b\" id=\"uc37ba30b\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471724309-5072877d-ff16-4f20-aaae-47fcd9335689.png%22%2C%22taskId%22%3A%22ucefa5faf-a866-4671-b89c-558a37831fe%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713.5%2C%22height%22%3A216%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A373766%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1427%2C%22originHeight%22%3A431%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22AHLCCIA%20ODICEA%20oCKtO%20aOKOCTD%20%E6%8B%BD%E9%87%8F%E7%AC%AC%E4%B8%89%E5%8A%9B%20CEURCTD%20ODIFCTO%20aeKKTC%20OOICCLC%20oDKactC%20%E5%9B%BE3%3A%E7%90%86%E6%83%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%20%E5%9B%BE1%3A%E8%80%A6%E5%90%88%E7%9A%84%E5%AF%B9%E8%B1%A1%20%E5%9B%BE2%3A%E8%A7%A3%E8%80%A6%E7%9A%84%E8%BF%87%E7%A8%8B%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1046.4049%2C%22y%22%3A62.126293%2C%22width%22%3A61.28800000000001%2C%22height%22%3A14.841057%2C%22text%22%3A%22AHLCCIA%22%7D%2C%7B%22x%22%3A524.2704%2C%22y%22%3A64.47501%2C%22width%22%3A64.98436000000004%2C%22height%22%3A15.532359999999997%2C%22text%22%3A%22ODICEA%22%7D%2C%7B%22x%22%3A229.70853%2C%22y%22%3A66.15609%2C%22width%22%3A68.44632000000001%2C%22height%22%3A15.767019999999988%2C%22text%22%3A%22oCKtO%22%7D%2C%7B%22x%22%3A277.95917%2C%22y%22%3A158.12932%2C%22width%22%3A71.80078000000003%2C%22height%22%3A16.867159999999984%2C%22text%22%3A%22aOKOCTD%22%7D%2C%7B%22x%22%3A650.3205%2C%22y%22%3A261.02118%2C%22width%22%3A86.31383999999991%2C%22height%22%3A19.441719999999975%2C%22text%22%3A%22%E6%8B%BD%E9%87%8F%E7%AC%AC%E4%B8%89%E5%8A%9B%22%7D%2C%7B%22x%22%3A800.01764%2C%22y%22%3A260.87354%2C%22width%22%3A65.51311999999996%2C%22height%22%3A18.298090000000002%2C%22text%22%3A%22CEURCTD%22%7D%2C%7B%22x%22%3A1313.1979%2C%22y%22%3A261.6729%2C%22width%22%3A61.39430000000016%2C%22height%22%3A16.845439999999996%2C%22text%22%3A%22ODIFCTO%22%7D%2C%7B%22x%22%3A1043.1058%2C%22y%22%3A264.3417%2C%22width%22%3A64.44299999999998%2C%22height%22%3A16.766399999999976%2C%22text%22%3A%22aeKKTC%22%7D%2C%7B%22x%22%3A523.8245%2C%22y%22%3A267.13873%2C%22width%22%3A65.06580000000008%2C%22height%22%3A14.896070000000009%2C%22text%22%3A%22OOICCLC%22%7D%2C%7B%22x%22%3A265.37067%2C%22y%22%3A284.77863%2C%22width%22%3A69.60735999999997%2C%22height%22%3A15.293090000000007%2C%22text%22%3A%22oDKactC%22%7D%2C%7B%22x%22%3A1063.9955%2C%22y%22%3A354.06775%2C%22width%22%3A328.0679%2C%22height%22%3A49.53917999999999%2C%22text%22%3A%22%E5%9B%BE3%3A%E7%90%86%E6%83%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%22%7D%2C%7B%22x%22%3A43.399464%2C%22y%22%3A356.72745%2C%22width%22%3A339.77466599999997%2C%22height%22%3A51.316280000000006%2C%22text%22%3A%22%E5%9B%BE1%3A%E8%80%A6%E5%90%88%E7%9A%84%E5%AF%B9%E8%B1%A1%22%7D%2C%7B%22x%22%3A549.09875%2C%22y%22%3A362.8875%2C%22width%22%3A336.04278999999997%2C%22height%22%3A43.41563000000002%2C%22text%22%3A%22%E5%9B%BE2%3A%E8%A7%A3%E8%80%A6%E7%9A%84%E8%BF%87%E7%A8%8B%22%7D%5D%2C%22id%22%3A%22udae5b455%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u1456bf4f\" id=\"u1456bf4f\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471762487-5054c138-9bdc-4529-963b-70a06aa8918c.png%22%2C%22taskId%22%3A%22ub21bca2a-1dd7-4539-b6bb-139c888d2f2%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A723.5%2C%22height%22%3A643%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A537847%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1447%2C%22originHeight%22%3A1285%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22POJO%202%E6%A0%B9%E6%8D%AE%E5%85%83%E6%95%B0%E6%8D%AE%E4%BB%93%20%E5%BB%BA%E5%92%8C%E7%BB%84%E8%A3%85Bea%20applicationContextxml%20SpringIoc%201.%E8%AF%BB%E5%8F%96%E9%85%8D%201%3E%20%E9%A6%99%E6%9E%97%20%3Cbeanid-%5C%22'class%20Container%20%3Cbeanid-%5C%22*class-%5C%22%5C%221%E7%BD%AE%E6%96%87%E4%BB%B6%203.%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%20%E8%8E%B7%E5%8F%96Bean%20Fullyconfigured%20system%20ReadyforUse%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A983.6426%2C%22y%22%3A109.06007%2C%22width%22%3A207.71379999999988%2C%22height%22%3A66.92629%2C%22text%22%3A%22POJO%22%7D%2C%7B%22x%22%3A1101.9055%2C%22y%22%3A288.1839%2C%22width%22%3A333.2564%2C%22height%22%3A55.89749999999998%2C%22text%22%3A%222%E6%A0%B9%E6%8D%AE%E5%85%83%E6%95%B0%E6%8D%AE%E4%BB%93%22%7D%2C%7B%22x%22%3A1133.8798%2C%22y%22%3A372.8931%2C%22width%22%3A296.69309999999996%2C%22height%22%3A51.18774000000002%2C%22text%22%3A%22%E5%BB%BA%E5%92%8C%E7%BB%84%E8%A3%85Bea%22%7D%2C%7B%22x%22%3A70.27289%2C%22y%22%3A480.22134%2C%22width%22%3A453.88871%2C%22height%22%3A49.90856000000002%2C%22text%22%3A%22applicationContextxml%22%7D%2C%7B%22x%22%3A905.3577%2C%22y%22%3A536.0955%2C%22width%22%3A338.4166%2C%22height%22%3A80.22225000000003%2C%22text%22%3A%22SpringIoc%22%7D%2C%7B%22x%22%3A575.8751%2C%22y%22%3A549.33746%2C%22width%22%3A199.59756000000004%2C%22height%22%3A52.087440000000015%2C%22text%22%3A%221.%E8%AF%BB%E5%8F%96%E9%85%8D%22%7D%2C%7B%22x%22%3A478.1755%2C%22y%22%3A604.72363%2C%22width%22%3A55.925149999999974%2C%22height%22%3A48.663670000000025%2C%22text%22%3A%221%3E%22%7D%2C%7B%22x%22%3A432.32416%2C%22y%22%3A604.79913%2C%22width%22%3A47.35976999999997%2C%22height%22%3A27.001269999999977%2C%22text%22%3A%22%E9%A6%99%E6%9E%97%22%7D%2C%7B%22x%22%3A56.7114%2C%22y%22%3A605.52216%2C%22width%22%3A398.4701%2C%22height%22%3A43.12864000000002%2C%22text%22%3A%22%3Cbeanid-%5C%22'class%22%7D%2C%7B%22x%22%3A903.4814%2C%22y%22%3A654.85297%2C%22width%22%3A322.81720000000007%2C%22height%22%3A65.05779999999993%2C%22text%22%3A%22Container%22%7D%2C%7B%22x%22%3A59.65627%2C%22y%22%3A713.40405%2C%22width%22%3A672.17803%2C%22height%22%3A61.53601000000003%2C%22text%22%3A%22%3Cbeanid-%5C%22*class-%5C%22%5C%221%E7%BD%AE%E6%96%87%E4%BB%B6%22%7D%2C%7B%22x%22%3A1070.6313%2C%22y%22%3A819.4514%2C%22width%22%3A244.26600000000008%2C%22height%22%3A56.49249999999995%2C%22text%22%3A%223.%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%22%7D%2C%7B%22x%22%3A1084.7683%2C%22y%22%3A909.8832%2C%22width%22%3A224.69270000000006%2C%22height%22%3A49.0557%2C%22text%22%3A%22%E8%8E%B7%E5%8F%96Bean%22%7D%2C%7B%22x%22%3A834.855%2C%22y%22%3A1040.6343%2C%22width%22%3A379.53729999999996%2C%22height%22%3A73.37120000000004%2C%22text%22%3A%22Fullyconfigured%22%7D%2C%7B%22x%22%3A1223.9338%2C%22y%22%3A1051.8511%2C%22width%22%3A159.3889999999999%2C%22height%22%3A57.066499999999905%2C%22text%22%3A%22system%22%7D%2C%7B%22x%22%3A897.2182%2C%22y%22%3A1131.7788%2C%22width%22%3A340.8342%2C%22height%22%3A61.95360000000005%2C%22text%22%3A%22ReadyforUse%22%7D%5D%2C%22id%22%3A%22u82ca1a76%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"ub176928d\" id=\"ub176928d\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471787767-b51f0885-276f-4a0a-8883-835ff617f080.png%22%2C%22taskId%22%3A%22ud4a40ca1-31a7-4ffb-a4ee-9f5fa582c1e%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A722%2C%22height%22%3A108%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A476060%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1444%2C%22originHeight%22%3A216%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E9%87%87%E7%94%A8ML%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEBean%E7%9A%84%E6%97%B6%E5%80%99%2CBean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E6%98%AF%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%88%86%E7%A6%BB%E7%9A%84%2C%E8%80%8C%E9%87%87%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%A3%AB%E5%8F%AF%E4%BB%A5%E6%8A%8A%E4%B8%A4%E8%80%85%E5%90%88%E4%B8%BA%E4%B8%80%E4%BD%93%2C%20Bean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E7%9B%B4%E6%8E%A5%E4%BB%A5%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B8%AD%2C%E4%BB%8E%E8%80%8C%E8%BE%BE%E5%88%B0%E4%BA%86%E9%9B%B6%E9%85%8D%E7%BD%AE%E7%9A%84%E7%9B%AE%E7%9A%84.%20%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E6%98%AF%E4%B8%80%E7%A7%8D%E9%80%9A%E8%BF%87%E6%8F%8F%E8%BF%B7XML%E6%88%96%E6%B3%A8%E8%88%B9)%E5%B9%B6%E9%80%9A%E8%BF%87%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8E%BB%E7%94%9F%E4%BA%A7%E6%88%96%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F.%E5%9C%A8Spring%E4%B8%AD%E5%AE%9E%E7%8E%B0%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%20%E7%9A%84%E6%98%AFloc%E5%AE%B9%E5%99%A8%2C%E5%85%B6%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E6%98%AF%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5(Dependencylnjection%2CD).%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A18.401688%2C%22y%22%3A8.356923%2C%22width%22%3A1350.252612%2C%22height%22%3A34.441451%2C%22text%22%3A%22%E9%87%87%E7%94%A8ML%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEBean%E7%9A%84%E6%97%B6%E5%80%99%2CBean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E6%98%AF%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%88%86%E7%A6%BB%E7%9A%84%2C%E8%80%8C%E9%87%87%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%A3%AB%E5%8F%AF%E4%BB%A5%E6%8A%8A%E4%B8%A4%E8%80%85%E5%90%88%E4%B8%BA%E4%B8%80%E4%BD%93%2C%22%7D%2C%7B%22x%22%3A19.234018%2C%22y%22%3A53.934113%2C%22width%22%3A994.107412%2C%22height%22%3A32.046387%2C%22text%22%3A%22Bean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E7%9B%B4%E6%8E%A5%E4%BB%A5%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B8%AD%2C%E4%BB%8E%E8%80%8C%E8%BE%BE%E5%88%B0%E4%BA%86%E9%9B%B6%E9%85%8D%E7%BD%AE%E7%9A%84%E7%9B%AE%E7%9A%84.%22%7D%2C%7B%22x%22%3A18.31399%2C%22y%22%3A114.730385%2C%22width%22%3A1415.86261%2C%22height%22%3A41.330325%2C%22text%22%3A%22%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E6%98%AF%E4%B8%80%E7%A7%8D%E9%80%9A%E8%BF%87%E6%8F%8F%E8%BF%B7XML%E6%88%96%E6%B3%A8%E8%88%B9)%E5%B9%B6%E9%80%9A%E8%BF%87%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8E%BB%E7%94%9F%E4%BA%A7%E6%88%96%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F.%E5%9C%A8Spring%E4%B8%AD%E5%AE%9E%E7%8E%B0%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%22%7D%2C%7B%22x%22%3A16.843523%2C%22y%22%3A166.13268%2C%22width%22%3A895.532177%2C%22height%22%3A34.28645%2C%22text%22%3A%22%E7%9A%84%E6%98%AFloc%E5%AE%B9%E5%99%A8%2C%E5%85%B6%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E6%98%AF%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5(Dependencylnjection%2CD).%22%7D%5D%2C%22id%22%3A%22u1868c399%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u1ec38d1d\" id=\"u1ec38d1d\"><br></p><h2 data-lake-id=\"1b88cb11\" id=\"1b88cb11\"><span data-lake-id=\"uc3ab51e3\" id=\"uc3ab51e3\">3、HolleSpring</span></h2><p data-lake-id=\"uceea695d\" id=\"uceea695d\"><br></p><p data-lake-id=\"u64726363\" id=\"u64726363\"><span data-lake-id=\"uba6bd5d3\" id=\"uba6bd5d3\">在父模块中导入jar包</span></p><p data-lake-id=\"ud1ecd106\" id=\"ud1ecd106\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%3Cdependency%3E%5Cn%5Ct%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%5Ct%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%5Ct%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222195a1b8%22%7D\"></card><p data-lake-id=\"u091da4e1\" id=\"u091da4e1\"><br></p><p data-lake-id=\"uf06c2b24\" id=\"uf06c2b24\"><span data-lake-id=\"ud9e1b306\" id=\"ud9e1b306\">pojo的Hello.java</span></p><p data-lake-id=\"u174016b0\" id=\"u174016b0\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnpublic%20class%20Hello%20%7B%5Cn%5Cn%5Ctprivate%20String%20str%3B%5Cn%5Ct%5Cn%5Ctpublic%20String%20getStr()%20%7B%5Cn%5Ct%5Ctreturn%20str%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20void%20setStr(String%20str)%20%7B%5Cn%5Ct%5Ctthis.str%20%3D%20str%3B%5Cn%5Ct%7D%5Cn%5Ct%5Cn%5Ct%40Override%5Cn%5Ctpublic%20String%20toString()%20%7B%5Cn%5Ct%5Ctreturn%20%5C%22Holle%20%5Bstr%3D%5C%22%20%2B%20str%20%2B%20%5C%22%5D%5C%22%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228202a0b5%22%7D\"></card><p data-lake-id=\"u609209ce\" id=\"u609209ce\"><br></p><p data-lake-id=\"ua7306575\" id=\"ua7306575\"><span data-lake-id=\"u5c0a2666\" id=\"u5c0a2666\">在resource里面的xml配置</span></p><p data-lake-id=\"u3e6851ad\" id=\"u3e6851ad\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%5Cn%20%20%20%20%3C!--%E5%9C%A8Spring%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%9C%A8Spring%E8%BF%99%E4%BA%9B%E9%83%BD%E7%A7%B0%E4%B8%BAbean%5Cn%20%20%20%20%5Ct%E7%B1%BB%E5%9E%8B%20%E5%8F%98%E9%87%8F%E5%90%8D%20%3D%20new%20%E7%B1%BB%E5%9E%8B()%3B%5Cn%20%20%20%20%5CtHolle%20holle%20%3D%20new%20Holle()%3B%5Cn%20%20%20%20%5Ct%5Cn%20%20%20%20%5Ctbean%20%3D%20%E5%AF%B9%E8%B1%A1(holle)%5Cn%20%20%20%20%5Ctid%20%3D%20%E5%8F%98%E9%87%8F%E5%90%8D(holle)%5Cn%20%20%20%20%5Ctclass%20%3D%20new%E7%9A%84%E5%AF%B9%E8%B1%A1(new%20Holle()%3B)%5Cn%20%20%20%20%5Ctproperty%20%E7%9B%B8%E5%BD%93%E4%BA%8E%E7%BB%99%E5%AF%B9%E8%B1%A1%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%E8%AE%BE%E5%80%BC%2C%E8%AE%A9str%3D%5C%22Spring%5C%22%5Cn%20%20%20%20--%3E%5Cn%20%20%20%20%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22hello%5C%22%20class%3D%5C%22pojo.Hello%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22str%5C%22%20value%3D%5C%22Spring%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f150d17a%22%7D\"></card><p data-lake-id=\"ue9fba786\" id=\"ue9fba786\"><br></p><p data-lake-id=\"u22c5498b\" id=\"u22c5498b\"><span data-lake-id=\"u3e22cc09\" id=\"u3e22cc09\">测试类MyTest</span></p><p data-lake-id=\"u49a00b67\" id=\"u49a00b67\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle1%3B%5Cn%5Cnimport%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cn%5Cnimport%20pojo.Hello%3B%5Cn%5Cnpublic%20class%20MyTest%20%7B%5Cn%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5Ct%2F%2F%E8%8E%B7%E5%8F%96Spring%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5Cn%5Ct%5Ct%2F%2F%E6%88%91%E4%BB%AC%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8B%E8%83%BD%E5%9C%A8%E9%83%BD%E5%9C%A8spring%C2%B7%E4%B8%AD%E7%AE%A1%E7%90%86%E4%BA%86%EF%BC%8C%E6%88%91%E4%BB%AC%E8%A6%81%E4%BD%BF%E7%94%A8%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%8F%96%E5%87%BA%E6%9D%A5%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%5Cn%5Ct%5CtHello%20holle%20%3D%20(Hello)%20context.getBean(%5C%22hello%5C%22)%3B%5Cn%5Ct%5CtSystem.out.println(holle.toString())%3B%5Cn%5Ct%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22233e33b6%22%7D\"></card><p data-lake-id=\"u6caaf5ff\" id=\"u6caaf5ff\"><br></p><p data-lake-id=\"u76aef1a0\" id=\"u76aef1a0\"><span data-lake-id=\"u6642b69b\" id=\"u6642b69b\">核心用set注入，所以必须要有下面的se()方法</span></p><p data-lake-id=\"u273d9a89\" id=\"u273d9a89\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2FHello%E7%B1%BB%5Cnpublic%20void%20setStr(String%20str)%20%7B%5Cn%5Ct%5Ctthis.str%20%3D%20str%3B%5Cn%5Ct%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226861621d%22%7D\"></card><p data-lake-id=\"uc59fc3a3\" id=\"uc59fc3a3\"><br></p><p data-lake-id=\"u81091736\" id=\"u81091736\"><strong><span data-lake-id=\"u3066801f\" id=\"u3066801f\">思考：</span></strong></p><p data-lake-id=\"u371091e0\" id=\"u371091e0\"><br></p><p data-lake-id=\"u36e35cbf\" id=\"u36e35cbf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471815422-ae6ce201-a69e-466e-bd47-7f699c396eea.png%22%2C%22taskId%22%3A%22u9f574879-54f0-4587-a3d6-b3938d958c7%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A715.5%2C%22height%22%3A428%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1137501%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1431%2C%22originHeight%22%3A856%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%B0%81%E5%88%9B%E5%BB%BA%E7%9A%84%3F%20hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1Spring%E5%88%9B%E5%BB%BA%E7%9A%84%20Hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%3F%20hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E7%94%B1Spring%E5%AE%B9%E5%99%A8%E8%AE%BE%E7%BD%AE%E7%9A%84%2C%20%E8%BF%99%E4%B8%AA%E8%BF%87%E7%A8%8B%E5%B0%B1%E5%8F%AB%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%3A%20%E6%8E%A7%E5%88%B6%3A%E8%B0%81%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%2C%E4%BC%A0%E7%BB%9F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E6%8E%A7%E5%88%B6%E5%88%9B%E5%BB%BA%E7%9A%84%2C%E4%BD%BF%E7%94%A8Sprng%E5%90%8E%2C%E5%AF%B9%E8%B1%A1%E6%98%AF%20%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%E7%9A%84.%20%E5%8F%8D%E8%BD%AC%3A%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E4%B8%8D%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%2C%E8%80%8C%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6%E5%AF%B9%E8%B1%A1.%20%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%3A%E5%B0%B1%E6%98%AF%E5%88%A9%E7%94%A8set%E6%96%B9%E6%B3%95%E6%9D%A5%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5%E7%9A%84.%2010C%E6%98%AF%E4%B8%80%E7%A7%8D%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%2C%E7%94%B1%E4%B8%BB%E5%8A%A8%E7%9A%84%E7%BC%96%E7%A8%8B%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6.%20%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87newClassPathXmlApplicationcontext%E5%8E%BB%E6%B5%8F%E8%A7%88%E4%B8%80%E4%B8%8B%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%20CK%2C%E5%88%B0%E4%BA%86%E7%8E%B0%E5%9C%A8%2C%E6%88%91%E4%BB%AC%E5%80%92%E5%BA%95%E4%B8%8D%E7%94%A8%E5%86%8D%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E6%94%B9%E5%8A%A8%E4%BA%86%2C%E8%A6%81%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E6%93%8D%E4%BD%9C%2C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8xm%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E8%BF%9B%E8%A1%8C%20%E4%BF%AE%E6%94%B9%2C%E6%89%80%E8%B0%93%E7%9A%84loC%2C%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%90%9E%E5%AE%9A%3A%E5%AF%B9%E8%B1%A1%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%2C%E7%AE%A1%E7%90%86%2C%E8%A3%85%E9%85%8D!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A79.80459%2C%22y%22%3A5.272613%2C%22width%22%3A327.63837%2C%22height%22%3A35.175801%2C%22text%22%3A%22Hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%B0%81%E5%88%9B%E5%BB%BA%E7%9A%84%3F%22%7D%2C%7B%22x%22%3A79.00523%2C%22y%22%3A75.38061%2C%22width%22%3A414.96557%2C%22height%22%3A37.37447%2C%22text%22%3A%22hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1Spring%E5%88%9B%E5%BB%BA%E7%9A%84%22%7D%2C%7B%22x%22%3A81.248024%2C%22y%22%3A144.04665%2C%22width%22%3A468.16977600000007%2C%22height%22%3A35.78604999999999%2C%22text%22%3A%22Hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%3F%22%7D%2C%7B%22x%22%3A78.3293%2C%22y%22%3A207.53433%2C%22width%22%3A591.8998%2C%22height%22%3A42.595049999999986%2C%22text%22%3A%22hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E7%94%B1Spring%E5%AE%B9%E5%99%A8%E8%AE%BE%E7%BD%AE%E7%9A%84%2C%22%7D%2C%7B%22x%22%3A13.455474%2C%22y%22%3A293.4859%2C%22width%22%3A342.45434600000004%2C%22height%22%3A33.94684000000001%2C%22text%22%3A%22%E8%BF%99%E4%B8%AA%E8%BF%87%E7%A8%8B%E5%B0%B1%E5%8F%AB%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%3A%22%7D%2C%7B%22x%22%3A14.020947%2C%22y%22%3A364.2338%2C%22width%22%3A1392.521753%2C%22height%22%3A35.17718000000002%2C%22text%22%3A%22%E6%8E%A7%E5%88%B6%3A%E8%B0%81%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%2C%E4%BC%A0%E7%BB%9F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E6%8E%A7%E5%88%B6%E5%88%9B%E5%BB%BA%E7%9A%84%2C%E4%BD%BF%E7%94%A8Sprng%E5%90%8E%2C%E5%AF%B9%E8%B1%A1%E6%98%AF%22%7D%2C%7B%22x%22%3A14.462911%2C%22y%22%3A411.41092%2C%22width%22%3A281.122839%2C%22height%22%3A37.60098000000005%2C%22text%22%3A%22%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%E7%9A%84.%22%7D%2C%7B%22x%22%3A14.8317375%2C%22y%22%3A480.20905%2C%22width%22%3A740.9778924999999%2C%22height%22%3A36.98044999999996%2C%22text%22%3A%22%E5%8F%8D%E8%BD%AC%3A%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E4%B8%8D%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%2C%E8%80%8C%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6%E5%AF%B9%E8%B1%A1.%22%7D%2C%7B%22x%22%3A14.681152%2C%22y%22%3A550.0073%2C%22width%22%3A595.576418%2C%22height%22%3A36.83960000000002%2C%22text%22%3A%22%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%3A%E5%B0%B1%E6%98%AF%E5%88%A9%E7%94%A8set%E6%96%B9%E6%B3%95%E6%9D%A5%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5%E7%9A%84.%22%7D%2C%7B%22x%22%3A13.5210085%2C%22y%22%3A618.73303%2C%22width%22%3A742.8729915%2C%22height%22%3A37.10657000000003%2C%22text%22%3A%2210C%E6%98%AF%E4%B8%80%E7%A7%8D%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%2C%E7%94%B1%E4%B8%BB%E5%8A%A8%E7%9A%84%E7%BC%96%E7%A8%8B%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6.%22%7D%2C%7B%22x%22%3A16.10062%2C%22y%22%3A691.0937%2C%22width%22%3A998.28244%2C%22height%22%3A32.714650000000006%2C%22text%22%3A%22%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87newClassPathXmlApplicationcontext%E5%8E%BB%E6%B5%8F%E8%A7%88%E4%B8%80%E4%B8%8B%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%22%7D%2C%7B%22x%22%3A17.196733%2C%22y%22%3A757.27216%2C%22width%22%3A1401.890167%2C%22height%22%3A35.72149000000002%2C%22text%22%3A%22CK%2C%E5%88%B0%E4%BA%86%E7%8E%B0%E5%9C%A8%2C%E6%88%91%E4%BB%AC%E5%80%92%E5%BA%95%E4%B8%8D%E7%94%A8%E5%86%8D%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E6%94%B9%E5%8A%A8%E4%BA%86%2C%E8%A6%81%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E6%93%8D%E4%BD%9C%2C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8xm%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E8%BF%9B%E8%A1%8C%22%7D%2C%7B%22x%22%3A14.092485%2C%22y%22%3A806.99915%2C%22width%22%3A952.054115%2C%22height%22%3A35.82768999999996%2C%22text%22%3A%22%E4%BF%AE%E6%94%B9%2C%E6%89%80%E8%B0%93%E7%9A%84loC%2C%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%90%9E%E5%AE%9A%3A%E5%AF%B9%E8%B1%A1%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%2C%E7%AE%A1%E7%90%86%2C%E8%A3%85%E9%85%8D!%22%7D%5D%2C%22id%22%3A%22ue193d403%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u81624d7b\" id=\"u81624d7b\"><br />IoC：对象由Spring 来创建，管理，装配！</span></p><p data-lake-id=\"u2d837258\" id=\"u2d837258\"><br></p><p data-lake-id=\"u92ecd726\" id=\"u92ecd726\"><strong><span data-lake-id=\"u1e2b2d84\" id=\"u1e2b2d84\">弹幕评论里面的理解：</span></strong></p><p data-lake-id=\"u2125d0ab\" id=\"u2125d0ab\"><br></p><p data-lake-id=\"ud17cba16\" id=\"ud17cba16\"><span data-lake-id=\"uedb60a06\" id=\"uedb60a06\">原来这套程序是：你写好菜单买好菜，客人来了自己把菜炒好招待，就相当于你请人吃饭<br /></span><span data-lake-id=\"u4310ba8c\" id=\"u4310ba8c\">现在这套程序是：你告诉楼下餐厅，你要哪些菜，客人来的时候，餐厅把做好的你需要的菜送上来<br /></span><span data-lake-id=\"u127385a7\" id=\"u127385a7\">IoC：炒菜这件事，不再由你自己来做，而是委托给了第三方__餐厅来做</span></p><p data-lake-id=\"u3dc58cb7\" id=\"u3dc58cb7\"><br></p><p data-lake-id=\"uc2b1a29b\" id=\"uc2b1a29b\"><span data-lake-id=\"u74ee8542\" id=\"u74ee8542\">此时的区别就是，如果我还需要做其他的菜，我不需要自己搞菜谱买材料再做好，而是告诉餐厅，我要什么菜，什么时候要，你做好送来</span></p><p data-lake-id=\"u55623b76\" id=\"u55623b76\"><br></p><p data-lake-id=\"ua5a85aff\" id=\"ua5a85aff\"><span data-lake-id=\"u80a2f541\" id=\"u80a2f541\">.</span></p><p data-lake-id=\"u54ce8a98\" id=\"u54ce8a98\"><br></p><p data-lake-id=\"u1198bc7c\" id=\"u1198bc7c\"><span data-lake-id=\"uff3e3648\" id=\"uff3e3648\">在前面第一个module试试引入Spring</span></p><p data-lake-id=\"u615cd840\" id=\"u615cd840\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userDaomSql%5C%22%20class%3D%5C%22dao.UserDaoMysqlImpl%5C%22%3E%3C%2Fbean%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userServiceImpl%5C%22%20class%3D%5C%22service.UserServiceImp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3C!--ref%E5%BC%95%E7%94%A8spring%E4%B8%AD%E5%B7%B2%E7%BB%8F%E5%88%9B%E5%BB%BA%E5%BE%88%E5%A5%BD%E7%9A%84%E5%AF%B9%E8%B1%A1--%3E%5Cn%20%20%20%20%20%20%20%20%3C!--value%E6%98%AF%E4%B8%80%E4%B8%AA%E5%85%B7%E4%BD%93%E7%9A%84%E5%80%BC%2C%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22userDao%5C%22%20ref%3D%5C%22userDaomSql%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fe0587d3%22%7D\"></card><p data-lake-id=\"u8d0e8f3b\" id=\"u8d0e8f3b\"><br></p><p data-lake-id=\"u2895651e\" id=\"u2895651e\"><span data-lake-id=\"ue05fc7ca\" id=\"ue05fc7ca\">第一个module改良后测试</span></p><p data-lake-id=\"u521645ed\" id=\"u521645ed\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle0%3B%5Cnimport%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20service.UserServiceImpl%3B%5Cn%5Cnpublic%20class%20MyTest0%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5Cn%5Ct%5CtUserServiceImpl%20userServiceImpl%20%3D%20(UserServiceImpl)%20context.getBean(%5C%22userServiceImpl%5C%22)%3B%5Cn%5Ct%5CtuserServiceImpl.getUser()%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22236f8849%22%7D\"></card><p data-lake-id=\"uf9438934\" id=\"uf9438934\"><br></p><p data-lake-id=\"u7ec07400\" id=\"u7ec07400\"><strong><span data-lake-id=\"u155e96ea\" id=\"u155e96ea\">总结：</span></strong></p><p data-lake-id=\"u319ca5e2\" id=\"u319ca5e2\"><br></p><p data-lake-id=\"ub02fb17e\" id=\"ub02fb17e\"><span data-lake-id=\"uc95194b9\" id=\"uc95194b9\">所有的类都要装配的beans.xml 里面；</span></p><p data-lake-id=\"u7d2a6a3e\" id=\"u7d2a6a3e\"><br></p><p data-lake-id=\"ue3b394ba\" id=\"ue3b394ba\"><span data-lake-id=\"u38499481\" id=\"u38499481\">所有的bean 都要通过容器去取；</span></p><p data-lake-id=\"uce7d3f05\" id=\"uce7d3f05\"><br></p><p data-lake-id=\"ud14cf2ee\" id=\"ud14cf2ee\"><span data-lake-id=\"u989f935a\" id=\"u989f935a\">容器里面取得的bean，拿出来就是一个对象，用对象调用方法即可；</span></p><p data-lake-id=\"u6caaf4eb\" id=\"u6caaf4eb\"><br></p><h2 data-lake-id=\"4ddfc2b5\" id=\"4ddfc2b5\"><span data-lake-id=\"u7fac2a7e\" id=\"u7fac2a7e\">4、IoC创建对象的方式</span></h2><p data-lake-id=\"ue0d18de9\" id=\"ue0d18de9\"><br></p><ol list=\"uec1f3f46\"><li fid=\"uf089ef36\" data-lake-id=\"uc43ecc91\" id=\"uc43ecc91\"><span data-lake-id=\"u21c40614\" id=\"u21c40614\">使用无参构造创建对象，默认。</span></li></ol><ol list=\"uc1be2a12\" start=\"2\"><li fid=\"ua61eb93c\" data-lake-id=\"u1f9bfb00\" id=\"u1f9bfb00\"><span data-lake-id=\"uba9e802c\" id=\"uba9e802c\">使用有参构造（如下）</span></li></ol><p data-lake-id=\"u8d38bcda\" id=\"u8d38bcda\"><br></p><p data-lake-id=\"uda6e3e4e\" id=\"uda6e3e4e\"><span data-lake-id=\"u8ba2252f\" id=\"u8ba2252f\">下标赋值</span></p><p data-lake-id=\"ue1388fe7\" id=\"ue1388fe7\"><br></p><p data-lake-id=\"uf7ef7b5b\" id=\"uf7ef7b5b\"><span data-lake-id=\"u525caef0\" id=\"u525caef0\">index指的是有参构造中参数的下标，下标从0开始;</span></p><p data-lake-id=\"u4715ba07\" id=\"u4715ba07\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cconstructor-arg%20index%3D%5C%220%5C%22%20value%3D%5C%22chen%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228a39dcdc%22%7D\"></card><p data-lake-id=\"uf4456887\" id=\"uf4456887\"><br></p><p data-lake-id=\"u05945534\" id=\"u05945534\"><span data-lake-id=\"uf1bba8dd\" id=\"uf1bba8dd\">类型赋值（不建议使用）</span></p><p data-lake-id=\"u6ea2aac2\" id=\"u6ea2aac2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%3Cconstructor-arg%20type%3D%5C%22java.lang.String%5C%22%20value%3D%5C%22kuang%5C%22%2F%3E%5Cn%3C%2Fbean%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2206e5ceea%22%7D\"></card><p data-lake-id=\"u20139086\" id=\"u20139086\"><br></p><p data-lake-id=\"u64d347e7\" id=\"u64d347e7\"><span data-lake-id=\"uc3798199\" id=\"uc3798199\">直接通过参数名（掌握）</span></p><p data-lake-id=\"u9f4c09ff\" id=\"u9f4c09ff\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%3Cconstructor-arg%20name%3D%5C%22name%5C%22%20value%3D%5C%22kuang%5C%22%3E%3C%2Fconstructor-arg%3E%5Cn%3C%2Fbean%3E%5Cn%3C!--%20%E6%AF%94%E5%A6%82%E5%8F%82%E6%95%B0%E5%90%8D%E6%98%AFname%EF%BC%8C%E5%88%99%E6%9C%89name%3D%5C%22%E5%85%B7%E4%BD%93%E5%80%BC%5C%22%20--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221e70e708%22%7D\"></card><p data-lake-id=\"udce4fc9d\" id=\"udce4fc9d\"><br></p><p data-lake-id=\"u06179dfe\" id=\"u06179dfe\"><span data-lake-id=\"u71005cc3\" id=\"u71005cc3\">注册bean之后就对象的初始化了（</span><strong><span data-lake-id=\"u441bb971\" id=\"u441bb971\">类似 new 类名()</span></strong><span data-lake-id=\"u22de3a4a\" id=\"u22de3a4a\">）</span></p><p data-lake-id=\"u02d446e8\" id=\"u02d446e8\"><br></p><p data-lake-id=\"ub673c739\" id=\"ub673c739\"><span data-lake-id=\"ub16df1b9\" id=\"ub16df1b9\">弹幕评论：</span></p><p data-lake-id=\"u724820bf\" id=\"u724820bf\"><br></p><p data-lake-id=\"ue9368b39\" id=\"ue9368b39\"><span data-lake-id=\"ubde787c7\" id=\"ubde787c7\">name方式还需要无参构造和set方法,index和type只需要有参构造</span></p><p data-lake-id=\"u097e0ea7\" id=\"u097e0ea7\"><br></p><p data-lake-id=\"u43ad2a49\" id=\"u43ad2a49\"><span data-lake-id=\"u472cc442\" id=\"u472cc442\">就算是new 两个对象，也是只有一个实例（</span><strong><span data-lake-id=\"ufd13759d\" id=\"ufd13759d\">单例模式：全局唯一</span></strong><span data-lake-id=\"u35b4b032\" id=\"u35b4b032\">）</span></p><p data-lake-id=\"ubd1abf58\" id=\"ubd1abf58\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22User%20user%20%3D%20(User)%20context.getBean(%5C%22user%5C%22)%3B%5CnUser%20user2%20%3D%20(User)%20context.getBean(%5C%22user%5C%22)%3B%5Cnsystem.out.println(user%20%3D%3D%20user2)%2F%2F%E7%BB%93%E6%9E%9C%E4%B8%BAtrue%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2212fa1e9f%22%7D\"></card><p data-lake-id=\"ua19a2372\" id=\"ua19a2372\"><br></p><p data-lake-id=\"u92cea3cc\" id=\"u92cea3cc\"><span data-lake-id=\"uef0a4659\" id=\"uef0a4659\">总结：在配置文件加载的时候，容器(&lt; bean&gt;)中管理的对象就已经初始化了</span></p><p data-lake-id=\"ua17286c5\" id=\"ua17286c5\"><br></p><h2 data-lake-id=\"55d787f1\" id=\"55d787f1\"><span data-lake-id=\"ua16ae83a\" id=\"ua16ae83a\">5、Spring配置</span></h2><p data-lake-id=\"u300413f5\" id=\"u300413f5\"><br></p><h3 data-lake-id=\"0395086d\" id=\"0395086d\"><span data-lake-id=\"ue67ac6a9\" id=\"ue67ac6a9\">5.1、别名</span></h3><p data-lake-id=\"u715bd22b\" id=\"u715bd22b\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%3Cconstructor-arg%20name%3D%5C%22name%5C%22%20value%3D%5C%22chen%5C%22%3E%3C%2Fconstructor-arg%3E%5Cn%3C%2Fbean%3E%5Cn%5Cn%3Calias%20name%3D%5C%22user%5C%22%20alias%3D%5C%22userLove%5C%22%2F%3E%5Cn%3C!--%20%E4%BD%BF%E7%94%A8%E6%97%B6%5Cn%5CtUser%20user2%20%3D%20(User)%20context.getBean(%5C%22userLove%5C%22)%3B%5Ct%5Cn--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225fea7168%22%7D\"></card><p data-lake-id=\"u818aea7d\" id=\"u818aea7d\"><br></p><h3 data-lake-id=\"bd36fb1e\" id=\"bd36fb1e\"><span data-lake-id=\"u4e8d8daa\" id=\"u4e8d8daa\">5.2、Bean的配置</span></h3><p data-lake-id=\"ue1df8104\" id=\"ue1df8104\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--id%EF%BC%9Abean%E7%9A%84%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E7%AC%A6%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%88%91%E4%BB%AC%E5%AD%A6%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%90%8D%5Cnclass%EF%BC%9Abean%E5%AF%B9%E8%B1%A1%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BC%9A%E9%99%90%E5%AE%9A%E5%90%8D%EF%BC%9A%E5%8C%85%E5%90%8D%2B%E7%B1%BB%E5%9E%8B%5Cnname%EF%BC%9A%E4%B9%9F%E6%98%AF%E5%88%AB%E5%90%8D%EF%BC%8C%E8%80%8C%E4%B8%94name%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E5%8F%96%E5%A4%9A%E4%B8%AA%E5%88%AB%E5%90%8D%20--%3E%5Cn%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%20name%3D%5C%22u1%20u2%2Cu3%3Bu4%5C%22%3E%5Cn%20%20%20%20%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22chen%5C%22%2F%3E%5Cn%3C%2Fbean%3E%5Cn%3C!--%20%E4%BD%BF%E7%94%A8%E6%97%B6%5Cn%5CtUser%20user2%20%3D%20(User)%20context.getBean(%5C%22u1%5C%22)%3B%5Ct%5Cn--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223f398a6b%22%7D\"></card><p data-lake-id=\"u6c898a58\" id=\"u6c898a58\"><br></p><h3 data-lake-id=\"8cc591db\" id=\"8cc591db\"><span data-lake-id=\"ud0ee1385\" id=\"ud0ee1385\">5.3、import</span></h3><p data-lake-id=\"u74ae15a4\" id=\"u74ae15a4\"><br></p><p data-lake-id=\"u2b353f95\" id=\"u2b353f95\"><span data-lake-id=\"ucf32b1f6\" id=\"ucf32b1f6\">import一般用于团队开发使用，它可以将多个配置文件，导入合并为一个</span></p><p data-lake-id=\"u4beeb80c\" id=\"u4beeb80c\"><br></p><p data-lake-id=\"u4def494a\" id=\"u4def494a\"><span data-lake-id=\"ua956f636\" id=\"ua956f636\">假设，现在项目中有多个人开发，这三个人复制不同的类开发，不同的类需要注册在不同的bean中，我们可以利<br /></span><span data-lake-id=\"ue4b025c0\" id=\"ue4b025c0\">用import将所有人的beans.xml合并为一个总的！</span></p><p data-lake-id=\"uccc9b457\" id=\"uccc9b457\"><br></p><ul list=\"ufe83e0d7\"><li fid=\"u7afc4723\" data-lake-id=\"u440ef9ed\" id=\"u440ef9ed\"><span data-lake-id=\"u3a992048\" id=\"u3a992048\"> 张三(beans.xm1) </span></li></ul><ul list=\"u9f3c6dbd\"><li fid=\"u008afbe0\" data-lake-id=\"u5392b0d3\" id=\"u5392b0d3\"><span data-lake-id=\"u8ee2c048\" id=\"u8ee2c048\"> 李四(beans2.xm1) </span></li></ul><ul list=\"u5a0375e4\"><li fid=\"u86eed08e\" data-lake-id=\"u17c7ec75\" id=\"u17c7ec75\"><span data-lake-id=\"u31af8753\" id=\"u31af8753\"> 王五(beans3.xm1) </span></li></ul><ul list=\"u0ba56562\"><li fid=\"ub64d30be\" data-lake-id=\"uccd7d242\" id=\"uccd7d242\"><span data-lake-id=\"u57743d0a\" id=\"u57743d0a\"> applicationContext.xml </span><span data-lake-id=\"ud20f3f6d\" id=\"ud20f3f6d\"> </span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cimport%20resource%3D%5C%22beans.xm1%5C%22%2F%3E%5Cn%3Cimport%20resource%3D%5C%22beans2.xml%5C%22%2F%3E%5Cn%3Cimport%20resource%3D%5C%22beans3.xm1%5C%22%2F%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227c8f6c35%22%7D\"></card><p data-lake-id=\"uf22bdd0e\" id=\"uf22bdd0e\"><br></p><p data-lake-id=\"u99958971\" id=\"u99958971\"><strong><span data-lake-id=\"u33252594\" id=\"u33252594\">使用的时候，直接使用总的配置就可以了</span></strong></p><p data-lake-id=\"u843d1d7f\" id=\"u843d1d7f\"><br></p><p data-lake-id=\"ufd937c59\" id=\"ufd937c59\"><span data-lake-id=\"u7db435e4\" id=\"u7db435e4\">弹幕评论：</span></p><p data-lake-id=\"ud6ee83e9\" id=\"ud6ee83e9\"><br></p><p data-lake-id=\"u77a1a5f2\" id=\"u77a1a5f2\"><span data-lake-id=\"u022501d1\" id=\"u022501d1\">按照在总的xml中的导入顺序来进行创建，后导入的会重写先导入的，最终实例化的对象会是后导入xml中的那个</span></p><p data-lake-id=\"u83eb07cb\" id=\"u83eb07cb\"><br></p><h2 data-lake-id=\"e5c5c9f1\" id=\"e5c5c9f1\"><span data-lake-id=\"ue2a806b9\" id=\"ue2a806b9\">6、依赖注入（DI）</span></h2><p data-lake-id=\"u2bea6e8f\" id=\"u2bea6e8f\"><br></p><h3 data-lake-id=\"809c1a44\" id=\"809c1a44\"><span data-lake-id=\"u0a1e2ced\" id=\"u0a1e2ced\">6.1、构造器注入</span></h3><p data-lake-id=\"u8b2b8fe6\" id=\"u8b2b8fe6\"><br></p><p data-lake-id=\"u24770b7c\" id=\"u24770b7c\"><span data-lake-id=\"ua9bf2e2b\" id=\"ua9bf2e2b\">第4点有提到</span></p><p data-lake-id=\"u01ba2c1b\" id=\"u01ba2c1b\"><br></p><h3 data-lake-id=\"9a618fd8\" id=\"9a618fd8\"><span data-lake-id=\"ub37d1be4\" id=\"ub37d1be4\">6.2、set方式注入【重点】</span></h3><p data-lake-id=\"ueb12759c\" id=\"ueb12759c\"><br></p><p data-lake-id=\"u6da7fc1a\" id=\"u6da7fc1a\"><span data-lake-id=\"u0f81e5d6\" id=\"u0f81e5d6\">依赖注入：set注入！</span></p><p data-lake-id=\"uf27ab953\" id=\"uf27ab953\"><br></p><ul list=\"ufd4ec9ad\"><li fid=\"u696f9d6d\" data-lake-id=\"u6f7b9c1e\" id=\"u6f7b9c1e\"><span data-lake-id=\"u4979d28a\" id=\"u4979d28a\">依赖：bean对象的创建依赖于容器</span></li></ul><ul list=\"udc14b16c\"><li fid=\"u01d9cdaf\" data-lake-id=\"u9ecb64c8\" id=\"u9ecb64c8\"><span data-lake-id=\"u5665960e\" id=\"u5665960e\">注入：bean对象中的所有属性，由容器来注入</span></li></ul><p data-lake-id=\"u54df77ec\" id=\"u54df77ec\"><br></p><p data-lake-id=\"u55bb78b3\" id=\"u55bb78b3\"><span data-lake-id=\"u2015834c\" id=\"u2015834c\">【环境搭建】</span></p><p data-lake-id=\"u6fcbfae6\" id=\"u6fcbfae6\"><br></p><ol list=\"u25ed0214\"><li fid=\"u0431bda8\" data-lake-id=\"u7a245fe1\" id=\"u7a245fe1\"><span data-lake-id=\"u0ce0fd21\" id=\"u0ce0fd21\"> 复杂类型<br /></span><span data-lake-id=\"u30cd49fa\" id=\"u30cd49fa\">Address类 </span></li></ol><ol list=\"u1cecbef6\" start=\"2\"><li fid=\"ue7a45430\" data-lake-id=\"ua2016dbb\" id=\"ua2016dbb\"><span data-lake-id=\"ueb52e7c4\" id=\"ueb52e7c4\"> 真实测试对象<br /></span><span data-lake-id=\"u44493329\" id=\"u44493329\">Student类 </span></li></ol><ol list=\"uaa82d4d4\" start=\"3\"><li fid=\"u8d1bd296\" data-lake-id=\"ua735f486\" id=\"ua735f486\"><span data-lake-id=\"u384c675c\" id=\"u384c675c\"> beans.xml </span></li></ol><ol list=\"u9fec8c62\" start=\"4\"><li fid=\"u8c9eba1e\" data-lake-id=\"u8ab901a0\" id=\"u8ab901a0\"><span data-lake-id=\"ub81c003e\" id=\"ub81c003e\"> 测试<br /></span><span data-lake-id=\"u900bff62\" id=\"u900bff62\">MyTest3 </span></li></ol><p data-lake-id=\"ua4e0eeb7\" id=\"ua4e0eeb7\"><br></p><p data-lake-id=\"u8cbebe27\" id=\"u8cbebe27\"><span data-lake-id=\"u23c0a8fd\" id=\"u23c0a8fd\">Student类</span></p><p data-lake-id=\"ue081b883\" id=\"ue081b883\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnimport%20java.util.*%3B%5Cn%40Get%5Cn%40Set%5Cnpublic%20class%20Student%20%7B%5Cn%2F%2F%E5%88%AB%E5%BF%98%E4%BA%86%E5%86%99get%E5%92%8Cset%E6%96%B9%E6%B3%95%EF%BC%88%E7%94%A8lombok%E6%B3%A8%E8%A7%A3%E4%B9%9F%E8%A1%8C%EF%BC%89%5Cn%20%20%20%20private%20String%20name%3B%5Cn%20%20%20%20private%20Address%20address%3B%5Cn%5Cn%20%20%20%20private%20String%5B%5D%20books%3B%5Cn%20%20%20%20private%20List%3CString%3E%20hobbies%3B%5Cn%5Cn%20%20%20%20private%20Map%3CString%2C%20String%3E%20card%3B%5Cn%20%20%20%20private%20Set%3CString%3E%20game%3B%5Cn%5Cn%20%20%20%20private%20Properties%20infor%3B%5Cn%20%20%20%20private%20String%20wife%3B%5Cn%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20String%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%5C%22Student%7B%5C%22%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22name%3D'%5C%22%20%2B%20name%20%2B%20'%5C%5C''%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20address%3D%5C%22%20%2B%20address.toString()%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20books%3D%5C%22%20%2B%20Arrays.toString(books)%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20hobbies%3D%5C%22%20%2B%20hobbies%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20card%3D%5C%22%20%2B%20card%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20game%3D%5C%22%20%2B%20game%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20infor%3D%5C%22%20%2B%20infor%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20wife%3D'%5C%22%20%2B%20wife%20%2B%20'%5C%5C''%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%7D'%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229315fcfd%22%7D\"></card><p data-lake-id=\"uafd756ca\" id=\"uafd756ca\"><br></p><p data-lake-id=\"uc757b93d\" id=\"uc757b93d\"><span data-lake-id=\"u28a416fa\" id=\"u28a416fa\">Address类</span></p><p data-lake-id=\"uecc76417\" id=\"uecc76417\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnpublic%20class%20Address%20%7B%5Cn%5Cn%20%20%20%20private%20String%20address%3B%5Cn%5Cn%20%20%20%20public%20String%20getAddress()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setAddress(String%20address)%20%7B%5Cn%20%20%20%20%20%20%20%20this.address%20%3D%20address%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20String%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%5C%22Address%7B%5C%22%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22address%3D'%5C%22%20%2B%20address%20%2B%20'%5C%5C''%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%7D'%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b0de775c%22%7D\"></card><p data-lake-id=\"u78b877db\" id=\"u78b877db\"><br></p><p data-lake-id=\"ub82dfd40\" id=\"ub82dfd40\"><span data-lake-id=\"ua8bb9aa1\" id=\"ua8bb9aa1\">beans.xml</span></p><p data-lake-id=\"u39dee3cc\" id=\"u39dee3cc\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%5Ct%3Cbean%20id%3D%5C%22address%5C%22%20class%3D%5C%22pojo.Address%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22address%5C%22%20value%3D%5C%22address%E4%BD%A0%E5%A5%BD%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Cn%5Ct%3Cbean%20id%3D%5C%22student%5C%22%20class%3D%5C%22pojo.Student%5C%22%3E%5Cn%5Ct%5Ct%3C!--%E7%AC%AC%E4%B8%80%E7%A7%8D%EF%BC%8C%E6%99%AE%E9%80%9A%E5%80%BC%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22name%E4%BD%A0%E5%A5%BD%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3C!--%E7%AC%AC%E4%BA%8C%E7%A7%8D%EF%BC%8Cref%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22address%5C%22%20ref%3D%5C%22address%5C%22%20%2F%3E%5Cn%5Cn%5Ct%5Ct%3C!--%E6%95%B0%E7%BB%84%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22books%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Carray%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E4%B8%89%E5%9B%BD%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E8%A5%BF%E6%B8%B8%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E6%B0%B4%E6%B5%92%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%3C%2Farray%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--list%E5%88%97%E8%A1%A8%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22hobbies%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Clist%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E5%94%B1%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E8%B7%B3%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Erap%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E7%AF%AE%E7%90%83%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%3C%2Flist%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--map%E9%94%AE%E5%80%BC%E5%AF%B9%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22card%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cmap%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Centry%20key%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Centry%20key%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%5Ct%3C%2Fmap%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--set(%E5%8F%AF%E5%8E%BB%E9%87%8D)%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22game%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cset%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Ewangzhe%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Elol%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Egalname%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%3C%2Fset%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--%E7%A9%BA%E6%8C%87%E9%92%88null%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22wife%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cnull%3E%3C%2Fnull%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--properties%E5%B8%B8%E9%87%8F%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22infor%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cprops%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cprop%20key%3D%5C%22id%5C%22%3E20200802%3C%2Fprop%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cprop%20key%3D%5C%22name%5C%22%3Ecbh%3C%2Fprop%3E%5Cn%5Ct%5Ct%5Ct%3C%2Fprops%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fa8c1ab8%22%7D\"></card><p data-lake-id=\"u46ce3414\" id=\"u46ce3414\"><br></p><p data-lake-id=\"u77e948f4\" id=\"u77e948f4\"><span data-lake-id=\"ua6feb9e6\" id=\"ua6feb9e6\">MyTest3</span></p><p data-lake-id=\"u1fb06377\" id=\"u1fb06377\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20pojo.Student%3B%5Cn%5Cnpublic%20class%20MyTest3%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5Cn%5Ct%5CtStudent%20stu%20%3D%20(Student)%20context.getBean(%5C%22student%5C%22)%3B%5Cn%5Ct%5CtSystem.out.println(stu.toString())%3B%5Cn%5Ct%7D%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229db21316%22%7D\"></card><p data-lake-id=\"ua682be66\" id=\"ua682be66\"><br></p><h3 data-lake-id=\"3c94674f\" id=\"3c94674f\"><span data-lake-id=\"u6b15ba57\" id=\"u6b15ba57\">6.3、拓展注入</span></h3><p data-lake-id=\"u93a563b7\" id=\"u93a563b7\"><br></p><p data-lake-id=\"ub50d5d37\" id=\"ub50d5d37\"><span data-lake-id=\"u8cadda44\" id=\"u8cadda44\">官方文档位置</span></p><p data-lake-id=\"ubd07feee\" id=\"ubd07feee\"><br></p><p data-lake-id=\"uaa502723\" id=\"uaa502723\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471878381-057df3da-65e9-41cf-8804-c9d387f0fcf3.png%22%2C%22taskId%22%3A%22uda825a33-9e6c-4d24-ac9a-4ca18afea94%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713.5%2C%22height%22%3A328%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A326070%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1427%2C%22originHeight%22%3A656%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%221.2.%E5%AE%B9%E5%99%A8%E6%A0%B8%E8%BF%B7%201.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%201.3%2CBean%E6%80%BB%E8%A7%88%20%E5%A6%82%E4%B8%8A%E4%B8%80%E8%8A%82%E6%89%80%E8%BF%B0%2C%E6%82%A8%E5%8F%AF%E4%BB%A5bean%E5%B1%9E%E6%80%A7%E5%92%8C%E9%80%A0%E6%95%B0%E5%8F%82%E6%95%99%E5%AE%9A%E4%B9%89%E4%B8%BA%E5%AF%B9%E5%85%B6%E4%BB%96%E6%89%98%E7%AE%A1bean(%E5%8D%8F%E8%80%85)%E7%9A%84%E7%94%A8%E5%86%85%E8%81%94%201.4.%E4%BE%9D%E5%AD%98%E5%85%B3%E7%B3%BB%20XML%E7%9A%84%E9%85%8D%E7%BD%AE%E5%85%83%E4%B8%BA%E6%AD%A4%E7%9B%AE%E7%9A%84%E5%9C%A8%E5%85%B6gproperty%2F%E5%92%8Constructorarg%2F%E5%85%83%E7%B4%A0%E4%B8%AD%E6%94%AF%E6%8C%81%E5%AD%90%E5%85%83%E5%A4%B4%E7%B1%BB%E5%9E%8B%201.4.1%2C%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%201.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%20%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%20%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%20%E5%9C%A8value%E6%89%80%E7%9A%84%E5%B1%9E%E6%80%A7sproperty%2F3%E5%85%83%E7%B4%A0%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E6%88%96%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%82%E6%95%B0%E7%9A%84%E4%BA%BA%E7%B1%BB%E5%8F%AF%E8%AF%BB%E7%9A%84%E5%AE%81%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA%2CSprihg%E7%9A%84%20%E5%AF%B9%E5%85%B6%E4%BB%96Bean%E7%9A%84%E5%BC%95%E7%94%A8(%E5%8D%8F%E4%BD%9C%E8%80%85)%20%E6%8D%A2string%E4%B8%BA%E5%B1%9E%E6%80%A7%E6%88%96%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%9E%E9%99%85%E7%B1%BB%E5%9E%8B%2C%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%98%BE%E7%A4%BA%E4%BA%86%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%90%84%E7%A7%8D%E5%80%BC%3A%20%E5%86%85%E8%B1%86%20%E9%A6%86%E8%97%8F%20sbeanidweatasourtedhssong.pahe.m.caueo%20-resultsingsetDriverclassName(string%20CaLL--%3E%20%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%BC%E5%92%8C%E7%A9%BA%E5%AD%97%E7%89%B9%E4%B8%B2%E5%80%BC%20value'com.mysql.jdbe.Driver%2F%3E%20%3Cpropertyname-driverclassName%20%E7%9C%9F%E6%9C%89-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%20spropertynane-url%5C%22value-jdbc%3Amyq%3Acahot%20%E5%85%B7%E6%9C%89c-namespace%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%20%5C%22root%5C%22%2F%3E%20value-%5C%22%20%3Cproperty%20usernane%5C%22%20name%20%5C%22passwordvalue-%5C%22masterkaoli%2F%3E%20%3Cproperty%20name%20%E5%A4%8D%E5%90%88%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%20%3C%2Fbean%3E%201.4.3%2C%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96%201.4.4.%E6%87%92%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B1%86%20%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E5%B0%86P-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%94%A8%E4%BA%8E%E6%9B%B4%E7%AE%80%E6%B4%81%E7%9A%84XML%E9%85%8D%E7%BD%AE%201.4.5.%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%8D%8F%E4%BD%9C%E5%99%A8%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A24.087215%2C%22y%22%3A-1.250443%2C%22width%22%3A125.81227499999999%2C%22height%22%3A19.076933%2C%22text%22%3A%221.2.%E5%AE%B9%E5%99%A8%E6%A0%B8%E8%BF%B7%22%7D%2C%7B%22x%22%3A533.7639%2C%22y%22%3A15.422868%2C%22width%22%3A322.45949999999993%2C%22height%22%3A31.715097999999998%2C%22text%22%3A%221.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%22%7D%2C%7B%22x%22%3A23.977247%2C%22y%22%3A38.287422%2C%22width%22%3A131.573703%2C%22height%22%3A21.222552999999998%2C%22text%22%3A%221.3%2CBean%E6%80%BB%E8%A7%88%22%7D%2C%7B%22x%22%3A532.5748%2C%22y%22%3A73.64552%2C%22width%22%3A892.6387000000001%2C%22height%22%3A24.891949999999994%2C%22text%22%3A%22%E5%A6%82%E4%B8%8A%E4%B8%80%E8%8A%82%E6%89%80%E8%BF%B0%2C%E6%82%A8%E5%8F%AF%E4%BB%A5bean%E5%B1%9E%E6%80%A7%E5%92%8C%E9%80%A0%E6%95%B0%E5%8F%82%E6%95%99%E5%AE%9A%E4%B9%89%E4%B8%BA%E5%AF%B9%E5%85%B6%E4%BB%96%E6%89%98%E7%AE%A1bean(%E5%8D%8F%E8%80%85)%E7%9A%84%E7%94%A8%E5%86%85%E8%81%94%22%7D%2C%7B%22x%22%3A24.868717%2C%22y%22%3A79.921936%2C%22width%22%3A123.04708299999999%2C%22height%22%3A21.671024000000003%2C%22text%22%3A%221.4.%E4%BE%9D%E5%AD%98%E5%85%B3%E7%B3%BB%22%7D%2C%7B%22x%22%3A533.5664%2C%22y%22%3A104.10312%2C%22width%22%3A835.3528%2C%22height%22%3A28.094440000000006%2C%22text%22%3A%22XML%E7%9A%84%E9%85%8D%E7%BD%AE%E5%85%83%E4%B8%BA%E6%AD%A4%E7%9B%AE%E7%9A%84%E5%9C%A8%E5%85%B6gproperty%2F%E5%92%8Constructorarg%2F%E5%85%83%E7%B4%A0%E4%B8%AD%E6%94%AF%E6%8C%81%E5%AD%90%E5%85%83%E5%A4%B4%E7%B1%BB%E5%9E%8B%22%7D%2C%7B%22x%22%3A36.270008%2C%22y%22%3A120.627426%2C%22width%22%3A137.062072%2C%22height%22%3A21.529173999999998%2C%22text%22%3A%221.4.1%2C%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%22%7D%2C%7B%22x%22%3A36.657173%2C%22y%22%3A163.00208%2C%22width%22%3A214.412927%2C%22height%22%3A20.86972%2C%22text%22%3A%221.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%22%7D%2C%7B%22x%22%3A533.6175%2C%22y%22%3A173.76848%2C%22width%22%3A262.0802500000001%2C%22height%22%3A30.68849%2C%22text%22%3A%22%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%22%7D%2C%7B%22x%22%3A47.50443%2C%22y%22%3A204.54459%2C%22width%22%3A204.58481999999998%2C%22height%22%3A21.66157000000001%2C%22text%22%3A%22%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%22%7D%2C%7B%22x%22%3A544.0299%2C%22y%22%3A227.45966%2C%22width%22%3A865.3214%2C%22height%22%3A25.175539999999984%2C%22text%22%3A%22%E5%9C%A8value%E6%89%80%E7%9A%84%E5%B1%9E%E6%80%A7sproperty%2F3%E5%85%83%E7%B4%A0%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E6%88%96%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%82%E6%95%B0%E7%9A%84%E4%BA%BA%E7%B1%BB%E5%8F%AF%E8%AF%BB%E7%9A%84%E5%AE%81%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA%2CSprihg%E7%9A%84%22%7D%2C%7B%22x%22%3A47.615604%2C%22y%22%3A245.71992%2C%22width%22%3A252.33359600000003%2C%22height%22%3A23.441910000000007%2C%22text%22%3A%22%E5%AF%B9%E5%85%B6%E4%BB%96Bean%E7%9A%84%E5%BC%95%E7%94%A8(%E5%8D%8F%E4%BD%9C%E8%80%85)%22%7D%2C%7B%22x%22%3A544.036%2C%22y%22%3A259.75897%2C%22width%22%3A605.5634000000001%2C%22height%22%3A21.79050000000001%2C%22text%22%3A%22%E6%8D%A2string%E4%B8%BA%E5%B1%9E%E6%80%A7%E6%88%96%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%9E%E9%99%85%E7%B1%BB%E5%9E%8B%2C%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%98%BE%E7%A4%BA%E4%BA%86%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%90%84%E7%A7%8D%E5%80%BC%3A%22%7D%2C%7B%22x%22%3A47.88115%2C%22y%22%3A287.90396%2C%22width%22%3A40.692569999999996%2C%22height%22%3A18.63742000000002%2C%22text%22%3A%22%E5%86%85%E8%B1%86%22%7D%2C%7B%22x%22%3A47.319794%2C%22y%22%3A328.8128%2C%22width%22%3A41.160066%2C%22height%22%3A19.44022000000001%2C%22text%22%3A%22%E9%A6%86%E8%97%8F%22%7D%2C%7B%22x%22%3A567.3877%2C%22y%22%3A335.3154%2C%22width%22%3A855.7740000000001%2C%22height%22%3A18.446069999999963%2C%22text%22%3A%22sbeanidweatasourtedhssong.pahe.m.caueo%22%7D%2C%7B%22x%22%3A603.3692%2C%22y%22%3A364.81866%2C%22width%22%3A393.54267000000004%2C%22height%22%3A19.91967999999997%2C%22text%22%3A%22-resultsingsetDriverclassName(string%22%7D%2C%7B%22x%22%3A1010.62146%2C%22y%22%3A367.59207%2C%22width%22%3A73.69493999999997%2C%22height%22%3A15.185460000000035%2C%22text%22%3A%22CaLL--%3E%22%7D%2C%7B%22x%22%3A46.361942%2C%22y%22%3A370.54004%2C%22width%22%3A214.322538%2C%22height%22%3A21.01538000000005%2C%22text%22%3A%22%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%BC%E5%92%8C%E7%A9%BA%E5%AD%97%E7%89%B9%E4%B8%B2%E5%80%BC%22%7D%2C%7B%22x%22%3A904.0768%2C%22y%22%3A395.27393%2C%22width%22%3A279.2318%2C%22height%22%3A17.70843000000002%2C%22text%22%3A%22value'com.mysql.jdbe.Driver%2F%3E%22%7D%2C%7B%22x%22%3A602.96716%2C%22y%22%3A397.88177%2C%22width%22%3A283.96034%2C%22height%22%3A17.625069999999994%2C%22text%22%3A%22%3Cpropertyname-driverclassName%22%7D%2C%7B%22x%22%3A48.658962%2C%22y%22%3A413.278%2C%22width%22%3A266.316598%2C%22height%22%3A20.553499999999985%2C%22text%22%3A%22%E7%9C%9F%E6%9C%89-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%22%7D%2C%7B%22x%22%3A604.2065%2C%22y%22%3A427.08914%2C%22width%22%3A567.1103%2C%22height%22%3A17.70658000000003%2C%22text%22%3A%22spropertynane-url%5C%22value-jdbc%3Amyq%3Acahot%22%7D%2C%7B%22x%22%3A47.948803%2C%22y%22%3A452.95316%2C%22width%22%3A290.899217%2C%22height%22%3A23.837339999999983%2C%22text%22%3A%22%E5%85%B7%E6%9C%89c-namespace%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%22%7D%2C%7B%22x%22%3A889.3476%2C%22y%22%3A457.6973%2C%22width%22%3A72.05125999999996%2C%22height%22%3A16.44100000000003%2C%22text%22%3A%22%5C%22root%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A833.6471%2C%22y%22%3A459.6132%2C%22width%22%3A66.01800000000003%2C%22height%22%3A13.73005999999998%2C%22text%22%3A%22value-%5C%22%22%7D%2C%7B%22x%22%3A603.4438%2C%22y%22%3A459.85068%2C%22width%22%3A82.4633%2C%22height%22%3A14.966759999999965%2C%22text%22%3A%22%3Cproperty%22%7D%2C%7B%22x%22%3A750.7158%2C%22y%22%3A459.87845%2C%22width%22%3A75.20720000000006%2C%22height%22%3A13.730250000000012%2C%22text%22%3A%22usernane%5C%22%22%7D%2C%7B%22x%22%3A687.9363%2C%22y%22%3A461.89807%2C%22width%22%3A45.458000000000084%2C%22height%22%3A11.55840999999998%2C%22text%22%3A%22name%22%7D%2C%7B%22x%22%3A738.64264%2C%22y%22%3A488.859%2C%22width%22%3A290.9183599999999%2C%22height%22%3A15.985500000000002%2C%22text%22%3A%22%5C%22passwordvalue-%5C%22masterkaoli%2F%3E%22%7D%2C%7B%22x%22%3A604.19415%2C%22y%22%3A491.46323%2C%22width%22%3A82.53094999999996%2C%22height%22%3A14.248289999999997%2C%22text%22%3A%22%3Cproperty%22%7D%2C%7B%22x%22%3A690.8706%2C%22y%22%3A493.22842%2C%22width%22%3A45.867560000000026%2C%22height%22%3A10.680979999999977%2C%22text%22%3A%22name%22%7D%2C%7B%22x%22%3A48.128197%2C%22y%22%3A494.06586%2C%22width%22%3A117.72509299999999%2C%22height%22%3A20.410840000000064%2C%22text%22%3A%22%E5%A4%8D%E5%90%88%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%22%7D%2C%7B%22x%22%3A565.5256%2C%22y%22%3A517.5916%2C%22width%22%3A65.21349999999995%2C%22height%22%3A16.612439999999992%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A37.393337%2C%22y%22%3A536.9034%2C%22width%22%3A139.837303%2C%22height%22%3A18.551600000000008%2C%22text%22%3A%221.4.3%2C%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96%22%7D%2C%7B%22x%22%3A36.61345%2C%22y%22%3A576.8362%2C%22width%22%3A157.94223%2C%22height%22%3A20.87729999999999%2C%22text%22%3A%221.4.4.%E6%87%92%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B1%86%22%7D%2C%7B%22x%22%3A533.69055%2C%22y%22%3A608.6612%2C%22width%22%3A417.10934999999995%2C%22height%22%3A23.799859999999967%2C%22text%22%3A%22%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E5%B0%86P-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%94%A8%E4%BA%8E%E6%9B%B4%E7%AE%80%E6%B4%81%E7%9A%84XML%E9%85%8D%E7%BD%AE%22%7D%2C%7B%22x%22%3A35.175392%2C%22y%22%3A618.7481%2C%22width%22%3A197.883978%2C%22height%22%3A21.40034000000003%2C%22text%22%3A%221.4.5.%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%8D%8F%E4%BD%9C%E5%99%A8%22%7D%5D%2C%22id%22%3A%22u58d619ea%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u47db98f2\" id=\"u47db98f2\"><br></p><p data-lake-id=\"ue344f449\" id=\"ue344f449\"><span data-lake-id=\"ub9034603\" id=\"ub9034603\">pojo增加User类</span></p><p data-lake-id=\"u5730d9df\" id=\"u5730d9df\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnpublic%20class%20User%20%7B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%20%20%20%20private%20int%20id%3B%5Cn%5Ctpublic%20User()%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%7D%5Cn%5Ctpublic%20User(String%20name%2C%20int%20id)%20%7B%5Cn%5Ct%5Ctsuper()%3B%5Cn%5Ct%5Ctthis.name%20%3D%20name%3B%5Cn%5Ct%5Ctthis.id%20%3D%20id%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20String%20getName()%20%7B%5Cn%5Ct%5Ctreturn%20name%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20void%20setName(String%20name)%20%7B%5Cn%5Ct%5Ctthis.name%20%3D%20name%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20int%20getId()%20%7B%5Cn%5Ct%5Ctreturn%20id%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20void%20setId(int%20id)%20%7B%5Cn%5Ct%5Ctthis.id%20%3D%20id%3B%5Cn%5Ct%7D%5Cn%5Ct%40Override%5Cn%5Ctpublic%20String%20toString()%20%7B%5Cn%5Ct%5Ctreturn%20%5C%22User%20%5Bname%3D%5C%22%20%2B%20name%20%2B%20%5C%22%2C%20id%3D%5C%22%20%2B%20id%20%2B%20%5C%22%5D%5C%22%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226e372cdd%22%7D\"></card><p data-lake-id=\"ua74e3d3f\" id=\"ua74e3d3f\"><br></p><p data-lake-id=\"ufc28a002\" id=\"ufc28a002\"><span data-lake-id=\"u3d00df98\" id=\"u3d00df98\">注意： beans 里面加上这下面两行</span></p><p data-lake-id=\"ue68b5664\" id=\"ue68b5664\"><br></p><p data-lake-id=\"u7a5e68e8\" id=\"u7a5e68e8\"><span data-lake-id=\"u30bdbf48\" id=\"u30bdbf48\">使用p和c命名空间需要导入xml约束</span></p><p data-lake-id=\"u30710d1b\" id=\"u30710d1b\"><br></p><p data-lake-id=\"u6e044ffa\" id=\"u6e044ffa\"><span data-lake-id=\"uf621ba01\" id=\"uf621ba01\">xmlns:p=“http://www.springframework.org/schema/p”<br /></span><span data-lake-id=\"u9bb1e115\" id=\"u9bb1e115\">xmlns:c=“http://www.springframework.org/schema/c”</span></p><p data-lake-id=\"ue5d1209f\" id=\"ue5d1209f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Ap%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fp%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Ac%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fc%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3C!--p%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E6%B3%A8%E5%85%A5%2Fset%E6%B3%A8%E5%85%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7%E7%9A%84%E5%80%BC-%E3%80%8Bproperty--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%20p%3Aname%3D%5C%22cxk%5C%22%20p%3Aid%3D%5C%2220%5C%22%20%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%20%20%20%20%3C!--c%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%EF%BC%8C%E9%80%9A%E8%BF%87%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5%EF%BC%8C%E9%9C%80%E8%A6%81%E5%86%99%E5%85%A5%E6%9C%89%E5%8F%82%E5%92%8C%E6%97%A0%E5%8F%82%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-%E3%80%8Bconstruct-args--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22user2%5C%22%20class%3D%5C%22pojo.User%5C%22%20c%3Aname%3D%5C%22cbh%5C%22%20c%3Aid%3D%5C%2222%5C%22%3E%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224296cc52%22%7D\"></card><p data-lake-id=\"u10591681\" id=\"u10591681\"><br></p><p data-lake-id=\"u954c0a1a\" id=\"u954c0a1a\"><span data-lake-id=\"u8fcf3709\" id=\"u8fcf3709\">测试</span></p><p data-lake-id=\"u750d7056\" id=\"u750d7056\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5CnUser%20user%20%3D%20context.getBean(%5C%22user%5C%22%2CUser.class)%3B%2F%2F%E7%A1%AE%E5%AE%9Aclass%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%B1%E4%B8%8D%E7%94%A8%E5%86%8D%E5%BC%BA%E8%BD%AC%E4%BA%86%5CnSystem.out.println(user.toString())%3B%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2273a0d61e%22%7D\"></card><p data-lake-id=\"u479fc57b\" id=\"u479fc57b\"><br></p><h3 data-lake-id=\"16334c78\" id=\"16334c78\"><span data-lake-id=\"u22b8a0ff\" id=\"u22b8a0ff\">6.4、Bean作用域</span></h3><p data-lake-id=\"uc4928608\" id=\"uc4928608\"><br></p><p data-lake-id=\"u394fad2b\" id=\"u394fad2b\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471904621-7ed632de-12df-40e9-a3b9-ae6b4a446088.png%22%2C%22taskId%22%3A%22u236a3f01-9665-409c-89c8-6110309854a%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A712%2C%22height%22%3A422%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A421622%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1424%2C%22originHeight%22%3A843%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Table3.BeanscopES%20Description%20scope%20Deiaulyscopesasinglebeandeintiontoasinglbjectinsacoeachspring%20singleton%20container.%20Scopesasinglebeandefinitiontoaumrjectistce%20prototype%20Scopesasingebeandeinitontothlfyef%20request%20ofabeancreatedoffthebackofasinglebeandefinitionl%20requesthasitsowninstanceof%20validinthecontextofaweb-awareSoring%20ApplicationConText%20lebeandefinitiontothelifecycleofanHTTP%20Onlyvalidinthecontext%20Scopesasingle%20session%20Session%20ofaweb-awareSoring%20gApplicationContext%20Onlyvalidinthecontext%20Scopesasinglebeandefinitiontothelifyclofaserletcontext%20application%20ofaweb-awareSpringApplicationContext%20Onlyvalidinthecontextofa%20Scopesasinglebeandefinitiontothelifecycleofa%20websocket%20Websocket%20web-awareSpringApplicationContext%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A14.584339%2C%22y%22%3A9.439398%2C%22width%22%3A263.021831%2C%22height%22%3A29.712408%2C%22text%22%3A%22Table3.BeanscopES%22%7D%2C%7B%22x%22%3A313.77054%2C%22y%22%3A92.304596%2C%22width%22%3A149.07059000000004%2C%22height%22%3A31.143333999999996%2C%22text%22%3A%22Description%22%7D%2C%7B%22x%22%3A28.288778%2C%22y%22%3A94.754524%2C%22width%22%3A79.77137199999999%2C%22height%22%3A27.871606%2C%22text%22%3A%22scope%22%7D%2C%7B%22x%22%3A313.93222%2C%22y%22%3A163.16855%2C%22width%22%3A1020.0167800000002%2C%22height%22%3A34.86703%2C%22text%22%3A%22Deiaulyscopesasinglebeandeintiontoasinglbjectinsacoeachspring%22%7D%2C%7B%22x%22%3A27.190334%2C%22y%22%3A165.09358%2C%22width%22%3A114.83275599999999%2C%22height%22%3A29.579880000000003%2C%22text%22%3A%22singleton%22%7D%2C%7B%22x%22%3A314.97665%2C%22y%22%3A210.65306%2C%22width%22%3A122.41546999999997%2C%22height%22%3A23.04760999999999%2C%22text%22%3A%22container.%22%7D%2C%7B%22x%22%3A311.78745%2C%22y%22%3A276.43265%2C%22width%22%3A786.00135%2C%22height%22%3A30.74562999999995%2C%22text%22%3A%22Scopesasinglebeandefinitiontoaumrjectistce%22%7D%2C%7B%22x%22%3A30.286507%2C%22y%22%3A280.26218%2C%22width%22%3A119.37445299999999%2C%22height%22%3A23.760370000000023%2C%22text%22%3A%22prototype%22%7D%2C%7B%22x%22%3A312.95502%2C%22y%22%3A345.8068%2C%22width%22%3A1065.47318%2C%22height%22%3A30.669399999999996%2C%22text%22%3A%22Scopesasingebeandeinitontothlfyef%22%7D%2C%7B%22x%22%3A29.592064%2C%22y%22%3A349.9837%2C%22width%22%3A96.022166%2C%22height%22%3A21.734620000000007%2C%22text%22%3A%22request%22%7D%2C%7B%22x%22%3A658.3521%2C%22y%22%3A384.8068%2C%22width%22%3A735.7104%2C%22height%22%3A30.349099999999964%2C%22text%22%3A%22ofabeancreatedoffthebackofasinglebeandefinitionl%22%7D%2C%7B%22x%22%3A312.24738%2C%22y%22%3A387.87704%2C%22width%22%3A360.94818%2C%22height%22%3A25.830659999999966%2C%22text%22%3A%22requesthasitsowninstanceof%22%7D%2C%7B%22x%22%3A311.17245%2C%22y%22%3A427.68893%2C%22width%22%3A514.8730499999999%2C%22height%22%3A27.845799999999997%2C%22text%22%3A%22validinthecontextofaweb-awareSoring%22%7D%2C%7B%22x%22%3A812.8032%2C%22y%22%3A428.6948%2C%22width%22%3A240.20709999999997%2C%22height%22%3A25.603049999999996%2C%22text%22%3A%22ApplicationConText%22%7D%2C%7B%22x%22%3A487.93225%2C%22y%22%3A491.02414%2C%22width%22%3A506.36774999999994%2C%22height%22%3A32.52135999999996%2C%22text%22%3A%22lebeandefinitiontothelifecycleofanHTTP%22%7D%2C%7B%22x%22%3A1115.1062%2C%22y%22%3A494.40344%2C%22width%22%3A294.0381%2C%22height%22%3A28.29825999999997%2C%22text%22%3A%22Onlyvalidinthecontext%22%7D%2C%7B%22x%22%3A312.68237%2C%22y%22%3A494.48843%2C%22width%22%3A191.87900000000002%2C%22height%22%3A31.11221999999998%2C%22text%22%3A%22Scopesasingle%22%7D%2C%7B%22x%22%3A28.237474%2C%22y%22%3A496.7709%2C%22width%22%3A92.548036%2C%22height%22%3A22.76615000000004%2C%22text%22%3A%22session%22%7D%2C%7B%22x%22%3A1007.8871%2C%22y%22%3A499.87982%2C%22width%22%3A90.37720000000002%2C%22height%22%3A20.416380000000004%2C%22text%22%3A%22Session%22%7D%2C%7B%22x%22%3A313.43744%2C%22y%22%3A535.7779%2C%22width%22%3A274.638%2C%22height%22%3A29.089039999999954%2C%22text%22%3A%22ofaweb-awareSoring%22%7D%2C%7B%22x%22%3A569.93304%2C%22y%22%3A536.5699%2C%22width%22%3A250.30485999999996%2C%22height%22%3A25.87760000000003%2C%22text%22%3A%22gApplicationContext%22%7D%2C%7B%22x%22%3A1115.9946%2C%22y%22%3A600.7325%2C%22width%22%3A295.5102999999999%2C%22height%22%3A32.5684%2C%22text%22%3A%22Onlyvalidinthecontext%22%7D%2C%7B%22x%22%3A313.41428%2C%22y%22%3A603.1799%2C%22width%22%3A784.92212%2C%22height%22%3A29.697540000000004%2C%22text%22%3A%22Scopesasinglebeandefinitiontothelifyclofaserletcontext%22%7D%2C%7B%22x%22%3A29.002136%2C%22y%22%3A604.1563%2C%22width%22%3A135.34686399999998%2C%22height%22%3A30.547860000000014%2C%22text%22%3A%22application%22%7D%2C%7B%22x%22%3A317.99823%2C%22y%22%3A645.357%2C%22width%22%3A499.27077%2C%22height%22%3A27.736440000000016%2C%22text%22%3A%22ofaweb-awareSpringApplicationContext%22%7D%2C%7B%22x%22%3A1053.8529%2C%22y%22%3A712.9187%2C%22width%22%3A347.2844%2C%22height%22%3A26.99980000000005%2C%22text%22%3A%22Onlyvalidinthecontextofa%22%7D%2C%7B%22x%22%3A313.55988%2C%22y%22%3A712.30206%2C%22width%22%3A597.17592%2C%22height%22%3A28.880340000000047%2C%22text%22%3A%22Scopesasinglebeandefinitiontothelifecycleofa%22%7D%2C%7B%22x%22%3A29.892937%2C%22y%22%3A713.9781%2C%22width%22%3A131.16448300000002%2C%22height%22%3A24.962499999999977%2C%22text%22%3A%22websocket%22%7D%2C%7B%22x%22%3A921.94226%2C%22y%22%3A718.20764%2C%22width%22%3A114.68344000000002%2C%22height%22%3A21.837660000000028%2C%22text%22%3A%22Websocket%22%7D%2C%7B%22x%22%3A312.27615%2C%22y%22%3A756.11884%2C%22width%22%3A457.18735%2C%22height%22%3A26.873710000000074%2C%22text%22%3A%22web-awareSpringApplicationContext%22%7D%5D%2C%22id%22%3A%22u6d12e90f%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u2d12ff40\" id=\"u2d12ff40\"><br></p><p data-lake-id=\"u97471f29\" id=\"u97471f29\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471928095-937427a8-29ae-435a-b602-df741f768463.png%22%2C%22taskId%22%3A%22ubdb4b1f9-53e8-4604-a7d3-3d0df1261d0%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713.5%2C%22height%22%3A377%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A374384%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1427%2C%22originHeight%22%3A753%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E8%A1%A83.Bean%E4%BD%9C%E7%94%A8%E5%9F%9F%20%E6%8F%8F%E8%BF%B0%20%E8%8C%83%E5%9B%B4%20%E5%8D%95%E8%BA%AB%E4%BA%BA%E5%A3%AB%20(%E9%BB%98%E8%AE%A4)%E4%B8%BA%E6%AF%8F%E4%B8%AASpringloc%E5%AE%B9%E5%99%A8%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E4%BB%BB%E6%84%8F%E6%95%B0%E9%87%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%20%E5%8E%9F%E5%9E%8B%20%E8%AF%B7%E6%B1%82%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AAHTP%E6%B8%85%E6%B1%82%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%2C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%2C%E6%AF%8FHTP%E8%AF%B7%E6%B1%82%E9%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%9C%A8%E5%8D%95%20%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E5%90%8E%E9%9D%A2%E5%88%9B%E5%BB%BA%E7%9A%84bean%E5%AE%9E%E4%BE%8B%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88plicationcontext.%20%E4%BC%9A%E8%AE%AE%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BAHTP%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fsesion%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%BD%91spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%20ApplicationContext%20.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84Spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%20%E5%BA%94%E7%94%A8%20Seryletcontext%20%E6%9C%89%E6%95%88ApplicationConText%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9D%87%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fwebsocke.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%8F%E7%BD%91%E7%BB%9CSpring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%20%E7%BD%91%E7%BB%9C%E5%A5%97%E6%8E%A5%E5%AD%97%20ApplicationContext%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A12.144462%2C%22y%22%3A5.494326%2C%22width%22%3A198.705998%2C%22height%22%3A29.005876%2C%22text%22%3A%22%E8%A1%A83.Bean%E4%BD%9C%E7%94%A8%E5%9F%9F%22%7D%2C%7B%22x%22%3A313.19604%2C%22y%22%3A91.362595%2C%22width%22%3A53.01069000000001%2C%22height%22%3A28.842040999999995%2C%22text%22%3A%22%E6%8F%8F%E8%BF%B0%22%7D%2C%7B%22x%22%3A28.372595%2C%22y%22%3A91.82853%2C%22width%22%3A53.983965%2C%22height%22%3A28.19847%2C%22text%22%3A%22%E8%8C%83%E5%9B%B4%22%7D%2C%7B%22x%22%3A28.6982%2C%22y%22%3A163.3566%2C%22width%22%3A103.41861999999999%2C%22height%22%3A26.667250000000024%2C%22text%22%3A%22%E5%8D%95%E8%BA%AB%E4%BA%BA%E5%A3%AB%22%7D%2C%7B%22x%22%3A332.25116%2C%22y%22%3A162.57925%2C%22width%22%3A853.59494%2C%22height%22%3A29.51271%2C%22text%22%3A%22(%E9%BB%98%E8%AE%A4)%E4%B8%BA%E6%AF%8F%E4%B8%AASpringloc%E5%AE%B9%E5%99%A8%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%22%7D%2C%7B%22x%22%3A311.199%2C%22y%22%3A231.94147%2C%22width%22%3A604.36185%2C%22height%22%3A29.046629999999965%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E4%BB%BB%E6%84%8F%E6%95%B0%E9%87%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%22%7D%2C%7B%22x%22%3A29.22308%2C%22y%22%3A232.65906%2C%22width%22%3A52.24669%2C%22height%22%3A26.737179999999967%2C%22text%22%3A%22%E5%8E%9F%E5%9E%8B%22%7D%2C%7B%22x%22%3A26.530003%2C%22y%22%3A299.78918%2C%22width%22%3A56.075061%2C%22height%22%3A30.290840000000003%2C%22text%22%3A%22%E8%AF%B7%E6%B1%82%22%7D%2C%7B%22x%22%3A311.8542%2C%22y%22%3A301.52795%2C%22width%22%3A1097.1688%2C%22height%22%3A29.247100000000046%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AAHTP%E6%B8%85%E6%B1%82%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%2C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%2C%E6%AF%8FHTP%E8%AF%B7%E6%B1%82%E9%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%9C%A8%E5%8D%95%22%7D%2C%7B%22x%22%3A313.64304%2C%22y%22%3A336.97586%2C%22width%22%3A1063.4029600000001%2C%22height%22%3A38.52994000000001%2C%22text%22%3A%22%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E5%90%8E%E9%9D%A2%E5%88%9B%E5%BB%BA%E7%9A%84bean%E5%AE%9E%E4%BE%8B%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88plicationcontext.%22%7D%2C%7B%22x%22%3A27.74927%2C%22y%22%3A410.14972%2C%22width%22%3A55.42434%2C%22height%22%3A30.363159999999993%2C%22text%22%3A%22%E4%BC%9A%E8%AE%AE%22%7D%2C%7B%22x%22%3A311.08432%2C%22y%22%3A410.50638%2C%22width%22%3A1095.3203800000001%2C%22height%22%3A29.018060000000048%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BAHTP%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fsesion%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%BD%91spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%22%7D%2C%7B%22x%22%3A321.60364%2C%22y%22%3A456.00003%2C%22width%22%3A224.38385999999997%2C%22height%22%3A23.201940000000036%2C%22text%22%3A%22ApplicationContext%22%7D%2C%7B%22x%22%3A1011.4224%2C%22y%22%3A517.7054%2C%22width%22%3A388.14319999999987%2C%22height%22%3A32.56772999999998%2C%22text%22%3A%22.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84Spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%22%7D%2C%7B%22x%22%3A311.4814%2C%22y%22%3A518.71857%2C%22width%22%3A492.2953%2C%22height%22%3A29.80592999999999%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%22%7D%2C%7B%22x%22%3A28.167027%2C%22y%22%3A521.81305%2C%22width%22%3A53.355289%2C%22height%22%3A26.047750000000065%2C%22text%22%3A%22%E5%BA%94%E7%94%A8%22%7D%2C%7B%22x%22%3A812.8699%2C%22y%22%3A528.2155%2C%22width%22%3A181.4266%2C%22height%22%3A17.583399999999983%2C%22text%22%3A%22Seryletcontext%22%7D%2C%7B%22x%22%3A320.04077%2C%22y%22%3A561.41516%2C%22width%22%3A279.21403000000004%2C%22height%22%3A26.66247999999996%2C%22text%22%3A%22%E6%9C%89%E6%95%88ApplicationConText%22%7D%2C%7B%22x%22%3A310.90848%2C%22y%22%3A626.409%2C%22width%22%3A1083.3690199999999%2C%22height%22%3A34.468560000000025%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9D%87%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fwebsocke.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%8F%E7%BD%91%E7%BB%9CSpring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%22%7D%2C%7B%22x%22%3A29.066113%2C%22y%22%3A629.8826%2C%22width%22%3A128.009357%2C%22height%22%3A26.58865000000003%2C%22text%22%3A%22%E7%BD%91%E7%BB%9C%E5%A5%97%E6%8E%A5%E5%AD%97%22%7D%2C%7B%22x%22%3A320.3262%2C%22y%22%3A672.038%2C%22width%22%3A230.28037000000006%2C%22height%22%3A25.92274999999995%2C%22text%22%3A%22ApplicationContext%22%7D%5D%2C%22id%22%3A%22u79de32bf%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"uaed8d8b2\" id=\"uaed8d8b2\"><br></p><ol list=\"ubc935adb\"><li fid=\"u87e7d33e\" data-lake-id=\"u48051658\" id=\"u48051658\"><span data-lake-id=\"uf81dc518\" id=\"uf81dc518\"> 单例模式（默认） </span><span data-lake-id=\"uc2603b63\" id=\"uc2603b63\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user2%5C%22%20class%3D%5C%22pojo.User%5C%22%20c%3Aname%3D%5C%22cxk%5C%22%20c%3Aage%3D%5C%2219%5C%22%20scope%3D%5C%22singleton%5C%22%3E%3C%2Fbean%3E%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f91b4cc0%22%7D\"></card><p data-lake-id=\"u2cd2b019\" id=\"u2cd2b019\"><br></p><p data-lake-id=\"u73835292\" id=\"u73835292\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471985296-9123fd81-1e81-4c8e-beba-1596e15f352a.png%22%2C%22taskId%22%3A%22u3910b108-eea1-4fb9-bf65-538b0106af5%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A719%2C%22height%22%3A331%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A310107%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1438%2C%22originHeight%22%3A662%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%3Cbeanide...%5C%22%20class-%5C%22...%5C%22%3E%20Onlyoneinstanceisevercreated...%20%3Cpropertyname-%5C%22accountDao%5C%22%20refz%5C%22accountDao%5C%22%3E%20%3C%2Fbean%3E%20ida..class-..%5C%22%3E%20%3Cbean%20%3Cpropertyname-%5C%22accountDao%20cef-%5C%22accountDao%5C%22%2F%3E%20class-%5C%22...%5C%22%2F%3E%20sbeanid-HaccountDao%5C%22%20%3C%2Fbean%3E%20%3Cbeanida...class...%5C%22%3E%20%3Cpropertyname-%5C%22accountDao%20refz%5C%22accountDao%5C%22%3E%20%3C%2Fbeanx%20intoeachcollaboratingobject%20andthissamesharedinstanceisinjctditoe%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A41.269245%2C%22y%22%3A46.18771%2C%22width%22%3A212.258325%2C%22height%22%3A21.95279%2C%22text%22%3A%22%3Cbeanide...%5C%22%22%7D%2C%7B%22x%22%3A266.28677%2C%22y%22%3A47.967854%2C%22width%22%3A171.90097000000003%2C%22height%22%3A21.139796000000004%2C%22text%22%3A%22class-%5C%22...%5C%22%3E%22%7D%2C%7B%22x%22%3A694.1427%2C%22y%22%3A49.979984%2C%22width%22%3A631.3152000000001%2C%22height%22%3A42.49058599999999%2C%22text%22%3A%22Onlyoneinstanceisevercreated...%22%7D%2C%7B%22x%22%3A103.48737%2C%22y%22%3A77.13822%2C%22width%22%3A404.80606%2C%22height%22%3A25.866013999999993%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%5C%22%22%7D%2C%7B%22x%22%3A250.83527%2C%22y%22%3A106.17953%2C%22width%22%3A271.9570299999999%2C%22height%22%3A22.80413999999999%2C%22text%22%3A%22refz%5C%22accountDao%5C%22%3E%22%7D%2C%7B%22x%22%3A39.82959%2C%22y%22%3A137.46846%2C%22width%22%3A102.22366%2C%22height%22%3A21.856490000000008%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A139.30316%2C%22y%22%3A237.81306%2C%22width%22%3A305.05252%2C%22height%22%3A21.000569999999982%2C%22text%22%3A%22ida..class-..%5C%22%3E%22%7D%2C%7B%22x%22%3A43.96812%2C%22y%22%3A241.43031%2C%22width%22%3A71.11852%2C%22height%22%3A18.18839%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A101.11072%2C%22y%22%3A265.04007%2C%22width%22%3A405.21966%2C%22height%22%3A27.25772999999998%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%22%7D%2C%7B%22x%22%3A249.96025%2C%22y%22%3A297.7104%2C%22width%22%3A272.50915%2C%22height%22%3A26.226730000000032%2C%22text%22%3A%22cef-%5C%22accountDao%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A1186.8196%2C%22y%22%3A308.53006%2C%22width%22%3A202.39229999999998%2C%22height%22%3A24.255040000000008%2C%22text%22%3A%22class-%5C%22...%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A848.99554%2C%22y%22%3A308.97745%2C%22width%22%3A308.1062599999999%2C%22height%22%3A22.67959000000002%2C%22text%22%3A%22sbeanid-HaccountDao%5C%22%22%7D%2C%7B%22x%22%3A41.01014%2C%22y%22%3A329.00812%2C%22width%22%3A101.70590999999999%2C%22height%22%3A20.496759999999995%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A41.62623%2C%22y%22%3A419.80777%2C%22width%22%3A403.2929%2C%22height%22%3A24.50436000000002%2C%22text%22%3A%22%3Cbeanida...class...%5C%22%3E%22%7D%2C%7B%22x%22%3A103.0713%2C%22y%22%3A452.01987%2C%22width%22%3A403.66396%2C%22height%22%3A27.17140999999998%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%22%7D%2C%7B%22x%22%3A249.32343%2C%22y%22%3A482.01624%2C%22width%22%3A274.79436999999996%2C%22height%22%3A23.40142000000003%2C%22text%22%3A%22refz%5C%22accountDao%5C%22%3E%22%7D%2C%7B%22x%22%3A40.141888%2C%22y%22%3A513.46967%2C%22width%22%3A102.991702%2C%22height%22%3A20.59289000000001%2C%22text%22%3A%22%3C%2Fbeanx%22%7D%2C%7B%22x%22%3A850.7997%2C%22y%22%3A594.92975%2C%22width%22%3A522.4825000000001%2C%22height%22%3A42.36559999999997%2C%22text%22%3A%22intoeachcollaboratingobject%22%7D%2C%7B%22x%22%3A89.77681%2C%22y%22%3A598.2496%2C%22width%22%3A826.7422300000001%2C%22height%22%3A38.836700000000064%2C%22text%22%3A%22andthissamesharedinstanceisinjctditoe%22%7D%5D%2C%22id%22%3A%22u44aa8f75%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"uaa494d98\" id=\"uaa494d98\"><br />弹幕评论：单例模式是把对象放在pool中，需要再取出来，使用的都是同一个对象实例</span></p><p data-lake-id=\"udb674de6\" id=\"udb674de6\"><br></p><ol list=\"u78373e2c\"><li fid=\"u328bfe0e\" data-lake-id=\"u62ec68c2\" id=\"u62ec68c2\"><span data-lake-id=\"uf9674af5\" id=\"uf9674af5\"> 原型模式: 每次从容器中get的时候，都产生一个新对象！ </span><span data-lake-id=\"u820ed28c\" id=\"u820ed28c\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user2%5C%22%20class%3D%5C%22pojo.User%5C%22%20c%3Aname%3D%5C%22cxk%5C%22%20c%3Aage%3D%5C%2219%5C%22%20scope%3D%5C%22prototype%5C%22%3E%3C%2Fbean%3E%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fa8b79aa%22%7D\"></card><p data-lake-id=\"u91bdbb59\" id=\"u91bdbb59\"><br></p><p data-lake-id=\"u1a1200c2\" id=\"u1a1200c2\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472006517-1d85d479-1c63-4354-8b85-3b700f0423e2.png%22%2C%22taskId%22%3A%22ua3770b8a-768b-48a4-8ed9-aba7346dfd7%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A710.5%2C%22height%22%3A330%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A290775%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1421%2C%22originHeight%22%3A659%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22...%5C%22%3E%20class-%20id-%5C%22%20%3Cbean%20Abrandnewbeaninstanceiscreated...%20%3Cproperty%20accountDao%20name%E4%B8%89%20ref-%5C%22accountDao%5C%22%2F%3E%20%3C%2Fbean%3E%20nid-n..%5C%22class-%5C%22...n%3E%20%3Cbean1%20%3Cpropertyname-%5C%22accountDao%20ref-%5C%22accountDao%5C%22%2F%3E%20id-%5C%22accountDaoclass-%5C%22..-%20%3Cbean%20%3C%2Fbean%3E%20scope-%5C%22prototype%5C%22%2F%3E%20id-%5C%22...%5C%22%20%3Cbean%20class%E4%B8%89%5C%22.%20%3Cpropertyname-%5C%22accountDao%5C%22%20ref-%5C%22accountDao%5C%227%3E%20%3C%2Fbean%3E%20eachandeverytimethepr%20heprototypeisreferencedbycollaboratingbeans%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A371.96277%2C%22y%22%3A41.21809%2C%22width%22%3A66.63363000000004%2C%22height%22%3A24.56651%2C%22text%22%3A%22...%5C%22%3E%22%7D%2C%7B%22x%22%3A262.60474%2C%22y%22%3A42.13552%2C%22width%22%3A88.1137%2C%22height%22%3A22.87845%2C%22text%22%3A%22class-%22%7D%2C%7B%22x%22%3A130.22412%2C%22y%22%3A42.488842%2C%22width%22%3A64.00310999999999%2C%22height%22%3A19.81295%2C%22text%22%3A%22id-%5C%22%22%7D%2C%7B%22x%22%3A43.098774%2C%22y%22%3A42.697205%2C%22width%22%3A70.19492600000001%2C%22height%22%3A20.14777%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A630.18555%2C%22y%22%3A45.04186%2C%22width%22%3A693.7150499999999%2C%22height%22%3A38.040639999999996%2C%22text%22%3A%22Abrandnewbeaninstanceiscreated...%22%7D%2C%7B%22x%22%3A102.01103%2C%22y%22%3A73.90814%2C%22width%22%3A131.14168%2C%22height%22%3A22.521739999999994%2C%22text%22%3A%22%3Cproperty%22%7D%2C%7B%22x%22%3A341.70383%2C%22y%22%3A71.265915%2C%22width%22%3A142.58935000000002%2C%22height%22%3A23.563435%2C%22text%22%3A%22accountDao%22%7D%2C%7B%22x%22%3A245.25029%2C%22y%22%3A74.51057%2C%22width%22%3A72.85460999999998%2C%22height%22%3A19.05082%2C%22text%22%3A%22name%E4%B8%89%22%7D%2C%7B%22x%22%3A246.53424%2C%22y%22%3A98.803795%2C%22width%22%3A266.39282%2C%22height%22%3A24.217555000000004%2C%22text%22%3A%22ref-%5C%22accountDao%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A40.752678%2C%22y%22%3A132.0618%2C%22width%22%3A98.482002%2C%22height%22%3A18.71902%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A114.63369%2C%22y%22%3A221.24188%2C%22width%22%3A323.40137%2C%22height%22%3A33.11332999999999%2C%22text%22%3A%22nid-n..%5C%22class-%5C%22...n%3E%22%7D%2C%7B%22x%22%3A41.671825%2C%22y%22%3A232.13203%2C%22width%22%3A102.514145%2C%22height%22%3A19.054390000000012%2C%22text%22%3A%22%3Cbean1%22%7D%2C%7B%22x%22%3A102.23459%2C%22y%22%3A258.08493%2C%22width%22%3A393.95788000000005%2C%22height%22%3A23.968140000000005%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%22%7D%2C%7B%22x%22%3A246.17921%2C%22y%22%3A286.0942%2C%22width%22%3A264.47499%2C%22height%22%3A26.924969999999973%2C%22text%22%3A%22ref-%5C%22accountDao%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A916.56665%2C%22y%22%3A295.30017%2C%22width%22%3A369.47444999999993%2C%22height%22%3A31.34593000000001%2C%22text%22%3A%22id-%5C%22accountDaoclass-%5C%22..-%22%7D%2C%7B%22x%22%3A831.6819%2C%22y%22%3A300.51364%2C%22width%22%3A68.98874999999998%2C%22height%22%3A19.16431%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A40.352646%2C%22y%22%3A317.53128%2C%22width%22%3A100.89845400000002%2C%22height%22%3A20.424990000000037%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A915.03815%2C%22y%22%3A329.47894%2C%22width%22%3A296.71735%2C%22height%22%3A25.20801%2C%22text%22%3A%22scope-%5C%22prototype%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A127.34301%2C%22y%22%3A410.25232%2C%22width%22%3A118.54421%2C%22height%22%3A22.420230000000004%2C%22text%22%3A%22id-%5C%22...%5C%22%22%7D%2C%7B%22x%22%3A41.917244%2C%22y%22%3A410.6605%2C%22width%22%3A71.352236%2C%22height%22%3A19.485070000000007%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A263.5095%2C%22y%22%3A411.45956%2C%22width%22%3A114.71865000000003%2C%22height%22%3A18.62754000000001%2C%22text%22%3A%22class%E4%B8%89%5C%22.%22%7D%2C%7B%22x%22%3A101.54672%2C%22y%22%3A439.41342%2C%22width%22%3A394.914%2C%22height%22%3A22.40753000000001%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%5C%22%22%7D%2C%7B%22x%22%3A248.11363%2C%22y%22%3A466.95642%2C%22width%22%3A263.36104%2C%22height%22%3A23.170500000000004%2C%22text%22%3A%22ref-%5C%22accountDao%5C%227%3E%22%7D%2C%7B%22x%22%3A41.93467%2C%22y%22%3A498.87912%2C%22width%22%3A100.39027%2C%22height%22%3A20.99028000000004%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A80.33484%2C%22y%22%3A578.9851%2C%22width%22%3A456.78290000000004%2C%22height%22%3A41.23300000000006%2C%22text%22%3A%22eachandeverytimethepr%22%7D%2C%7B%22x%22%3A470.4472%2C%22y%22%3A581.93536%2C%22width%22%3A858.0691999999999%2C%22height%22%3A36.61414000000002%2C%22text%22%3A%22heprototypeisreferencedbycollaboratingbeans%22%7D%5D%2C%22id%22%3A%22uafc03b06%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u2f53d200\" id=\"u2f53d200\"><br></p><ol list=\"u97f1a785\"><li fid=\"ubd519934\" data-lake-id=\"u316e2d3b\" id=\"u316e2d3b\"><span data-lake-id=\"ub27f72e7\" id=\"ub27f72e7\">其余的request、session、application这些只能在web开放中使用！</span></li></ol><p data-lake-id=\"ue2d94565\" id=\"ue2d94565\"><br></p><h2 data-lake-id=\"2401aaad\" id=\"2401aaad\"><span data-lake-id=\"u8e3d7105\" id=\"u8e3d7105\">7、Bean的自动装配</span></h2><p data-lake-id=\"u8cfd193a\" id=\"u8cfd193a\"><br></p><ul list=\"u22499638\"><li fid=\"u34c94e74\" data-lake-id=\"u7ba18ad2\" id=\"u7ba18ad2\"><span data-lake-id=\"u22bad3d9\" id=\"u22bad3d9\">自动装配是Spring满足bean依赖的一种方式</span></li></ul><ul list=\"u66f943e7\"><li fid=\"u74b04680\" data-lake-id=\"u7de52fb0\" id=\"u7de52fb0\"><span data-lake-id=\"u3fe0d647\" id=\"u3fe0d647\">Spring会在上下文自动寻找，并自动给bean装配属性</span></li></ul><p data-lake-id=\"uc333fa1a\" id=\"uc333fa1a\"><br></p><p data-lake-id=\"ud39b23fd\" id=\"ud39b23fd\"><span data-lake-id=\"u44863293\" id=\"u44863293\">在Spring中有三种装配的方式</span></p><p data-lake-id=\"ubc19bba9\" id=\"ubc19bba9\"><br></p><ol list=\"u61492fd5\"><li fid=\"u8e5ac809\" data-lake-id=\"u670de48b\" id=\"u670de48b\"><span data-lake-id=\"u5e933218\" id=\"u5e933218\"> 在xml中显示配置 </span></li></ol><ol list=\"u401b339a\" start=\"2\"><li fid=\"u8297dc20\" data-lake-id=\"u2a5f09f7\" id=\"u2a5f09f7\"><span data-lake-id=\"u5054ed7f\" id=\"u5054ed7f\"> 在java中显示配置 </span></li></ol><ol list=\"u9d7663b9\" start=\"3\"><li fid=\"ud0a86f78\" data-lake-id=\"u1af56d11\" id=\"u1af56d11\"><span data-lake-id=\"ua42167c3\" id=\"ua42167c3\"> 隐式的自动装配bean 【重要】 </span></li></ol><ol list=\"uc8b0ca1c\" start=\"4\"><li fid=\"u74d494bb\" data-lake-id=\"u79ae0658\" id=\"u79ae0658\"><span data-lake-id=\"u53fe0a39\" id=\"u53fe0a39\"> 环境搭建：一个人有两个宠物 </span></li></ol><ol list=\"u36249b08\" start=\"5\"><li fid=\"u789ed7d8\" data-lake-id=\"u8acc51e0\" id=\"u8acc51e0\"><span data-lake-id=\"uc3016ecf\" id=\"uc3016ecf\"> byType自动装配：byType会自动查找，和自己对象set方法参数的类型相同的bean<br /></span><span data-lake-id=\"u5392b47e\" id=\"u5392b47e\">保证所有的class唯一(类为全局唯一) </span></li></ol><ol list=\"u25ce3d79\" start=\"6\"><li fid=\"u62780117\" data-lake-id=\"u85ae21f7\" id=\"u85ae21f7\"><span data-lake-id=\"uc2184af2\" id=\"uc2184af2\"> byName自动装配：byName会自动查找，和自己对象set对应的值对应的id<br /></span><span data-lake-id=\"u382203fd\" id=\"u382203fd\">保证所有id唯一，并且和set注入的值一致 </span><span data-lake-id=\"u7429f4e6\" id=\"u7429f4e6\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20%E6%89%BE%E4%B8%8D%E5%88%B0id%E5%92%8C%E5%A4%9A%E4%B8%AA%E7%9B%B8%E5%90%8Cclass%20--%3E%5Cn%3Cbean%20id%3D%5C%22cat1%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%3Cbean%20id%3D%5C%22cat2%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%3C!--%20%E6%89%BE%E4%B8%8D%E5%88%B0%20id%3Dcat%EF%BC%8C%E4%B8%94%E6%9C%89%E4%B8%A4%E4%B8%AACat%20--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f308b92d%22%7D\"></card><p data-lake-id=\"u13452480\" id=\"u13452480\"><br></p><h3 data-lake-id=\"013694b5\" id=\"013694b5\"><span data-lake-id=\"u242c5646\" id=\"u242c5646\">7.1测试：自动装配</span></h3><p data-lake-id=\"u6f3dbd17\" id=\"u6f3dbd17\"><br></p><p data-lake-id=\"u9bb4ffdd\" id=\"u9bb4ffdd\"><span data-lake-id=\"udccf8255\" id=\"udccf8255\">pojo的Cat类</span></p><p data-lake-id=\"u46ca8beb\" id=\"u46ca8beb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20Cat%20%7B%5Cn%20%20%20%20public%20void%20shut()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22miao%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a1c71048%22%7D\"></card><p data-lake-id=\"ue91e284d\" id=\"ue91e284d\"><br></p><p data-lake-id=\"u36549670\" id=\"u36549670\"><span data-lake-id=\"u494569bb\" id=\"u494569bb\">pojo的Dog类</span></p><p data-lake-id=\"u4f322037\" id=\"u4f322037\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20Dog%20%7B%5Cn%5Cn%20%20%20%20public%20void%20shut()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22wow%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f3ae705e%22%7D\"></card><p data-lake-id=\"u0d644df7\" id=\"u0d644df7\"><br></p><p data-lake-id=\"u2e3bf3b2\" id=\"u2e3bf3b2\"><span data-lake-id=\"ua99558f0\" id=\"ua99558f0\">pojo的People类</span></p><p data-lake-id=\"ub4aa433f\" id=\"ub4aa433f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20class%20People%20%7B%5Cn%20%20%20%20%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%5Cn%20%20%20%20public%20Cat%20getCat()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20cat%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setCat(Cat%20cat)%20%7B%5Cn%20%20%20%20%20%20%20%20this.cat%20%3D%20cat%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20Dog%20getDog()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20dog%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setDog(Dog%20dog)%20%7B%5Cn%20%20%20%20%20%20%20%20this.dog%20%3D%20dog%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20String%20getName()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20name%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%5Cn%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20String%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%5C%22People%7B%5C%22%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22cat%3D%5C%22%20%2B%20cat%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20dog%3D%5C%22%20%2B%20dog%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20name%3D'%5C%22%20%2B%20name%20%2B%20'%5C%5C''%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%7D'%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2265dd22ae%22%7D\"></card><p data-lake-id=\"u4e8fffdb\" id=\"u4e8fffdb\"><br></p><p data-lake-id=\"u149faa2c\" id=\"u149faa2c\"><span data-lake-id=\"ufef3e3a3\" id=\"ufef3e3a3\">xml配置 -&gt; byType 自动装配</span></p><p data-lake-id=\"ua776c0cb\" id=\"ua776c0cb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22cat%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22dog%5C%22%20class%3D%5C%22pojo.Dog%5C%22%2F%3E%5Cn%20%20%20%20%5Cn%20%20%20%20%3C!--byType%E4%BC%9A%E5%9C%A8%E5%AE%B9%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9F%A5%E6%89%BE%EF%BC%8C%E5%92%8C%E8%87%AA%E5%B7%B1%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9B%B8%E5%90%8C%E7%9A%84bean%5Cn%5Ct%5Ct%E4%BE%8B%E5%A6%82%EF%BC%8CDog%20dog%3B%20%E9%82%A3%E4%B9%88%E5%B0%B1%E4%BC%9A%E6%9F%A5%E6%89%BEpojo%E7%9A%84Dog%E7%B1%BB%EF%BC%8C%E5%86%8D%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%5Cn%5Ct--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22people%5C%22%20class%3D%5C%22pojo.People%5C%22%20autowire%3D%5C%22byType%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22cbh%5C%22%3E%3C%2Fproperty%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2248fde1a2%22%7D\"></card><p data-lake-id=\"ufbb7ecf5\" id=\"ufbb7ecf5\"><br></p><p data-lake-id=\"uafe3be5c\" id=\"uafe3be5c\"><span data-lake-id=\"ube374acf\" id=\"ube374acf\">xml配置 -&gt; byName 自动装配</span></p><p data-lake-id=\"u79d5ca9a\" id=\"u79d5ca9a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22cat%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%3Cbean%20id%3D%5C%22dog%5C%22%20class%3D%5C%22pojo.Dog%5C%22%2F%3E%5Cn%3C!--byname%E4%BC%9A%E5%9C%A8%E5%AE%B9%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9F%A5%E6%89%BE%EF%BC%8C%E5%92%8C%E8%87%AA%E5%B7%B1%E5%AF%B9%E8%B1%A1set%E6%96%B9%E6%B3%95%E7%9A%84set%E5%90%8E%E9%9D%A2%E7%9A%84%E5%80%BC%E5%AF%B9%E5%BA%94%E7%9A%84id%5Cn%20%20%E4%BE%8B%E5%A6%82%3AsetDog()%EF%BC%8C%E5%8F%96set%E5%90%8E%E9%9D%A2%E7%9A%84%E5%AD%97%E7%AC%A6%E4%BD%9C%E4%B8%BAid%EF%BC%8C%E5%88%99%E8%A6%81id%20%3D%20dog%20%E6%89%8D%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%5Cn%20%20%5Cn%20--%3E%5Cn%3Cbean%20id%3D%5C%22people%5C%22%20class%3D%5C%22pojo.People%5C%22%20autowire%3D%5C%22byName%5C%22%3E%5Cn%5Ct%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22cbh%5C%22%3E%3C%2Fproperty%3E%5Cn%3C%2Fbean%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2275a49405%22%7D\"></card><p data-lake-id=\"udd9ac5ba\" id=\"udd9ac5ba\"><br></p><p data-lake-id=\"u8683b04f\" id=\"u8683b04f\"><span data-lake-id=\"u9a5c2fb5\" id=\"u9a5c2fb5\">弹幕评论：byName只能取到小写，大写取不到</span></p><p data-lake-id=\"u5ac1ee85\" id=\"u5ac1ee85\"><br></p><h3 data-lake-id=\"cddbd9d6\" id=\"cddbd9d6\"><span data-lake-id=\"u9275eaf8\" id=\"u9275eaf8\">7.2、使用注解实现自动装配</span></h3><p data-lake-id=\"ud37c9097\" id=\"ud37c9097\"><br></p><p data-lake-id=\"ufd2ba58d\" id=\"ufd2ba58d\"><span data-lake-id=\"u6168d0f8\" id=\"u6168d0f8\">jdk1.5支持的注解，spring2.5支持的注解</span></p><p data-lake-id=\"ub1ffe726\" id=\"ub1ffe726\"><br></p><p data-lake-id=\"ue32a56b6\" id=\"ue32a56b6\"><span data-lake-id=\"uf851097e\" id=\"uf851097e\">The introduction of annotation-based configuration raised the question of whether this approach is “better” than XML.（翻译：基于注释的配置的引入提出了一个问题，即这种方法是否比XML“更好”）</span></p><p data-lake-id=\"u25cbc24d\" id=\"u25cbc24d\"><br></p><ol list=\"udb1f8554\"><li fid=\"uac2068eb\" data-lake-id=\"ue977ecaf\" id=\"ue977ecaf\"><span data-lake-id=\"u0eeb3b9b\" id=\"u0eeb3b9b\">导入context约束</span></li></ol><p data-lake-id=\"u5769a63e\" id=\"u5769a63e\"><br></p><p data-lake-id=\"ube326aec\" id=\"ube326aec\"><strong><span data-lake-id=\"u66c7e086\" id=\"u66c7e086\">xmlns:context=&quot;</span></strong><a href=\"http://www.springframework.org/schema/context\" target=\"_blank\" data-lake-id=\"u6fffbacc\" id=\"u6fffbacc\"><strong><span data-lake-id=\"uf7f857f9\" id=\"uf7f857f9\">http://www.springframework.org/schema/context</span></strong></a><strong><span data-lake-id=\"u601113e0\" id=\"u601113e0\">&quot;</span></strong></p><p data-lake-id=\"u569653ea\" id=\"u569653ea\"><br></p><ol list=\"udc6f4217\"><li fid=\"udd533d2e\" data-lake-id=\"ue2105ddd\" id=\"ue2105ddd\"><span data-lake-id=\"u28f51f1e\" id=\"u28f51f1e\">配置注解的支持：&lt; context:annotation-config/&gt;</span></li></ol><p data-lake-id=\"u4d646e87\" id=\"u4d646e87\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20xmlns%3Acontext%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5C%22%5Cn%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%2Fspring-context.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Ccontext%3Aannotation-config%2F%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221c8a1d7b%22%7D\"></card><p data-lake-id=\"u1a1dc2da\" id=\"u1a1dc2da\"><br></p><h4 data-lake-id=\"f296a4dc\" id=\"f296a4dc\"><span data-lake-id=\"u06fbf86c\" id=\"u06fbf86c\">7.2.1、</span><a href=\"/Autowired \" data-lake-id=\"u05aa090c\" id=\"u05aa090c\"><span data-lake-id=\"u44cf6a91\" id=\"u44cf6a91\">@Autowired </span></a><span data-lake-id=\"uf179b4a3\" id=\"uf179b4a3\"> </span></h4><p data-lake-id=\"ubd6f6fd8\" id=\"ubd6f6fd8\"><br></p><p data-lake-id=\"ue5290dcf\" id=\"ue5290dcf\"><strong><span data-lake-id=\"u0dc2cc6b\" id=\"u0dc2cc6b\">默认是byType方式，如果匹配不上，就会byName</span></strong></p><p data-lake-id=\"u61378b7f\" id=\"u61378b7f\"><br></p><p data-lake-id=\"u0517671c\" id=\"u0517671c\"><span data-lake-id=\"u2bae90ce\" id=\"u2bae90ce\">在属性上个使用，也可以在set上使用</span></p><p data-lake-id=\"u4c0637d3\" id=\"u4c0637d3\"><br></p><p data-lake-id=\"u62632a95\" id=\"u62632a95\"><span data-lake-id=\"u17ead3c1\" id=\"u17ead3c1\">我们可以不用编写set方法了，前提是自动装配的属性在Spring容器里，且要符合ByName 自动装配</span></p><p data-lake-id=\"uaaf1de9a\" id=\"uaaf1de9a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20People%20%7B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ec980cea%22%7D\"></card><p data-lake-id=\"u281b74ab\" id=\"u281b74ab\"><br></p><blockquote data-lake-id=\"u5d468d31\" id=\"u5d468d31\"><p data-lake-id=\"u528d5393\" id=\"u528d5393\"><a href=\"/Nullable \" data-lake-id=\"ud99c1eea\" id=\"ud99c1eea\"><span data-lake-id=\"u10fe430c\" id=\"u10fe430c\">@Nullable </span></a><span data-lake-id=\"ueed48d73\" id=\"ueed48d73\"> 字段标记了这个注解，说明该字段可以为空 </span></p><p data-lake-id=\"u6ba09ce5\" id=\"u6ba09ce5\"><span data-lake-id=\"ufd620adf\" id=\"ufd620adf\"> </span></p><p data-lake-id=\"uda7dab2c\" id=\"uda7dab2c\"><span data-lake-id=\"u850905ca\" id=\"u850905ca\">public name(</span><a href=\"/Nullable \" data-lake-id=\"u8230dd43\" id=\"u8230dd43\"><span data-lake-id=\"u4af9664f\" id=\"u4af9664f\">@Nullable </span></a><span data-lake-id=\"u5e7a20f3\" id=\"u5e7a20f3\"> String name){ </span></p><p data-lake-id=\"u1228a782\" id=\"u1228a782\"><span data-lake-id=\"u78a95f97\" id=\"u78a95f97\"> </span></p><p data-lake-id=\"uac40858e\" id=\"uac40858e\"><span data-lake-id=\"u2d9471ef\" id=\"u2d9471ef\">}</span></p></blockquote><p data-lake-id=\"uc6a47637\" id=\"uc6a47637\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%BA%90%E7%A0%81%5Cnpublic%20%40interface%20Autowired%20%7B%20%5Cn%5Ctboolean%20required()%20default%20true%3B%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229ecb047e%22%7D\"></card><p data-lake-id=\"u00eee96e\" id=\"u00eee96e\"><br></p><p data-lake-id=\"ub380c2b6\" id=\"ub380c2b6\"><span data-lake-id=\"u12b5f12f\" id=\"u12b5f12f\">如果定义了Autowire的require属性为false，说明这个对象可以为null，否则不允许为空（false表示找不到装配，不抛出异常）</span></p><p data-lake-id=\"u57dd1643\" id=\"u57dd1643\"><br></p><h4 data-lake-id=\"99af1956\" id=\"99af1956\"><span data-lake-id=\"udb64d9fc\" id=\"udb64d9fc\">7.2.2、@Autowired+</span><a href=\"/Qualifier \" data-lake-id=\"u947fe3ef\" id=\"u947fe3ef\"><span data-lake-id=\"uea3fc69c\" id=\"uea3fc69c\">@Qualifier </span></a><span data-lake-id=\"uda030f68\" id=\"uda030f68\"> </span></h4><p data-lake-id=\"ub889f625\" id=\"ub889f625\"><br></p><p data-lake-id=\"uddc02b53\" id=\"uddc02b53\"><strong><span data-lake-id=\"ue687521d\" id=\"ue687521d\">@Autowired不能唯一装配时，需要@Autowired+</span></strong><a href=\"/Qualifier \" data-lake-id=\"u412b6679\" id=\"u412b6679\"><strong><span data-lake-id=\"u15ecd1ed\" id=\"u15ecd1ed\">@Qualifier </span></strong></a><strong><span data-lake-id=\"ubf13a60f\" id=\"ubf13a60f\"> </span></strong></p><p data-lake-id=\"u1ae2aac1\" id=\"u1ae2aac1\"><br></p><p data-lake-id=\"uc60850a1\" id=\"uc60850a1\"><span data-lake-id=\"u49f1bb9f\" id=\"u49f1bb9f\">如果</span><a href=\"/Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value \" data-lake-id=\"u851bbfab\" id=\"u851bbfab\"><span data-lake-id=\"u9ef7cb23\" id=\"u9ef7cb23\">@Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value </span></a><span data-lake-id=\"ue129a3d4\" id=\"ue129a3d4\"> = “dog”)去配合使用，指定一个唯一的id对象 </span></p><p data-lake-id=\"u35aa1ca2\" id=\"u35aa1ca2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20People%20%7B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20%40Qualifier(value%20%3D%20%5C%22dog%5C%22)%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a82f4a07%22%7D\"></card><p data-lake-id=\"u072e77a3\" id=\"u072e77a3\"><br></p><p data-lake-id=\"u97d48e58\" id=\"u97d48e58\"><span data-lake-id=\"u1f7544b1\" id=\"u1f7544b1\">弹幕评论：</span></p><p data-lake-id=\"u79643045\" id=\"u79643045\"><br></p><p data-lake-id=\"u01bb1ad9\" id=\"u01bb1ad9\"><span data-lake-id=\"u8a9bc767\" id=\"u8a9bc767\">如果xml文件中同一个对象被多个bean使用，Autowired无法按类型找到，可以用@Qualifier指定id查找</span></p><p data-lake-id=\"uc589f50c\" id=\"uc589f50c\"><br></p><h4 data-lake-id=\"258454b4\" id=\"258454b4\"><span data-lake-id=\"u4fdf4dfc\" id=\"u4fdf4dfc\">7.2.3、</span><a href=\"/Resource \" data-lake-id=\"u7e117f71\" id=\"u7e117f71\"><span data-lake-id=\"u660730bf\" id=\"u660730bf\">@Resource </span></a><span data-lake-id=\"u7024532b\" id=\"u7024532b\"> </span></h4><p data-lake-id=\"u02df0f43\" id=\"u02df0f43\"><br></p><p data-lake-id=\"u271b7b21\" id=\"u271b7b21\"><strong><span data-lake-id=\"ud092489f\" id=\"ud092489f\">默认是byName方式，如果匹配不上，就会byType</span></strong></p><p data-lake-id=\"udcd5c1ec\" id=\"udcd5c1ec\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20People%20%7B%5Cn%20%20%20%20Resource(name%3D%5C%22cat%5C%22)%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20Resource(name%3D%5C%22dog%5C%22)%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2289d44e82%22%7D\"></card><p data-lake-id=\"uaa1a1b61\" id=\"uaa1a1b61\"><br></p><p data-lake-id=\"u647edda1\" id=\"u647edda1\"><span data-lake-id=\"u124a5e84\" id=\"u124a5e84\">弹幕评论：</span></p><p data-lake-id=\"u77881aab\" id=\"u77881aab\"><br></p><p data-lake-id=\"ubb2ea703\" id=\"ubb2ea703\"><span data-lake-id=\"uc7dd452b\" id=\"uc7dd452b\">Autowired是byType，@Autowired+</span><a href=\"/Qualifier \" data-lake-id=\"u5e997250\" id=\"u5e997250\"><span data-lake-id=\"uce6fbdf2\" id=\"uce6fbdf2\">@Qualifier </span></a><span data-lake-id=\"u194e211c\" id=\"u194e211c\"> = byType || byName </span></p><p data-lake-id=\"ub29f5a3d\" id=\"ub29f5a3d\"><br></p><p data-lake-id=\"ue83a457d\" id=\"ue83a457d\"><span data-lake-id=\"u3ded4a6e\" id=\"u3ded4a6e\">Autowired是先byteType,如果唯一則注入，否则byName查找。resource是先byname,不符合再继续byType</span></p><p data-lake-id=\"u472bcbd0\" id=\"u472bcbd0\"><br></p><h4 data-lake-id=\"9cdb3b71\" id=\"9cdb3b71\"><span data-lake-id=\"uff80186e\" id=\"uff80186e\">区别：</span></h4><p data-lake-id=\"u42e25834\" id=\"u42e25834\"><br></p><p data-lake-id=\"u273a4f9a\" id=\"u273a4f9a\"><span data-lake-id=\"uffa18d68\" id=\"uffa18d68\">@Resource和@Autowired的区别：</span></p><p data-lake-id=\"u7b634839\" id=\"u7b634839\"><br></p><ul list=\"ub27d7cd0\"><li fid=\"u23285d03\" data-lake-id=\"u93220938\" id=\"u93220938\"><span data-lake-id=\"u9ae1722b\" id=\"u9ae1722b\">都是用来自动装配的，都可以放在属性字段上</span></li></ul><ul list=\"ua1001ea5\"><li fid=\"u5fcfab0d\" data-lake-id=\"u83258af4\" id=\"u83258af4\"><span data-lake-id=\"ua3987b82\" id=\"ua3987b82\">@Autowired通过byType的方式实现，而且必须要求这个对象存在！【常用】</span></li></ul><ul list=\"ue125b355\"><li fid=\"u6162080f\" data-lake-id=\"u4b701c47\" id=\"u4b701c47\"><span data-lake-id=\"u019970f6\" id=\"u019970f6\">@Resource默认通过byname的方式实现，如果找不到名字，则通过byType实现！如果两个都找不到的情况下，就报错！【常用】</span></li></ul><ul list=\"u5f070cf1\"><li fid=\"u0fb14bc3\" data-lake-id=\"ud1333a9b\" id=\"ud1333a9b\"><span data-lake-id=\"ub61602ea\" id=\"ub61602ea\">执行顺序不同：@Autowired通过byType的方式实现。@Resource默认通过byname的方式实现</span></li></ul><p data-lake-id=\"u87905291\" id=\"u87905291\"><br></p><h2 data-lake-id=\"854e10cf\" id=\"854e10cf\"><span data-lake-id=\"uc9f6f4a3\" id=\"uc9f6f4a3\">8、使用注解开发</span></h2><p data-lake-id=\"ub14549a1\" id=\"ub14549a1\"><br></p><p data-lake-id=\"u62b24f85\" id=\"u62b24f85\"><span data-lake-id=\"uabf7fe0e\" id=\"uabf7fe0e\">在spring4之后，使用注解开发，必须要保证aop包的导入<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472040975-16f26b51-4e5d-402d-9197-1f4070053ed9.png%22%2C%22taskId%22%3A%22u32f1f35d-08fe-466a-ac85-5abaf88a5a3%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A423%2C%22height%22%3A274%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A196088%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A846%2C%22originHeight%22%3A548%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Dependencies%20Maven%20spring-webmvc-5.2.7.RELEASEjAR%201c%20spring-aop-5.2.7RELEASEjar-CU%20spring-beans-5.2.7.RELEASEja%20JAR-CAL%20spring-context-5.2.7.RELEASEjARC%20spring-core-5.2.7.RELEASEjARCAUS%20C%3AUser%20spring-jcl-5.2.7.RELEASEjar%20spring-expression-5.2.7.RELEASEjAar%20spring-web-5.2.7.RELEASEjARCUS%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A271.0618%2C%22y%22%3A10.865768%2C%22width%22%3A248.04739999999998%2C%22height%22%3A41.558514%2C%22text%22%3A%22Dependencies%22%7D%2C%7B%22x%22%3A141.67625%2C%22y%22%3A12.748515%2C%22width%22%3A120.95494999999997%2C%22height%22%3A32.101293000000005%2C%22text%22%3A%22Maven%22%7D%2C%7B%22x%22%3A188.6143%2C%22y%22%3A68.840614%2C%22width%22%3A587.8644%2C%22height%22%3A41.259766%2C%22text%22%3A%22spring-webmvc-5.2.7.RELEASEjAR%22%7D%2C%7B%22x%22%3A152.00003%2C%22y%22%3A83.995094%2C%22width%22%3A18%2C%22height%22%3A14.676516000000007%2C%22text%22%3A%221c%22%7D%2C%7B%22x%22%3A188.31407%2C%22y%22%3A129.47173%2C%22width%22%3A612.02626%2C%22height%22%3A42.028639999999996%2C%22text%22%3A%22spring-aop-5.2.7RELEASEjar-CU%22%7D%2C%7B%22x%22%3A195.18767%2C%22y%22%3A188.35844%2C%22width%22%3A500.02797%2C%22height%22%3A45.969269999999995%2C%22text%22%3A%22spring-beans-5.2.7.RELEASEja%22%7D%2C%7B%22x%22%3A675.5384%2C%22y%22%3A193.53212%2C%22width%22%3A157.2495%2C%22height%22%3A37.05412000000001%2C%22text%22%3A%22JAR-CAL%22%7D%2C%7B%22x%22%3A188.2329%2C%22y%22%3A252.22337%2C%22width%22%3A645.0804%2C%22height%22%3A38.14229%2C%22text%22%3A%22spring-context-5.2.7.RELEASEjARC%22%7D%2C%7B%22x%22%3A188.82304%2C%22y%22%3A307.3192%2C%22width%22%3A645.95821%2C%22height%22%3A46.17749999999995%2C%22text%22%3A%22spring-core-5.2.7.RELEASEjARCAUS%22%7D%2C%7B%22x%22%3A697.81525%2C%22y%22%3A368.24768%2C%22width%22%3A136.89862000000005%2C%22height%22%3A41.58945%2C%22text%22%3A%22C%3AUser%22%7D%2C%7B%22x%22%3A188.35132%2C%22y%22%3A370.515%2C%22width%22%3A482.29508%2C%22height%22%3A42.46350000000001%2C%22text%22%3A%22spring-jcl-5.2.7.RELEASEjar%22%7D%2C%7B%22x%22%3A185.83453%2C%22y%22%3A426.53525%2C%22width%22%3A631.75611%2C%22height%22%3A45.86814999999996%2C%22text%22%3A%22spring-expression-5.2.7.RELEASEjAar%22%7D%2C%7B%22x%22%3A188.00056%2C%22y%22%3A487.69644%2C%22width%22%3A642.4349400000001%2C%22height%22%3A44.76743000000005%2C%22text%22%3A%22spring-web-5.2.7.RELEASEjARCUS%22%7D%5D%2C%22id%22%3A%22ua663f32d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u9a7e96ba\" id=\"u9a7e96ba\"><br />使用注解需要导入contex的约束</span></p><p data-lake-id=\"u17e1f641\" id=\"u17e1f641\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20xmlns%3Acontext%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5C%22%5Cn%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%2Fspring-context.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Ccontext%3Aannotation-config%2F%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224d5ed5ef%22%7D\"></card><p data-lake-id=\"u9f118f03\" id=\"u9f118f03\"><br></p><h3 data-lake-id=\"dfb77a85\" id=\"dfb77a85\"><span data-lake-id=\"ua4c0c01c\" id=\"ua4c0c01c\">8.1、bean</span></h3><p data-lake-id=\"ueaeb7e27\" id=\"ueaeb7e27\"><br></p><p data-lake-id=\"u0ac75b24\" id=\"u0ac75b24\"><span data-lake-id=\"u497cda89\" id=\"u497cda89\">弹幕评论：<br /></span><span data-lake-id=\"u9e97b4b8\" id=\"u9e97b4b8\">有了&lt; context:component-scan&gt;，另一个&lt; context:annotation-config/&gt;标签可以移除掉，因为已经被包含进去了。</span></p><p data-lake-id=\"ubc368a17\" id=\"ubc368a17\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%E6%8C%87%E5%AE%9A%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%8C%85%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%B3%A8%E8%A7%A3%E6%89%8D%E4%BC%9A%E7%94%9F%E6%95%88%5Cn%5Ct%E5%88%AB%E5%8F%AA%E6%89%AB%E4%B8%80%E4%B8%AAcom.kuang.pojo%E5%8C%85--%3E%20%5Cn%3Ccontext%3Acomponent-scan%20base-package%3D%5C%22com.kuang%5C%22%2F%3E%20%5Cn%3Ccontext%3Aannotation-config%2F%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e771370b%22%7D\"></card><p data-lake-id=\"ub3e1ed27\" id=\"ub3e1ed27\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%40Component%20%E7%BB%84%E4%BB%B6%5Cn%2F%2F%E7%AD%89%E4%BB%B7%E4%BA%8E%3Cbean%20id%3D%5C%22user%5C%22%20classs%5C%22pojo.User%5C%22%2F%3E%20%5Cn%40Component%5Cnpublic%20class%20User%20%7B%20%20%5Cn%20%20%20%20%20public%20String%20name%20%3D%5C%22%E7%A7%A6%E7%96%86%5C%22%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ab97c6d9%22%7D\"></card><p data-lake-id=\"u436f7eaa\" id=\"u436f7eaa\"><br></p><h3 data-lake-id=\"a7a26744\" id=\"a7a26744\"><span data-lake-id=\"ua0a14e95\" id=\"ua0a14e95\">8.2、属性如何注入</span><a href=\"/value \" data-lake-id=\"u3f164d45\" id=\"u3f164d45\"><span data-lake-id=\"uc3bcff3e\" id=\"uc3bcff3e\">@value </span></a><span data-lake-id=\"u97815301\" id=\"u97815301\"> </span></h3><p data-lake-id=\"u312c124d\" id=\"u312c124d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%40Component%5Cnpublic%20class%20User%20%7B%20%5Cn%20%20%20%20%2F%2F%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22kuangshen%5C%22%2F%3E%20%5Cn%20%20%20%20%40value(%5C%22kuangshen%5C%22)%20%5Cn%20%20%20%20public%20String%20name%3B%20%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%9C%A8set%E6%96%B9%E6%B3%95%E4%B8%8A%E9%9D%A2%5Cn%20%20%20%20%2F%2F%40value(%5C%22kuangshen%5C%22)%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%20%5Cn%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%20%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e02353a3%22%7D\"></card><p data-lake-id=\"u784b5687\" id=\"u784b5687\"><br></p><h3 data-lake-id=\"3f91c3c2\" id=\"3f91c3c2\"><span data-lake-id=\"u2ad837e1\" id=\"u2ad837e1\">8.3、衍生的注解</span></h3><p data-lake-id=\"ufa323a05\" id=\"ufa323a05\"><br></p><p data-lake-id=\"u84660458\" id=\"u84660458\"><span data-lake-id=\"u7fd23e99\" id=\"u7fd23e99\">@Component有几个衍生注解，会按照web开发中，mvc架构中分层。</span></p><p data-lake-id=\"uc411cbcc\" id=\"uc411cbcc\"><br></p><ul list=\"ue2f0e1a6\"><li fid=\"ue8f58947\" data-lake-id=\"u205cad80\" id=\"u205cad80\"><span data-lake-id=\"u4aedaa9a\" id=\"u4aedaa9a\">dao （@Repository）</span></li></ul><ul list=\"u2a0441bf\"><li fid=\"u72fc33b3\" data-lake-id=\"u7152069a\" id=\"u7152069a\"><span data-lake-id=\"u4d049cb5\" id=\"u4d049cb5\">service（@Service）</span></li></ul><ul list=\"ueaf06589\"><li fid=\"u4495e4c5\" data-lake-id=\"u2963efbd\" id=\"u2963efbd\"><span data-lake-id=\"u13912e43\" id=\"u13912e43\">controller（@Controller）</span></li></ul><p data-lake-id=\"uadb6436b\" id=\"uadb6436b\"><br></p><p data-lake-id=\"u8dffd2db\" id=\"u8dffd2db\"><strong><span data-lake-id=\"ueff7a755\" id=\"ueff7a755\">这四个注解的功能是一样的，都是代表将某个类注册到容器中</span></strong></p><p data-lake-id=\"u51e9689e\" id=\"u51e9689e\"><br></p><h3 data-lake-id=\"137b3e5b\" id=\"137b3e5b\"><span data-lake-id=\"ue476632f\" id=\"ue476632f\">8.4、自动装配置</span></h3><p data-lake-id=\"uf84385a9\" id=\"uf84385a9\"><br></p><p data-lake-id=\"u6b90ac19\" id=\"u6b90ac19\"><span data-lake-id=\"u12958137\" id=\"u12958137\">@Autowired：默认是byType方式，如果匹配不上，就会byName</span></p><p data-lake-id=\"u1f9f4445\" id=\"u1f9f4445\"><br></p><p data-lake-id=\"u98f6b489\" id=\"u98f6b489\"><span data-lake-id=\"uba846630\" id=\"uba846630\">@Nullable：字段标记了这个注解，说明该字段可以为空</span></p><p data-lake-id=\"u98a3c724\" id=\"u98a3c724\"><br></p><p data-lake-id=\"uca90a6ab\" id=\"uca90a6ab\"><span data-lake-id=\"u891b4ae5\" id=\"u891b4ae5\">@Resource：默认是byName方式，如果匹配不上，就会byType</span></p><p data-lake-id=\"ub6c7c93e\" id=\"ub6c7c93e\"><br></p><h3 data-lake-id=\"fd88b712\" id=\"fd88b712\"><span data-lake-id=\"ue48994cb\" id=\"ue48994cb\">8.5、作用域</span><a href=\"/scope \" data-lake-id=\"ubd0639b9\" id=\"ubd0639b9\"><span data-lake-id=\"uef82d42e\" id=\"uef82d42e\">@scope </span></a><span data-lake-id=\"u555e0f63\" id=\"u555e0f63\"> </span></h3><p data-lake-id=\"u87b86fc5\" id=\"u87b86fc5\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8Fprototype%EF%BC%8C%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8Fsingleton%5Cn%2F%2Fscope(%5C%22prototype%5C%22)%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbean%20scope%3D%5C%22prototype%5C%22%3E%3C%2Fbean%3E%5Cn%40Component%20%5Cn%40scope(%5C%22prototype%5C%22)%5Cnpublic%20class%20User%20%7B%20%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22kuangshen%5C%22%2F%3E%20%5Cn%20%20%20%20%40value(%5C%22kuangshen%5C%22)%20%5Cn%20%20%20%20public%20String%20name%3B%20%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%9C%A8set%E6%96%B9%E6%B3%95%E4%B8%8A%E9%9D%A2%5Cn%20%20%20%20%40value(%5C%22kuangshen%5C%22)%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%20%5Cn%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%20%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226fbd537e%22%7D\"></card><p data-lake-id=\"u0818a9f4\" id=\"u0818a9f4\"><br></p><h3 data-lake-id=\"3c4563c2\" id=\"3c4563c2\"><span data-lake-id=\"u13fefbee\" id=\"u13fefbee\">8.6、小结</span></h3><p data-lake-id=\"u456b36d5\" id=\"u456b36d5\"><br></p><p data-lake-id=\"u99cea3b6\" id=\"u99cea3b6\"><strong><span data-lake-id=\"u121b0c53\" id=\"u121b0c53\">xml与注解：</span></strong></p><p data-lake-id=\"ube241bcd\" id=\"ube241bcd\"><br></p><ul list=\"u93a5671f\"><li fid=\"ue13f3e2a\" data-lake-id=\"u97d0764a\" id=\"u97d0764a\"><span data-lake-id=\"uc274bca6\" id=\"uc274bca6\">xml更加万能，维护简单，适用于任何场合</span></li></ul><ul list=\"ua65d83aa\"><li fid=\"u17c5dc57\" data-lake-id=\"ua8de0875\" id=\"ua8de0875\"><span data-lake-id=\"u40c16658\" id=\"u40c16658\">注解，不是自己的类使用不了，维护复杂</span></li></ul><p data-lake-id=\"u8fa455a1\" id=\"u8fa455a1\"><br></p><p data-lake-id=\"u3da04bb5\" id=\"u3da04bb5\"><strong><span data-lake-id=\"uf464c1ae\" id=\"uf464c1ae\">最佳实践：</span></strong></p><p data-lake-id=\"u693bd3f3\" id=\"u693bd3f3\"><br></p><ul list=\"u8792fe63\"><li fid=\"u7227bd1d\" data-lake-id=\"u11f4582d\" id=\"u11f4582d\"><span data-lake-id=\"ud2afc29d\" id=\"ud2afc29d\">xml用来管理bean</span></li></ul><ul list=\"u1ea99dc5\"><li fid=\"ua313f21c\" data-lake-id=\"ue073c7d4\" id=\"ue073c7d4\"><span data-lake-id=\"u290e7026\" id=\"u290e7026\">注解只用来完成属性的注入</span></li></ul><ul list=\"u65dfaa4d\"><li fid=\"uda33d62b\" data-lake-id=\"ue3f63aa4\" id=\"ue3f63aa4\"><span data-lake-id=\"ud111f1af\" id=\"ud111f1af\">要开启注解支持</span></li></ul><p data-lake-id=\"u05d6863f\" id=\"u05d6863f\"><br></p><h2 data-lake-id=\"ecb615f1\" id=\"ecb615f1\"><span data-lake-id=\"u52ce471e\" id=\"u52ce471e\">9、使用Java的方式配置Spring</span></h2><p data-lake-id=\"ua7002f5c\" id=\"ua7002f5c\"><br></p><p data-lake-id=\"u0866bebf\" id=\"u0866bebf\"><span data-lake-id=\"u58a3d0da\" id=\"u58a3d0da\">不使用Spring的xml配置，完全交给java来做！</span></p><p data-lake-id=\"uebf4f93c\" id=\"uebf4f93c\"><br></p><p data-lake-id=\"ued73d45f\" id=\"ued73d45f\"><span data-lake-id=\"u322faea1\" id=\"u322faea1\">Spring的一个子项目，在spring4之后，，，它成为了核心功能</span></p><p data-lake-id=\"ub37d7002\" id=\"ub37d7002\"><br></p><p data-lake-id=\"u538f5805\" id=\"u538f5805\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472064164-cf739a67-0d9a-4f49-b36f-8d78ccaf6136.png%22%2C%22taskId%22%3A%22ue3516ca5-3e68-458a-bd30-916ccabb60a%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A712%2C%22height%22%3A344%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1679930%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1424%2C%22originHeight%22%3A687%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Abstractapplicationcoexingawrkoex)%20Abstractrefreshableapplicationcontextog.springfaewk.context.surt)%20AbstractRefreshableconfizpplicationcontextog.springramewk.contex.u)%20AbstractkefreshablewebApplicationcontexinmkn%20AbstractxmlApplicationcontextog.springamwkoex)%20org.springframework.context.annotation)%20AnnotationConfigApplicationContext%20AnmotationconfisMebpplicationotexk%20classPathXmipplicationConext%20g.springframework.context.support)%20ConfigurableApplicationconext%20(org.springframework.context)%20ConfigurabiewebApplicationcontextgringrmewkc)%20FilesystemxmApplicationcontengamwkoe)%20GenericApplicationcontext(og.springframewokcontex)%20GenericroowyAPplicationContextRgspringframework.context.suot)%20GenericwebApplicationcontextg.sprinrmwrkeox)%20Genericxmlapplicationcontext(og.springframewkcoet.u)%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A30.03726%2C%22y%22%3A17.14309%2C%22width%22%3A1091.81334%2C%22height%22%3A27.871313999999998%2C%22text%22%3A%22Abstractapplicationcoexingawrkoex)%22%7D%2C%7B%22x%22%3A27.34625%2C%22y%22%3A54.65256%2C%22width%22%3A1285.01615%2C%22height%22%3A37.222424999999994%2C%22text%22%3A%22Abstractrefreshableapplicationcontextog.springfaewk.context.surt)%22%7D%2C%7B%22x%22%3A27.168993%2C%22y%22%3A99.85488%2C%22width%22%3A1387.979707%2C%22height%22%3A36.294169999999994%2C%22text%22%3A%22AbstractRefreshableconfizpplicationcontextog.springramewk.contex.u)%22%7D%2C%7B%22x%22%3A27.834364%2C%22y%22%3A143.2155%2C%22width%22%3A1390.436536%2C%22height%22%3A36.28743%2C%22text%22%3A%22AbstractkefreshablewebApplicationcontexinmkn%22%7D%2C%7B%22x%22%3A27.168793%2C%22y%22%3A187.89848%2C%22width%22%3A1146.202707%2C%22height%22%3A31.10047%2C%22text%22%3A%22AbstractxmlApplicationcontextog.springamwkoex)%22%7D%2C%7B%22x%22%3A641.58234%2C%22y%22%3A233.297%2C%22width%22%3A666.5746599999999%2C%22height%22%3A32.94606999999999%2C%22text%22%3A%22org.springframework.context.annotation)%22%7D%2C%7B%22x%22%3A25.698196%2C%22y%22%3A234.62907%2C%22width%22%3A593.7090039999999%2C%22height%22%3A27.893359999999973%2C%22text%22%3A%22AnnotationConfigApplicationContext%22%7D%2C%7B%22x%22%3A26.623686%2C%22y%22%3A276.02023%2C%22width%22%3A1355.061214%2C%22height%22%3A32.24676999999997%2C%22text%22%3A%22AnmotationconfisMebpplicationotexk%22%7D%2C%7B%22x%22%3A27.637823%2C%22y%22%3A318.53308%2C%22width%22%3A519.080977%2C%22height%22%3A29.668980000000033%2C%22text%22%3A%22classPathXmipplicationConext%22%7D%2C%7B%22x%22%3A609.02936%2C%22y%22%3A322.25598%2C%22width%22%3A584.8071399999999%2C%22height%22%3A36.08651999999995%2C%22text%22%3A%22g.springframework.context.support)%22%7D%2C%7B%22x%22%3A24.982046%2C%22y%22%3A363.3059%2C%22width%22%3A521.283054%2C%22height%22%3A32.56473999999997%2C%22text%22%3A%22ConfigurableApplicationconext%22%7D%2C%7B%22x%22%3A565.8546%2C%22y%22%3A364.39044%2C%22width%22%3A489.7558%2C%22height%22%3A30.25133999999997%2C%22text%22%3A%22(org.springframework.context)%22%7D%2C%7B%22x%22%3A24.209059%2C%22y%22%3A405.59897%2C%22width%22%3A1149.106941%2C%22height%22%3A36.50707999999997%2C%22text%22%3A%22ConfigurabiewebApplicationcontextgringrmewkc)%22%7D%2C%7B%22x%22%3A16.856527%2C%22y%22%3A449.75934%2C%22width%22%3A1191.8332730000002%2C%22height%22%3A35.24065999999999%2C%22text%22%3A%22FilesystemxmApplicationcontengamwkoe)%22%7D%2C%7B%22x%22%3A29.510376%2C%22y%22%3A492.79156%2C%22width%22%3A1075.0888240000002%2C%22height%22%3A32.687239999999974%2C%22text%22%3A%22GenericApplicationcontext(og.springframewokcontex)%22%7D%2C%7B%22x%22%3A27.983427%2C%22y%22%3A532.6642%2C%22width%22%3A1184.505173%2C%22height%22%3A44.6183299999999%2C%22text%22%3A%22GenericroowyAPplicationContextRgspringframework.context.suot)%22%7D%2C%7B%22x%22%3A28.08938%2C%22y%22%3A582.4995%2C%22width%22%3A1197.54662%2C%22height%22%3A30.77765999999997%2C%22text%22%3A%22GenericwebApplicationcontextg.sprinrmwrkeox)%22%7D%2C%7B%22x%22%3A25.867594%2C%22y%22%3A619.86664%2C%22width%22%3A1132.371706%2C%22height%22%3A36.61976000000004%2C%22text%22%3A%22Genericxmlapplicationcontext(og.springframewkcoet.u)%22%7D%5D%2C%22id%22%3A%22u974c124e%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"ud167dd5f\" id=\"ud167dd5f\"><br /></span><strong><span data-lake-id=\"ud3fc7003\" id=\"ud3fc7003\">实体类：pojo的User.java</span></strong></p><p data-lake-id=\"ueaf51451\" id=\"ueaf51451\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E8%BF%99%E9%87%8C%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%84%8F%E6%80%9D%2C%E5%B0%B1%E6%98%AF%E8%AF%B4%E6%98%8E%E8%BF%99%E4%B8%AA%E7%B1%BB%E8%A2%ABSpring%E6%8E%A5%E7%AE%A1%E4%BA%86%2C%E6%B3%A8%E5%86%8C%E5%88%B0%E4%BA%86%E5%AE%B9%E5%99%A8%E4%B8%AD%20%5Cn%40component%20%5Cnpublic%20class%20User%20%7B%20%5Cn%20%20%20%20private%20String%20name%3B%5Cn%20%20%20%20%5Cn%20%20%20%20public%20String%20getName()%20%7B%20%5Cn%20%20%20%20%5Ctreturn%20name%3B%20%5Cn%20%20%20%20%7D%20%5Cn%20%20%20%20%2F%2F%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%E5%80%BC%5Cn%20%20%20%20%40value(%5C%22QINJIANG')%20%20%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%20%5Cn%20%20%20%20%5Ctthis.name%20%3D%20name%3B%20%5Cn%20%20%20%20%7D%20%5Cn%20%20%20%20%40Override%20%5Cn%20%20%20%20public%20String%20toString()%20%7B%20%5Cn%20%20%20%20%20%20%20%20return%20%5C%22user%7B%5C%22%20%2B%20%5Cn%20%20%20%20%20%20%20%20%5C%22name%3D'%5C%22%20%2B%20name%20%2B%20'%5C%5C''%2B%20%5Cn%20%20%20%20%20%20%20%20'%7D'%3B%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221ecbba14%22%7D\"></card><p data-lake-id=\"uf1749e95\" id=\"uf1749e95\"><br></p><p data-lake-id=\"u8be98291\" id=\"u8be98291\"><span data-lake-id=\"u78d2c14d\" id=\"u78d2c14d\">弹幕评论：要么使用@Bean，要么使用@Component和ComponentScan，两种效果一样</span></p><p data-lake-id=\"u091ae37c\" id=\"u091ae37c\"><br></p><p data-lake-id=\"u8dd448f1\" id=\"u8dd448f1\"><strong><span data-lake-id=\"u68772f91\" id=\"u68772f91\">配置文件：config中的kuang.java</span></strong></p><p data-lake-id=\"uba68b1a5\" id=\"uba68b1a5\"><br></p><p data-lake-id=\"u443e7f2e\" id=\"u443e7f2e\"><span data-lake-id=\"u7864a5a2\" id=\"u7864a5a2\">@Import(KuangConfig2.class)，用@import来包含KuangConfig2.java</span></p><p data-lake-id=\"ua3ae4902\" id=\"ua3ae4902\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E8%BF%99%E4%B8%AA%E4%B9%9F%E4%BC%9ASpring%E5%AE%B9%E5%99%A8%E6%89%98%E7%AE%A1%2C%E6%B3%A8%E5%86%8C%E5%88%B0%E5%AE%B9%E5%99%A8%E4%B8%AD%2C%E5%9B%A0%E4%B8%BA%E4%BB%96%E6%9C%AC%E7%B1%B3%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%40Component%20%5Cn%2F%2F%20%40Configuration%E8%A1%A8%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%2C%E5%B0%B1%E5%83%8F%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E7%9C%8B%E7%9A%84beans.xml%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%3Cbeans%3E%E6%A0%87%E7%AD%BE%5Cn%40Configuration%20%5Cn%40componentScan(%5C%22com.Kuang.pojo%5C%22)%20%2F%2F%E5%BC%80%E5%90%AF%E6%89%AB%E6%8F%8F%5Cn%2F%2F%40Import(KuangConfig2.class)%5Cnpublic%20class%20KuangConfig%20%7B%20%5Cn%20%20%20%20%2F%2F%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAbean%20%2C%20%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E5%86%99%E7%9A%84%E4%B8%80%E4%B8%AAbean%20%E6%A0%87%E7%AD%BE%20%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E5%90%8D%E5%AD%97%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%20id%20%E5%B1%9E%E6%80%A7%20-%3EgetUser%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%90%8C%E5%80%BC%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84class%20%E5%B1%9E%E6%80%A7%20-%3EUser%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%40Bean%20%5Cn%20%20%20%20public%20User%20getUser()%7B%20%5Cn%20%20%20%20%5Ctreturn%20new%20User()%3B%20%2F%2F%E5%B0%B1%E6%98%AF%E8%BF%94%E5%9B%9E%E8%A6%81%E6%B3%A8%E5%85%A5%E5%88%B0bean%E7%9A%84%E5%AF%B9%E8%B1%A1!%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2281e33b81%22%7D\"></card><p data-lake-id=\"u62476a4a\" id=\"u62476a4a\"><br></p><p data-lake-id=\"u639798dc\" id=\"u639798dc\"><span data-lake-id=\"ue8ff698a\" id=\"ue8ff698a\">弹幕评论：ComponentScan、@Component(&quot;pojo”) 这两个注解配合使用</span></p><p data-lake-id=\"u46673551\" id=\"u46673551\"><br></p><p data-lake-id=\"u28f5b3e4\" id=\"u28f5b3e4\"><strong><span data-lake-id=\"u26ab2ca8\" id=\"u26ab2ca8\">测试类</span></strong></p><p data-lake-id=\"u5f11b28a\" id=\"u5f11b28a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest%20%7B%20%5Cn%20%20%20%20public%20static%20void%20main(String%5B%20%5D%20args)%20%7B%20%5Cn%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9C%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8%E4%BA%86%E9%85%8D%E7%BD%AE%E7%B1%BB%E6%96%B9%E5%BC%8F%E5%8E%BB%E5%81%9A%2C%E6%88%91%E4%BB%AC%E5%B0%B1%E5%8F%AA%E8%83%BD%E9%80%9A%E8%BF%87%20Annotationconfig%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8%2C%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84class%E5%AF%B9%E8%B1%A1%E5%8A%A0%E8%BD%BD!%20%5Cn%20%20%20%20ApplicationContext%20context%20%3D%20new%20AnnotationConfigApplicationContext(KuangConfig.Class)%3B%20%2F%2Fclass%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20User%20getUser%20%3D(User)context.getBean(%20%5C%22getUser%5C%22)%3B%20%2F%2F%E6%96%B9%E6%B3%95%E5%90%8DgetUser%5Cn%20%20%20%20System.out.Println(getUser.getName())%3B%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226135ad97%22%7D\"></card><p data-lake-id=\"ue80304de\" id=\"ue80304de\"><br></p><p data-lake-id=\"u1a626d67\" id=\"u1a626d67\"><strong><span data-lake-id=\"u10c97471\" id=\"u10c97471\">会创建两个相同对象问题的说明：</span></strong></p><p data-lake-id=\"u4818489f\" id=\"u4818489f\"><br></p><p data-lake-id=\"u9eb122bf\" id=\"u9eb122bf\"><strong><span data-lake-id=\"uc36421d2\" id=\"uc36421d2\">弹幕总结 - -&gt; @Bean是相当于&lt; bean&gt;标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了</span></strong></p><p data-lake-id=\"u386eefe2\" id=\"u386eefe2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E8%BF%99%E4%B8%AA%E4%B9%9F%E4%BC%9ASpring%E5%AE%B9%E5%99%A8%E6%89%98%E7%AE%A1%2C%E6%B3%A8%E5%86%8C%E5%88%B0%E5%AE%B9%E5%99%A8%E4%B8%AD%2C%E5%9B%A0%E4%B8%BA%E4%BB%96%E6%9C%AC%E7%B1%B3%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%40Component%20%5Cn%2F%2F%20%40Configuration%E8%A1%A8%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%2C%E5%B0%B1%E5%83%8F%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E7%9C%8B%E7%9A%84beans.xml%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%3Cbeans%3E%E6%A0%87%E7%AD%BE%5Cn%40Configuration%20%5Cn%40componentScan(%5C%22com.Kuang.pojo%5C%22)%20%2F%2F%E5%BC%80%E5%90%AF%E6%89%AB%E6%8F%8F%5Cn%2F%2F%40Import(KuangConfig2.class)%5Cnpublic%20class%20KuangConfig%20%7B%20%5Cn%20%20%20%20%2F%2F%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAbean%20%2C%20%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E5%86%99%E7%9A%84%E4%B8%80%E4%B8%AAbean%20%E6%A0%87%E7%AD%BE%20%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E5%90%8D%E5%AD%97%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%20id%20%E5%B1%9E%E6%80%A7%20-%3EgetUser%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%90%8C%E5%80%BC%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84class%20%E5%B1%9E%E6%80%A7%20-%3EUser%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%40Bean%20%5Cn%20%20%20%20public%20User%20getUser()%7B%20%5Cn%20%20%20%20%5Ctreturn%20new%20User()%3B%20%2F%2F%E5%B0%B1%E6%98%AF%E8%BF%94%E5%9B%9E%E8%A6%81%E6%B3%A8%E5%85%A5%E5%88%B0bean%E7%9A%84%E5%AF%B9%E8%B1%A1!%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2281e33b81-1%22%7D\"></card><p data-lake-id=\"u1c3f1476\" id=\"u1c3f1476\"><br></p><p data-lake-id=\"u36beb76d\" id=\"u36beb76d\"><span data-lake-id=\"uadb073eb\" id=\"uadb073eb\">弹幕评论：ComponentScan、@Component(&quot;pojo”) 这两个注解配合使用</span></p><p data-lake-id=\"ub8063bac\" id=\"ub8063bac\"><br></p><p data-lake-id=\"u18f3d3e8\" id=\"u18f3d3e8\"><strong><span data-lake-id=\"u50f55d75\" id=\"u50f55d75\">测试类</span></strong></p><p data-lake-id=\"u618cad28\" id=\"u618cad28\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest%20%7B%20%5Cn%20%20%20%20public%20static%20void%20main(String%5B%20%5D%20args)%20%7B%20%5Cn%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9C%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8%E4%BA%86%E9%85%8D%E7%BD%AE%E7%B1%BB%E6%96%B9%E5%BC%8F%E5%8E%BB%E5%81%9A%2C%E6%88%91%E4%BB%AC%E5%B0%B1%E5%8F%AA%E8%83%BD%E9%80%9A%E8%BF%87%20Annotationconfig%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8%2C%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84class%E5%AF%B9%E8%B1%A1%E5%8A%A0%E8%BD%BD!%20%5Cn%20%20%20%20ApplicationContext%20context%20%3D%20new%20AnnotationConfigApplicationContext(KuangConfig.Class)%3B%20%2F%2Fclass%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20User%20getUser%20%3D(User)context.getBean(%20%5C%22getUser%5C%22)%3B%20%2F%2F%E6%96%B9%E6%B3%95%E5%90%8DgetUser%5Cn%20%20%20%20System.out.Println(getUser.getName())%3B%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226135ad97-1%22%7D\"></card><p data-lake-id=\"u40d9a5ac\" id=\"u40d9a5ac\"><br></p><p data-lake-id=\"u5b84e5c8\" id=\"u5b84e5c8\"><strong><span data-lake-id=\"u99cc3f2d\" id=\"u99cc3f2d\">会创建两个相同对象问题的说明：</span></strong></p><p data-lake-id=\"u896a50ce\" id=\"u896a50ce\"><br></p><p data-lake-id=\"udb88d953\" id=\"udb88d953\"><strong><span data-lake-id=\"uf9e0c336\" id=\"uf9e0c336\">弹幕总结 - -&gt; @Bean是相当于&lt; bean&gt;标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了</span></strong></p><p data-lake-id=\"uc5b2a9bf\" id=\"uc5b2a9bf\"><br></p><h2 data-lake-id=\"37ce5f92\" id=\"37ce5f92\"><span data-lake-id=\"u4a7e9781\" id=\"u4a7e9781\">10、动态代理</span></h2><p data-lake-id=\"u30177436\" id=\"u30177436\"><br></p><p data-lake-id=\"u4d84b115\" id=\"u4d84b115\"><span data-lake-id=\"u8fb5450b\" id=\"u8fb5450b\">代理模式是SpringAOP的底层</span></p><p data-lake-id=\"u1c26c9c7\" id=\"u1c26c9c7\"><br></p><p data-lake-id=\"u1c08fd19\" id=\"u1c08fd19\"><span data-lake-id=\"uc3efb2dc\" id=\"uc3efb2dc\">分类：动态代理和静态代理</span></p><p data-lake-id=\"u94313368\" id=\"u94313368\"><br></p><p data-lake-id=\"ucbf24b25\" id=\"ucbf24b25\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472093138-32a4cc48-0e0c-4470-8d41-95edc040a9f5.png%22%2C%22taskId%22%3A%22u3a4682f7-93df-4327-89d8-5588d7a3f33%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713%2C%22height%22%3A318%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A295439%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1426%2C%22originHeight%22%3A635%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%A7%9F%E6%88%BF%20%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%A7%92%E8%89%B2%20%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%20%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%BA%20%E6%88%BF%E4%B8%9C%20%E4%B8%AD%E4%BB%8B%20%E4%BD%A0%2C%E7%A7%9F%E6%88%BF%E7%9A%84%E4%BA%BA%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A990.97174%2C%22y%22%3A71.19013%2C%22width%22%3A62.349660000000085%2C%22height%22%3A30.874120000000005%2C%22text%22%3A%22%E7%A7%9F%E6%88%BF%22%7D%2C%7B%22x%22%3A1217.1716%2C%22y%22%3A493.99786%2C%22width%22%3A150.67940000000021%2C%22height%22%3A36.879399999999976%2C%22text%22%3A%22%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%A7%92%E8%89%B2%22%7D%2C%7B%22x%22%3A692.61566%2C%22y%22%3A497.1697%2C%22width%22%3A122.21679999999992%2C%22height%22%3A32.589459999999974%2C%22text%22%3A%22%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%22%7D%2C%7B%22x%22%3A85.65793%2C%22y%22%3A502.23346%2C%22width%22%3A121.05632%2C%22height%22%3A31.214840000000038%2C%22text%22%3A%22%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%BA%22%7D%2C%7B%22x%22%3A1262.0941%2C%22y%22%3A534.978%2C%22width%22%3A63.06449999999995%2C%22height%22%3A31.03800000000001%2C%22text%22%3A%22%E6%88%BF%E4%B8%9C%22%7D%2C%7B%22x%22%3A724.5514%2C%22y%22%3A536.8606%2C%22width%22%3A58.54485000000011%2C%22height%22%3A30.76225999999997%2C%22text%22%3A%22%E4%B8%AD%E4%BB%8B%22%7D%2C%7B%22x%22%3A56.797283%2C%22y%22%3A539.181%2C%22width%22%3A179.795227%2C%22height%22%3A31.620699999999943%2C%22text%22%3A%22%E4%BD%A0%2C%E7%A7%9F%E6%88%BF%E7%9A%84%E4%BA%BA%22%7D%5D%2C%22id%22%3A%22u06036644%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u4556e4e9\" id=\"u4556e4e9\"><br></p><h3 data-lake-id=\"ac68d745\" id=\"ac68d745\"><span data-lake-id=\"u32a2ea46\" id=\"u32a2ea46\">10.1、静态代理</span></h3><p data-lake-id=\"ub7583ea9\" id=\"ub7583ea9\"><br></p><p data-lake-id=\"u2c96c119\" id=\"u2c96c119\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472110260-68d6d574-e8a2-4ada-974a-93238575f044.png%22%2C%22taskId%22%3A%22ufa2f2bd3-104b-4298-ac4b-082af9a2452%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A729%2C%22height%22%3A213%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A333570%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1458%2C%22originHeight%22%3A426%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E8%A7%92%E8%89%B2%E5%88%86%E6%9E%90%3A%20.%E6%8A%BD%E8%B1%A1%E8%A7%92%E8%89%B2%3A%E4%B8%80%E8%88%AC%E4%BC%9A%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E6%88%96%E8%80%85%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9D%A5%E8%A7%A3%E5%86%B3%20%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%3A%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E8%A7%92%E8%89%B2%20%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3A%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%2C%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%90%8E%2C%E6%88%91%E4%BB%AC%E4%B8%80%E8%88%AC%E4%BC%9A%E5%81%9A%E4%B8%80%E4%BA%9B%E9%99%84%E5%B1%9E%E6%93%8D%E4%BD%9C%20%E5%AE%A2%E6%88%B7%3A%E8%AE%BF%E9%97%AE%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BA%BA!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A3.7960088%2C%22y%22%3A17.675848%2C%22width%22%3A182.9075612%2C%22height%22%3A47.879352%2C%22text%22%3A%22%E8%A7%92%E8%89%B2%E5%88%86%E6%9E%90%3A%22%7D%2C%7B%22x%22%3A58.98752%2C%22y%22%3A111.796715%2C%22width%22%3A844.65414%2C%22height%22%3A55.364734999999996%2C%22text%22%3A%22.%E6%8A%BD%E8%B1%A1%E8%A7%92%E8%89%B2%3A%E4%B8%80%E8%88%AC%E4%BC%9A%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E6%88%96%E8%80%85%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9D%A5%E8%A7%A3%E5%86%B3%22%7D%2C%7B%22x%22%3A80.883896%2C%22y%22%3A197.10371%2C%22width%22%3A459.133254%2C%22height%22%3A47.05554999999998%2C%22text%22%3A%22%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%3A%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E8%A7%92%E8%89%B2%22%7D%2C%7B%22x%22%3A81.64361%2C%22y%22%3A270.91354%2C%22width%22%3A1328.02659%2C%22height%22%3A59.39956000000001%2C%22text%22%3A%22%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3A%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%2C%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%90%8E%2C%E6%88%91%E4%BB%AC%E4%B8%80%E8%88%AC%E4%BC%9A%E5%81%9A%E4%B8%80%E4%BA%9B%E9%99%84%E5%B1%9E%E6%93%8D%E4%BD%9C%22%7D%2C%7B%22x%22%3A83.269806%2C%22y%22%3A367.26077%2C%22width%22%3A481.930394%2C%22height%22%3A40.047180000000026%2C%22text%22%3A%22%E5%AE%A2%E6%88%B7%3A%E8%AE%BF%E9%97%AE%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BA%BA!%22%7D%5D%2C%22id%22%3A%22ued37f954%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u102d514d\" id=\"u102d514d\"><br />代码步骤：</span></p><p data-lake-id=\"u7da15eda\" id=\"u7da15eda\"><br></p><p data-lake-id=\"udb0a9ccc\" id=\"udb0a9ccc\"><span data-lake-id=\"u62fd391d\" id=\"u62fd391d\">1、接口</span></p><p data-lake-id=\"uc89db04e\" id=\"uc89db04e\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20interface%20Host%20%7B%5Cn%5Ctpublic%20void%20rent()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c81ef282%22%7D\"></card><p data-lake-id=\"ud688a2d4\" id=\"ud688a2d4\"><br></p><p data-lake-id=\"udd53965c\" id=\"udd53965c\"><span data-lake-id=\"u5bb5f7a2\" id=\"u5bb5f7a2\">2、真实角色</span></p><p data-lake-id=\"u1cf64652\" id=\"u1cf64652\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20class%20HostMaster%20implements%20Host%7B%5Ct%5Cn%20%20%20%20%5Cn%5Ctpublic%20void%20rent()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%88%BF%E4%B8%9C%E8%A6%81%E5%87%BA%E7%A7%9F%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b6e0874a%22%7D\"></card><p data-lake-id=\"u0afdfda9\" id=\"u0afdfda9\"><br></p><p data-lake-id=\"u6365e5e2\" id=\"u6365e5e2\"><span data-lake-id=\"uc75065ce\" id=\"uc75065ce\">3、代理角色</span></p><p data-lake-id=\"u6b295404\" id=\"u6b295404\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20class%20Proxy%20%7B%5Cn%5Cn%5Ctpublic%20Host%20host%3B%5Cn%5Ct%5Cn%5Ctpublic%20Proxy()%20%7B%5Cn%5Ct%5Ct%5Cn%5Ct%7D%5Cn%5Ct%5Cn%5Ctpublic%20Proxy(Host%20host)%20%7B%5Cn%5Ct%5Ctsuper()%3B%5Cn%5Ct%5Ctthis.host%20%3D%20host%3B%5Cn%5Ct%7D%5Cn%5Ct%5Cn%5Ctpublic%20void%20rent()%20%7B%5Cn%5Ct%5CtseeHouse()%3B%5Cn%5Ct%5Cthost.rent()%3B%5Cn%5Ct%5Ctfee()%3B%5Cn%5Ct%5Ctsign()%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E7%9C%8B%E6%88%BF%5Cn%5Ctpublic%20void%20seeHouse()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E7%9C%8B%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E6%94%B6%E8%B4%B9%5Cn%5Ctpublic%20void%20fee()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%94%B6%E4%B8%AD%E4%BB%8B%E8%B4%B9%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E5%90%88%E5%90%8C%5Cn%5Ctpublic%20void%20sign()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E7%AD%BE%E5%90%88%E5%90%8C%5C%22)%3B%5Cn%5Ct%7D%5Ct%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2272dd35fd%22%7D\"></card><p data-lake-id=\"uc21535a7\" id=\"uc21535a7\"><br></p><p data-lake-id=\"u9f4bba4c\" id=\"u9f4bba4c\"><span data-lake-id=\"u5a026beb\" id=\"u5a026beb\">4、客户端访问代理角色</span></p><p data-lake-id=\"ufa1c3d41\" id=\"ufa1c3d41\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle4_proxy%3B%5Cn%5Cnimport%20pojo.Host%3B%5Cnimport%20pojo.HostMaster%3B%5Cnimport%20pojo.Proxy%3B%5Cn%5Cnpublic%20class%20My%20%7B%5Cn%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5Ct%2F%2F%E6%88%BF%E4%B8%9C%E8%A6%81%E5%87%BA%E7%A7%9F%E6%88%BF%E5%AD%90%5Cn%5Ct%5CtHost%20host%20%3D%20new%20HostMaster()%3B%5Cn%5Ct%5Ct%2F%2F%E4%B8%AD%E4%BB%8B%E5%B8%AE%E6%88%BF%E4%B8%9C%E5%87%BA%E7%A7%9F%E6%88%BF%E5%AD%90%EF%BC%8C%E4%BD%86%E4%B9%9F%E6%94%B6%E5%8F%96%E4%B8%80%E5%AE%9A%E8%B4%B9%E7%94%A8%EF%BC%88%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%BA%9B%E6%88%BF%E4%B8%9C%E4%B8%8D%E5%81%9A%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%89%5Cn%5Ct%5CtProxy%20proxy%20%3D%20new%20Proxy(host)%3B%5Cn%5Ct%5Ct%2F%2F%E7%9C%8B%E4%B8%8D%E5%88%B0%E6%88%BF%E4%B8%9C%EF%BC%8C%E4%BD%86%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%EF%BC%8C%E8%BF%98%E6%98%AF%E7%A7%9F%E5%88%B0%E4%BA%86%E6%88%BF%E5%AD%90%5Cn%5Ct%5Ctproxy.rent()%3B%5Cn%5Ct%5Ct%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222479edd4%22%7D\"></card><p data-lake-id=\"u2ce33bd2\" id=\"u2ce33bd2\"><br></p><p data-lake-id=\"u2805ace6\" id=\"u2805ace6\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472182662-cd60ab25-c271-4316-af34-9722171677ff.png%22%2C%22taskId%22%3A%22u4c988078-ba16-4d13-ad27-de269300307%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A716%2C%22height%22%3A276%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A318739%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1432%2C%22originHeight%22%3A552%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%A5%BD%E5%A4%84%3A%20%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%20%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%20%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%20%E7%BC%BA%E7%82%B9%3A%20%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%B0%B1%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3B%E4%BB%A3%E7%A0%81%E9%87%8F%E4%BC%9A%E7%BF%BB%E5%80%8D-%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E4%BC%9A%E5%8F%98%E4%BD%8E~%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A18.71793%2C%22y%22%3A13.003425%2C%22width%22%3A318.64349%2C%22height%22%3A46.618268%2C%22text%22%3A%22%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%A5%BD%E5%A4%84%3A%22%7D%2C%7B%22x%22%3A104.03952%2C%22y%22%3A114.610596%2C%22width%22%3A1140.18298%2C%22height%22%3A43.878574%2C%22text%22%3A%22%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%22%7D%2C%7B%22x%22%3A101.845%2C%22y%22%3A200.36185%2C%22width%22%3A863.6782999999999%2C%22height%22%3A46.50728000000001%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%22%7D%2C%7B%22x%22%3A95.715775%2C%22y%22%3A285.71997%2C%22width%22%3A789.133525%2C%22height%22%3A48.818730000000016%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%22%7D%2C%7B%22x%22%3A20.13478%2C%22y%22%3A388.3527%2C%22width%22%3A104.22771499999999%2C%22height%22%3A43.97149999999999%2C%22text%22%3A%22%E7%BC%BA%E7%82%B9%3A%22%7D%2C%7B%22x%22%3A102.43062%2C%22y%22%3A487.7622%2C%22width%22%3A1311.53838%2C%22height%22%3A47.12959999999998%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%B0%B1%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3B%E4%BB%A3%E7%A0%81%E9%87%8F%E4%BC%9A%E7%BF%BB%E5%80%8D-%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E4%BC%9A%E5%8F%98%E4%BD%8E~%22%7D%5D%2C%22id%22%3A%22u44fe5565%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"ucc3ef0eb\" id=\"ucc3ef0eb\"><br />代码翻倍：几十个真实角色就得写几十个代理</span></p><p data-lake-id=\"u181ee8dc\" id=\"u181ee8dc\"><br></p><p data-lake-id=\"ua1582753\" id=\"ua1582753\"><span data-lake-id=\"u1f776230\" id=\"u1f776230\">AOP横向开发</span></p><p data-lake-id=\"udc8f824e\" id=\"udc8f824e\"><br></p><p data-lake-id=\"u7469fd93\" id=\"u7469fd93\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472202392-f8398270-e31d-4f1d-962d-c24024ab0170.png%22%2C%22taskId%22%3A%22uee994fb2-a8b0-4b92-9319-ac8f359e328%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A714.5%2C%22height%22%3A616%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A535042%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1429%2C%22originHeight%22%3A1231%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22dao%20Aop%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%88%B6!%20Log%3A%E6%A8%AA%E5%90%91%E5%BC%80%E5%8F%91%20service%20%E5%90%91%E5%BC%80%E5%8F%91%E7%9B%8A%20controller%20%E5%89%8D%E7%AB%AF%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A372.66272%2C%22y%22%3A88.493286%2C%22width%22%3A64.13408000000004%2C%22height%22%3A30.003608999999997%2C%22text%22%3A%22dao%22%7D%2C%7B%22x%22%3A866.1268%2C%22y%22%3A221.01337%2C%22width%22%3A242.73829999999998%2C%22height%22%3A35.396180000000015%2C%22text%22%3A%22Aop%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%88%B6!%22%7D%2C%7B%22x%22%3A1049.2529%2C%22y%22%3A401.9132%2C%22width%22%3A230.24430000000007%2C%22height%22%3A34.892949999999985%2C%22text%22%3A%22Log%3A%E6%A8%AA%E5%90%91%E5%BC%80%E5%8F%91%22%7D%2C%7B%22x%22%3A348.94226%2C%22y%22%3A414.1208%2C%22width%22%3A108.28384%2C%22height%22%3A27.617200000000025%2C%22text%22%3A%22service%22%7D%2C%7B%22x%22%3A82.52725%2C%22y%22%3A468.82904%2C%22width%22%3A39.425555%2C%22height%22%3A164.26885999999996%2C%22text%22%3A%22%E5%90%91%E5%BC%80%E5%8F%91%E7%9B%8A%22%7D%2C%7B%22x%22%3A327.13455%2C%22y%22%3A777.1427%2C%22width%22%3A151.05078000000003%2C%22height%22%3A30.68005000000005%2C%22text%22%3A%22controller%22%7D%2C%7B%22x%22%3A367.16302%2C%22y%22%3A1087.8625%2C%22width%22%3A71.71395999999999%2C%22height%22%3A36.23910000000001%2C%22text%22%3A%22%E5%89%8D%E7%AB%AF%22%7D%5D%2C%22id%22%3A%22u6f0ff715%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u1a9a257a\" id=\"u1a9a257a\"><br></p><h3 data-lake-id=\"7f64b1e7\" id=\"7f64b1e7\"><span data-lake-id=\"ua30b19bc\" id=\"ua30b19bc\">10.2、动态代理</span></h3><p data-lake-id=\"u6a225b97\" id=\"u6a225b97\"><br></p><p data-lake-id=\"u52a215f4\" id=\"u52a215f4\"><span data-lake-id=\"u6feff077\" id=\"u6feff077\">动态代理和静态角色一样，动态代理底层是反射机制</span></p><p data-lake-id=\"u55bec41f\" id=\"u55bec41f\"><br></p><p data-lake-id=\"u945d5d3b\" id=\"u945d5d3b\"><span data-lake-id=\"ud60ed7f6\" id=\"ud60ed7f6\">动态代理类是动态生成的，不是我们直接写好的！</span></p><p data-lake-id=\"u484da3d8\" id=\"u484da3d8\"><br></p><p data-lake-id=\"u8855b148\" id=\"u8855b148\"><span data-lake-id=\"u139a8c67\" id=\"u139a8c67\">动态代理(两大类)：基于接口，基于类</span></p><p data-lake-id=\"u63e248cd\" id=\"u63e248cd\"><br></p><ul list=\"u950104e4\"><li fid=\"u0e996830\" data-lake-id=\"u2805d496\" id=\"u2805d496\"><span data-lake-id=\"uc5511781\" id=\"uc5511781\">基于接口：JDK的动态代理【使用ing】</span></li></ul><ul list=\"u2c23c0a9\"><li fid=\"u54c85023\" data-lake-id=\"u6fdc1d52\" id=\"u6fdc1d52\"><span data-lake-id=\"u82ea3f53\" id=\"u82ea3f53\">基于类：cglib</span></li></ul><ul list=\"u1a8775ee\"><li fid=\"uc6c0ac57\" data-lake-id=\"uc4ad0ce4\" id=\"uc4ad0ce4\"><span data-lake-id=\"u7cee8873\" id=\"u7cee8873\">java字节码实现：javasisit</span></li></ul><p data-lake-id=\"u6bcf2dca\" id=\"u6bcf2dca\"><br></p><p data-lake-id=\"ua0f98868\" id=\"ua0f98868\"><span data-lake-id=\"u89e6bd18\" id=\"u89e6bd18\">了解两个类<br />1、Proxy：代理<br />2、InvocationHandler：调用处理程序<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472250406-dbe28260-99f3-47cd-bcb3-dd256a81ddfe.png%22%2C%22taskId%22%3A%22u1b8a68e3-05e6-4b8b-b247-e42a373ad8b%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A718.5%2C%22height%22%3A75%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A119714%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1437%2C%22originHeight%22%3A150%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22java.lang.reflect%20lnterfacelnvocationHandler%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A16.086414%2C%22y%22%3A4.62058%2C%22width%22%3A281.812416%2C%22height%22%3A42.204454999999996%2C%22text%22%3A%22java.lang.reflect%22%7D%2C%7B%22x%22%3A19.994574%2C%22y%22%3A75.245964%2C%22width%22%3A649.8262259999999%2C%22height%22%3A46.316046%2C%22text%22%3A%22lnterfacelnvocationHandler%22%7D%5D%2C%22id%22%3A%22uec06fc4f%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"uf9e30c89\" id=\"uf9e30c89\"><br></p><p data-lake-id=\"ub82b9ddf\" id=\"ub82b9ddf\"><span data-lake-id=\"u26a42c87\" id=\"u26a42c87\">实例：</span></p><p data-lake-id=\"u56a2dad4\" id=\"u56a2dad4\"><br></p><p data-lake-id=\"u6fd8cfbd\" id=\"u6fd8cfbd\"><span data-lake-id=\"u1d5e3f7b\" id=\"u1d5e3f7b\">接口 Host.java</span></p><p data-lake-id=\"ua647c123\" id=\"ua647c123\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%8E%A5%E5%8F%A3%5Cnpackage%20pojo2%3B%5Cnpublic%20interface%20Host%20%7B%5Cn%5Ctpublic%20void%20rent()%3B%5Cn%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222e8be48e%22%7D\"></card><p data-lake-id=\"u02faeb2a\" id=\"u02faeb2a\"><br></p><p data-lake-id=\"u647890b9\" id=\"u647890b9\"><span data-lake-id=\"u326b1b6d\" id=\"u326b1b6d\">接口Host实现类 HostMaster.java</span></p><p data-lake-id=\"uac75c7a9\" id=\"uac75c7a9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB%5Cnpackage%20pojo2%3B%5Cnpublic%20class%20HostMaster%20implements%20Host%7B%5Ct%5Cn%5Ctpublic%20void%20rent()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%88%BF%E4%B8%9C%E8%A6%81%E7%A7%9F%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fdc507ab%22%7D\"></card><p data-lake-id=\"u73adfd40\" id=\"u73adfd40\"><br></p><p data-lake-id=\"u17066677\" id=\"u17066677\"><span data-lake-id=\"u17c87370\" id=\"u17c87370\">代理角色的处理程序类 ProxyInvocationHandler.java</span></p><p data-lake-id=\"u95088721\" id=\"u95088721\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo2%3B%5Cn%5Cnimport%20java.lang.reflect.InvocationHandler%3B%5Cnimport%20java.lang.reflect.Method%3B%5Cnimport%20java.lang.reflect.Proxy%3B%5Cn%5Cn%2F%2F%2F%E7%94%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%5Cnpublic%20class%20ProxyInvocationHandler%20implements%20InvocationHandler%20%7B%5Cn%5Cn%5Ct%2F%2F%20Foo%20f%20%3D(Foo)%20Proxy.NewProxyInstance(Foo.%20Class.GetClassLoader()%2C%5Cn%5Ct%2F%2F%20new%20Class%3C%3F%3E%5B%5D%20%7B%20Foo.Class%20%7D%2C%5Cn%5Ct%2F%2F%20handler)%3B%5Cn%5Cn%5Ct%2F%2F%20%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E6%8E%A5%E5%8F%A3%5Cn%5Ctpublic%20HostMaster%20hostMaster%20%3B%5Cn%5Ct%5Cn%5Ctpublic%20void%20setHostMaster(HostMaster%20hostMaster)%20%7B%5Cn%5Ct%5Ctthis.hostMaster%20%3D%20hostMaster%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%BE%97%E5%88%B0%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%90%86%E7%B1%BB%20%5Cn%5Ctpublic%20Object%20getProxy()%20%7B%5Cn%5Ct%5Ct%2F%2F%20newProxyInstance()%20-%3E%20%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%B1%E4%B8%8D%E7%94%A8%E5%86%8D%E5%86%99%E5%85%B7%E4%BD%93%E7%9A%84%E4%BB%A3%E7%90%86%E7%B1%BB%E4%BA%86%5Cn%5Ct%5Ct%2F%2F%20this.getClass().getClassLoader()%20-%3E%20%E6%89%BE%E5%88%B0%E5%8A%A0%E8%BD%BD%E7%B1%BB%E7%9A%84%E4%BD%8D%E7%BD%AE%5Cn%5Ct%5Ct%2F%2F%20hostMaster.getClass().getInterfaces()%20-%3E%20%E4%BB%A3%E7%90%86%E7%9A%84%E5%85%B7%E4%BD%93%E6%8E%A5%E5%8F%A3%5Cn%5Ct%5Ct%2F%2F%20this%20-%3E%20%E4%BB%A3%E8%A1%A8%E4%BA%86%E6%8E%A5%E5%8F%A3InvocationHandler%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BBProxyInvocationHandler%5Cn%5Ct%5Ctreturn%20Proxy.newProxyInstance(this.getClass().getClassLoader()%2C%20hostMaster.getClass().getInterfaces()%2C%20this)%3B%5Cn%5Cn%5Cn%5Ct%2F%2F%20%E5%A4%84%E7%90%86%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BE%8B%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%5Cn%5Ctpublic%20Object%20invoke(Object%20proxy%2C%20Method%20method%2C%20Object%5B%5D%20args)%20throws%20Throwable%20%7B%5Cn%5Ct%5CtseeHouse()%3B%5Cn%5Ct%5Ct%2F%2F%20%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E6%9C%AC%E8%B4%A8%EF%BC%8C%E5%B0%B1%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E7%9A%84%5Cn%20%20%20%20%20%20%20%20%2F%2F%20invoke()%E6%89%A7%E8%A1%8C%E5%AE%83%E7%9C%9F%E6%AD%A3%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95%5Cn%5Ct%5CtObject%20result%20%3D%20method.invoke(hostMaster%2C%20args)%3B%5Cn%5Ct%5Ctfee()%3B%5Cn%5Ct%5Ctreturn%20result%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20void%20seeHouse()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E7%9C%8B%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20void%20fee()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%94%B6%E4%B8%AD%E4%BB%8B%E8%B4%B9%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2209bd3632%22%7D\"></card><p data-lake-id=\"u17d68ad0\" id=\"u17d68ad0\"><br></p><p data-lake-id=\"ubc6cc3ac\" id=\"ubc6cc3ac\"><span data-lake-id=\"u1aa8c2d9\" id=\"u1aa8c2d9\">用户类 My2.java</span></p><p data-lake-id=\"u78fc5ad2\" id=\"u78fc5ad2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle4_proxy%3B%5Cn%5Cnimport%20pojo2.Host%3B%5Cnimport%20pojo2.Host2%3B%5Cnimport%20pojo2.HostMaster%3B%5Cnimport%20pojo2.ProxyInvocationHandler%3B%5Cn%5Cnpublic%20class%20My2%20%7B%5Cn%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5Ct%2F%2F%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%5Cn%5Ct%5CtHostMaster%20hostMaster%20%3D%20new%20HostMaster()%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5Ct%2F%2F%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%EF%BC%8C%E7%8E%B0%E5%9C%A8%E6%B2%A1%E6%9C%89%EF%BC%9B%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%E7%9A%84%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E6%9D%A5%E5%AE%9E%E7%8E%B0Host%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%B0%83%E7%94%A8%5Cn%5Ct%5CtProxyInvocationHandler%20pih%20%3D%20new%20ProxyInvocationHandler()%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20%2F%2Fpih%20-%3E%20HostMaster%E6%8E%A5%E5%8F%A3%E7%B1%BB%20-%3E%20Host%E6%8E%A5%E5%8F%A3%5Cn%5Ct%5Ctpih.setHostMaster(hostMaster)%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5Ct%2F%2F%E8%8E%B7%E5%8F%96newProxyInstance%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%E7%B1%BB%5Cn%5Ct%5CtHost%20proxy%20%3D%20(Host)%20pih.getProxy()%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctproxy.rent()%3B%5Cn%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22316ccb94%22%7D\"></card><p data-lake-id=\"u0dc97ef7\" id=\"u0dc97ef7\"><br></p><p data-lake-id=\"u6a87434e\" id=\"u6a87434e\"><span data-lake-id=\"ud8e4e410\" id=\"ud8e4e410\">弹幕评论：<br /></span><span data-lake-id=\"u1cdd52ac\" id=\"u1cdd52ac\">什么时候调用invoke方法的?<br /></span><span data-lake-id=\"ue02cdd4b\" id=\"ue02cdd4b\">代理实例调用方法时invoke方法就会被调用，可以debug试试</span></p><p data-lake-id=\"u01340d45\" id=\"u01340d45\"><br></p><p data-lake-id=\"ue2cd13df\" id=\"ue2cd13df\"><span data-lake-id=\"uc80e14ff\" id=\"uc80e14ff\">改为</span><strong><span data-lake-id=\"u06ecef5e\" id=\"u06ecef5e\">万能代理类</span></strong></p><p data-lake-id=\"u5386d90d\" id=\"u5386d90d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%2F%E7%94%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%94%9F%E4%BB%A3%E7%90%86%5Cnpublic%20class%20ProxyInvocationHandler%20implements%20InvocationHandler%20%7B%5Cn%5Cn%5Ct%2F%2F%20%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E6%8E%A5%E5%8F%A3%5Cn%5Ctpublic%20Object%20target%3B%5Cn%5Cn%5Ctpublic%20void%20setTarget(Object%20target)%20%7B%5Cn%5Ct%5Ctthis.target%20%3D%20target%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%BE%97%E5%88%B0%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%90%86%E7%B1%BB%20-%3E%20%E5%9B%BA%E5%AE%9A%E7%9A%84%E4%BB%A3%E7%A0%81%5Cn%5Ctpublic%20Object%20getProxy()%20%7B%5Cn%5Ct%5Ctreturn%20Proxy.newProxyInstance(this.getClass().getClassLoader()%2C%20target.getClass().getInterfaces()%2C%20this)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%A4%84%E7%90%86%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BE%8B%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%5Cn%5Ctpublic%20Object%20invoke(Object%20proxy%2C%20Method%20method%2C%20Object%5B%5D%20args)%20throws%20Throwable%20%7B%5Cn%5Ct%5Ct%2F%2F%20%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E6%9C%AC%E8%B4%A8%EF%BC%8C%E5%B0%B1%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E7%9A%84%5Cn%5Ct%5Ct%2F%2F%20invoke()%E6%89%A7%E8%A1%8C%E5%AE%83%E7%9C%9F%E6%AD%A3%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95%5Cn%5Ct%5CtObject%20result%20%3D%20method.invoke(target%2C%20args)%3B%5Cn%5Ct%5Ctreturn%20result%3B%5Cn%5Ct%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f67b8446%22%7D\"></card><p data-lake-id=\"u747eed1c\" id=\"u747eed1c\"><br></p><p data-lake-id=\"u2b41d676\" id=\"u2b41d676\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472286319-fedd39e9-373b-4ad8-9f64-4b8ee3c604ca.png%22%2C%22taskId%22%3A%22ua22f25c6-84a0-4f29-9431-610048ecc8e%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A732.5%2C%22height%22%3A297%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A416618%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1465%2C%22originHeight%22%3A593%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E5%A5%BD%E5%A4%84%3A%20%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%20%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%20%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%20%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%2C%E4%B8%80%E8%88%AC%E5%B0%B1%E6%98%AF%E5%AF%B9%E5%BA%94%E7%9A%84%E4%B8%80%E7%B1%BB%E4%B8%9A%E5%8A%A1%20%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E5%8F%AF%E4%BB%A5%E4%BB%A3%E7%90%86%E5%A4%9A%E4%B8%AA%E7%B1%BB%2C%E5%8F%AA%E8%A6%81%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%90%8C%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%8D%B3%E5%8F%AF!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A20.974703%2C%22y%22%3A21.202911%2C%22width%22%3A342.929437%2C%22height%22%3A49.477819%2C%22text%22%3A%22%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E5%A5%BD%E5%A4%84%3A%22%7D%2C%7B%22x%22%3A110.31398%2C%22y%22%3A125.35134%2C%22width%22%3A1238.60842%2C%22height%22%3A59.109170000000006%2C%22text%22%3A%22%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%22%7D%2C%7B%22x%22%3A108.648254%2C%22y%22%3A225.02652%2C%22width%22%3A936.8362460000001%2C%22height%22%3A48.489179999999976%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%22%7D%2C%7B%22x%22%3A106.30473%2C%22y%22%3A319.75894%2C%22width%22%3A847.1865700000001%2C%22height%22%3A51.633699999999976%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%22%7D%2C%7B%22x%22%3A100.42764%2C%22y%22%3A409.33658%2C%22width%22%3A1250.3754600000002%2C%22height%22%3A55.078179999999975%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%2C%E4%B8%80%E8%88%AC%E5%B0%B1%E6%98%AF%E5%AF%B9%E5%BA%94%E7%9A%84%E4%B8%80%E7%B1%BB%E4%B8%9A%E5%8A%A1%22%7D%2C%7B%22x%22%3A102.06349%2C%22y%22%3A505.33142%2C%22width%22%3A1315.13731%2C%22height%22%3A53.047879999999964%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E5%8F%AF%E4%BB%A5%E4%BB%A3%E7%90%86%E5%A4%9A%E4%B8%AA%E7%B1%BB%2C%E5%8F%AA%E8%A6%81%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%90%8C%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%8D%B3%E5%8F%AF!%22%7D%5D%2C%22id%22%3A%22u9fe42ff0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u85bc2827\" id=\"u85bc2827\"><br></p><h2 data-lake-id=\"8fcd49a5\" id=\"8fcd49a5\"><span data-lake-id=\"u8f62c711\" id=\"u8f62c711\">11、AOP</span></h2><p data-lake-id=\"uf487067f\" id=\"uf487067f\"><br></p><h3 data-lake-id=\"7b90ca80\" id=\"7b90ca80\"><span data-lake-id=\"uce7eead8\" id=\"uce7eead8\">11.1、什么是AOP</span></h3><p data-lake-id=\"u919e7a61\" id=\"u919e7a61\"><br></p><p data-lake-id=\"u2d61435d\" id=\"u2d61435d\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472302779-a8366011-5841-48c9-a6c7-eff3e7546103.png%22%2C%22taskId%22%3A%22ua7ef26da-9f3b-497b-b0a7-659aab41f56%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A728%2C%22height%22%3A97%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A457846%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1456%2C%22originHeight%22%3A194%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22AOP(PetoRetePToam)%E6%84%8F%E9%9D%A2%2C%E9%80%9A%E8%BF%87%E8%AF%91%E6%96%B9%E5%BC%8F%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%9F%E6%80%81%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%A8%8B%E5%8A%9F%E8%83%BD%20%E7%9A%84%E4%B8%80%E7%BB%A7%E6%8A%A4%E7%9A%84%E4%B8%80%E7%A7%8D%E6%8A%80%E6%9C%AF.AOP%E6%98%AFOOP%E7%9A%84%E7%BB%AD%2C%E6%98%AF%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E7%83%AD%E7%82%B9%2C%E4%B9%9F%E6%98%AFSpg%E6%9E%B6%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9%2C%E6%98%AF%20%E8%A5%BF%E6%95%8F%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A1%8C%E7%94%9F%E8%8C%83%E5%9E%8B%2C%E5%88%A9%E7%94%A80P%E5%8F%AF%E4%BB%A5%E5%AF%B9%E4%B8%9A%E5%8A%A1%E9%80%BB%E7%9A%84%E5%90%84%E4%B8%AA%E9%83%A8%E8%BF%9B%E8%A1%8C%E9%9A%94%E7%A6%BB%2C%E4%BB%8E%E8%80%8C%E4%BD%BF%E4%B8%9A%E5%8A%A1%E9%80%BB%E4%BF%B1%E5%90%84%E9%83%A8%E5%88%86%E4%B9%8B%5D%E7%9A%84%E5%90%88%20%E5%BA%A6%E9%99%8D%E4%BD%8E%2C%E6%8F%90%E9%AB%98%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8F%AF%E9%87%8D%E7%94%A8%E6%80%A7%2C%E5%90%8C%E6%97%B6%E6%8F%90%E9%AB%98%E4%BA%86%E5%BC%80%E5%8F%91%E7%9A%84%E6%95%88%E7%8E%87.%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A20.905172%2C%22y%22%3A17.26656%2C%22width%22%3A1388.177128%2C%22height%22%3A30.323524%2C%22text%22%3A%22AOP(PetoRetePToam)%E6%84%8F%E9%9D%A2%2C%E9%80%9A%E8%BF%87%E8%AF%91%E6%96%B9%E5%BC%8F%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%9F%E6%80%81%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%A8%8B%E5%8A%9F%E8%83%BD%22%7D%2C%7B%22x%22%3A17.54849%2C%22y%22%3A60.775894%2C%22width%22%3A1390.29851%2C%22height%22%3A30.995656000000004%2C%22text%22%3A%22%E7%9A%84%E4%B8%80%E7%BB%A7%E6%8A%A4%E7%9A%84%E4%B8%80%E7%A7%8D%E6%8A%80%E6%9C%AF.AOP%E6%98%AFOOP%E7%9A%84%E7%BB%AD%2C%E6%98%AF%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E7%83%AD%E7%82%B9%2C%E4%B9%9F%E6%98%AFSpg%E6%9E%B6%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9%2C%E6%98%AF%22%7D%2C%7B%22x%22%3A18.403284%2C%22y%22%3A104.806786%2C%22width%22%3A1413.341916%2C%22height%22%3A30.29079399999999%2C%22text%22%3A%22%E8%A5%BF%E6%95%8F%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A1%8C%E7%94%9F%E8%8C%83%E5%9E%8B%2C%E5%88%A9%E7%94%A80P%E5%8F%AF%E4%BB%A5%E5%AF%B9%E4%B8%9A%E5%8A%A1%E9%80%BB%E7%9A%84%E5%90%84%E4%B8%AA%E9%83%A8%E8%BF%9B%E8%A1%8C%E9%9A%94%E7%A6%BB%2C%E4%BB%8E%E8%80%8C%E4%BD%BF%E4%B8%9A%E5%8A%A1%E9%80%BB%E4%BF%B1%E5%90%84%E9%83%A8%E5%88%86%E4%B9%8B%5D%E7%9A%84%E5%90%88%22%7D%2C%7B%22x%22%3A17.207062%2C%22y%22%3A148.292%2C%22width%22%3A686.0667380000001%2C%22height%22%3A31.40276%2C%22text%22%3A%22%E5%BA%A6%E9%99%8D%E4%BD%8E%2C%E6%8F%90%E9%AB%98%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8F%AF%E9%87%8D%E7%94%A8%E6%80%A7%2C%E5%90%8C%E6%97%B6%E6%8F%90%E9%AB%98%E4%BA%86%E5%BC%80%E5%8F%91%E7%9A%84%E6%95%88%E7%8E%87.%22%7D%5D%2C%22id%22%3A%22u04219bd7%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"uf9648379\" id=\"uf9648379\"><br></p><h3 data-lake-id=\"11d4b04b\" id=\"11d4b04b\"><span data-lake-id=\"u2d7cb44b\" id=\"u2d7cb44b\">11.2、AOP在Spring中的使用</span></h3><p data-lake-id=\"u897be733\" id=\"u897be733\"><br></p><p data-lake-id=\"uc6369f12\" id=\"uc6369f12\"><span data-lake-id=\"u37ce97b3\" id=\"u37ce97b3\">提供声明式事务，允许用户自定义切面</span></p><p data-lake-id=\"u668134c8\" id=\"u668134c8\"><br></p><ul list=\"uc95ae15a\"><li fid=\"ud9c738eb\" data-lake-id=\"udbc39a44\" id=\"udbc39a44\"><span data-lake-id=\"u873e6d43\" id=\"u873e6d43\">横切关注点：跨越应用程序多个模块的方法或功能。即是，与我们业务逻辑无关的，但是我们需要关注的部分，就是横切关注点。如日志，安全，缓存，事务等等…</span></li></ul><ul list=\"ua0827484\"><li fid=\"udd899c9d\" data-lake-id=\"u7893d60b\" id=\"u7893d60b\"><span data-lake-id=\"ucd4e8140\" id=\"ucd4e8140\">切面(Aspect)：横切关注点 被模块化的特殊对象。即，它是一个类。（Log类）</span></li></ul><ul list=\"u77379a9f\"><li fid=\"ue62e6395\" data-lake-id=\"u5d4aabd9\" id=\"u5d4aabd9\"><span data-lake-id=\"ucfb4fcd8\" id=\"ucfb4fcd8\">通知(Advice)：切面必须要完成的工作。即，它是类中的一个方法。（Log类中的方法）</span></li></ul><ul list=\"u1023f42a\"><li fid=\"u8d010ec5\" data-lake-id=\"u29699ac7\" id=\"u29699ac7\"><span data-lake-id=\"u0a5c3611\" id=\"u0a5c3611\">目标(Target)：被通知对象。（生成的代理类)</span></li></ul><ul list=\"u4b9e75f2\"><li fid=\"u71513cac\" data-lake-id=\"u6b902ffc\" id=\"u6b902ffc\"><span data-lake-id=\"uf9878494\" id=\"uf9878494\">代理(Proxy)：向目标对象应用通知之后创建的对象。（生成的代理类）</span></li></ul><ul list=\"ufa216e08\"><li fid=\"uc936895d\" data-lake-id=\"u55a9e10f\" id=\"u55a9e10f\"><span data-lake-id=\"ue04ee6d5\" id=\"ue04ee6d5\">切入点(PointCut)：切面通知执行的”地点”的定义。（最后两点：在哪个地方执行，比如：method.invoke()）</span></li></ul><ul list=\"u2e5107c1\"><li fid=\"u10abf692\" data-lake-id=\"u9768cf13\" id=\"u9768cf13\"><span data-lake-id=\"uc6f99ee5\" id=\"uc6f99ee5\">连接点(JointPoint)：与切入点匹配的执行点。</span></li></ul><p data-lake-id=\"uc7b74b9c\" id=\"uc7b74b9c\"><br></p><p data-lake-id=\"u1f100549\" id=\"u1f100549\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472322962-506e3170-dbca-45d9-ac0b-0e3eea0c8a9e.png%22%2C%22taskId%22%3A%22ud3471f4c-c60b-46b1-b070-7126b300d2b%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A725.5%2C%22height%22%3A443%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A606566%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1451%2C%22originHeight%22%3A886%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%20%E8%BF%9E%E6%8E%A5%E7%82%B9%20%E5%88%87%E5%85%A5%E7%82%B9%20%E7%BB%87%E5%85%A5%20ave%20%E6%A8%A1%E5%88%87%E5%85%B3%E6%B3%A8%E7%82%B9%20%E6%8A%BD%E8%B1%A1%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%BA%E7%B1%BB%20%E9%80%9A%E7%9F%A5%20%E5%88%87%E9%9D%A2%20%E5%88%87%E9%9D%A2%E4%B8%AD%E7%9A%84%E5%85%B7%E4%BD%93%E6%96%B9%E6%B3%95%20Betore%20Anor%20ARerRunning%20ARerThrowing%20.Around%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1157.2225%2C%22y%22%3A37.204666%2C%22width%22%3A170.64210000000003%2C%22height%22%3A42.75381399999999%2C%22text%22%3A%22%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%22%7D%2C%7B%22x%22%3A972.83075%2C%22y%22%3A134.43044%2C%22width%22%3A130.9298500000001%2C%22height%22%3A43.81512000000001%2C%22text%22%3A%22%E8%BF%9E%E6%8E%A5%E7%82%B9%22%7D%2C%7B%22x%22%3A300.95206%2C%22y%22%3A134.24724%2C%22width%22%3A131.14544%2C%22height%22%3A43.72480999999999%2C%22text%22%3A%22%E5%88%87%E5%85%A5%E7%82%B9%22%7D%2C%7B%22x%22%3A766.25073%2C%22y%22%3A159.2028%2C%22width%22%3A92.92480999999998%2C%22height%22%3A47.22657000000001%2C%22text%22%3A%22%E7%BB%87%E5%85%A5%22%7D%2C%7B%22x%22%3A1189.5887%2C%22y%22%3A254.26823%2C%22width%22%3A66.76880000000006%2C%22height%22%3A31.04688999999999%2C%22text%22%3A%22ave%22%7D%2C%7B%22x%22%3A1135.6503%2C%22y%22%3A355.86697%2C%22width%22%3A222.95710000000008%2C%22height%22%3A46.24243000000001%2C%22text%22%3A%22%E6%A8%A1%E5%88%87%E5%85%B3%E6%B3%A8%E7%82%B9%22%7D%2C%7B%22x%22%3A755.4363%2C%22y%22%3A389.39957%2C%22width%22%3A306.5852000000001%2C%22height%22%3A45.94866999999999%2C%22text%22%3A%22%E6%8A%BD%E8%B1%A1%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%BA%E7%B1%BB%22%7D%2C%7B%22x%22%3A435.38574%2C%22y%22%3A474.77783%2C%22width%22%3A86.02898999999996%2C%22height%22%3A41.00197000000003%2C%22text%22%3A%22%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A850.5366%2C%22y%22%3A477.99478%2C%22width%22%3A83.88374999999996%2C%22height%22%3A40.75592000000006%2C%22text%22%3A%22%E5%88%87%E9%9D%A2%22%7D%2C%7B%22x%22%3A481.11105%2C%22y%22%3A569.3236%2C%22width%22%3A346.55355%2C%22height%22%3A49.45935999999995%2C%22text%22%3A%22%E5%88%87%E9%9D%A2%E4%B8%AD%E7%9A%84%E5%85%B7%E4%BD%93%E6%96%B9%E6%B3%95%22%7D%2C%7B%22x%22%3A161.49101%2C%22y%22%3A647.3197%2C%22width%22%3A103.02698999999998%2C%22height%22%3A27.670600000000036%2C%22text%22%3A%22Betore%22%7D%2C%7B%22x%22%3A159.73024%2C%22y%22%3A687.3352%2C%22width%22%3A74.85236999999998%2C%22height%22%3A28.597049999999967%2C%22text%22%3A%22Anor%22%7D%2C%7B%22x%22%3A159.90526%2C%22y%22%3A723.8534%2C%22width%22%3A196.33144%2C%22height%22%3A33.87774000000002%2C%22text%22%3A%22ARerRunning%22%7D%2C%7B%22x%22%3A158.6015%2C%22y%22%3A764.11304%2C%22width%22%3A210.42760000000004%2C%22height%22%3A33.725520000000074%2C%22text%22%3A%22ARerThrowing%22%7D%2C%7B%22x%22%3A154.08965%2C%22y%22%3A807.1933%2C%22width%22%3A120.37968000000001%2C%22height%22%3A28.688660000000027%2C%22text%22%3A%22.Around%22%7D%5D%2C%22id%22%3A%22uf65ee572%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u09b92027\" id=\"u09b92027\"><br />SpringAOP中，通过Advice定义横切逻辑，Spring中支持5种类型的Advice:</span></p><p data-lake-id=\"ua6035643\" id=\"ua6035643\"><br></p><p data-lake-id=\"ua9fbf9e3\" id=\"ua9fbf9e3\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472344670-8b22f0b8-df31-4b7a-bdb5-98af8fdf68cc.png%22%2C%22taskId%22%3A%22u47ab38d8-661a-472d-8686-7cd6f379dbd%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A704.5%2C%22height%22%3A233%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A265012%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1409%2C%22originHeight%22%3A466%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E8%BF%9E%E6%8E%A5%E7%82%B9%20%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B%20%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%20%E6%96%B9%E6%B3%95%E5%89%8D%20%E5%89%8D%E7%BD%AE%E9%80%9A%E7%9F%A5%20org.springframework.aop.MethodBeforeAdvice%20%E6%96%B9%E6%B3%95%E5%90%8E%20%E5%90%8E%E7%BD%AE%E9%80%9A%E7%9F%A5%20org.springframework.aop.AfterRtuningAdvice%20%E6%96%B9%E6%B3%95%E5%89%8D%E5%90%8E%20%E7%8E%AF%E7%BB%95%E9%80%9A%E7%9F%A5%20org.springframework.aop.Methodinterceptor%20%E5%BC%82%E5%B8%B8%E6%8A%9B%E5%87%BA%E9%80%9A%E7%9F%A5%20%E6%96%B9%E6%B3%95%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%20org.springframework.aop.ThrowsAdvice%20%E5%BC%95%E4%BB%8B%E9%80%9A%E7%9F%A5%20%E7%B1%BB%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%96%B0%E6%96%B9%E6%B3%95%E5%B1%9E%E6%80%A7%20org.springframework.aop.ntroductionOnteceptor%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A385.29074%2C%22y%22%3A23.675528%2C%22width%22%3A84.70263999999997%2C%22height%22%3A30.401052%2C%22text%22%3A%22%E8%BF%9E%E6%8E%A5%E7%82%B9%22%7D%2C%7B%22x%22%3A72.065315%2C%22y%22%3A24.717323%2C%22width%22%3A111.379435%2C%22height%22%3A28.126140999999997%2C%22text%22%3A%22%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B%22%7D%2C%7B%22x%22%3A951.10364%2C%22y%22%3A25.076479%2C%22width%22%3A107.1701599999999%2C%22height%22%3A27.140627000000002%2C%22text%22%3A%22%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%22%7D%2C%7B%22x%22%3A385.0258%2C%22y%22%3A100.74733%2C%22width%22%3A84.55946999999998%2C%22height%22%3A30.451719999999995%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E5%89%8D%22%7D%2C%7B%22x%22%3A71.25796%2C%22y%22%3A101.2316%2C%22width%22%3A110.74175%2C%22height%22%3A27.4559%2C%22text%22%3A%22%E5%89%8D%E7%BD%AE%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A719.6925%2C%22y%22%3A105.366585%2C%22width%22%3A574.0214%2C%22height%22%3A27.103695000000002%2C%22text%22%3A%22org.springframework.aop.MethodBeforeAdvice%22%7D%2C%7B%22x%22%3A383.68408%2C%22y%22%3A178.41422%2C%22width%22%3A85.29322000000002%2C%22height%22%3A30.503809999999987%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E5%90%8E%22%7D%2C%7B%22x%22%3A71.5292%2C%22y%22%3A179.33281%2C%22width%22%3A110.27340000000001%2C%22height%22%3A27.473010000000016%2C%22text%22%3A%22%E5%90%8E%E7%BD%AE%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A716.7615%2C%22y%22%3A179.81432%2C%22width%22%3A578.5714000000002%2C%22height%22%3A28.25421%2C%22text%22%3A%22org.springframework.aop.AfterRtuningAdvice%22%7D%2C%7B%22x%22%3A373.7513%2C%22y%22%3A256.24826%2C%22width%22%3A109.79762%2C%22height%22%3A29.371939999999995%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E5%89%8D%E5%90%8E%22%7D%2C%7B%22x%22%3A70.67841%2C%22y%22%3A255.96631%2C%22width%22%3A111.94688000000001%2C%22height%22%3A27.24454%2C%22text%22%3A%22%E7%8E%AF%E7%BB%95%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A735.1238%2C%22y%22%3A260.3197%2C%22width%22%3A542.5223%2C%22height%22%3A25.82329999999996%2C%22text%22%3A%22org.springframework.aop.Methodinterceptor%22%7D%2C%7B%22x%22%3A43.40196%2C%22y%22%3A330.3329%2C%22width%22%3A167.25092%2C%22height%22%3A29.74781999999999%2C%22text%22%3A%22%E5%BC%82%E5%B8%B8%E6%8A%9B%E5%87%BA%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A344.65436%2C%22y%22%3A331.00537%2C%22width%22%3A167.83853999999997%2C%22height%22%3A29.713379999999972%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%22%7D%2C%7B%22x%22%3A760.5232%2C%22y%22%3A331.32565%2C%22width%22%3A490.74360000000013%2C%22height%22%3A36.11011000000002%2C%22text%22%3A%22org.springframework.aop.ThrowsAdvice%22%7D%2C%7B%22x%22%3A70.04588%2C%22y%22%3A409.4405%2C%22width%22%3A112.06609000000002%2C%22height%22%3A27.700670000000002%2C%22text%22%3A%22%E5%BC%95%E4%BB%8B%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A302.11163%2C%22y%22%3A409.44214%2C%22width%22%3A251.70221000000004%2C%22height%22%3A27.776520000000005%2C%22text%22%3A%22%E7%B1%BB%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%96%B0%E6%96%B9%E6%B3%95%E5%B1%9E%E6%80%A7%22%7D%2C%7B%22x%22%3A701.8143%2C%22y%22%3A411.14728%2C%22width%22%3A608.9919%2C%22height%22%3A31.514160000000004%2C%22text%22%3A%22org.springframework.aop.ntroductionOnteceptor%22%7D%5D%2C%22id%22%3A%22u99ab396b%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u3b7cc36f\" id=\"u3b7cc36f\"><br /></span><strong><span data-lake-id=\"u6e7d46a1\" id=\"u6e7d46a1\">即AOP在不改变原有代码的情况下，去增加新的功能。</span></strong><span data-lake-id=\"u1f6020d0\" id=\"u1f6020d0\">（代理）</span></p><p data-lake-id=\"udba572bc\" id=\"udba572bc\"><br></p><h3 data-lake-id=\"6e16d25f\" id=\"6e16d25f\"><span data-lake-id=\"u56f02528\" id=\"u56f02528\">11.3、使用Spring实现AOP</span></h3><p data-lake-id=\"ub2c16353\" id=\"ub2c16353\"><br></p><p data-lake-id=\"u9df4bd2d\" id=\"u9df4bd2d\"><span data-lake-id=\"u8ee07106\" id=\"u8ee07106\">导入jar包</span></p><p data-lake-id=\"uc6ddbe8d\" id=\"uc6ddbe8d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.aspectj%2Faspectjweaver%20--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.aspectj%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Easpectjweaver%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E1.9.4%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ef2857b4%22%7D\"></card><p data-lake-id=\"u313aad1b\" id=\"u313aad1b\"><br></p><h4 data-lake-id=\"c727a170\" id=\"c727a170\"><span data-lake-id=\"u2f72e488\" id=\"u2f72e488\">11.3.1、方法一：使用原生spring接口</span></h4><p data-lake-id=\"u20acda60\" id=\"u20acda60\"><br></p><p data-lake-id=\"u2db27c0c\" id=\"u2db27c0c\"><span data-lake-id=\"u80fa990e\" id=\"u80fa990e\">springAPI接口实现</span></p><p data-lake-id=\"uccb97f40\" id=\"uccb97f40\"><br></p><p data-lake-id=\"ueab8a234\" id=\"ueab8a234\"><span data-lake-id=\"u64ec97db\" id=\"u64ec97db\">applicationContext.xml</span></p><p data-lake-id=\"u8839a852\" id=\"u8839a852\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3C!--%E6%B3%A8%E5%86%8Cbean--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userservice%5C%22%20class%3D%5C%22service.UserServiceImpl%5C%22%2F%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22log%5C%22%20class%3D%5C%22log.Log%5C%22%2F%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22afterLog%5C%22%20class%3D%5C%22log.AfterLog%5C%22%2F%3E%5Cn%5Ct%3C!--%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%94%9FSpring%20API%E6%8E%A5%E5%8F%A3--%3E%5Cn%20%20%20%20%3C!--%E9%85%8D%E7%BD%AEaop%2C%E8%BF%98%E9%9C%80%E8%A6%81%E5%AF%BC%E5%85%A5aop%E7%BA%A6%E6%9D%9F--%3E%5Cn%20%20%20%20%3Caop%3Aconfig%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E5%88%87%E5%85%A5%E7%82%B9%EF%BC%9Aexpression%3A%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8Cexecution%EF%BC%88%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%89--%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Apointcut%20id%3D%5C%22pointcut%5C%22%20expression%3D%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--UserServiceImpl.*(..)%20-%E3%80%8B%20UserServiceImpl%E7%B1%BB%E4%B8%8B%E7%9A%84%E6%89%80%E4%BB%A5%E6%96%B9%E6%B3%95(%E5%8F%82%E6%95%B0)--%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E6%89%A7%E8%A1%8C%E7%8E%AF%E7%BB%95%E5%A2%9E%E5%8A%A0--%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Aadvisor%20advice-ref%3D%5C%22log%5C%22%20pointcut-ref%3D%5C%22pointcut%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Aadvisor%20advice-ref%3D%5C%22afterLog%5C%22%20pointcut-ref%3D%5C%22pointcut%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%20%E7%8E%AF%E7%BB%95%2C%E5%9C%A8id%3D%5C%22pointcut%5C%22%E7%9A%84%E5%89%8D%E5%90%8E%E5%88%87%E5%85%A5%20--%3E%5Cn%20%20%20%20%3C%2Faop%3Aconfig%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227c8403a8%22%7D\"></card><p data-lake-id=\"u414644bb\" id=\"u414644bb\"><br></p><p data-lake-id=\"u148e1b5b\" id=\"u148e1b5b\"><span data-lake-id=\"u57d1ea8f\" id=\"u57d1ea8f\">execution(返回类型，类名，方法名(参数)) -&gt; execution(</span><em><span data-lake-id=\"uf77f19bf\" id=\"uf77f19bf\"> com.service.</span></em><span data-lake-id=\"u27059ff0\" id=\"u27059ff0\">,*(…))</span></p><p data-lake-id=\"u1a5dac99\" id=\"u1a5dac99\"><br></p><p data-lake-id=\"u243eb643\" id=\"u243eb643\"><span data-lake-id=\"u6a28d15c\" id=\"u6a28d15c\">UserService.java</span></p><p data-lake-id=\"u00fb61cd\" id=\"u00fb61cd\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20service%3B%5Cnpublic%20interface%20UserService%20%7B%20%20%20%5Cn%5Ct%20%20%20%20public%20void%20add()%20%3B%5Cn%5Ct%20%20%20%20public%20void%20delete()%20%3B%5Cn%5Ct%20%20%20%20public%20void%20query()%20%3B%5Cn%5Ct%20%20%20%20public%20void%20update()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222736fcad%22%7D\"></card><p data-lake-id=\"udab4a2ba\" id=\"udab4a2ba\"><br></p><p data-lake-id=\"ucba7370b\" id=\"ucba7370b\"><span data-lake-id=\"uba157c14\" id=\"uba157c14\">UserService 的实现类 UserServiceImp.java</span></p><p data-lake-id=\"u537a42e7\" id=\"u537a42e7\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20service%3B%5Cn%5Cnpublic%20class%20UserServiceImpl%20implements%20UserService%20%7B%5Cn%5Cn%20%20%20%20public%20void%20add()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22add%E5%A2%9E%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20public%20void%20delete()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22delete%E5%88%A0%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20public%20void%20update()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22update%E6%94%B9%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20public%20void%20query()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22query%E6%9F%A5%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f8a5211c%22%7D\"></card><p data-lake-id=\"u6993fb53\" id=\"u6993fb53\"><br></p><p data-lake-id=\"ua75b6744\" id=\"ua75b6744\"><span data-lake-id=\"u1e34ccab\" id=\"u1e34ccab\">前置Log.java</span></p><p data-lake-id=\"u2a14fa3f\" id=\"u2a14fa3f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20log%3B%5Cnimport%20org.springframework.aop.MethodBeforeAdvice%3B%5Cnimport%20java.lang.reflect.Method%3B%5Cn%5Cnpublic%20class%20Log%20implements%20MethodBeforeAdvice%20%7B%5Cn%20%20%20%20%2F%2Fmethod%EF%BC%9A%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%5Cn%20%20%20%20%2F%2Fargs%EF%BC%9A%E5%8F%82%E6%95%B0%5Cn%20%20%20%20%2F%2Ftarget%EF%BC%9A%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20public%20void%20before(Method%20method%2C%20Object%5B%5D%20args%2C%20Object%20target)%20throws%20Throwable%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(target.getClass().getName()%2B%5C%22%E7%9A%84%5C%22%2Bmethod.getName()%2B%5C%22%E8%A2%AB%E6%89%A7%E8%A1%8C%E4%BA%86%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22be63d742%22%7D\"></card><p data-lake-id=\"u5fda1434\" id=\"u5fda1434\"><br></p><p data-lake-id=\"uc1d6f671\" id=\"uc1d6f671\"><span data-lake-id=\"u3e77a9f3\" id=\"u3e77a9f3\">后置AfterLog.java</span></p><p data-lake-id=\"ud03b43ca\" id=\"ud03b43ca\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20log%3B%5Cnimport%20java.lang.reflect.Method%3B%5Cnimport%20org.springframework.aop.AfterReturningAdvice%3B%5Cn%5Cnpublic%20class%20AfterLog%20implements%20AfterReturningAdvice%20%7B%5Cn%20%20%20%20%2F%2FreturnVaule%3A%20%E8%BF%94%E5%9B%9E%E5%80%BC%5Cn%20%20%20%20public%20void%20afterReturning(Object%20returnValue%2C%20Method%20method%2C%20Object%5B%5D%20args%2C%20Object%20target)%20throws%20Throwable%20%7B%5Cn%20%20%20%20%5CtSystem.out.println(%5C%22%E6%89%A7%E8%A1%8C%E4%BA%86%5C%22%2Bmethod.getName()%2B%5C%22%E6%96%B9%E6%B3%95%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E6%98%AF%5C%22%2BreturnValue)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a096486f%22%7D\"></card><p data-lake-id=\"ubf5ee859\" id=\"ubf5ee859\"><br></p><p data-lake-id=\"uc744c79c\" id=\"uc744c79c\"><span data-lake-id=\"u11171bd6\" id=\"u11171bd6\">测试类MyTest5</span></p><p data-lake-id=\"u42757cf5\" id=\"u42757cf5\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20service.UserService%3B%5Cn%5Cnpublic%20class%20MyTest5%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%B3%A8%E6%84%8F%3A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20UserService%20userService%20%3D%20(UserService)%20context.getBean(%5C%22userservice%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20userService.add()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2213d53226%22%7D\"></card><p data-lake-id=\"ua85aa148\" id=\"ua85aa148\"><br></p><h4 data-lake-id=\"8d2cce88\" id=\"8d2cce88\"><span data-lake-id=\"ua227c321\" id=\"ua227c321\">11.3.2、方法二：自定义类实现AOP</span></h4><p data-lake-id=\"u8935ed68\" id=\"u8935ed68\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%20%20%20%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%20%20%20%3C!--%E6%B3%A8%E5%86%8Cbean--%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22userservice%5C%22%20class%3D%5C%22service.UserServiceImpl%5C%22%2F%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22log%5C%22%20class%3D%5C%22log.Log%5C%22%2F%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22afterLog%5C%22%20class%3D%5C%22log.AfterLog%5C%22%2F%3E%5Cn%20%20%20%3C!--%20%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%20--%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22diy%5C%22%20class%3D%5C%22diy.DiyPointcut%5C%22%2F%3E%5Cn%20%20%20%3Caop%3Aconfig%3E%5Cn%20%20%20%20%20%20%20%3C!--%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%87%E9%9D%A2--%3E%5Cn%20%20%20%20%20%20%20%3Caop%3Aaspect%20ref%3D%5C%22diy%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3C!--%E5%88%87%E5%85%A5%E7%82%B9--%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3Caop%3Apointcut%20id%3D%5C%22point%5C%22%20expression%3D%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3Caop%3Abefore%20method%3D%5C%22before%5C%22%20pointcut-ref%3D%5C%22point%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3Caop%3Aafter%20method%3D%5C%22after%5C%22%20pointcut-ref%3D%5C%22point%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%3C%2Faop%3Aaspect%3E%5Cn%20%20%20%3C%2Faop%3Aconfig%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22aaf70bda%22%7D\"></card><p data-lake-id=\"u32ef0b72\" id=\"u32ef0b72\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20diy%3B%5Cnpublic%20class%20DiyPointcut%20%7B%5Cn%5Cn%20%20%20%20public%20void%20before()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E6%8F%92%E5%85%A5%E5%88%B0%E5%89%8D%E9%9D%A2%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20after()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E6%8F%92%E5%85%A5%E5%88%B0%E5%90%8E%E9%9D%A2%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2228d1e299%22%7D\"></card><p data-lake-id=\"u2cdc3408\" id=\"u2cdc3408\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%B5%8B%E8%AF%95%5Cnpublic%20class%20MyTest5%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%B3%A8%E6%84%8F%3A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20UserService%20userService%20%3D%20(UserService)%20context.getBean(%5C%22userservice%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20userService.add()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2237f47bfc%22%7D\"></card><p data-lake-id=\"u79650cc9\" id=\"u79650cc9\"><br></p><h4 data-lake-id=\"09383569\" id=\"09383569\"><span data-lake-id=\"u5531ac12\" id=\"u5531ac12\">11.3.3、方法三：使用注解实现</span></h4><p data-lake-id=\"u5d62575b\" id=\"u5d62575b\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Cn%20%20%20%20%3C!--%20%E6%B3%A8%E5%86%8C%20--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userservice%5C%22%20class%3D%5C%22service.UserServiceImpl%5C%22%2F%3E%5Cn%20%20%20%20%3C!--%E6%96%B9%E5%BC%8F%E4%B8%89%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22diyAnnotation%5C%22%20class%3D%5C%22diy.DiyAnnotation%5C%22%3E%3C%2Fbean%3E%5Cn%20%20%20%20%5Cn%20%20%20%20%3C!--%20%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E4%BB%A3%E7%90%86%20%5Cn%5Ct%5Ct%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%9A%E9%BB%98%E8%AE%A4JDK%20(proxy-targer-class%3D%5C%22fasle%5C%22)%5Cn%20%20%20%20%5Ct%5Ct%5Ct%20cgbin%20(proxy-targer-class%3D%5C%22true%5C%22)--%3E%5Cn%5Ct%3Caop%3Aaspectj-autoproxy%2F%3E%5Cn%20%20%20%20%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f2068eba%22%7D\"></card><p data-lake-id=\"ubb28b181\" id=\"ubb28b181\"><br></p><p data-lake-id=\"ua704807a\" id=\"ua704807a\"><span data-lake-id=\"ufdd8a900\" id=\"ufdd8a900\">DiyAnnotation.java</span></p><p data-lake-id=\"uc7c399df\" id=\"uc7c399df\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20diy%3B%5Cnimport%20org.aspectj.lang.ProceedingJoinPoint%3B%5Cnimport%20org.aspectj.lang.annotation.After%3B%5Cnimport%20org.aspectj.lang.annotation.Around%3B%5Cnimport%20org.aspectj.lang.annotation.Aspect%3B%5Cnimport%20org.aspectj.lang.annotation.Before%3B%5Cn%5Cn%40Aspect%20%20%2F%2F%E6%A0%87%E6%B3%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E5%88%87%E9%9D%A2%5Cnpublic%20class%20DiyAnnotation%20%7B%5Cn%5Ct%5Cn%20%20%20%20%40Before(%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22)%5Cn%20%20%20%20public%20void%20before()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%3D%3D%3D%3D%3D%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%89%8D%3D%3D%3D%3D%3D%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40After(%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22)%5Cn%20%20%20%20public%20void%20after()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%3D%3D%3D%3D%3D%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%90%8E%3D%3D%3D%3D%3D%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%E5%9C%A8%E7%8E%AF%E7%BB%95%E5%A2%9E%E5%BC%BA%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%9C%B0%E6%9A%96%E7%AE%A1%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E4%BB%A3%E8%A1%A8%E6%88%91%E4%BB%AC%E8%A6%81%E8%8E%B7%E5%8F%96%E5%88%87%E5%85%A5%E7%9A%84%E7%82%B9%5Cn%20%20%20%20%40Around(%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22)%5Cn%20%20%20%20public%20void%20around(ProceedingJoinPoint%20joinPoint)%20throws%20Throwable%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E7%8E%AF%E7%BB%95%E5%89%8D%5C%22)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20Object%20proceed%20%3D%20joinPoint.proceed()%3B%5Cn%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E7%8E%AF%E7%BB%95%E5%90%8E%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fdd8b229%22%7D\"></card><p data-lake-id=\"u62e945ec\" id=\"u62e945ec\"><br></p><p data-lake-id=\"u33a480b3\" id=\"u33a480b3\"><span data-lake-id=\"u3200a08f\" id=\"u3200a08f\">测试</span></p><p data-lake-id=\"u240efe63\" id=\"u240efe63\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest5%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%B3%A8%E6%84%8F%3A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20UserService%20userService%20%3D%20(UserService)%20context.getBean(%5C%22userservice%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20userService.add()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b1c2694c%22%7D\"></card><p data-lake-id=\"ud371e3be\" id=\"ud371e3be\"><br></p><p data-lake-id=\"u4b99b1c3\" id=\"u4b99b1c3\"><span data-lake-id=\"uc76301fb\" id=\"uc76301fb\">输出结果：</span></p><p data-lake-id=\"ube4e5bde\" id=\"ube4e5bde\"><br></p><p data-lake-id=\"u13a01d72\" id=\"u13a01d72\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472366377-cc3b2d27-7a9d-4c51-81f4-ea9986f2dc37.png%22%2C%22taskId%22%3A%22uc5e52ebc-7c61-4cc3-936b-fd7f9c8de83%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A265%2C%22height%22%3A152%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A16982%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A530%2C%22originHeight%22%3A304%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%8E%AF%E9%A5%B6%E5%89%8D%20%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%89%8D%20add%E5%A2%9E%20%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%90%8E%20%E7%8E%AF%E7%BB%95%E5%90%8E%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A5.25205%2C%22y%22%3A5.612284%2C%22width%22%3A134.14271%2C%22height%22%3A46.325578%2C%22text%22%3A%22%E7%8E%AF%E9%A5%B6%E5%89%8D%22%7D%2C%7B%22x%22%3A125.20388%2C%22y%22%3A60.048664%2C%22width%22%3A223.39216000000002%2C%22height%22%3A47.08231599999999%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%89%8D%22%7D%2C%7B%22x%22%3A4.9738717%2C%22y%22%3A118.02775%2C%22width%22%3A119.0543883%2C%22height%22%3A48.38157000000001%2C%22text%22%3A%22add%E5%A2%9E%22%7D%2C%7B%22x%22%3A126.455505%2C%22y%22%3A173.67464%2C%22width%22%3A227.27236499999998%2C%22height%22%3A49.59935999999999%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%90%8E%22%7D%2C%7B%22x%22%3A6.2268386%2C%22y%22%3A232.65584%2C%22width%22%3A134.3163014%2C%22height%22%3A46.778819999999996%2C%22text%22%3A%22%E7%8E%AF%E7%BB%95%E5%90%8E%22%7D%5D%2C%22id%22%3A%22ub2d25d62%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u2254509c\" id=\"u2254509c\"><br></p><h2 data-lake-id=\"697586fb\" id=\"697586fb\"><span data-lake-id=\"u79fb20c4\" id=\"u79fb20c4\">12、整合mybatis</span></h2><p data-lake-id=\"uf19bf9ec\" id=\"uf19bf9ec\"><br></p><p data-lake-id=\"u2b04a408\" id=\"u2b04a408\"><span data-lake-id=\"u7bb7d67e\" id=\"u7bb7d67e\">mybatis-spring官网：</span><a href=\"https://mybatis.org/spring/zh/\" target=\"_blank\" data-lake-id=\"u15d6ca59\" id=\"u15d6ca59\"><span data-lake-id=\"u1436a3bc\" id=\"u1436a3bc\">https://mybatis.org/spring/zh/</span></a></p><p data-lake-id=\"u8b673a12\" id=\"u8b673a12\"><br></p><p data-lake-id=\"u940a3529\" id=\"u940a3529\"><strong><span data-lake-id=\"u1264e122\" id=\"u1264e122\">mybatis的配置流程：</span></strong></p><p data-lake-id=\"u4ed3ba18\" id=\"u4ed3ba18\"><br></p><ol list=\"ub82215b5\"><li fid=\"u457daee4\" data-lake-id=\"u1fd10204\" id=\"u1fd10204\"><span data-lake-id=\"ud11078df\" id=\"ud11078df\">编写实体类</span></li></ol><ol list=\"udbfee600\" start=\"2\"><li fid=\"u8c1b0fa8\" data-lake-id=\"ucfddfc8f\" id=\"ucfddfc8f\"><span data-lake-id=\"u9398c867\" id=\"u9398c867\">编写核心配置文件</span></li></ol><ol list=\"u4317eeff\" start=\"3\"><li fid=\"ua0cb0d38\" data-lake-id=\"ud74fd80c\" id=\"ud74fd80c\"><span data-lake-id=\"u2fed54c2\" id=\"u2fed54c2\">编写接口</span></li></ol><ol list=\"ue45c9806\" start=\"4\"><li fid=\"u0b43332c\" data-lake-id=\"ufe52acaf\" id=\"ufe52acaf\"><span data-lake-id=\"u871a6adf\" id=\"u871a6adf\">编写Mapper.xmi</span></li></ol><ol list=\"u2886ff25\" start=\"5\"><li fid=\"u8e5c9b77\" data-lake-id=\"u563516ac\" id=\"u563516ac\"><span data-lake-id=\"ue323919b\" id=\"ue323919b\">测试</span></li></ol><p data-lake-id=\"u55d0c2dd\" id=\"u55d0c2dd\"><br></p><h3 data-lake-id=\"c033efd7\" id=\"c033efd7\"><span data-lake-id=\"u4c21f80f\" id=\"u4c21f80f\">12.1、mybatis-spring-方式一</span></h3><p data-lake-id=\"u2d9a69ac\" id=\"u2d9a69ac\"><br></p><ol list=\"u0956f0cc\"><li fid=\"ua7155c0a\" data-lake-id=\"u16dfccd1\" id=\"u16dfccd1\"><span data-lake-id=\"uc15de510\" id=\"uc15de510\">编写数据源配置</span></li></ol><ol list=\"u720e3db3\" start=\"2\"><li fid=\"u516ef897\" data-lake-id=\"u1b5dce70\" id=\"u1b5dce70\"><span data-lake-id=\"ubf39c877\" id=\"ubf39c877\">sqISessionFactory</span></li></ol><ol list=\"u67903a02\" start=\"3\"><li fid=\"u4c57da53\" data-lake-id=\"u859a6edd\" id=\"u859a6edd\"><span data-lake-id=\"ubc82b5da\" id=\"ubc82b5da\">sqISessionTemplate（相当于sqISession）</span></li></ol><ol list=\"uec19818c\" start=\"4\"><li fid=\"ud2af8148\" data-lake-id=\"u463c3db1\" id=\"u463c3db1\"><span data-lake-id=\"u7ef7c57a\" id=\"u7ef7c57a\">需要给接口加实现类【new】</span></li></ol><ol list=\"u8e3de665\" start=\"5\"><li fid=\"ua1ff2703\" data-lake-id=\"uea16cade\" id=\"uea16cade\"><span data-lake-id=\"ud758d747\" id=\"ud758d747\">将自己写的实现类，注入到Spring中</span></li></ol><ol list=\"uc877140a\" start=\"6\"><li fid=\"u54b03a7d\" data-lake-id=\"u0f12afd6\" id=\"u0f12afd6\"><span data-lake-id=\"ub0424f58\" id=\"ub0424f58\">测试！</span></li></ol><p data-lake-id=\"u2be6a8e0\" id=\"u2be6a8e0\"><br></p><p data-lake-id=\"u944ab4a2\" id=\"u944ab4a2\"><span data-lake-id=\"u72330baa\" id=\"u72330baa\">先导入jar包</span></p><p data-lake-id=\"u061f948a\" id=\"u061f948a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cdependencies%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.aspectj%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Easpectjweaver%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.9.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-jdbc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-jdbc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E3.5.2%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis-spring%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E2.0.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Emysql%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emysql-connector-java%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E8.0.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.projectlombok%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Elombok%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.18.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%3C%2Fdependencies%3E%5Cn%5Ct%5Cn%3C!--%E5%9C%A8build%E4%B8%AD%E9%85%8D%E7%BD%AEresources%EF%BC%8C%E6%9D%A5%E9%98%B2%E6%AD%A2%E8%B5%84%E6%BA%90%E5%AF%BC%E5%87%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98--%3E%5Cn%3C!--%20Maven%E8%A7%A3%E5%86%B3%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%E9%97%AE%E9%A2%98%20--%3E%5Cn%3Cbuild%3E%5Cn%3Cresources%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fjava%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fresources%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%3C%2Fresources%3E%5Cn%3C%2Fbuild%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22515c2895%22%7D\"></card><p data-lake-id=\"ub05fc26b\" id=\"ub05fc26b\"><br></p><p data-lake-id=\"u68df0d60\" id=\"u68df0d60\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472386121-cbb94361-c6f6-47ba-868e-39521696a0a2.png%22%2C%22taskId%22%3A%22ude8d9f5a-d54e-4e62-b99f-e34a08fb5cd%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A363.5%2C%22height%22%3A536%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A184771%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A727%2C%22originHeight%22%3A1071%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22JUnit4%20src%20main%20java%20mapper%20UserMapperjava%20UserMapperxml%20UserMapperlmpljava%20pojo%20Userjava%20resource%20applicationcontextxml%20mybatis-config-xml%20X%20X%20spring-daoxml%20test%20ava%20MyTest6.java%20target%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A140.95464%2C%22y%22%3A9.535767%2C%22width%22%3A116.00528999999997%2C%22height%22%3A31.953319%2C%22text%22%3A%22JUnit4%22%7D%2C%7B%22x%22%3A138.8284%2C%22y%22%3A77.60363%2C%22width%22%3A52.91829000000001%2C%22height%22%3A22.88077%2C%22text%22%3A%22src%22%7D%2C%7B%22x%22%3A186.66151%2C%22y%22%3A137.04836%2C%22width%22%3A85.76989%2C%22height%22%3A24.008589999999998%2C%22text%22%3A%22main%22%7D%2C%7B%22x%22%3A234.9665%2C%22y%22%3A197.3491%2C%22width%22%3A70.39675%2C%22height%22%3A29.58710000000002%2C%22text%22%3A%22java%22%7D%2C%7B%22x%22%3A279.69052%2C%22y%22%3A251.04138%2C%22width%22%3A145.56178%2C%22height%22%3A39.4726%2C%22text%22%3A%22mapper%22%7D%2C%7B%22x%22%3A328.75824%2C%22y%22%3A307.977%2C%22width%22%3A304.65692%2C%22height%22%3A41.890900000000045%2C%22text%22%3A%22UserMapperjava%22%7D%2C%7B%22x%22%3A330.1675%2C%22y%22%3A366.1506%2C%22width%22%3A292.5962999999999%2C%22height%22%3A39.61743999999999%2C%22text%22%3A%22UserMapperxml%22%7D%2C%7B%22x%22%3A328.7785%2C%22y%22%3A425.6923%2C%22width%22%3A383.74850000000004%2C%22height%22%3A42.83883000000003%2C%22text%22%3A%22UserMapperlmpljava%22%7D%2C%7B%22x%22%3A280.76334%2C%22y%22%3A494.05753%2C%22width%22%3A84.95189999999997%2C%22height%22%3A36.33537000000007%2C%22text%22%3A%22pojo%22%7D%2C%7B%22x%22%3A330.26065%2C%22y%22%3A548.9807%2C%22width%22%3A160.45850000000002%2C%22height%22%3A37.95940000000007%2C%22text%22%3A%22Userjava%22%7D%2C%7B%22x%22%3A236.44887%2C%22y%22%3A616.7904%2C%22width%22%3A154.99813%2C%22height%22%3A24.452760000000012%2C%22text%22%3A%22resource%22%7D%2C%7B%22x%22%3A275.86917%2C%22y%22%3A651.8409%2C%22width%22%3A402.13088999999997%2C%22height%22%3A61.62424999999996%2C%22text%22%3A%22applicationcontextxml%22%7D%2C%7B%22x%22%3A281.6486%2C%22y%22%3A723.8571%2C%22width%22%3A332.0348%2C%22height%22%3A45.59230000000002%2C%22text%22%3A%22mybatis-config-xml%22%7D%2C%7B%22x%22%3A233.16339%2C%22y%22%3A730.99255%2C%22width%22%3A25.66955999999999%2C%22height%22%3A38.12514999999996%2C%22text%22%3A%22X%22%7D%2C%7B%22x%22%3A233.02489%2C%22y%22%3A787.10156%2C%22width%22%3A26.410809999999998%2C%22height%22%3A36.36829%2C%22text%22%3A%22X%22%7D%2C%7B%22x%22%3A280.99335%2C%22y%22%3A786.9997%2C%22width%22%3A269.24684999999994%2C%22height%22%3A45.20983000000001%2C%22text%22%3A%22spring-daoxml%22%7D%2C%7B%22x%22%3A184.48721%2C%22y%22%3A852.68787%2C%22width%22%3A68.94558999999998%2C%22height%22%3A27.940630000000056%2C%22text%22%3A%22test%22%7D%2C%7B%22x%22%3A234.12813%2C%22y%22%3A918.451%2C%22width%22%3A69.20753000000002%2C%22height%22%3A25.794059999999945%2C%22text%22%3A%22ava%22%7D%2C%7B%22x%22%3A279.90146%2C%22y%22%3A968.9707%2C%22width%22%3A231.63370000000003%2C%22height%22%3A36.46325999999999%2C%22text%22%3A%22MyTest6.java%22%7D%2C%7B%22x%22%3A135.5938%2C%22y%22%3A1031.6794%2C%22width%22%3A111.99032000000003%2C%22height%22%3A31.915899999999965%2C%22text%22%3A%22target%22%7D%5D%2C%22id%22%3A%22ud6ca78bf%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u237437d0\" id=\"u237437d0\"><br /></span><strong><span data-lake-id=\"ub479b7bb\" id=\"ub479b7bb\">编写顺序：</span></strong><span data-lake-id=\"uc570f053\" id=\"uc570f053\"><br /></span><strong><span data-lake-id=\"u5b4d6dee\" id=\"u5b4d6dee\">User -&gt; UserMapper -&gt; UserMapper.xml -&gt; spring-dao.xml -&gt; UserServiceImpl -&gt; applicationContext.xml -&gt; MyTest6</span></strong></p><p data-lake-id=\"u9c148210\" id=\"u9c148210\"><br></p><p data-lake-id=\"u52de6f30\" id=\"u52de6f30\"><strong><span data-lake-id=\"u6c0b0dad\" id=\"u6c0b0dad\">代码步骤：</span></strong></p><p data-lake-id=\"u6e3a10d6\" id=\"u6e3a10d6\"><br></p><p data-lake-id=\"u12d23304\" id=\"u12d23304\"><span data-lake-id=\"u5e43d4cc\" id=\"u5e43d4cc\">pojo实体类 User</span></p><p data-lake-id=\"u47228ed0\" id=\"u47228ed0\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnimport%20lombok.Data%3B%5Cn%40Data%5Cnpublic%20class%20User%20%7B%5Cn%5Ctprivate%20int%20id%3B%5Cn%5Ctprivate%20String%20name%3B%5Cn%5Ctprivate%20String%20pwd%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c2503de2%22%7D\"></card><p data-lake-id=\"u1108a48b\" id=\"u1108a48b\"><br></p><p data-lake-id=\"u43352972\" id=\"u43352972\"><span data-lake-id=\"u09fdf890\" id=\"u09fdf890\">mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml</span></p><p data-lake-id=\"u21aca6fb\" id=\"u21aca6fb\"><br></p><p data-lake-id=\"ubfe2740b\" id=\"ubfe2740b\"><span data-lake-id=\"u8053149c\" id=\"u8053149c\">接口UserMapper</span></p><p data-lake-id=\"ufc918148\" id=\"ufc918148\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20java.util.List%3B%5Cnimport%20pojo.User%3B%5Cnpublic%20interface%20UserMapper%20%7B%5Cn%5Ctpublic%20List%3CUser%3E%20getUser()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22710cfe9a%22%7D\"></card><p data-lake-id=\"u3e469b68\" id=\"u3e469b68\"><br></p><p data-lake-id=\"u85e53ddf\" id=\"u85e53ddf\"><span data-lake-id=\"u32e0cf37\" id=\"u32e0cf37\">UserMapperImpl</span></p><p data-lake-id=\"ua309aa78\" id=\"ua309aa78\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20java.util.List%3B%5Cnimport%20org.mybatis.spring.SqlSessionTemplate%3B%5Cnimport%20pojo.User%3B%5Cn%5Cnpublic%20class%20UserMapperImpl%20implements%20UserMapper%7B%5Cn%5Ct%5Cn%5Ct%2F%2F%E6%88%91%E4%BB%AC%E7%9A%84%E6%89%80%E6%9C%89%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%9C%A8%E5%8E%9F%E6%9D%A5%E9%83%BD%E4%BD%BF%E7%94%A8sqlSession%E6%9D%A5%E6%89%A7%E8%A1%8C%EF%BC%8C%E7%8E%B0%E5%9C%A8%E9%83%BD%E4%BD%BF%E7%94%A8SqlSessionTemplate%EF%BC%9B%5Cn%5Ctprivate%20SqlSessionTemplate%20sqlSessionTemplate%3B%5Cn%5Cn%5Ctpublic%20void%20setSqlSessionTemplate(SqlSessionTemplate%20sqlSessionTemplate)%20%7B%5Cn%5Ct%5Ctthis.sqlSessionTemplate%20%3D%20sqlSessionTemplate%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20List%3CUser%3E%20getUser()%20%7B%5Cn%5Ct%5CtUserMapper%20mapper%20%3D%20sqlSessionTemplate.getMapper(UserMapper.class)%3B%5Cn%5Ct%5Ctreturn%20mapper.getUser()%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2221821422%22%7D\"></card><p data-lake-id=\"u80607dc8\" id=\"u80607dc8\"><br></p><p data-lake-id=\"uf4e7fecc\" id=\"uf4e7fecc\"><span data-lake-id=\"u2b2924b4\" id=\"u2b2924b4\">UserMapper.xml （狂神给面子才留下来的）</span></p><p data-lake-id=\"u4d2c2927\" id=\"u4d2c2927\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20mapper%5Cn%20%20%20%20%20%20%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%20%20%20%20%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-mapper.dtd%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%5Cn%3C!--%20%E7%BB%91%E5%AE%9A%E6%8E%A5%E5%8F%A3%20--%3E%5Cn%3Cmapper%20namespace%3D%5C%22mapper.UserMapper%5C%22%3E%5Cn%5Ct%3Cselect%20id%3D%5C%22getUser%5C%22%20resultType%3D%5C%22pojo.User%5C%22%3E%5Cn%5Ct%5Ctselect%20*%20from%20mybatis.mybatis%5Cn%5Ct%3C%2Fselect%3E%5Cn%3C%2Fmapper%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2284ab8640%22%7D\"></card><p data-lake-id=\"ud7b0a465\" id=\"ud7b0a465\"><br></p><p data-lake-id=\"u47dfa548\" id=\"u47dfa548\"><span data-lake-id=\"ub75910a2\" id=\"ub75910a2\">resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml</span></p><p data-lake-id=\"udf64827f\" id=\"udf64827f\"><br></p><p data-lake-id=\"udecd50de\" id=\"udecd50de\"><span data-lake-id=\"u066d3394\" id=\"u066d3394\">mybatis-config.xml</span></p><p data-lake-id=\"u5d64248b\" id=\"u5d64248b\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20configuration%5Cn%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-config.dtd%5C%22%3E%5Cn%3Cconfiguration%3E%5Cn%5Ct%3C!--%E5%BC%80%E5%90%AF%E6%97%A5%E5%BF%97--%3E%5Cn%5Ct%3Csettings%3E%5Cn%5Ct%5Ct%3Csetting%20name%3D%5C%22logImpl%5C%22%20value%3D%5C%22STDOUT_LOGGING%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fsettings%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%AE%9E%E4%BD%93%E7%B1%BB%E8%B5%B7%E5%88%AB%E5%90%8D%20--%3E%5Cn%5Ct%3CtypeAliases%3E%20%5Cn%5Ct%5Ct%3Cpackage%20name%3D%5C%22pojo%5C%22%20%2F%3E%5Cn%5Ct%3C%2FtypeAliases%3E%5Cn%5Cn%3C%2Fconfiguration%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f44cf828%22%7D\"></card><p data-lake-id=\"uccef7c08\" id=\"uccef7c08\"><br></p><p data-lake-id=\"ub524bd68\" id=\"ub524bd68\"><span data-lake-id=\"u3471b722\" id=\"u3471b722\">spring-dao.xml</span></p><p data-lake-id=\"u906ec157\" id=\"u906ec157\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Ct%5Cn%5Ct%3C!--DataSource%3A%E4%BD%BF%E7%94%A8Spring%E7%9A%84%E6%95%B0%E5%B8%AE%E6%BA%90%E6%9B%BF%E6%8D%A2Mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%20%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E6%BA%90%EF%BC%9Ac3p0%E3%80%81dbcp%E3%80%81druid%20%5Cn%5Ct%5Ct%E8%BF%99%E4%BD%BF%E7%94%A8Spring%E6%8F%90%E4%BE%9B%E7%9A%84JDBC%3A%20org.springframework.jdbc.datasource%20--%3E%5Cn%5Ct%3C!--data%20source%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22datasource%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DriverManagerDataSource%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22driverClassName%5C%22%5Cn%5Ct%5Ct%5Ctvalue%3D%5C%22com.mysql.cj.jdbc.Driver%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22url%5C%22%20value%3D%5C%22jdbc%3Amysql%3A%2F%2F127.0.0.1%3A3306%2Fmybatis%3FuseSSL%3Dfalse%26amp%3BuseUnicode%3Dtrue%26amp%3BcharacterEncoding%3Dutf-8%26amp%3BserverTimezone%3DAsia%2FShanghai%5C%22%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--sqlSessionFactory--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSessionFactory%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionFactoryBean%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22dataSource%5C%22%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%91%E5%AE%9A%20mybatis%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22configLocation%5C%22%20value%3D%5C%22classpath%3Amybatis-config.xml%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22mapperLocations%5C%22%20value%3D%5C%22classpath%3Amapper%2F*.xml%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%5Ct%3C!--%20sqlSessionTemplate%20%E5%B0%B1%E6%98%AF%E4%B9%8B%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%EF%BC%9Asqlsession%20--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSession%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionTemplate%5C%22%3E%5Cn%20%20%20%20%5Ct%3C!--%20%E5%8F%AA%E8%83%BD%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5sqlSessionFactory%20%E5%8E%9F%E5%9B%A0%EF%BC%9A%E5%AE%83%E6%B2%A1%E6%9C%89set%E6%96%B9%E6%B3%95--%3E%5Ct%5Cn%20%20%20%20%20%20%20%20%3Cconstructor-arg%20index%3D%5C%220%5C%22%20ref%3D%5C%22sqlSessionFactory%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Ct%5Ct%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ee7bd000%22%7D\"></card><p data-lake-id=\"u5583a599\" id=\"u5583a599\"><br></p><p data-lake-id=\"u4d848222\" id=\"u4d848222\"><span data-lake-id=\"u53340215\" id=\"u53340215\">applicationContext.xml</span></p><p data-lake-id=\"ub45898ec\" id=\"ub45898ec\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%20%20%20%20%5Cn%5Ct%3C!--%20%E5%AF%BC%E5%85%A5spring-dao.xml%20--%3E%5Cn%5Ct%3Cimport%20resource%3D%5C%22spring-dao.xml%5C%22%2F%3E%5Cn%5Ct%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userMapper%5C%22%20class%3D%5C%22mapper.UserMapperImpl%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22sqlSessionTemplate%5C%22%20ref%3D%5C%22sqlSession%5C%22%3E%3C%2Fproperty%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2225b09536%22%7D\"></card><p data-lake-id=\"u318fe68a\" id=\"u318fe68a\"><br></p><p data-lake-id=\"udea25084\" id=\"udea25084\"><span data-lake-id=\"u6e3fd1e7\" id=\"u6e3fd1e7\">测试类</span></p><p data-lake-id=\"u73c0a404\" id=\"u73c0a404\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20mapper.UserMapper%3B%5Cnimport%20pojo.User%3B%5Cnpublic%20class%20MyTest6%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5CtUserMapper%20userMapper%20%3D%20(UserMapper)%20context.getBean(%5C%22userMapper%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctfor%20(User%20user%20%3A%20userMapper.getUser())%20%7B%5Cn%5Ct%5Ct%5CtSystem.out.println(user)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227c17c9c4%22%7D\"></card><p data-lake-id=\"u6761696d\" id=\"u6761696d\"><br></p><h3 data-lake-id=\"4c4395cd\" id=\"4c4395cd\"><span data-lake-id=\"u3cd91429\" id=\"u3cd91429\">12.2、mybatis-spring-方式二</span></h3><p data-lake-id=\"u2fa315e4\" id=\"u2fa315e4\"><br></p><p data-lake-id=\"u2fd42d91\" id=\"u2fd42d91\"><span data-lake-id=\"ud9f931be\" id=\"ud9f931be\">UserServiceImpl2</span></p><p data-lake-id=\"u918273fb\" id=\"u918273fb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20pojo.User%3B%5Cnimport%20org.apache.ibatis.session.SqlSession%3B%5Cnimport%20org.mybatis.spring.support.SqlSessionDaoSupport%3B%5Cnimport%20java.util.List%3B%5Cn%2F%2F%E7%BB%A7%E6%89%BFSqlSessionDaoSupport%20%E7%B1%BB%5Cnpublic%20class%20UserMapperImpl2%20extends%20SqlSessionDaoSupport%20implements%20UserMapper%20%7B%5Cn%20%20%20%20public%20List%3CUser%3E%20getUser()%20%7B%5Cn%20%20%20%20%20%20%20%20SqlSession%20sqlSession%20%3D%20getSqlSession()%3B%5Cn%20%20%20%20%20%20%20%20UserMapper%20mapper%20%3D%20sqlSession.getMapper(UserMapper.class)%3B%5Cn%20%20%20%20%20%20%20%20return%20mapper.getUser()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%88%96%E8%80%85%E4%B8%80%E5%8F%A5%E8%AF%9D%EF%BC%9Areturn%20getSqlSession().getMapper(UserMapper.class).getUser()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226c7fd6fa%22%7D\"></card><p data-lake-id=\"u101689e4\" id=\"u101689e4\"><br></p><p data-lake-id=\"u22e0b6d8\" id=\"u22e0b6d8\"><span data-lake-id=\"u883e8803\" id=\"u883e8803\">spring-dao.xml</span></p><p data-lake-id=\"ud66041cb\" id=\"ud66041cb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Ct%5Cn%5Ct%3C!--DataSource%3A%E4%BD%BF%E7%94%A8Spring%E7%9A%84%E6%95%B0%E5%B8%AE%E6%BA%90%E6%9B%BF%E6%8D%A2Mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%20c3p0%20dbcp%20druid%20%5Cn%5Ct%5Ct%E8%BF%99%E4%BD%BF%E7%94%A8Spring%E6%8F%90%E4%BE%9B%E7%9A%84JDBC%3A%20org.springframework.jdbc.datasource%20--%3E%5Cn%5Ct%3C!--data%20source%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22datasource%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DriverManagerDataSource%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22driverClassName%5C%22%5Cn%5Ct%5Ct%5Ctvalue%3D%5C%22com.mysql.cj.jdbc.Driver%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22url%5C%22%20value%3D%5C%22jdbc%3Amysql%3A%2F%2F127.0.0.1%3A3306%2Fmybatis%3FuseSSL%3Dfalse%26amp%3BuseUnicode%3Dtrue%26amp%3BcharacterEncoding%3Dutf-8%26amp%3BserverTimezone%3DAsia%2FShanghai%5C%22%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--sqlSessionFactory--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSessionFactory%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionFactoryBean%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22dataSource%5C%22%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%91%E5%AE%9A%20mybatis%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22configLocation%5C%22%20value%3D%5C%22classpath%3Amybatis-config.xml%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22mapperLocations%5C%22%20value%3D%5C%22classpath%3Amapper%2F*.xml%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%20%20%20%20%5Cn%5Ct%3C!--%20%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9ASqlSessionTemplate%20%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%86%99%E4%BA%86--%3E%5Cn%20%20%20%20%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228385de43%22%7D\"></card><p data-lake-id=\"uf55f5d3e\" id=\"uf55f5d3e\"><br></p><p data-lake-id=\"uaa1f6d47\" id=\"uaa1f6d47\"><span data-lake-id=\"udbe4826b\" id=\"udbe4826b\">applicationContext.xml</span></p><p data-lake-id=\"uc74849f1\" id=\"uc74849f1\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%5Ct%3Cimport%20resource%3D%5C%22spring-dao.xml%5C%22%20%2F%3E%5Cn%5Cn%5Ct%3C!--%20%E6%96%B9%E6%B3%95%E4%BA%8C%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22userMapper2%5C%22%20class%3D%5C%22mapper.UserMapperImpl2%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22sqlSessionFactory%5C%22%20ref%3D%5C%22sqlSessionFactory%5C%22%3E%3C%2Fproperty%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a58a760b%22%7D\"></card><p data-lake-id=\"ud8e19257\" id=\"ud8e19257\"><br></p><p data-lake-id=\"u9fdf273d\" id=\"u9fdf273d\"><span data-lake-id=\"u7a7ac4e4\" id=\"u7a7ac4e4\">测试</span></p><p data-lake-id=\"u8404b1cc\" id=\"u8404b1cc\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest6%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%5Ct%5CtUserMapper%20userMapper%20%3D%20(UserMapper)%20context.getBean(%5C%22userMapper2%5C%22)%3B%5Cn%5Ct%5Ctfor%20(User%20user%20%3A%20userMapper.getUser())%20%7B%5Cn%5Ct%5Ct%5CtSystem.out.println(user)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22383c3290%22%7D\"></card><p data-lake-id=\"u96bd4443\" id=\"u96bd4443\"><br></p><h2 data-lake-id=\"11e5c339\" id=\"11e5c339\"><span data-lake-id=\"u3280ce6e\" id=\"u3280ce6e\">13. 声明式事务</span></h2><p data-lake-id=\"u1d343e0e\" id=\"u1d343e0e\"><br></p><ul list=\"u87d55c56\"><li fid=\"u5a67e1c6\" data-lake-id=\"ue1d36dde\" id=\"ue1d36dde\"><span data-lake-id=\"uc5808135\" id=\"uc5808135\">把一组业务当成一个业务来做；要么都成功，要么都失败！</span></li></ul><ul list=\"uf50e2e24\"><li fid=\"ue92901ed\" data-lake-id=\"u8715cb7a\" id=\"u8715cb7a\"><span data-lake-id=\"ucdfe7754\" id=\"ucdfe7754\">事务在项目开发中，十分的重要，涉及到数据的一致性问题</span></li></ul><ul list=\"u4508c235\"><li fid=\"u5c9a5391\" data-lake-id=\"u61e488a6\" id=\"u61e488a6\"><span data-lake-id=\"u5cad19cf\" id=\"u5cad19cf\">确保完整性和一致性</span></li></ul><p data-lake-id=\"u918054df\" id=\"u918054df\"><br></p><p data-lake-id=\"uc151542c\" id=\"uc151542c\"><span data-lake-id=\"ufc688d20\" id=\"ufc688d20\">事务的ACID原则：<br /></span><span data-lake-id=\"uc9c85d48\" id=\"uc9c85d48\">1、原子性<br /></span><span data-lake-id=\"u394ea06f\" id=\"u394ea06f\">2、隔离性<br /></span><span data-lake-id=\"u6d77f032\" id=\"u6d77f032\">3、一致性<br /></span><span data-lake-id=\"uc82bc6dc\" id=\"uc82bc6dc\">4、持久性</span></p><p data-lake-id=\"u1e0b4b99\" id=\"u1e0b4b99\"><br></p><p data-lake-id=\"u9839876f\" id=\"u9839876f\"><span data-lake-id=\"u302ca5dd\" id=\"u302ca5dd\">ACID参考文章：</span><a href=\"https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html\" target=\"_blank\" data-lake-id=\"u0836a4dd\" id=\"u0836a4dd\"><span data-lake-id=\"u7716c34b\" id=\"u7716c34b\">https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html</span></a></p><p data-lake-id=\"u99fdcd27\" id=\"u99fdcd27\"><br></p><p data-lake-id=\"udb4f8812\" id=\"udb4f8812\"><span data-lake-id=\"u7916e4c1\" id=\"u7916e4c1\">Spring中的事务管理</span></p><p data-lake-id=\"u468b1b02\" id=\"u468b1b02\"><br></p><ul list=\"uad98b750\"><li fid=\"u200af9dd\" data-lake-id=\"uf8bd7b46\" id=\"uf8bd7b46\"><span data-lake-id=\"u8cb68d5b\" id=\"u8cb68d5b\">声明式事务：AOP</span></li></ul><ul list=\"u6f86a9c4\"><li fid=\"u46236fb2\" data-lake-id=\"ue3bd45df\" id=\"ue3bd45df\"><span data-lake-id=\"uc609be24\" id=\"uc609be24\">编程式事务：需要再代码中，进行事务管理</span></li></ul><p data-lake-id=\"u78ede138\" id=\"u78ede138\"><br></p><p data-lake-id=\"u5e3ef618\" id=\"u5e3ef618\"><strong><span data-lake-id=\"u9724d4ce\" id=\"u9724d4ce\">声明式事务</span></strong></p><p data-lake-id=\"ubb41dfc6\" id=\"ubb41dfc6\"><br></p><p data-lake-id=\"ue171bbba\" id=\"ue171bbba\"><span data-lake-id=\"u3e325502\" id=\"u3e325502\">先导入jar包</span></p><p data-lake-id=\"u8037c43a\" id=\"u8037c43a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cdependencies%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.aspectj%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Easpectjweaver%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.9.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-jdbc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-jdbc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E3.5.2%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis-spring%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E2.0.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Emysql%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emysql-connector-java%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E8.0.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.projectlombok%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Elombok%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.18.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%3C%2Fdependencies%3E%5Cn%5Ct%5Cn%3C!--%E5%9C%A8build%E4%B8%AD%E9%85%8D%E7%BD%AEresources%EF%BC%8C%E6%9D%A5%E9%98%B2%E6%AD%A2%E8%B5%84%E6%BA%90%E5%AF%BC%E5%87%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98--%3E%5Cn%3C!--%20Maven%E8%A7%A3%E5%86%B3%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%E9%97%AE%E9%A2%98%20--%3E%5Cn%3Cbuild%3E%5Cn%3Cresources%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fjava%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fresources%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%3C%2Fresources%3E%5Cn%3C%2Fbuild%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22515c2895-1%22%7D\"></card><p data-lake-id=\"u87006774\" id=\"u87006774\"><br></p><p data-lake-id=\"u83a02899\" id=\"u83a02899\"><strong><span data-lake-id=\"u675bc754\" id=\"u675bc754\">代码步骤：</span></strong></p><p data-lake-id=\"u381ebc45\" id=\"u381ebc45\"><br></p><p data-lake-id=\"ue9fe6cd4\" id=\"ue9fe6cd4\"><span data-lake-id=\"ue4516820\" id=\"ue4516820\">pojo实体类 User</span></p><p data-lake-id=\"uabfadc30\" id=\"uabfadc30\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnimport%20lombok.AllArgsConstructor%3B%5Cnimport%20lombok.Data%3B%5Cnimport%20lombok.NoArgsConstructor%3B%5Cn%5Cn%40Data%5Cn%40AllArgsConstructor%5Cn%40NoArgsConstructor%5Cnpublic%20class%20User%20%7B%5Cn%5Ctprivate%20int%20id%3B%5Cn%5Ctprivate%20String%20name%3B%5Cn%5Ctprivate%20String%20pwd%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f30c30b9%22%7D\"></card><p data-lake-id=\"uf04e84dc\" id=\"uf04e84dc\"><br></p><p data-lake-id=\"ua93dcb27\" id=\"ua93dcb27\"><span data-lake-id=\"ua40877e9\" id=\"ua40877e9\">mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml</span></p><p data-lake-id=\"uc456fd42\" id=\"uc456fd42\"><br></p><p data-lake-id=\"u9d185ef3\" id=\"u9d185ef3\"><span data-lake-id=\"u98be8081\" id=\"u98be8081\">接口UserMapper</span></p><p data-lake-id=\"u148d955a\" id=\"u148d955a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20java.util.List%3B%5Cnimport%20org.apache.ibatis.annotations.Param%3B%5Cnimport%20pojo.User%3B%5Cn%5Cnpublic%20interface%20UserMapper%20%7B%5Cn%5Ctpublic%20List%3CUser%3E%20getUser()%3B%5Cn%5Ct%5Cn%5Ctpublic%20int%20insertUser(User%20user)%3B%20%5Cn%5Ct%5Cn%5Ctpublic%20int%20delUser(%40Param(%5C%22id%5C%22)%20int%20id)%3B%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223f95a62f%22%7D\"></card><p data-lake-id=\"u5ec60dc9\" id=\"u5ec60dc9\"><br></p><p data-lake-id=\"u9067e490\" id=\"u9067e490\"><span data-lake-id=\"uba08cfa1\" id=\"uba08cfa1\">UserMapperImpl</span></p><p data-lake-id=\"u9717ccb9\" id=\"u9717ccb9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cn%5Cnimport%20pojo.User%3B%5Cnimport%20org.apache.ibatis.session.SqlSession%3B%5Cnimport%20org.mybatis.spring.support.SqlSessionDaoSupport%3B%5Cnimport%20java.util.List%3B%5Cn%5Cnpublic%20class%20UserMapperImpl%20extends%20SqlSessionDaoSupport%20implements%20UserMapper%20%7B%5Cn%20%20%20%20public%20List%3CUser%3E%20getUser()%20%7B%5Cn%20%20%20%20%5CtUser%20user%20%3D%20new%20User(5%2C%5C%22%E4%BD%A0%E5%A5%BD%5C%22%2C%5C%22ok%5C%22)%3B%5Cn%20%20%20%20%5CtinsertUser(user)%3B%5Cn%20%20%20%20%5CtdelUser(5)%3B%5Cn%20%20%20%20%20%20%20%20SqlSession%20sqlSession%20%3D%20getSqlSession()%3B%5Cn%20%20%20%20%20%20%20%20UserMapper%20mapper%20%3D%20sqlSession.getMapper(UserMapper.class)%3B%5Cn%20%20%20%20%20%20%20%20return%20mapper.getUser()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%88%96%E8%80%85return%20%20getSqlSession().getMapper(UserMapper.class).getUser()%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%2F%2F%E6%8F%92%E5%85%A5%5Cn%5Ctpublic%20int%20insertUser(User%20user)%20%7B%5Cn%5Ct%5Ctreturn%20getSqlSession().getMapper(UserMapper.class).insertUser(user)%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E5%88%A0%E9%99%A4%5Cn%5Ctpublic%20int%20delUser(int%20id)%20%7B%5Cn%5Ct%5Ctreturn%20getSqlSession().getMapper(UserMapper.class).delUser(id)%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222be76189%22%7D\"></card><p data-lake-id=\"u947ae9e9\" id=\"u947ae9e9\"><br></p><p data-lake-id=\"uf63f1b6a\" id=\"uf63f1b6a\"><span data-lake-id=\"u57bcce30\" id=\"u57bcce30\">UserMapper.xml</span></p><p data-lake-id=\"u0b2e8198\" id=\"u0b2e8198\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20mapper%5Cn%20%20%20%20%20%20%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%20%20%20%20%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-mapper.dtd%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%5Cn%3C!--%20%E7%BB%91%E5%AE%9A%E6%8E%A5%E5%8F%A3%20--%3E%5Cn%3Cmapper%20namespace%3D%5C%22mapper.UserMapper%5C%22%3E%5Cn%5Ct%3Cselect%20id%3D%5C%22getUser%5C%22%20resultType%3D%5C%22pojo.User%5C%22%3E%5Cn%5Ct%5Ctselect%20*%20from%20mybatis.mybatis%5Cn%5Ct%3C%2Fselect%3E%5Cn%5Ct%5Cn%5Ct%3Cinsert%20id%3D%5C%22insertUser%5C%22%20%20parameterType%3D%5C%22pojo.User%5C%22%20%3E%5Cn%5Ct%5Ctinsert%20into%20%20mybatis.mybatis%20(id%2Cname%2Cpwd)%20values%20(%23%7Bid%7D%2C%23%7Bname%7D%2C%23%7Bpwd%7D)%5Cn%5Ct%3C%2Finsert%3E%5Cn%5Ct%5Cn%5Ct%3Cdelete%20id%3D%5C%22delUser%5C%22%20parameterType%3D%5C%22_int%5C%22%3E%5Cn%5Ct%5CtdeleteAAAAA%20from%20mybatis.mybatis%20where%20id%20%3D%20%23%7Bid%7D%5Cn%5Ct%5Ct%3C!--%20deleteAAAAA%E6%98%AF%E6%95%85%E6%84%8F%E5%86%99%E9%94%99%E7%9A%84%20--%3E%5Cn%5Ct%3C%2Fdelete%3E%5Cn%5Cn%3C%2Fmapper%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229bb9b753%22%7D\"></card><p data-lake-id=\"u575b1a61\" id=\"u575b1a61\"><br></p><p data-lake-id=\"u0ecab490\" id=\"u0ecab490\"><span data-lake-id=\"u42b686aa\" id=\"u42b686aa\">resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml</span></p><p data-lake-id=\"u07817bd7\" id=\"u07817bd7\"><br></p><p data-lake-id=\"ub03b0667\" id=\"ub03b0667\"><span data-lake-id=\"uf34f164d\" id=\"uf34f164d\">mybatis-config.xml</span></p><p data-lake-id=\"ub1269210\" id=\"ub1269210\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20configuration%5Cn%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-config.dtd%5C%22%3E%5Cn%3C!--%20configuration%20--%3E%5Cn%3Cconfiguration%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%BC%80%E5%90%AF%E6%97%A5%E5%BF%97--%3E%5Cn%5Ct%3Csettings%3E%5Cn%5Ct%5Ct%3Csetting%20name%3D%5C%22logImpl%5C%22%20value%3D%5C%22STDOUT_LOGGING%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fsettings%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%AE%9E%E4%BD%93%E7%B1%BB%E8%B5%B7%E5%88%AB%E5%90%8D--%3E%5Cn%5Ct%3CtypeAliases%3E%20%5Cn%5Ct%5Ct%3Cpackage%20name%3D%5C%22pojo%5C%22%20%2F%3E%5Cn%5Ct%3C%2FtypeAliases%3E%5Cn%5Cn%3C%2Fconfiguration%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22cdcdd88b%22%7D\"></card><p data-lake-id=\"u5ca01f1a\" id=\"u5ca01f1a\"><br></p><p data-lake-id=\"u72a122da\" id=\"u72a122da\"><span data-lake-id=\"u34e1b86c\" id=\"u34e1b86c\">spring-dao.xml（已导入约束）</span></p><p data-lake-id=\"u4ec06027\" id=\"u4ec06027\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Atx%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Ftx%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Ftx%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Ftx%2Fspring-tx.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Ct%5Cn%5Ct%3C!--data%20source%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22datasource%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DriverManagerDataSource%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22driverClassName%5C%22%5Cn%5Ct%5Ct%5Ctvalue%3D%5C%22com.mysql.cj.jdbc.Driver%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22url%5C%22%20value%3D%5C%22jdbc%3Amysql%3A%2F%2F127.0.0.1%3A3306%2Fmybatis%3FuseSSL%3Dfalse%26amp%3BuseUnicode%3Dtrue%26amp%3BcharacterEncoding%3Dutf-8%26amp%3BserverTimezone%3DAsia%2FShanghai%5C%22%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--sqlSessionFactory--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSessionFactory%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionFactoryBean%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22dataSource%5C%22%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%91%E5%AE%9A%20mybatis%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22configLocation%5C%22%20value%3D%5C%22classpath%3Amybatis-config.xml%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22mapperLocations%5C%22%20value%3D%5C%22classpath%3Amapper%2F*.xml%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22transactionManager%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DataSourceTransactionManager%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cconstructor-arg%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%20%20%20%20%3C!--%E7%BB%93%E5%90%88aop%E5%AE%9E%E7%8E%B0%E4%BA%8B%E5%8A%A1%E7%BB%87%E5%85%A5--%3E%5Cn%20%20%20%20%3C!--%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%80%9A%E7%9F%A5%E7%B1%BB--%3E%5Cn%20%20%20%20%3Ctx%3Aadvice%20id%3D%5C%22txAdvice%5C%22%20transaction-manager%3D%5C%22transactionManager%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%99%E5%93%AA%E4%BA%9B%E6%96%B9%E6%B3%95%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1--%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E6%96%B0%E4%B8%9C%E8%A5%BF%EF%BC%9A%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1%E7%9A%84%E4%BC%A0%E6%92%AD%E7%89%B9%E6%80%A7%20propagation--%3E%5Cn%20%20%20%20%20%20%20%20%3Ctx%3Aattributes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22add%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22delete%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22update%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22query%5C%22%20read-only%3D%5C%22true%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20*%E5%8F%B7%E5%8C%85%E5%90%AB%E4%B8%8A%E9%9D%A24%E4%B8%AA%E6%96%B9%E6%B3%95%EF%BC%9A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22*%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%20--%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Ftx%3Aattributes%3E%5Cn%20%20%20%20%3C%2Ftx%3Aadvice%3E%5Cn%5Cn%20%20%20%20%3C!--%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1%E5%88%87%E5%85%A5--%3E%5Cn%20%20%20%20%3Caop%3Aconfig%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Apointcut%20id%3D%5C%22txpointcut%5C%22%20expression%3D%5C%22execution(*%20mapper.*.*(..))%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Aadvisor%20advice-ref%3D%5C%22txAdvice%5C%22%20pointcut-ref%3D%5C%22txpointcut%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Faop%3Aconfig%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226a43cf52%22%7D\"></card><p data-lake-id=\"u3e351949\" id=\"u3e351949\"><br></p><p data-lake-id=\"u28aa2b95\" id=\"u28aa2b95\"><span data-lake-id=\"u032b6242\" id=\"u032b6242\">applicationContext.xml</span></p><p data-lake-id=\"u1f0a4117\" id=\"u1f0a4117\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%5Ct%3Cimport%20resource%3D%5C%22spring-dao.xml%5C%22%20%2F%3E%5Cn%5Cn%5Ct%3Cbean%20id%3D%5C%22userMapper%5C%22%20class%3D%5C%22mapper.UserMapperImpl%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22sqlSessionFactory%5C%22%20ref%3D%5C%22sqlSessionFactory%5C%22%3E%3C%2Fproperty%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2207798d76%22%7D\"></card><p data-lake-id=\"u2ae86960\" id=\"u2ae86960\"><br></p><p data-lake-id=\"ue2461720\" id=\"ue2461720\"><span data-lake-id=\"u000f9e57\" id=\"u000f9e57\">测试类</span></p><p data-lake-id=\"u6ebc63da\" id=\"u6ebc63da\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cn%5Cnimport%20mapper.UserMapper%3Bimport%20pojo.User%3B%5Cnpublic%20class%20MyTest7%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5CtUserMapper%20userMapper%20%3D%20(UserMapper)%20context.getBean(%5C%22userMapper%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctfor%20(User%20user%20%3A%20userMapper.getUser())%20%7B%5Cn%5Ct%5Ct%5CtSystem.out.println(user)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ffb686ab%22%7D\"></card><p data-lake-id=\"uce4f6751\" id=\"uce4f6751\"><br></p><p data-lake-id=\"udf0c17f0\" id=\"udf0c17f0\"><strong><span data-lake-id=\"uf69b514c\" id=\"uf69b514c\">思考：</span></strong><span data-lake-id=\"u5d557038\" id=\"u5d557038\"><br /></span><span data-lake-id=\"ud1cfc61a\" id=\"ud1cfc61a\">为什么需要事务？</span></p><p data-lake-id=\"u50a7b44c\" id=\"u50a7b44c\"><br></p><ul list=\"u5f46a6c5\"><li fid=\"u9508eeb5\" data-lake-id=\"ua96f7901\" id=\"ua96f7901\"><span data-lake-id=\"u11a36f2c\" id=\"u11a36f2c\">如果不配置事务，可能存在数据提交不一致的情况下；</span></li></ul><ul list=\"u878ca60c\"><li fid=\"u84ae998e\" data-lake-id=\"u700c55eb\" id=\"u700c55eb\"><span data-lake-id=\"u999d652f\" id=\"u999d652f\">如果不在spring中去配置声明式事务，我们就需要在代码中手动配置事务！</span></li></ul><ul list=\"u7ca68645\"><li fid=\"u8f46f6fe\" data-lake-id=\"ua65f279c\" id=\"ua65f279c\"><span data-lake-id=\"ue5c4e280\" id=\"ue5c4e280\">事务在项目的开发中非常重要，涉及到数据的一致性和完整性问题！</span></li></ul>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"traditional\" /><meta name=\"viewport\" content=\"fixed\" /><p data-lake-id=\"u33c16e34\" id=\"u33c16e34\"><br></p><p data-lake-id=\"ufb3d753d\" id=\"ufb3d753d\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fjpeg%2F21990331%2F1625470123698-d2c29622-abbf-4042-b3a6-46d13f848425.jpeg%22%2C%22taskId%22%3A%22u06eb739c-b8a1-480f-bd25-9b74cdab4ad%22%2C%22clientId%22%3A%22u144c994e-9948-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A521%2C%22height%22%3A220%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22v2-c7d94fabd9e1251acb3bba73458e3813_720w.jpg%22%2C%22size%22%3A17036%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A780%2C%22originHeight%22%3A330%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Spring%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A265.53653%2C%22y%22%3A190.19623%2C%22width%22%3A274.84856999999994%2C%22height%22%3A105.43666999999999%2C%22text%22%3A%22Spring%22%7D%5D%2C%22id%22%3A%22u1a5ee6b2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><h1 data-lake-id=\"Spring5\" id=\"Spring5\"><span data-lake-id=\"ua0b380df\" id=\"ua0b380df\">Spring5</span></h1><p data-lake-id=\"u7a3f4cdc\" id=\"u7a3f4cdc\"><br></p><h2 data-lake-id=\"f127deba\" id=\"f127deba\"><span data-lake-id=\"u80377564\" id=\"u80377564\">1.、Spring</span></h2><p data-lake-id=\"u24695a25\" id=\"u24695a25\"><br></p><h3 data-lake-id=\"c5aa432b\" id=\"c5aa432b\"><span data-lake-id=\"ua22d7392\" id=\"ua22d7392\">1.1、简介</span></h3><p data-lake-id=\"ue9c56e8f\" id=\"ue9c56e8f\"><br></p><ul list=\"u6c79fc9b\"><li fid=\"u2c996d2f\" data-lake-id=\"ua461011b\" id=\"ua461011b\"><span data-lake-id=\"ufdebe353\" id=\"ufdebe353\"> Spring ——&gt; 春天，为开源软件带来了春天 </span></li></ul><ul list=\"ue7a2a9c8\"><li fid=\"u0e9d4ca6\" data-lake-id=\"ua39aa87d\" id=\"ua39aa87d\"><span data-lake-id=\"u98c29034\" id=\"u98c29034\"> 2002，首次推出了Spring框架的雏形：interface21框架！ </span></li></ul><ul list=\"u4b72fd39\"><li fid=\"u282b0646\" data-lake-id=\"uc13599e2\" id=\"uc13599e2\"><span data-lake-id=\"u1b009546\" id=\"u1b009546\"> Spring框架以interface21框架为基础，经过重新设计，并不断丰富其内涵，于2004年3月24日发布了1.0正式版 </span></li></ul><ul list=\"u9b77d412\"><li fid=\"ua056d2be\" data-lake-id=\"ucea16018\" id=\"ucea16018\"><span data-lake-id=\"u538ad0c4\" id=\"u538ad0c4\"> Spring的理念：使用现有的技术更加容易使用，本身是一个大杂烩，整合了现有的技术框架！ </span></li></ul><ul list=\"u8c56a3f4\"><li fid=\"u864681ef\" data-lake-id=\"ua2240493\" id=\"ua2240493\"><span data-lake-id=\"u260c3910\" id=\"u260c3910\"> SSH：Struct2 + Spring + Hibernate（全自动持久化框架）！ </span></li></ul><ul list=\"u43f9221b\"><li fid=\"u3ce3b97c\" data-lake-id=\"u2b4c7c1c\" id=\"u2b4c7c1c\"><span data-lake-id=\"u1b7cda56\" id=\"u1b7cda56\"> SSM：SpringMVC + Spring + MyBatis（半自动持久化框架，可自定义性质更强）！ </span></li></ul><p data-lake-id=\"ue7cdcc71\" id=\"ue7cdcc71\"><br></p><p data-lake-id=\"u287abb85\" id=\"u287abb85\"><span data-lake-id=\"u1801d778\" id=\"u1801d778\">spring官网： </span><a href=\"https://spring.io/projects/spring-framework#overview\" target=\"_blank\" data-lake-id=\"u7eb80bd0\" id=\"u7eb80bd0\"><span data-lake-id=\"uf1ea10ed\" id=\"uf1ea10ed\">https://spring.io/projects/spring-framework#overview</span></a></p><p data-lake-id=\"udbc9367c\" id=\"udbc9367c\"><br></p><p data-lake-id=\"ue74f454a\" id=\"ue74f454a\"><span data-lake-id=\"u9cc7fb8c\" id=\"u9cc7fb8c\">官方下载： </span><a href=\"https://repo.spring.io/release/org/springframework/spring/\" target=\"_blank\" data-lake-id=\"u7a0f605b\" id=\"u7a0f605b\"><span data-lake-id=\"ucf635b6e\" id=\"ucf635b6e\">https://repo.spring.io/release/org/springframework/spring/</span></a></p><p data-lake-id=\"u3660e164\" id=\"u3660e164\"><br></p><p data-lake-id=\"u60310c6a\" id=\"u60310c6a\"><span data-lake-id=\"u3da9a875\" id=\"u3da9a875\">GitHub： </span><a href=\"https://github.com/spring-projects/spring-framework\" target=\"_blank\" data-lake-id=\"u3abcade3\" id=\"u3abcade3\"><span data-lake-id=\"u5cb9504f\" id=\"u5cb9504f\">https://github.com/spring-projects/spring-framework</span></a></p><p data-lake-id=\"u9252018b\" id=\"u9252018b\"><br></p><p data-lake-id=\"u61be89d7\" id=\"u61be89d7\"><span data-lake-id=\"uf52ae21f\" id=\"uf52ae21f\">Spring Web MVC： </span><a href=\"https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE\" target=\"_blank\" data-lake-id=\"ufc15a678\" id=\"ufc15a678\"><span data-lake-id=\"u1b22d4bc\" id=\"u1b22d4bc\">spring-webmvc最新版</span></a></p><p data-lake-id=\"ua0199865\" id=\"ua0199865\"><br></p><p data-lake-id=\"ue0261212\" id=\"ue0261212\"><span data-lake-id=\"u216e4d29\" id=\"u216e4d29\">Spring Web MVC和Spring-JDBC的pom配置文件：</span></p><p data-lake-id=\"u72c0ee99\" id=\"u72c0ee99\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%5Cn%5Cn%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-jdbc%20--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Espring-jdbc%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226401a972%22%7D\"></card><p data-lake-id=\"u1dc608a6\" id=\"u1dc608a6\"><br></p><h3 data-lake-id=\"d0c5f72e\" id=\"d0c5f72e\"><span data-lake-id=\"ufccd504e\" id=\"ufccd504e\">1.2 优点</span></h3><p data-lake-id=\"uabd3ce6b\" id=\"uabd3ce6b\"><br></p><ul list=\"ua79f938d\"><li fid=\"u7646752d\" data-lake-id=\"u981b3a37\" id=\"u981b3a37\"><span data-lake-id=\"u062f73ac\" id=\"u062f73ac\">Spring是一个开源的免费的框架（容器）！</span></li></ul><ul list=\"u3f5f0ae0\"><li fid=\"u9865e3f3\" data-lake-id=\"u98b3c276\" id=\"u98b3c276\"><span data-lake-id=\"uc6f97b1d\" id=\"uc6f97b1d\">Spring是一个轻量级的、非入侵式的框架！</span></li></ul><ul list=\"u09b06c9d\"><li fid=\"uf9b23d31\" data-lake-id=\"uf0020816\" id=\"uf0020816\"><span data-lake-id=\"u06837721\" id=\"u06837721\">控制反转（IoC），面向切面编程（AOP）</span></li></ul><ul list=\"u61900a82\"><li fid=\"uee0592de\" data-lake-id=\"ucad3054b\" id=\"ucad3054b\"><span data-lake-id=\"ub2d510f8\" id=\"ub2d510f8\">支持事务的处理，对框架整合的支持！（几乎市面上所有热门框架都能整合进去）！</span></li></ul><p data-lake-id=\"u36050e5b\" id=\"u36050e5b\"><br></p><p data-lake-id=\"u10576bc1\" id=\"u10576bc1\"><span data-lake-id=\"u4368ba29\" id=\"u4368ba29\">=== 总结一句话：Spring就是一个轻量级的控制反转（IoC）和面向切面编程（AOP）的框架！ ===</span></p><p data-lake-id=\"u9bf4e53f\" id=\"u9bf4e53f\"><br></p><h3 data-lake-id=\"e97d5a26\" id=\"e97d5a26\"><span data-lake-id=\"ubf667994\" id=\"ubf667994\">1.3 组成</span></h3><p data-lake-id=\"u46e16bed\" id=\"u46e16bed\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471469101-9ac80fb7-a32a-41fa-8ed3-85dc36791cd4.png%22%2C%22taskId%22%3A%22ufd3f5eae-1736-41c9-8255-72f6add5160%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A724.5%2C%22height%22%3A375%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A270746%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1449%2C%22originHeight%22%3A750%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22SpringORM%20SpringWeb%20Hibeinatesupport%20WebApplicaboncontext%20IBatssupport%20Mutipartresolver%20JDOsupport%20Webutnties%20SpringWeb%20MVC%20SpringAOP%20WebMVc%20Source-level%20Framework%20SpringContext%20metadata%20WebVhewts%20AOPinfrastructure%20Applicationcontext%20JSPNelocity%20SpringDAO%20UIsupport%20PDFExport%20Transactioninfrastructure%20Validation%20JOBCsupport%20JNDLEJBsuPportand%20DAOsupport%20remodeling%20MaiT%20SpringCore%20Supportingutites%20Beancontainer%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A426.17523%2C%22y%22%3A58.533268%2C%22width%22%3A185.86164000000002%2C%22height%22%3A35.672202000000006%2C%22text%22%3A%22SpringORM%22%7D%2C%7B%22x%22%3A848.1181%2C%22y%22%3A60.62646%2C%22width%22%3A176.81959999999992%2C%22height%22%3A35.02161%2C%22text%22%3A%22SpringWeb%22%7D%2C%7B%22x%22%3A413.74402%2C%22y%22%3A93.52601%2C%22width%22%3A214.16174%2C%22height%22%3A29.035110000000003%2C%22text%22%3A%22Hibeinatesupport%22%7D%2C%7B%22x%22%3A801.3495%2C%22y%22%3A95.38029%2C%22width%22%3A275.8605%2C%22height%22%3A26.751710000000003%2C%22text%22%3A%22WebApplicaboncontext%22%7D%2C%7B%22x%22%3A441.20627%2C%22y%22%3A122.615555%2C%22width%22%3A157.91689999999994%2C%22height%22%3A26.658344999999997%2C%22text%22%3A%22IBatssupport%22%7D%2C%7B%22x%22%3A839.2514%2C%22y%22%3A125.29521%2C%22width%22%3A197.05630000000008%2C%22height%22%3A23.578990000000005%2C%22text%22%3A%22Mutipartresolver%22%7D%2C%7B%22x%22%3A446.40128%2C%22y%22%3A150.06378%2C%22width%22%3A148.43472000000003%2C%22height%22%3A27.90813%2C%22text%22%3A%22JDOsupport%22%7D%2C%7B%22x%22%3A871.5946%2C%22y%22%3A152.5864%2C%22width%22%3A133.4683%2C%22height%22%3A24.034250000000014%2C%22text%22%3A%22Webutnties%22%7D%2C%7B%22x%22%3A1214.456%2C%22y%22%3A151.59898%2C%22width%22%3A176.365%2C%22height%22%3A40.35192999999998%2C%22text%22%3A%22SpringWeb%22%7D%2C%7B%22x%22%3A1265.9646%2C%22y%22%3A190.05911%2C%22width%22%3A72.69460000000004%2C%22height%22%3A31.008700000000005%2C%22text%22%3A%22MVC%22%7D%2C%7B%22x%22%3A59.323925%2C%22y%22%3A208.65463%2C%22width%22%3A178.201325%2C%22height%22%3A30.969809999999995%2C%22text%22%3A%22SpringAOP%22%7D%2C%7B%22x%22%3A1233.9358%2C%22y%22%3A222.68703%2C%22width%22%3A125.94150000000013%2C%22height%22%3A26.992549999999994%2C%22text%22%3A%22WebMVc%22%7D%2C%7B%22x%22%3A69.68365%2C%22y%22%3A243.30603%2C%22width%22%3A151.56598%2C%22height%22%3A23.75503999999998%2C%22text%22%3A%22Source-level%22%7D%2C%7B%22x%22%3A1233.4515%2C%22y%22%3A253.95412%2C%22width%22%3A134.82180000000017%2C%22height%22%3A24.462109999999996%2C%22text%22%3A%22Framework%22%7D%2C%7B%22x%22%3A825.32025%2C%22y%22%3A272.11795%2C%22width%22%3A225.59015%2C%22height%22%3A30.379790000000014%2C%22text%22%3A%22SpringContext%22%7D%2C%7B%22x%22%3A90.49343%2C%22y%22%3A273.21066%2C%22width%22%3A111.76467000000001%2C%22height%22%3A22.00781999999998%2C%22text%22%3A%22metadata%22%7D%2C%7B%22x%22%3A1233.7002%2C%22y%22%3A282.59885%2C%22width%22%3A132.4752000000001%2C%22height%22%3A23.70757999999995%2C%22text%22%3A%22WebVhewts%22%7D%2C%7B%22x%22%3A41.478107%2C%22y%22%3A299.95532%2C%22width%22%3A214.040313%2C%22height%22%3A24.079780000000028%2C%22text%22%3A%22AOPinfrastructure%22%7D%2C%7B%22x%22%3A827.75085%2C%22y%22%3A303.24036%2C%22width%22%3A220.94394999999997%2C%22height%22%3A29.057709999999986%2C%22text%22%3A%22Applicationcontext%22%7D%2C%7B%22x%22%3A1229.8146%2C%22y%22%3A311.42566%2C%22width%22%3A143.50130000000013%2C%22height%22%3A24.747799999999984%2C%22text%22%3A%22JSPNelocity%22%7D%2C%7B%22x%22%3A428.6438%2C%22y%22%3A313.7525%2C%22width%22%3A178.83769999999998%2C%22height%22%3A31.690249999999992%2C%22text%22%3A%22SpringDAO%22%7D%2C%7B%22x%22%3A877.7851%2C%22y%22%3A334.17505%2C%22width%22%3A121.42859999999996%2C%22height%22%3A24.900269999999978%2C%22text%22%3A%22UIsupport%22%7D%2C%7B%22x%22%3A1233.7664%2C%22y%22%3A339.59128%2C%22width%22%3A138.01160000000004%2C%22height%22%3A25.74892%2C%22text%22%3A%22PDFExport%22%7D%2C%7B%22x%22%3A371.285%2C%22y%22%3A347.44327%2C%22width%22%3A296.14579999999995%2C%22height%22%3A26.15325999999999%2C%22text%22%3A%22Transactioninfrastructure%22%7D%2C%7B%22x%22%3A877.29004%2C%22y%22%3A359.9231%2C%22width%22%3A116.28856000000007%2C%22height%22%3A24.59340000000003%2C%22text%22%3A%22Validation%22%7D%2C%7B%22x%22%3A439.21976%2C%22y%22%3A375.47882%2C%22width%22%3A164.61049999999994%2C%22height%22%3A26.363580000000013%2C%22text%22%3A%22JOBCsupport%22%7D%2C%7B%22x%22%3A803.41595%2C%22y%22%3A388.12006%2C%22width%22%3A263.59444999999994%2C%22height%22%3A27.352689999999996%2C%22text%22%3A%22JNDLEJBsuPportand%22%7D%2C%7B%22x%22%3A443.54462%2C%22y%22%3A403.69022%2C%22width%22%3A153.72253%2C%22height%22%3A25.927759999999978%2C%22text%22%3A%22DAOsupport%22%7D%2C%7B%22x%22%3A871.9811%2C%22y%22%3A420.83722%2C%22width%22%3A132.04563000000007%2C%22height%22%3A25.332519999999988%2C%22text%22%3A%22remodeling%22%7D%2C%7B%22x%22%3A912.3317%2C%22y%22%3A448.9298%2C%22width%22%3A50.76440000000002%2C%22height%22%3A21.432799999999986%2C%22text%22%3A%22MaiT%22%7D%2C%7B%22x%22%3A623.3431%2C%22y%22%3A598.67175%2C%22width%22%3A183.95535999999993%2C%22height%22%3A34.75562000000002%2C%22text%22%3A%22SpringCore%22%7D%2C%7B%22x%22%3A613.23224%2C%22y%22%3A632.4647%2C%22width%22%3A208.26695999999993%2C%22height%22%3A27.086400000000026%2C%22text%22%3A%22Supportingutites%22%7D%2C%7B%22x%22%3A628.8268%2C%22y%22%3A662.72815%2C%22width%22%3A177.50955999999996%2C%22height%22%3A24.34254999999996%2C%22text%22%3A%22Beancontainer%22%7D%5D%2C%22id%22%3A%22u553607f9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u4cf5fa60\" id=\"u4cf5fa60\"><br></p><p data-lake-id=\"u4583f367\" id=\"u4583f367\"><br></p><h3 data-lake-id=\"6b590df3\" id=\"6b590df3\"><span data-lake-id=\"u56133d26\" id=\"u56133d26\">1.4、扩展</span></h3><p data-lake-id=\"u74e4f1e9\" id=\"u74e4f1e9\"><br></p><p data-lake-id=\"u9d88e110\" id=\"u9d88e110\"><span data-lake-id=\"u9d012251\" id=\"u9d012251\">现代化的java开发 -&gt; 基于Spring的开发！</span></p><p data-lake-id=\"ufd04242b\" id=\"ufd04242b\"><br></p><p data-lake-id=\"u09cb4f7a\" id=\"u09cb4f7a\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471489413-df72e28a-2468-4e34-9a71-1fb0436b433f.png%22%2C%22taskId%22%3A%22u4176e656-ae09-409b-8999-5ad3ed67e44%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A722.5%2C%22height%22%3A284%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A664695%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1445%2C%22originHeight%22%3A567%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Spring%3Athesourceformodernjava%20SpringCLoud%20SpringCloud%20SpringBoot%20DataFIOw%20copnect%20Build%20doordinate%20YourApp%20Anything%20Eveuthing%20Anything%20%E8%BF%9E%E6%8E%A5%E4%B8%80%E5%88%87%20%E6%9E%84%E5%BB%BA%E4%B8%80%E5%88%87%20%E5%8D%8F%E8%B0%83%E4%B8%80%E5%88%87%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A269.4185%2C%22y%22%3A5.032746%2C%22width%22%3A934.9100000000001%2C%22height%22%3A59.49606399999999%2C%22text%22%3A%22Spring%3Athesourceformodernjava%22%7D%2C%7B%22x%22%3A1129.4359%2C%22y%22%3A263.0722%2C%22width%22%3A140.75670000000014%2C%22height%22%3A22.771860000000004%2C%22text%22%3A%22SpringCLoud%22%7D%2C%7B%22x%22%3A826.3018%2C%22y%22%3A274.39346%2C%22width%22%3A142.35340000000008%2C%22height%22%3A26.56747999999999%2C%22text%22%3A%22SpringCloud%22%7D%2C%7B%22x%22%3A519.40625%2C%22y%22%3A276.51416%2C%22width%22%3A131.32208000000003%2C%22height%22%3A22.46035999999998%2C%22text%22%3A%22SpringBoot%22%7D%2C%7B%22x%22%3A1154.8451%2C%22y%22%3A287.47678%2C%22width%22%3A108.27199999999993%2C%22height%22%3A18.707519999999988%2C%22text%22%3A%22DataFIOw%22%7D%2C%7B%22x%22%3A1133.8859%2C%22y%22%3A358.43057%2C%22width%22%3A127.4647%2C%22height%22%3A30.309529999999995%2C%22text%22%3A%22copnect%22%7D%2C%7B%22x%22%3A544.89197%2C%22y%22%3A361.1134%2C%22width%22%3A75.22906%2C%22height%22%3A23.70240000000001%2C%22text%22%3A%22Build%22%7D%2C%7B%22x%22%3A820.2732%2C%22y%22%3A365.28006%2C%22width%22%3A147.28124000000003%2C%22height%22%3A23.438379999999995%2C%22text%22%3A%22doordinate%22%7D%2C%7B%22x%22%3A48.91972%2C%22y%22%3A388.21567%2C%22width%22%3A140.82616000000002%2C%22height%22%3A32.575350000000014%2C%22text%22%3A%22YourApp%22%7D%2C%7B%22x%22%3A822.54266%2C%22y%22%3A390.14133%2C%22width%22%3A113.98139000000003%2C%22height%22%3A28.299669999999992%2C%22text%22%3A%22Anything%22%7D%2C%7B%22x%22%3A1108.9899%2C%22y%22%3A392.04575%2C%22width%22%3A149.0864999999999%2C%22height%22%3A28.874630000000025%2C%22text%22%3A%22Eveuthing%22%7D%2C%7B%22x%22%3A501.46017%2C%22y%22%3A393.61267%2C%22width%22%3A126.36728%2C%22height%22%3A25.28961000000004%2C%22text%22%3A%22Anything%22%7D%2C%7B%22x%22%3A1072.255%2C%22y%22%3A501.87784%2C%22width%22%3A178.76989999999978%2C%22height%22%3A43.56456000000003%2C%22text%22%3A%22%E8%BF%9E%E6%8E%A5%E4%B8%80%E5%88%87%22%7D%2C%7B%22x%22%3A417.0879%2C%22y%22%3A506.3205%2C%22width%22%3A173.9878%2C%22height%22%3A44.71769999999998%2C%22text%22%3A%22%E6%9E%84%E5%BB%BA%E4%B8%80%E5%88%87%22%7D%2C%7B%22x%22%3A747.9592%2C%22y%22%3A509.39124%2C%22width%22%3A171.92849999999999%2C%22height%22%3A42.11809999999997%2C%22text%22%3A%22%E5%8D%8F%E8%B0%83%E4%B8%80%E5%88%87%22%7D%5D%2C%22id%22%3A%22u0f064c2e%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"ucafefa7c\" id=\"ucafefa7c\"><br></p><ul list=\"u7f3b7504\"><li fid=\"u7ab961ee\" data-lake-id=\"u64c8715f\" id=\"u64c8715f\"><span data-lake-id=\"u166d45ef\" id=\"u166d45ef\">Spring Boot </span></li></ul><ul list=\"u8fe2f94f\" data-lake-indent=\"1\"><li fid=\"u848a0f66\" data-lake-id=\"u8628b658\" id=\"u8628b658\"><span data-lake-id=\"u4323a4ff\" id=\"u4323a4ff\">一个快速开发的脚手架</span></li></ul><ul list=\"u92c38df8\" data-lake-indent=\"1\"><li fid=\"u91bae913\" data-lake-id=\"u54aebf22\" id=\"u54aebf22\"><span data-lake-id=\"u71107082\" id=\"u71107082\">基于SpringBoot可以快速开发单个微服务</span></li></ul><ul list=\"u1e0629ce\" data-lake-indent=\"1\"><li fid=\"u4424dd6d\" data-lake-id=\"u8c683569\" id=\"u8c683569\"><span data-lake-id=\"u4820cb8b\" id=\"u4820cb8b\">约定大于配置！</span></li></ul><p data-lake-id=\"uec34c5f9\" id=\"uec34c5f9\"><span data-lake-id=\"u803705fd\" id=\"u803705fd\"> </span></p><ul list=\"uded17758\"><li fid=\"u45af0d91\" data-lake-id=\"u971324ce\" id=\"u971324ce\"><span data-lake-id=\"uf4be3951\" id=\"uf4be3951\">Spring Cloud </span></li></ul><ul list=\"u29f6f587\" data-lake-indent=\"1\"><li fid=\"u0ffe701a\" data-lake-id=\"u43127e2f\" id=\"u43127e2f\"><span data-lake-id=\"u79fe262a\" id=\"u79fe262a\">SpringCloud是基于SpringBoot实现的！</span></li></ul><p data-lake-id=\"uf2d1f0a2\" id=\"uf2d1f0a2\"><span data-lake-id=\"u188127b3\" id=\"u188127b3\"> </span></p><p data-lake-id=\"u02c9a514\" id=\"u02c9a514\"><span data-lake-id=\"udfcd8c16\" id=\"udfcd8c16\">因为现在大多数公司都在使用SpringBoot进行快速开发，学习SpringBoot的前提，需要完全掌握Spring及SpringMVC！承上启下的作用！</span></p><p data-lake-id=\"u5f26eb16\" id=\"u5f26eb16\"><br></p><h2 data-lake-id=\"0e8f9773\" id=\"0e8f9773\"><span data-lake-id=\"u43e90139\" id=\"u43e90139\">2、IoC（控制反转）理论推导</span></h2><p data-lake-id=\"u9831bb98\" id=\"u9831bb98\"><br></p><p data-lake-id=\"u8cadbcf0\" id=\"u8cadbcf0\"><strong><span data-lake-id=\"uaa3c2874\" id=\"uaa3c2874\">传统</span></strong><span data-lake-id=\"uf29ff64b\" id=\"uf29ff64b\">的调用</span></p><p data-lake-id=\"ue3d472b9\" id=\"ue3d472b9\"><br></p><ol list=\"uc4ccb1e9\"><li fid=\"uadb9cb3a\" data-lake-id=\"ucf78816b\" id=\"ucf78816b\"><span data-lake-id=\"u786d7e02\" id=\"u786d7e02\"> UserDao </span><span data-lake-id=\"u0a6d20b1\" id=\"u0a6d20b1\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20dao%3B%5Cnpublic%20interface%20UserDao%20%7B%5Cn%5Ctvoid%20getUser()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224994d2fd%22%7D\"></card><ol list=\"uc01a9ea5\" start=\"2\"><li fid=\"u9d32c838\" data-lake-id=\"u2b0499c0\" id=\"u2b0499c0\"><span data-lake-id=\"ucaa6d6f2\" id=\"ucaa6d6f2\"> UserDaoImp </span><span data-lake-id=\"u1ea8717d\" id=\"u1ea8717d\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20dao%3B%5Cnpublic%20class%20UserDaoImpl%20implements%20UserDao%7B%5Cn%5Ctpublic%20void%20getUser()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E9%BB%98%E8%AE%A4%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%5C%22)%3B%5Ct%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f4fda1ac%22%7D\"></card><ol list=\"udcff6a72\" start=\"3\"><li fid=\"u68d681b8\" data-lake-id=\"ud5270d29\" id=\"ud5270d29\"><span data-lake-id=\"u3b01072c\" id=\"u3b01072c\"> UserSevice </span><span data-lake-id=\"u74435c26\" id=\"u74435c26\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20Service%3B%5Cnpublic%20interface%20UserService%20%7B%5Cn%5Ctvoid%20getUser()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fc565eda%22%7D\"></card><ol list=\"ud86fee3d\" start=\"4\"><li fid=\"ucbceaa24\" data-lake-id=\"ub8802b83\" id=\"ub8802b83\"><span data-lake-id=\"u35163671\" id=\"u35163671\"> UserServiceImp </span><span data-lake-id=\"u3cfbf240\" id=\"u3cfbf240\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20Service%3B%5Cnimport%20dao.UserDao%3B%5Cnimport%20dao.UserDaoImpl%3B%5Cn%5Cnpublic%20class%20UserServiceImpl%20implements%20UserService%7B%5Cn%5Ct%5CtUserDao%20userDao%20%3D%20new%20UserDaoImpl()%3B%5Ct%5Ct%5Cn%5Ct%5Ctpublic%20void%20getUser()%7B%5Cn%5Ct%5Ct%5CtuserDao.getUser()%3B%5Cn%5Ct%5Ct%7D%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ea2a62b8%22%7D\"></card><p data-lake-id=\"u7b766b9b\" id=\"u7b766b9b\"><br></p><p data-lake-id=\"ubc7873d2\" id=\"ubc7873d2\"><span data-lake-id=\"u5fa7d274\" id=\"u5fa7d274\">测试</span></p><p data-lake-id=\"ubfe9bad9\" id=\"ubfe9bad9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle0%3B%5Cnimport%20Service.UserService%3B%5Cnimport%20Service.UserServiceImpl%3B%5Cn%5Cnpublic%20class%20MyTest0%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5Ct%2F%2F%20%E7%94%A8%E6%88%B7%E5%AE%9E%E9%99%85%E8%B0%83%E7%94%A8%E7%9A%84%E6%98%AF%E4%B8%9A%E5%8A%A1%E5%B1%82%EF%BC%8Cdao%E5%B1%82%E4%BB%96%E4%BB%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E6%8E%A5%E8%A7%A6%5Cn%5Ct%5CtUserService%20userService%20%3D%20new%20UserServiceImpl()%3B%5Cn%5Ct%5CtuserService.getUser()%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f7186df3%22%7D\"></card><p data-lake-id=\"u1d56349f\" id=\"u1d56349f\"><br></p><p data-lake-id=\"u04ca42fa\" id=\"u04ca42fa\"><span data-lake-id=\"u9a183737\" id=\"u9a183737\">在我们之前的业务中，用户的需求可能会影响我们原来的代码，我们需要根据用户的需求去修改原代码！如果程序代码量十分大，修改一次的成本代价十分昂贵！</span></p><p data-lake-id=\"ua83cc58b\" id=\"ua83cc58b\"><br></p><p data-lake-id=\"u901a4bcb\" id=\"u901a4bcb\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471525605-dfe1b994-8532-43a8-8fd3-c810b4a9ad52.png%22%2C%22taskId%22%3A%22uf1e21627-30d9-4320-8487-04c4391dad0%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A443.5%2C%22height%22%3A547%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A114582%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A887%2C%22originHeight%22%3A1094%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%94%A8%E6%88%B7%20%E4%B8%9A%E5%8A%A1%E5%B1%82%20(%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%A8%8B%E5%BA%8F%E5%91%98%2C%E7%A8%8B%E5%BA%8F%20%E8%A6%81%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%20oracle%20mysql%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A411.0588%2C%22y%22%3A153.71645%2C%22width%22%3A73.56016%2C%22height%22%3A41.33744999999999%2C%22text%22%3A%22%E7%94%A8%E6%88%B7%22%7D%2C%7B%22x%22%3A391.52594%2C%22y%22%3A470.444%2C%22width%22%3A111.64618000000002%2C%22height%22%3A43.0686%2C%22text%22%3A%22%E4%B8%9A%E5%8A%A1%E5%B1%82%22%7D%2C%7B%22x%22%3A259.84073%2C%22y%22%3A508.37878%2C%22width%22%3A388.36427000000003%2C%22height%22%3A40.42687999999998%2C%22text%22%3A%22(%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%A8%8B%E5%BA%8F%E5%91%98%2C%E7%A8%8B%E5%BA%8F%22%7D%2C%7B%22x%22%3A338.26318%2C%22y%22%3A544.83453%2C%22width%22%3A201.08682000000005%2C%22height%22%3A35.898930000000064%2C%22text%22%3A%22%E8%A6%81%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%22%7D%2C%7B%22x%22%3A395.21524%2C%22y%22%3A965.3042%2C%22width%22%3A103.60206%2C%22height%22%3A26.45150000000001%2C%22text%22%3A%22oracle%22%7D%2C%7B%22x%22%3A61.71592%2C%22y%22%3A965.1763%2C%22width%22%3A100.38973%2C%22height%22%3A28.695040000000063%2C%22text%22%3A%22mysql%22%7D%5D%2C%22id%22%3A%22u64f67cf9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u041e3e67\" id=\"u041e3e67\"><br /></span><strong><span data-lake-id=\"u94943a0d\" id=\"u94943a0d\">改良：</span></strong><span data-lake-id=\"ud4e370bc\" id=\"ud4e370bc\">我们使用一个Set接口实现。已经发生了革命性的变化！</span></p><p data-lake-id=\"u91035894\" id=\"u91035894\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E5%9C%A8Service%E5%B1%82%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB(UserServiceImpl)%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AASet()%E6%96%B9%E6%B3%95%5Cn%2F%2F%E5%88%A9%E7%94%A8set%E5%8A%A8%E6%80%81%E5%AE%9E%E7%8E%B0%E5%80%BC%E7%9A%84%E6%B3%A8%E5%85%A5%EF%BC%81%5Cn%2F%2FDAO%E5%B1%82%E5%B9%B6%E4%B8%8D%E5%86%99%E6%AD%BB%E5%9B%BA%E5%AE%9A%E8%B0%83%E7%94%A8%E5%93%AA%E4%B8%80%E4%B8%AAUserDao%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%5Cn%2F%2F%E8%80%8C%E6%98%AF%E9%80%9A%E8%BF%87Service%E5%B1%82%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%E8%AE%BE%E7%BD%AE%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%81%5Cnprivate%20UserDao%20userDao%3B%5Cnpublic%20void%20setUserDao(UserDao%20userDao)%7B%5Cn%20%20%20%20this.userDao%20%3D%20userDao%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2216e3de66%22%7D\"></card><p data-lake-id=\"uffc45f64\" id=\"uffc45f64\"><br></p><p data-lake-id=\"u5f5d7b15\" id=\"u5f5d7b15\"><span data-lake-id=\"u3223a7cf\" id=\"u3223a7cf\">set() 方法实际上是动态改变了 UserDao userDao 的 初始化部分（</span><strong><span data-lake-id=\"ubbe0540d\" id=\"ubbe0540d\">new UserDaoImpl()</span></strong><span data-lake-id=\"u330507d0\" id=\"u330507d0\">）</span></p><p data-lake-id=\"ufefa9a6d\" id=\"ufefa9a6d\"><br></p><p data-lake-id=\"u92c63b67\" id=\"u92c63b67\"><span data-lake-id=\"udec86c57\" id=\"udec86c57\">测试中加上</span></p><p data-lake-id=\"u23e40e40\" id=\"u23e40e40\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22((UserServiceImpl)userService).setUserDao(new%20UserDaoImpl())%3B%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22510ae50f%22%7D\"></card><p data-lake-id=\"ua3f7e65a\" id=\"ua3f7e65a\"><br></p><ul list=\"u775af23e\"><li fid=\"ude1a44f1\" data-lake-id=\"u6a0f65c4\" id=\"u6a0f65c4\"><span data-lake-id=\"u61218cac\" id=\"u61218cac\">之前，程序是主动创建对象！</span><strong><span data-lake-id=\"u9f3a64cb\" id=\"u9f3a64cb\">控制权在程序猿手上</span></strong><span data-lake-id=\"u5254f044\" id=\"u5254f044\">！</span></li></ul><ul list=\"u540a6c63\"><li fid=\"u2ef1fc9e\" data-lake-id=\"u81268f8a\" id=\"u81268f8a\"><span data-lake-id=\"uef6e3b01\" id=\"uef6e3b01\">使用了set注入后，程序不再具有主动性，而是变成了被动的接受对象！（</span><strong><span data-lake-id=\"ue28272fa\" id=\"ue28272fa\">主动权在客户手上</span></strong><span data-lake-id=\"uc537c9f0\" id=\"uc537c9f0\">）</span></li></ul><p data-lake-id=\"ue95713c3\" id=\"ue95713c3\"><br></p><p data-lake-id=\"u3ae2466c\" id=\"u3ae2466c\"><span data-lake-id=\"ua921c1cc\" id=\"ua921c1cc\">本质上解决了问题，程序员不用再去管理对象的创建</span></p><p data-lake-id=\"u6a969884\" id=\"u6a969884\"><br></p><p data-lake-id=\"ube3d558a\" id=\"ube3d558a\"><span data-lake-id=\"u01241b2f\" id=\"u01241b2f\">系统的耦合性大大降低，可以更专注在业务的实现上</span></p><p data-lake-id=\"u85c0d912\" id=\"u85c0d912\"><br></p><p data-lake-id=\"ufc7508fd\" id=\"ufc7508fd\"><span data-lake-id=\"u56e42012\" id=\"u56e42012\">这是IoC（控制反转）的原型，反转(理解)：主动权交给了用户</span></p><p data-lake-id=\"u709808a9\" id=\"u709808a9\"><br></p><p data-lake-id=\"u30233927\" id=\"u30233927\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471548672-390be083-84e3-4789-b6a8-61b4d2bb6bae.png%22%2C%22taskId%22%3A%22u875cbec4-c3b4-47b5-9578-c161d15fdb5%22%2C%22clientId%22%3A%22ue6922a46-94b3-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A493%2C%22height%22%3A544%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A121755%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A986%2C%22originHeight%22%3A1087%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%94%A8%E6%88%B7%20%E7%94%A8%E6%88%B7%E8%A6%81%20%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%94%A8%E6%88%B7%20%E9%95%BF%20%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%20%E4%B8%9A%E5%8A%A1%E5%B1%82%20oracle%20mysql%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A490.1789%2C%22y%22%3A111.18507%2C%22width%22%3A69.66870000000006%2C%22height%22%3A32.661789999999996%2C%22text%22%3A%22%E7%94%A8%E6%88%B7%22%7D%2C%7B%22x%22%3A616.39044%2C%22y%22%3A144.96829%2C%22width%22%3A108.52415999999994%2C%22height%22%3A41.857789999999994%2C%22text%22%3A%22%E7%94%A8%E6%88%B7%E8%A6%81%22%7D%2C%7B%22x%22%3A359.01923%2C%22y%22%3A145.77406%2C%22width%22%3A225.32763%2C%22height%22%3A37.46498%2C%22text%22%3A%22%E4%B8%BB%E5%8A%A8%E6%9D%83%E5%9C%A8%E7%94%A8%E6%88%B7%22%7D%2C%7B%22x%22%3A336.81738%2C%22y%22%3A150.76761%2C%22width%22%3A18.462949999999978%2C%22height%22%3A36.2825%2C%22text%22%3A%22%E9%95%BF%22%7D%2C%7B%22x%22%3A431.00974%2C%22y%22%3A181.65039%2C%22width%22%3A172.34076%2C%22height%22%3A38.80931000000001%2C%22text%22%3A%22%E8%B0%83%E7%94%A8%E4%BB%80%E4%B9%88)%22%7D%2C%7B%22x%22%3A468.65793%2C%22y%22%3A491.34213%2C%22width%22%3A111.94896999999997%2C%22height%22%3A37.42447000000004%2C%22text%22%3A%22%E4%B8%9A%E5%8A%A1%E5%B1%82%22%7D%2C%7B%22x%22%3A471.57623%2C%22y%22%3A944.8344%2C%22width%22%3A105.84167000000002%2C%22height%22%3A32.96924999999999%2C%22text%22%3A%22oracle%22%7D%2C%7B%22x%22%3A138.3957%2C%22y%22%3A948.721%2C%22width%22%3A99.46737999999999%2C%22height%22%3A27.77170000000001%2C%22text%22%3A%22mysql%22%7D%5D%2C%22id%22%3A%22u68f4844a%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"ud97ff9ef\" id=\"ud97ff9ef\"><br></p><h3 data-lake-id=\"e7031f03\" id=\"e7031f03\"><span data-lake-id=\"u4f5d870b\" id=\"u4f5d870b\">IoC本质</span></h3><p data-lake-id=\"u20b7c12a\" id=\"u20b7c12a\"><br></p><p data-lake-id=\"u7c74e810\" id=\"u7c74e810\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471698388-279f845b-d9fd-4c1c-aa04-9178f7d2e879.png%22%2C%22taskId%22%3A%22u65cdfe48-8874-4914-ae85-e831f02b4c9%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A716.5%2C%22height%22%3A97%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A450005%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1433%2C%22originHeight%22%3A194%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC.CCnveriongcont%2C%E6%98%AF%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%2CD%E8%B5%96%E6%B3%A8%E5%85%A5%E6%98%AF%E5%AE%9E%E7%8E%B0l0C%E7%9A%84%E7%A7%8D%E6%96%B9%E6%B3%95%2C%E4%B9%9F%E6%9C%89%E4%BA%BA%E8%AE%A4%E4%B8%BA%E5%8F%AA%E6%98%AF%201c%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E8%AF%B4%E6%B3%95%2C%E6%B2%A1%E6%9C%890C%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%B8%AD%2C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E5%8F%82%E7%BC%96%E7%A8%8B%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%AF%B9%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E8%81%94%E7%B3%BB%E5%AE%8C%E5%85%A8%E7%A1%AC%E7%BC%96%E7%A0%81%E5%9C%A8%E7%A8%8B%E5%BA%8F%20%E4%B8%AD%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E7%94%B1%E7%A8%8B%E8%87%AA%E5%B7%B1%E6%8E%A7%E5%88%B6%2C%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E5%90%8E%E5%B0%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BD%AC%E7%A7%BB%E7%BB%99%E7%AC%AC%E4%B8%89%E6%96%B9%2C%E4%B8%AA%E4%BA%BA%E8%AE%A4%E4%B8%BA%E6%89%80%E8%83%83%E6%8E%A7%E5%8F%8D%E8%BD%AC%E5%B0%B1%E6%98%AF%3A%E8%8E%B7%E5%BE%97%E4%BE%9D%20%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F%E5%8F%8D%E8%BD%AC%E4%BA%86.%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A8.085101%2C%22y%22%3A15.637589%2C%22width%22%3A1401.816399%2C%22height%22%3A32.546831000000005%2C%22text%22%3A%22%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC.CCnveriongcont%2C%E6%98%AF%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%2CD%E8%B5%96%E6%B3%A8%E5%85%A5%E6%98%AF%E5%AE%9E%E7%8E%B0l0C%E7%9A%84%E7%A7%8D%E6%96%B9%E6%B3%95%2C%E4%B9%9F%E6%9C%89%E4%BA%BA%E8%AE%A4%E4%B8%BA%E5%8F%AA%E6%98%AF%22%7D%2C%7B%22x%22%3A7.838222%2C%22y%22%3A59.41815%2C%22width%22%3A1402.348078%2C%22height%22%3A31.95924000000001%2C%22text%22%3A%221c%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E8%AF%B4%E6%B3%95%2C%E6%B2%A1%E6%9C%890C%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%B8%AD%2C%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E5%8F%82%E7%BC%96%E7%A8%8B%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%AF%B9%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E8%81%94%E7%B3%BB%E5%AE%8C%E5%85%A8%E7%A1%AC%E7%BC%96%E7%A0%81%E5%9C%A8%E7%A8%8B%E5%BA%8F%22%7D%2C%7B%22x%22%3A10.137044%2C%22y%22%3A105.4732%2C%22width%22%3A1414.6042559999999%2C%22height%22%3A30.005939999999995%2C%22text%22%3A%22%E4%B8%AD%2C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E7%94%B1%E7%A8%8B%E8%87%AA%E5%B7%B1%E6%8E%A7%E5%88%B6%2C%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E5%90%8E%E5%B0%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BD%AC%E7%A7%BB%E7%BB%99%E7%AC%AC%E4%B8%89%E6%96%B9%2C%E4%B8%AA%E4%BA%BA%E8%AE%A4%E4%B8%BA%E6%89%80%E8%83%83%E6%8E%A7%E5%8F%8D%E8%BD%AC%E5%B0%B1%E6%98%AF%3A%E8%8E%B7%E5%BE%97%E4%BE%9D%22%7D%2C%7B%22x%22%3A6.812621%2C%22y%22%3A148.99557%2C%22width%22%3A238.48264899999998%2C%22height%22%3A29.38053000000002%2C%22text%22%3A%22%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F%E5%8F%8D%E8%BD%AC%E4%BA%86.%22%7D%5D%2C%22id%22%3A%22ubbca603d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"uc37ba30b\" id=\"uc37ba30b\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471724309-5072877d-ff16-4f20-aaae-47fcd9335689.png%22%2C%22taskId%22%3A%22ucefa5faf-a866-4671-b89c-558a37831fe%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713.5%2C%22height%22%3A216%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A373766%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1427%2C%22originHeight%22%3A431%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22AHLCCIA%20ODICEA%20oCKtO%20aOKOCTD%20%E6%8B%BD%E9%87%8F%E7%AC%AC%E4%B8%89%E5%8A%9B%20CEURCTD%20ODIFCTO%20aeKKTC%20OOICCLC%20oDKactC%20%E5%9B%BE3%3A%E7%90%86%E6%83%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%20%E5%9B%BE1%3A%E8%80%A6%E5%90%88%E7%9A%84%E5%AF%B9%E8%B1%A1%20%E5%9B%BE2%3A%E8%A7%A3%E8%80%A6%E7%9A%84%E8%BF%87%E7%A8%8B%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1046.4049%2C%22y%22%3A62.126293%2C%22width%22%3A61.28800000000001%2C%22height%22%3A14.841057%2C%22text%22%3A%22AHLCCIA%22%7D%2C%7B%22x%22%3A524.2704%2C%22y%22%3A64.47501%2C%22width%22%3A64.98436000000004%2C%22height%22%3A15.532359999999997%2C%22text%22%3A%22ODICEA%22%7D%2C%7B%22x%22%3A229.70853%2C%22y%22%3A66.15609%2C%22width%22%3A68.44632000000001%2C%22height%22%3A15.767019999999988%2C%22text%22%3A%22oCKtO%22%7D%2C%7B%22x%22%3A277.95917%2C%22y%22%3A158.12932%2C%22width%22%3A71.80078000000003%2C%22height%22%3A16.867159999999984%2C%22text%22%3A%22aOKOCTD%22%7D%2C%7B%22x%22%3A650.3205%2C%22y%22%3A261.02118%2C%22width%22%3A86.31383999999991%2C%22height%22%3A19.441719999999975%2C%22text%22%3A%22%E6%8B%BD%E9%87%8F%E7%AC%AC%E4%B8%89%E5%8A%9B%22%7D%2C%7B%22x%22%3A800.01764%2C%22y%22%3A260.87354%2C%22width%22%3A65.51311999999996%2C%22height%22%3A18.298090000000002%2C%22text%22%3A%22CEURCTD%22%7D%2C%7B%22x%22%3A1313.1979%2C%22y%22%3A261.6729%2C%22width%22%3A61.39430000000016%2C%22height%22%3A16.845439999999996%2C%22text%22%3A%22ODIFCTO%22%7D%2C%7B%22x%22%3A1043.1058%2C%22y%22%3A264.3417%2C%22width%22%3A64.44299999999998%2C%22height%22%3A16.766399999999976%2C%22text%22%3A%22aeKKTC%22%7D%2C%7B%22x%22%3A523.8245%2C%22y%22%3A267.13873%2C%22width%22%3A65.06580000000008%2C%22height%22%3A14.896070000000009%2C%22text%22%3A%22OOICCLC%22%7D%2C%7B%22x%22%3A265.37067%2C%22y%22%3A284.77863%2C%22width%22%3A69.60735999999997%2C%22height%22%3A15.293090000000007%2C%22text%22%3A%22oDKactC%22%7D%2C%7B%22x%22%3A1063.9955%2C%22y%22%3A354.06775%2C%22width%22%3A328.0679%2C%22height%22%3A49.53917999999999%2C%22text%22%3A%22%E5%9B%BE3%3A%E7%90%86%E6%83%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%22%7D%2C%7B%22x%22%3A43.399464%2C%22y%22%3A356.72745%2C%22width%22%3A339.77466599999997%2C%22height%22%3A51.316280000000006%2C%22text%22%3A%22%E5%9B%BE1%3A%E8%80%A6%E5%90%88%E7%9A%84%E5%AF%B9%E8%B1%A1%22%7D%2C%7B%22x%22%3A549.09875%2C%22y%22%3A362.8875%2C%22width%22%3A336.04278999999997%2C%22height%22%3A43.41563000000002%2C%22text%22%3A%22%E5%9B%BE2%3A%E8%A7%A3%E8%80%A6%E7%9A%84%E8%BF%87%E7%A8%8B%22%7D%5D%2C%22id%22%3A%22udae5b455%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u1456bf4f\" id=\"u1456bf4f\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471762487-5054c138-9bdc-4529-963b-70a06aa8918c.png%22%2C%22taskId%22%3A%22ub21bca2a-1dd7-4539-b6bb-139c888d2f2%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A723.5%2C%22height%22%3A643%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A537847%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1447%2C%22originHeight%22%3A1285%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22POJO%202%E6%A0%B9%E6%8D%AE%E5%85%83%E6%95%B0%E6%8D%AE%E4%BB%93%20%E5%BB%BA%E5%92%8C%E7%BB%84%E8%A3%85Bea%20applicationContextxml%20SpringIoc%201.%E8%AF%BB%E5%8F%96%E9%85%8D%201%3E%20%E9%A6%99%E6%9E%97%20%3Cbeanid-%5C%22'class%20Container%20%3Cbeanid-%5C%22*class-%5C%22%5C%221%E7%BD%AE%E6%96%87%E4%BB%B6%203.%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%20%E8%8E%B7%E5%8F%96Bean%20Fullyconfigured%20system%20ReadyforUse%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A983.6426%2C%22y%22%3A109.06007%2C%22width%22%3A207.71379999999988%2C%22height%22%3A66.92629%2C%22text%22%3A%22POJO%22%7D%2C%7B%22x%22%3A1101.9055%2C%22y%22%3A288.1839%2C%22width%22%3A333.2564%2C%22height%22%3A55.89749999999998%2C%22text%22%3A%222%E6%A0%B9%E6%8D%AE%E5%85%83%E6%95%B0%E6%8D%AE%E4%BB%93%22%7D%2C%7B%22x%22%3A1133.8798%2C%22y%22%3A372.8931%2C%22width%22%3A296.69309999999996%2C%22height%22%3A51.18774000000002%2C%22text%22%3A%22%E5%BB%BA%E5%92%8C%E7%BB%84%E8%A3%85Bea%22%7D%2C%7B%22x%22%3A70.27289%2C%22y%22%3A480.22134%2C%22width%22%3A453.88871%2C%22height%22%3A49.90856000000002%2C%22text%22%3A%22applicationContextxml%22%7D%2C%7B%22x%22%3A905.3577%2C%22y%22%3A536.0955%2C%22width%22%3A338.4166%2C%22height%22%3A80.22225000000003%2C%22text%22%3A%22SpringIoc%22%7D%2C%7B%22x%22%3A575.8751%2C%22y%22%3A549.33746%2C%22width%22%3A199.59756000000004%2C%22height%22%3A52.087440000000015%2C%22text%22%3A%221.%E8%AF%BB%E5%8F%96%E9%85%8D%22%7D%2C%7B%22x%22%3A478.1755%2C%22y%22%3A604.72363%2C%22width%22%3A55.925149999999974%2C%22height%22%3A48.663670000000025%2C%22text%22%3A%221%3E%22%7D%2C%7B%22x%22%3A432.32416%2C%22y%22%3A604.79913%2C%22width%22%3A47.35976999999997%2C%22height%22%3A27.001269999999977%2C%22text%22%3A%22%E9%A6%99%E6%9E%97%22%7D%2C%7B%22x%22%3A56.7114%2C%22y%22%3A605.52216%2C%22width%22%3A398.4701%2C%22height%22%3A43.12864000000002%2C%22text%22%3A%22%3Cbeanid-%5C%22'class%22%7D%2C%7B%22x%22%3A903.4814%2C%22y%22%3A654.85297%2C%22width%22%3A322.81720000000007%2C%22height%22%3A65.05779999999993%2C%22text%22%3A%22Container%22%7D%2C%7B%22x%22%3A59.65627%2C%22y%22%3A713.40405%2C%22width%22%3A672.17803%2C%22height%22%3A61.53601000000003%2C%22text%22%3A%22%3Cbeanid-%5C%22*class-%5C%22%5C%221%E7%BD%AE%E6%96%87%E4%BB%B6%22%7D%2C%7B%22x%22%3A1070.6313%2C%22y%22%3A819.4514%2C%22width%22%3A244.26600000000008%2C%22height%22%3A56.49249999999995%2C%22text%22%3A%223.%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%22%7D%2C%7B%22x%22%3A1084.7683%2C%22y%22%3A909.8832%2C%22width%22%3A224.69270000000006%2C%22height%22%3A49.0557%2C%22text%22%3A%22%E8%8E%B7%E5%8F%96Bean%22%7D%2C%7B%22x%22%3A834.855%2C%22y%22%3A1040.6343%2C%22width%22%3A379.53729999999996%2C%22height%22%3A73.37120000000004%2C%22text%22%3A%22Fullyconfigured%22%7D%2C%7B%22x%22%3A1223.9338%2C%22y%22%3A1051.8511%2C%22width%22%3A159.3889999999999%2C%22height%22%3A57.066499999999905%2C%22text%22%3A%22system%22%7D%2C%7B%22x%22%3A897.2182%2C%22y%22%3A1131.7788%2C%22width%22%3A340.8342%2C%22height%22%3A61.95360000000005%2C%22text%22%3A%22ReadyforUse%22%7D%5D%2C%22id%22%3A%22u82ca1a76%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"ub176928d\" id=\"ub176928d\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471787767-b51f0885-276f-4a0a-8883-835ff617f080.png%22%2C%22taskId%22%3A%22ud4a40ca1-31a7-4ffb-a4ee-9f5fa582c1e%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A722%2C%22height%22%3A108%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A476060%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1444%2C%22originHeight%22%3A216%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E9%87%87%E7%94%A8ML%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEBean%E7%9A%84%E6%97%B6%E5%80%99%2CBean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E6%98%AF%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%88%86%E7%A6%BB%E7%9A%84%2C%E8%80%8C%E9%87%87%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%A3%AB%E5%8F%AF%E4%BB%A5%E6%8A%8A%E4%B8%A4%E8%80%85%E5%90%88%E4%B8%BA%E4%B8%80%E4%BD%93%2C%20Bean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E7%9B%B4%E6%8E%A5%E4%BB%A5%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B8%AD%2C%E4%BB%8E%E8%80%8C%E8%BE%BE%E5%88%B0%E4%BA%86%E9%9B%B6%E9%85%8D%E7%BD%AE%E7%9A%84%E7%9B%AE%E7%9A%84.%20%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E6%98%AF%E4%B8%80%E7%A7%8D%E9%80%9A%E8%BF%87%E6%8F%8F%E8%BF%B7XML%E6%88%96%E6%B3%A8%E8%88%B9)%E5%B9%B6%E9%80%9A%E8%BF%87%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8E%BB%E7%94%9F%E4%BA%A7%E6%88%96%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F.%E5%9C%A8Spring%E4%B8%AD%E5%AE%9E%E7%8E%B0%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%20%E7%9A%84%E6%98%AFloc%E5%AE%B9%E5%99%A8%2C%E5%85%B6%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E6%98%AF%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5(Dependencylnjection%2CD).%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A18.401688%2C%22y%22%3A8.356923%2C%22width%22%3A1350.252612%2C%22height%22%3A34.441451%2C%22text%22%3A%22%E9%87%87%E7%94%A8ML%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEBean%E7%9A%84%E6%97%B6%E5%80%99%2CBean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E6%98%AF%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%88%86%E7%A6%BB%E7%9A%84%2C%E8%80%8C%E9%87%87%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%A3%AB%E5%8F%AF%E4%BB%A5%E6%8A%8A%E4%B8%A4%E8%80%85%E5%90%88%E4%B8%BA%E4%B8%80%E4%BD%93%2C%22%7D%2C%7B%22x%22%3A19.234018%2C%22y%22%3A53.934113%2C%22width%22%3A994.107412%2C%22height%22%3A32.046387%2C%22text%22%3A%22Bean%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF%E7%9B%B4%E6%8E%A5%E4%BB%A5%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B8%AD%2C%E4%BB%8E%E8%80%8C%E8%BE%BE%E5%88%B0%E4%BA%86%E9%9B%B6%E9%85%8D%E7%BD%AE%E7%9A%84%E7%9B%AE%E7%9A%84.%22%7D%2C%7B%22x%22%3A18.31399%2C%22y%22%3A114.730385%2C%22width%22%3A1415.86261%2C%22height%22%3A41.330325%2C%22text%22%3A%22%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E6%98%AF%E4%B8%80%E7%A7%8D%E9%80%9A%E8%BF%87%E6%8F%8F%E8%BF%B7XML%E6%88%96%E6%B3%A8%E8%88%B9)%E5%B9%B6%E9%80%9A%E8%BF%87%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8E%BB%E7%94%9F%E4%BA%A7%E6%88%96%E8%8E%B7%E5%8F%96%E7%89%B9%E5%AE%9A%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E5%BC%8F.%E5%9C%A8Spring%E4%B8%AD%E5%AE%9E%E7%8E%B0%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%22%7D%2C%7B%22x%22%3A16.843523%2C%22y%22%3A166.13268%2C%22width%22%3A895.532177%2C%22height%22%3A34.28645%2C%22text%22%3A%22%E7%9A%84%E6%98%AFloc%E5%AE%B9%E5%99%A8%2C%E5%85%B6%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95%E6%98%AF%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5(Dependencylnjection%2CD).%22%7D%5D%2C%22id%22%3A%22u1868c399%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u1ec38d1d\" id=\"u1ec38d1d\"><br></p><h2 data-lake-id=\"1b88cb11\" id=\"1b88cb11\"><span data-lake-id=\"uc3ab51e3\" id=\"uc3ab51e3\">3、HolleSpring</span></h2><p data-lake-id=\"uceea695d\" id=\"uceea695d\"><br></p><p data-lake-id=\"u64726363\" id=\"u64726363\"><span data-lake-id=\"uba6bd5d3\" id=\"uba6bd5d3\">在父模块中导入jar包</span></p><p data-lake-id=\"ud1ecd106\" id=\"ud1ecd106\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%3Cdependency%3E%5Cn%5Ct%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%5Ct%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%5Ct%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222195a1b8%22%7D\"></card><p data-lake-id=\"u091da4e1\" id=\"u091da4e1\"><br></p><p data-lake-id=\"uf06c2b24\" id=\"uf06c2b24\"><span data-lake-id=\"ud9e1b306\" id=\"ud9e1b306\">pojo的Hello.java</span></p><p data-lake-id=\"u174016b0\" id=\"u174016b0\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnpublic%20class%20Hello%20%7B%5Cn%5Cn%5Ctprivate%20String%20str%3B%5Cn%5Ct%5Cn%5Ctpublic%20String%20getStr()%20%7B%5Cn%5Ct%5Ctreturn%20str%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20void%20setStr(String%20str)%20%7B%5Cn%5Ct%5Ctthis.str%20%3D%20str%3B%5Cn%5Ct%7D%5Cn%5Ct%5Cn%5Ct%40Override%5Cn%5Ctpublic%20String%20toString()%20%7B%5Cn%5Ct%5Ctreturn%20%5C%22Holle%20%5Bstr%3D%5C%22%20%2B%20str%20%2B%20%5C%22%5D%5C%22%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228202a0b5%22%7D\"></card><p data-lake-id=\"u609209ce\" id=\"u609209ce\"><br></p><p data-lake-id=\"ua7306575\" id=\"ua7306575\"><span data-lake-id=\"u5c0a2666\" id=\"u5c0a2666\">在resource里面的xml配置</span></p><p data-lake-id=\"u3e6851ad\" id=\"u3e6851ad\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%5Cn%20%20%20%20%3C!--%E5%9C%A8Spring%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%9C%A8Spring%E8%BF%99%E4%BA%9B%E9%83%BD%E7%A7%B0%E4%B8%BAbean%5Cn%20%20%20%20%5Ct%E7%B1%BB%E5%9E%8B%20%E5%8F%98%E9%87%8F%E5%90%8D%20%3D%20new%20%E7%B1%BB%E5%9E%8B()%3B%5Cn%20%20%20%20%5CtHolle%20holle%20%3D%20new%20Holle()%3B%5Cn%20%20%20%20%5Ct%5Cn%20%20%20%20%5Ctbean%20%3D%20%E5%AF%B9%E8%B1%A1(holle)%5Cn%20%20%20%20%5Ctid%20%3D%20%E5%8F%98%E9%87%8F%E5%90%8D(holle)%5Cn%20%20%20%20%5Ctclass%20%3D%20new%E7%9A%84%E5%AF%B9%E8%B1%A1(new%20Holle()%3B)%5Cn%20%20%20%20%5Ctproperty%20%E7%9B%B8%E5%BD%93%E4%BA%8E%E7%BB%99%E5%AF%B9%E8%B1%A1%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%E8%AE%BE%E5%80%BC%2C%E8%AE%A9str%3D%5C%22Spring%5C%22%5Cn%20%20%20%20--%3E%5Cn%20%20%20%20%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22hello%5C%22%20class%3D%5C%22pojo.Hello%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22str%5C%22%20value%3D%5C%22Spring%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f150d17a%22%7D\"></card><p data-lake-id=\"ue9fba786\" id=\"ue9fba786\"><br></p><p data-lake-id=\"u22c5498b\" id=\"u22c5498b\"><span data-lake-id=\"u3e22cc09\" id=\"u3e22cc09\">测试类MyTest</span></p><p data-lake-id=\"u49a00b67\" id=\"u49a00b67\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle1%3B%5Cn%5Cnimport%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cn%5Cnimport%20pojo.Hello%3B%5Cn%5Cnpublic%20class%20MyTest%20%7B%5Cn%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5Ct%2F%2F%E8%8E%B7%E5%8F%96Spring%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5Cn%5Ct%5Ct%2F%2F%E6%88%91%E4%BB%AC%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8B%E8%83%BD%E5%9C%A8%E9%83%BD%E5%9C%A8spring%C2%B7%E4%B8%AD%E7%AE%A1%E7%90%86%E4%BA%86%EF%BC%8C%E6%88%91%E4%BB%AC%E8%A6%81%E4%BD%BF%E7%94%A8%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%8F%96%E5%87%BA%E6%9D%A5%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%5Cn%5Ct%5CtHello%20holle%20%3D%20(Hello)%20context.getBean(%5C%22hello%5C%22)%3B%5Cn%5Ct%5CtSystem.out.println(holle.toString())%3B%5Cn%5Ct%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22233e33b6%22%7D\"></card><p data-lake-id=\"u6caaf5ff\" id=\"u6caaf5ff\"><br></p><p data-lake-id=\"u76aef1a0\" id=\"u76aef1a0\"><span data-lake-id=\"u6642b69b\" id=\"u6642b69b\">核心用set注入，所以必须要有下面的se()方法</span></p><p data-lake-id=\"u273d9a89\" id=\"u273d9a89\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2FHello%E7%B1%BB%5Cnpublic%20void%20setStr(String%20str)%20%7B%5Cn%5Ct%5Ctthis.str%20%3D%20str%3B%5Cn%5Ct%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226861621d%22%7D\"></card><p data-lake-id=\"uc59fc3a3\" id=\"uc59fc3a3\"><br></p><p data-lake-id=\"u81091736\" id=\"u81091736\"><strong><span data-lake-id=\"u3066801f\" id=\"u3066801f\">思考：</span></strong></p><p data-lake-id=\"u371091e0\" id=\"u371091e0\"><br></p><p data-lake-id=\"u36e35cbf\" id=\"u36e35cbf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471815422-ae6ce201-a69e-466e-bd47-7f699c396eea.png%22%2C%22taskId%22%3A%22u9f574879-54f0-4587-a3d6-b3938d958c7%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A715.5%2C%22height%22%3A428%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1137501%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1431%2C%22originHeight%22%3A856%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%B0%81%E5%88%9B%E5%BB%BA%E7%9A%84%3F%20hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1Spring%E5%88%9B%E5%BB%BA%E7%9A%84%20Hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%3F%20hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E7%94%B1Spring%E5%AE%B9%E5%99%A8%E8%AE%BE%E7%BD%AE%E7%9A%84%2C%20%E8%BF%99%E4%B8%AA%E8%BF%87%E7%A8%8B%E5%B0%B1%E5%8F%AB%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%3A%20%E6%8E%A7%E5%88%B6%3A%E8%B0%81%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%2C%E4%BC%A0%E7%BB%9F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E6%8E%A7%E5%88%B6%E5%88%9B%E5%BB%BA%E7%9A%84%2C%E4%BD%BF%E7%94%A8Sprng%E5%90%8E%2C%E5%AF%B9%E8%B1%A1%E6%98%AF%20%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%E7%9A%84.%20%E5%8F%8D%E8%BD%AC%3A%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E4%B8%8D%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%2C%E8%80%8C%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6%E5%AF%B9%E8%B1%A1.%20%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%3A%E5%B0%B1%E6%98%AF%E5%88%A9%E7%94%A8set%E6%96%B9%E6%B3%95%E6%9D%A5%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5%E7%9A%84.%2010C%E6%98%AF%E4%B8%80%E7%A7%8D%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%2C%E7%94%B1%E4%B8%BB%E5%8A%A8%E7%9A%84%E7%BC%96%E7%A8%8B%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6.%20%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87newClassPathXmlApplicationcontext%E5%8E%BB%E6%B5%8F%E8%A7%88%E4%B8%80%E4%B8%8B%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%20CK%2C%E5%88%B0%E4%BA%86%E7%8E%B0%E5%9C%A8%2C%E6%88%91%E4%BB%AC%E5%80%92%E5%BA%95%E4%B8%8D%E7%94%A8%E5%86%8D%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E6%94%B9%E5%8A%A8%E4%BA%86%2C%E8%A6%81%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E6%93%8D%E4%BD%9C%2C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8xm%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E8%BF%9B%E8%A1%8C%20%E4%BF%AE%E6%94%B9%2C%E6%89%80%E8%B0%93%E7%9A%84loC%2C%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%90%9E%E5%AE%9A%3A%E5%AF%B9%E8%B1%A1%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%2C%E7%AE%A1%E7%90%86%2C%E8%A3%85%E9%85%8D!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A79.80459%2C%22y%22%3A5.272613%2C%22width%22%3A327.63837%2C%22height%22%3A35.175801%2C%22text%22%3A%22Hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E8%B0%81%E5%88%9B%E5%BB%BA%E7%9A%84%3F%22%7D%2C%7B%22x%22%3A79.00523%2C%22y%22%3A75.38061%2C%22width%22%3A414.96557%2C%22height%22%3A37.37447%2C%22text%22%3A%22hello%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1Spring%E5%88%9B%E5%BB%BA%E7%9A%84%22%7D%2C%7B%22x%22%3A81.248024%2C%22y%22%3A144.04665%2C%22width%22%3A468.16977600000007%2C%22height%22%3A35.78604999999999%2C%22text%22%3A%22Hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE%E7%9A%84%3F%22%7D%2C%7B%22x%22%3A78.3293%2C%22y%22%3A207.53433%2C%22width%22%3A591.8998%2C%22height%22%3A42.595049999999986%2C%22text%22%3A%22hello%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E6%98%AF%E7%94%B1Spring%E5%AE%B9%E5%99%A8%E8%AE%BE%E7%BD%AE%E7%9A%84%2C%22%7D%2C%7B%22x%22%3A13.455474%2C%22y%22%3A293.4859%2C%22width%22%3A342.45434600000004%2C%22height%22%3A33.94684000000001%2C%22text%22%3A%22%E8%BF%99%E4%B8%AA%E8%BF%87%E7%A8%8B%E5%B0%B1%E5%8F%AB%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%3A%22%7D%2C%7B%22x%22%3A14.020947%2C%22y%22%3A364.2338%2C%22width%22%3A1392.521753%2C%22height%22%3A35.17718000000002%2C%22text%22%3A%22%E6%8E%A7%E5%88%B6%3A%E8%B0%81%E6%9D%A5%E6%8E%A7%E5%88%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%2C%E4%BC%A0%E7%BB%9F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%98%AF%E7%94%B1%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E6%8E%A7%E5%88%B6%E5%88%9B%E5%BB%BA%E7%9A%84%2C%E4%BD%BF%E7%94%A8Sprng%E5%90%8E%2C%E5%AF%B9%E8%B1%A1%E6%98%AF%22%7D%2C%7B%22x%22%3A14.462911%2C%22y%22%3A411.41092%2C%22width%22%3A281.122839%2C%22height%22%3A37.60098000000005%2C%22text%22%3A%22%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%E7%9A%84.%22%7D%2C%7B%22x%22%3A14.8317375%2C%22y%22%3A480.20905%2C%22width%22%3A740.9778924999999%2C%22height%22%3A36.98044999999996%2C%22text%22%3A%22%E5%8F%8D%E8%BD%AC%3A%E7%A8%8B%E5%BA%8F%E6%9C%AC%E8%BA%AB%E4%B8%8D%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%2C%E8%80%8C%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6%E5%AF%B9%E8%B1%A1.%22%7D%2C%7B%22x%22%3A14.681152%2C%22y%22%3A550.0073%2C%22width%22%3A595.576418%2C%22height%22%3A36.83960000000002%2C%22text%22%3A%22%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%3A%E5%B0%B1%E6%98%AF%E5%88%A9%E7%94%A8set%E6%96%B9%E6%B3%95%E6%9D%A5%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5%E7%9A%84.%22%7D%2C%7B%22x%22%3A13.5210085%2C%22y%22%3A618.73303%2C%22width%22%3A742.8729915%2C%22height%22%3A37.10657000000003%2C%22text%22%3A%2210C%E6%98%AF%E4%B8%80%E7%A7%8D%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%2C%E7%94%B1%E4%B8%BB%E5%8A%A8%E7%9A%84%E7%BC%96%E7%A8%8B%E5%8F%98%E6%88%90%E8%A2%AB%E5%8A%A8%E7%9A%84%E6%8E%A5%E6%94%B6.%22%7D%2C%7B%22x%22%3A16.10062%2C%22y%22%3A691.0937%2C%22width%22%3A998.28244%2C%22height%22%3A32.714650000000006%2C%22text%22%3A%22%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87newClassPathXmlApplicationcontext%E5%8E%BB%E6%B5%8F%E8%A7%88%E4%B8%80%E4%B8%8B%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%22%7D%2C%7B%22x%22%3A17.196733%2C%22y%22%3A757.27216%2C%22width%22%3A1401.890167%2C%22height%22%3A35.72149000000002%2C%22text%22%3A%22CK%2C%E5%88%B0%E4%BA%86%E7%8E%B0%E5%9C%A8%2C%E6%88%91%E4%BB%AC%E5%80%92%E5%BA%95%E4%B8%8D%E7%94%A8%E5%86%8D%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E6%94%B9%E5%8A%A8%E4%BA%86%2C%E8%A6%81%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E6%93%8D%E4%BD%9C%2C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%9C%A8xm%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E8%BF%9B%E8%A1%8C%22%7D%2C%7B%22x%22%3A14.092485%2C%22y%22%3A806.99915%2C%22width%22%3A952.054115%2C%22height%22%3A35.82768999999996%2C%22text%22%3A%22%E4%BF%AE%E6%94%B9%2C%E6%89%80%E8%B0%93%E7%9A%84loC%2C%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%90%9E%E5%AE%9A%3A%E5%AF%B9%E8%B1%A1%E7%94%B1Spring%E6%9D%A5%E5%88%9B%E5%BB%BA%2C%E7%AE%A1%E7%90%86%2C%E8%A3%85%E9%85%8D!%22%7D%5D%2C%22id%22%3A%22ue193d403%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u81624d7b\" id=\"u81624d7b\"><br />IoC：对象由Spring 来创建，管理，装配！</span></p><p data-lake-id=\"u2d837258\" id=\"u2d837258\"><br></p><p data-lake-id=\"u92ecd726\" id=\"u92ecd726\"><strong><span data-lake-id=\"u1e2b2d84\" id=\"u1e2b2d84\">弹幕评论里面的理解：</span></strong></p><p data-lake-id=\"u2125d0ab\" id=\"u2125d0ab\"><br></p><p data-lake-id=\"ud17cba16\" id=\"ud17cba16\"><span data-lake-id=\"uedb60a06\" id=\"uedb60a06\">原来这套程序是：你写好菜单买好菜，客人来了自己把菜炒好招待，就相当于你请人吃饭<br /></span><span data-lake-id=\"u4310ba8c\" id=\"u4310ba8c\">现在这套程序是：你告诉楼下餐厅，你要哪些菜，客人来的时候，餐厅把做好的你需要的菜送上来<br /></span><span data-lake-id=\"u127385a7\" id=\"u127385a7\">IoC：炒菜这件事，不再由你自己来做，而是委托给了第三方__餐厅来做</span></p><p data-lake-id=\"u3dc58cb7\" id=\"u3dc58cb7\"><br></p><p data-lake-id=\"uc2b1a29b\" id=\"uc2b1a29b\"><span data-lake-id=\"u74ee8542\" id=\"u74ee8542\">此时的区别就是，如果我还需要做其他的菜，我不需要自己搞菜谱买材料再做好，而是告诉餐厅，我要什么菜，什么时候要，你做好送来</span></p><p data-lake-id=\"u55623b76\" id=\"u55623b76\"><br></p><p data-lake-id=\"ua5a85aff\" id=\"ua5a85aff\"><span data-lake-id=\"u80a2f541\" id=\"u80a2f541\">.</span></p><p data-lake-id=\"u54ce8a98\" id=\"u54ce8a98\"><br></p><p data-lake-id=\"u1198bc7c\" id=\"u1198bc7c\"><span data-lake-id=\"uff3e3648\" id=\"uff3e3648\">在前面第一个module试试引入Spring</span></p><p data-lake-id=\"u615cd840\" id=\"u615cd840\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userDaomSql%5C%22%20class%3D%5C%22dao.UserDaoMysqlImpl%5C%22%3E%3C%2Fbean%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userServiceImpl%5C%22%20class%3D%5C%22service.UserServiceImp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3C!--ref%E5%BC%95%E7%94%A8spring%E4%B8%AD%E5%B7%B2%E7%BB%8F%E5%88%9B%E5%BB%BA%E5%BE%88%E5%A5%BD%E7%9A%84%E5%AF%B9%E8%B1%A1--%3E%5Cn%20%20%20%20%20%20%20%20%3C!--value%E6%98%AF%E4%B8%80%E4%B8%AA%E5%85%B7%E4%BD%93%E7%9A%84%E5%80%BC%2C%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22userDao%5C%22%20ref%3D%5C%22userDaomSql%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fe0587d3%22%7D\"></card><p data-lake-id=\"u8d0e8f3b\" id=\"u8d0e8f3b\"><br></p><p data-lake-id=\"u2895651e\" id=\"u2895651e\"><span data-lake-id=\"ue05fc7ca\" id=\"ue05fc7ca\">第一个module改良后测试</span></p><p data-lake-id=\"u521645ed\" id=\"u521645ed\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle0%3B%5Cnimport%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20service.UserServiceImpl%3B%5Cn%5Cnpublic%20class%20MyTest0%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5Cn%5Ct%5CtUserServiceImpl%20userServiceImpl%20%3D%20(UserServiceImpl)%20context.getBean(%5C%22userServiceImpl%5C%22)%3B%5Cn%5Ct%5CtuserServiceImpl.getUser()%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22236f8849%22%7D\"></card><p data-lake-id=\"uf9438934\" id=\"uf9438934\"><br></p><p data-lake-id=\"u7ec07400\" id=\"u7ec07400\"><strong><span data-lake-id=\"u155e96ea\" id=\"u155e96ea\">总结：</span></strong></p><p data-lake-id=\"u319ca5e2\" id=\"u319ca5e2\"><br></p><p data-lake-id=\"ub02fb17e\" id=\"ub02fb17e\"><span data-lake-id=\"uc95194b9\" id=\"uc95194b9\">所有的类都要装配的beans.xml 里面；</span></p><p data-lake-id=\"u7d2a6a3e\" id=\"u7d2a6a3e\"><br></p><p data-lake-id=\"ue3b394ba\" id=\"ue3b394ba\"><span data-lake-id=\"u38499481\" id=\"u38499481\">所有的bean 都要通过容器去取；</span></p><p data-lake-id=\"uce7d3f05\" id=\"uce7d3f05\"><br></p><p data-lake-id=\"ud14cf2ee\" id=\"ud14cf2ee\"><span data-lake-id=\"u989f935a\" id=\"u989f935a\">容器里面取得的bean，拿出来就是一个对象，用对象调用方法即可；</span></p><p data-lake-id=\"u6caaf4eb\" id=\"u6caaf4eb\"><br></p><h2 data-lake-id=\"4ddfc2b5\" id=\"4ddfc2b5\"><span data-lake-id=\"u7fac2a7e\" id=\"u7fac2a7e\">4、IoC创建对象的方式</span></h2><p data-lake-id=\"ue0d18de9\" id=\"ue0d18de9\"><br></p><ol list=\"uec1f3f46\"><li fid=\"uf089ef36\" data-lake-id=\"uc43ecc91\" id=\"uc43ecc91\"><span data-lake-id=\"u21c40614\" id=\"u21c40614\">使用无参构造创建对象，默认。</span></li></ol><ol list=\"uc1be2a12\" start=\"2\"><li fid=\"ua61eb93c\" data-lake-id=\"u1f9bfb00\" id=\"u1f9bfb00\"><span data-lake-id=\"uba9e802c\" id=\"uba9e802c\">使用有参构造（如下）</span></li></ol><p data-lake-id=\"u8d38bcda\" id=\"u8d38bcda\"><br></p><p data-lake-id=\"uda6e3e4e\" id=\"uda6e3e4e\"><span data-lake-id=\"u8ba2252f\" id=\"u8ba2252f\">下标赋值</span></p><p data-lake-id=\"ue1388fe7\" id=\"ue1388fe7\"><br></p><p data-lake-id=\"uf7ef7b5b\" id=\"uf7ef7b5b\"><span data-lake-id=\"u525caef0\" id=\"u525caef0\">index指的是有参构造中参数的下标，下标从0开始;</span></p><p data-lake-id=\"u4715ba07\" id=\"u4715ba07\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cconstructor-arg%20index%3D%5C%220%5C%22%20value%3D%5C%22chen%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228a39dcdc%22%7D\"></card><p data-lake-id=\"uf4456887\" id=\"uf4456887\"><br></p><p data-lake-id=\"u05945534\" id=\"u05945534\"><span data-lake-id=\"uf1bba8dd\" id=\"uf1bba8dd\">类型赋值（不建议使用）</span></p><p data-lake-id=\"u6ea2aac2\" id=\"u6ea2aac2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%3Cconstructor-arg%20type%3D%5C%22java.lang.String%5C%22%20value%3D%5C%22kuang%5C%22%2F%3E%5Cn%3C%2Fbean%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2206e5ceea%22%7D\"></card><p data-lake-id=\"u20139086\" id=\"u20139086\"><br></p><p data-lake-id=\"u64d347e7\" id=\"u64d347e7\"><span data-lake-id=\"uc3798199\" id=\"uc3798199\">直接通过参数名（掌握）</span></p><p data-lake-id=\"u9f4c09ff\" id=\"u9f4c09ff\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%3Cconstructor-arg%20name%3D%5C%22name%5C%22%20value%3D%5C%22kuang%5C%22%3E%3C%2Fconstructor-arg%3E%5Cn%3C%2Fbean%3E%5Cn%3C!--%20%E6%AF%94%E5%A6%82%E5%8F%82%E6%95%B0%E5%90%8D%E6%98%AFname%EF%BC%8C%E5%88%99%E6%9C%89name%3D%5C%22%E5%85%B7%E4%BD%93%E5%80%BC%5C%22%20--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221e70e708%22%7D\"></card><p data-lake-id=\"udce4fc9d\" id=\"udce4fc9d\"><br></p><p data-lake-id=\"u06179dfe\" id=\"u06179dfe\"><span data-lake-id=\"u71005cc3\" id=\"u71005cc3\">注册bean之后就对象的初始化了（</span><strong><span data-lake-id=\"u441bb971\" id=\"u441bb971\">类似 new 类名()</span></strong><span data-lake-id=\"u22de3a4a\" id=\"u22de3a4a\">）</span></p><p data-lake-id=\"u02d446e8\" id=\"u02d446e8\"><br></p><p data-lake-id=\"ub673c739\" id=\"ub673c739\"><span data-lake-id=\"ub16df1b9\" id=\"ub16df1b9\">弹幕评论：</span></p><p data-lake-id=\"u724820bf\" id=\"u724820bf\"><br></p><p data-lake-id=\"ue9368b39\" id=\"ue9368b39\"><span data-lake-id=\"ubde787c7\" id=\"ubde787c7\">name方式还需要无参构造和set方法,index和type只需要有参构造</span></p><p data-lake-id=\"u097e0ea7\" id=\"u097e0ea7\"><br></p><p data-lake-id=\"u43ad2a49\" id=\"u43ad2a49\"><span data-lake-id=\"u472cc442\" id=\"u472cc442\">就算是new 两个对象，也是只有一个实例（</span><strong><span data-lake-id=\"ufd13759d\" id=\"ufd13759d\">单例模式：全局唯一</span></strong><span data-lake-id=\"u35b4b032\" id=\"u35b4b032\">）</span></p><p data-lake-id=\"ubd1abf58\" id=\"ubd1abf58\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22User%20user%20%3D%20(User)%20context.getBean(%5C%22user%5C%22)%3B%5CnUser%20user2%20%3D%20(User)%20context.getBean(%5C%22user%5C%22)%3B%5Cnsystem.out.println(user%20%3D%3D%20user2)%2F%2F%E7%BB%93%E6%9E%9C%E4%B8%BAtrue%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2212fa1e9f%22%7D\"></card><p data-lake-id=\"ua19a2372\" id=\"ua19a2372\"><br></p><p data-lake-id=\"u92cea3cc\" id=\"u92cea3cc\"><span data-lake-id=\"uef0a4659\" id=\"uef0a4659\">总结：在配置文件加载的时候，容器(&lt; bean&gt;)中管理的对象就已经初始化了</span></p><p data-lake-id=\"ua17286c5\" id=\"ua17286c5\"><br></p><h2 data-lake-id=\"55d787f1\" id=\"55d787f1\"><span data-lake-id=\"ua16ae83a\" id=\"ua16ae83a\">5、Spring配置</span></h2><p data-lake-id=\"u300413f5\" id=\"u300413f5\"><br></p><h3 data-lake-id=\"0395086d\" id=\"0395086d\"><span data-lake-id=\"ue67ac6a9\" id=\"ue67ac6a9\">5.1、别名</span></h3><p data-lake-id=\"u715bd22b\" id=\"u715bd22b\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%3E%5Cn%20%20%20%20%3Cconstructor-arg%20name%3D%5C%22name%5C%22%20value%3D%5C%22chen%5C%22%3E%3C%2Fconstructor-arg%3E%5Cn%3C%2Fbean%3E%5Cn%5Cn%3Calias%20name%3D%5C%22user%5C%22%20alias%3D%5C%22userLove%5C%22%2F%3E%5Cn%3C!--%20%E4%BD%BF%E7%94%A8%E6%97%B6%5Cn%5CtUser%20user2%20%3D%20(User)%20context.getBean(%5C%22userLove%5C%22)%3B%5Ct%5Cn--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225fea7168%22%7D\"></card><p data-lake-id=\"u818aea7d\" id=\"u818aea7d\"><br></p><h3 data-lake-id=\"bd36fb1e\" id=\"bd36fb1e\"><span data-lake-id=\"u4e8d8daa\" id=\"u4e8d8daa\">5.2、Bean的配置</span></h3><p data-lake-id=\"ue1df8104\" id=\"ue1df8104\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--id%EF%BC%9Abean%E7%9A%84%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E7%AC%A6%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%88%91%E4%BB%AC%E5%AD%A6%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%90%8D%5Cnclass%EF%BC%9Abean%E5%AF%B9%E8%B1%A1%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BC%9A%E9%99%90%E5%AE%9A%E5%90%8D%EF%BC%9A%E5%8C%85%E5%90%8D%2B%E7%B1%BB%E5%9E%8B%5Cnname%EF%BC%9A%E4%B9%9F%E6%98%AF%E5%88%AB%E5%90%8D%EF%BC%8C%E8%80%8C%E4%B8%94name%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E5%8F%96%E5%A4%9A%E4%B8%AA%E5%88%AB%E5%90%8D%20--%3E%5Cn%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%20name%3D%5C%22u1%20u2%2Cu3%3Bu4%5C%22%3E%5Cn%20%20%20%20%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22chen%5C%22%2F%3E%5Cn%3C%2Fbean%3E%5Cn%3C!--%20%E4%BD%BF%E7%94%A8%E6%97%B6%5Cn%5CtUser%20user2%20%3D%20(User)%20context.getBean(%5C%22u1%5C%22)%3B%5Ct%5Cn--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223f398a6b%22%7D\"></card><p data-lake-id=\"u6c898a58\" id=\"u6c898a58\"><br></p><h3 data-lake-id=\"8cc591db\" id=\"8cc591db\"><span data-lake-id=\"ud0ee1385\" id=\"ud0ee1385\">5.3、import</span></h3><p data-lake-id=\"u74ae15a4\" id=\"u74ae15a4\"><br></p><p data-lake-id=\"u2b353f95\" id=\"u2b353f95\"><span data-lake-id=\"ucf32b1f6\" id=\"ucf32b1f6\">import一般用于团队开发使用，它可以将多个配置文件，导入合并为一个</span></p><p data-lake-id=\"u4beeb80c\" id=\"u4beeb80c\"><br></p><p data-lake-id=\"u4def494a\" id=\"u4def494a\"><span data-lake-id=\"ua956f636\" id=\"ua956f636\">假设，现在项目中有多个人开发，这三个人复制不同的类开发，不同的类需要注册在不同的bean中，我们可以利<br /></span><span data-lake-id=\"ue4b025c0\" id=\"ue4b025c0\">用import将所有人的beans.xml合并为一个总的！</span></p><p data-lake-id=\"uccc9b457\" id=\"uccc9b457\"><br></p><ul list=\"ufe83e0d7\"><li fid=\"u7afc4723\" data-lake-id=\"u440ef9ed\" id=\"u440ef9ed\"><span data-lake-id=\"u3a992048\" id=\"u3a992048\"> 张三(beans.xm1) </span></li></ul><ul list=\"u9f3c6dbd\"><li fid=\"u008afbe0\" data-lake-id=\"u5392b0d3\" id=\"u5392b0d3\"><span data-lake-id=\"u8ee2c048\" id=\"u8ee2c048\"> 李四(beans2.xm1) </span></li></ul><ul list=\"u5a0375e4\"><li fid=\"u86eed08e\" data-lake-id=\"u17c7ec75\" id=\"u17c7ec75\"><span data-lake-id=\"u31af8753\" id=\"u31af8753\"> 王五(beans3.xm1) </span></li></ul><ul list=\"u0ba56562\"><li fid=\"ub64d30be\" data-lake-id=\"uccd7d242\" id=\"uccd7d242\"><span data-lake-id=\"u57743d0a\" id=\"u57743d0a\"> applicationContext.xml </span><span data-lake-id=\"ud20f3f6d\" id=\"ud20f3f6d\"> </span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cimport%20resource%3D%5C%22beans.xm1%5C%22%2F%3E%5Cn%3Cimport%20resource%3D%5C%22beans2.xml%5C%22%2F%3E%5Cn%3Cimport%20resource%3D%5C%22beans3.xm1%5C%22%2F%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227c8f6c35%22%7D\"></card><p data-lake-id=\"uf22bdd0e\" id=\"uf22bdd0e\"><br></p><p data-lake-id=\"u99958971\" id=\"u99958971\"><strong><span data-lake-id=\"u33252594\" id=\"u33252594\">使用的时候，直接使用总的配置就可以了</span></strong></p><p data-lake-id=\"u843d1d7f\" id=\"u843d1d7f\"><br></p><p data-lake-id=\"ufd937c59\" id=\"ufd937c59\"><span data-lake-id=\"u7db435e4\" id=\"u7db435e4\">弹幕评论：</span></p><p data-lake-id=\"ud6ee83e9\" id=\"ud6ee83e9\"><br></p><p data-lake-id=\"u77a1a5f2\" id=\"u77a1a5f2\"><span data-lake-id=\"u022501d1\" id=\"u022501d1\">按照在总的xml中的导入顺序来进行创建，后导入的会重写先导入的，最终实例化的对象会是后导入xml中的那个</span></p><p data-lake-id=\"u83eb07cb\" id=\"u83eb07cb\"><br></p><h2 data-lake-id=\"e5c5c9f1\" id=\"e5c5c9f1\"><span data-lake-id=\"ue2a806b9\" id=\"ue2a806b9\">6、依赖注入（DI）</span></h2><p data-lake-id=\"u2bea6e8f\" id=\"u2bea6e8f\"><br></p><h3 data-lake-id=\"809c1a44\" id=\"809c1a44\"><span data-lake-id=\"u0a1e2ced\" id=\"u0a1e2ced\">6.1、构造器注入</span></h3><p data-lake-id=\"u8b2b8fe6\" id=\"u8b2b8fe6\"><br></p><p data-lake-id=\"u24770b7c\" id=\"u24770b7c\"><span data-lake-id=\"ua9bf2e2b\" id=\"ua9bf2e2b\">第4点有提到</span></p><p data-lake-id=\"u01ba2c1b\" id=\"u01ba2c1b\"><br></p><h3 data-lake-id=\"9a618fd8\" id=\"9a618fd8\"><span data-lake-id=\"ub37d1be4\" id=\"ub37d1be4\">6.2、set方式注入【重点】</span></h3><p data-lake-id=\"ueb12759c\" id=\"ueb12759c\"><br></p><p data-lake-id=\"u6da7fc1a\" id=\"u6da7fc1a\"><span data-lake-id=\"u0f81e5d6\" id=\"u0f81e5d6\">依赖注入：set注入！</span></p><p data-lake-id=\"uf27ab953\" id=\"uf27ab953\"><br></p><ul list=\"ufd4ec9ad\"><li fid=\"u696f9d6d\" data-lake-id=\"u6f7b9c1e\" id=\"u6f7b9c1e\"><span data-lake-id=\"u4979d28a\" id=\"u4979d28a\">依赖：bean对象的创建依赖于容器</span></li></ul><ul list=\"udc14b16c\"><li fid=\"u01d9cdaf\" data-lake-id=\"u9ecb64c8\" id=\"u9ecb64c8\"><span data-lake-id=\"u5665960e\" id=\"u5665960e\">注入：bean对象中的所有属性，由容器来注入</span></li></ul><p data-lake-id=\"u54df77ec\" id=\"u54df77ec\"><br></p><p data-lake-id=\"u55bb78b3\" id=\"u55bb78b3\"><span data-lake-id=\"u2015834c\" id=\"u2015834c\">【环境搭建】</span></p><p data-lake-id=\"u6fcbfae6\" id=\"u6fcbfae6\"><br></p><ol list=\"u25ed0214\"><li fid=\"u0431bda8\" data-lake-id=\"u7a245fe1\" id=\"u7a245fe1\"><span data-lake-id=\"u0ce0fd21\" id=\"u0ce0fd21\"> 复杂类型<br /></span><span data-lake-id=\"u30cd49fa\" id=\"u30cd49fa\">Address类 </span></li></ol><ol list=\"u1cecbef6\" start=\"2\"><li fid=\"ue7a45430\" data-lake-id=\"ua2016dbb\" id=\"ua2016dbb\"><span data-lake-id=\"ueb52e7c4\" id=\"ueb52e7c4\"> 真实测试对象<br /></span><span data-lake-id=\"u44493329\" id=\"u44493329\">Student类 </span></li></ol><ol list=\"uaa82d4d4\" start=\"3\"><li fid=\"u8d1bd296\" data-lake-id=\"ua735f486\" id=\"ua735f486\"><span data-lake-id=\"u384c675c\" id=\"u384c675c\"> beans.xml </span></li></ol><ol list=\"u9fec8c62\" start=\"4\"><li fid=\"u8c9eba1e\" data-lake-id=\"u8ab901a0\" id=\"u8ab901a0\"><span data-lake-id=\"ub81c003e\" id=\"ub81c003e\"> 测试<br /></span><span data-lake-id=\"u900bff62\" id=\"u900bff62\">MyTest3 </span></li></ol><p data-lake-id=\"ua4e0eeb7\" id=\"ua4e0eeb7\"><br></p><p data-lake-id=\"u8cbebe27\" id=\"u8cbebe27\"><span data-lake-id=\"u23c0a8fd\" id=\"u23c0a8fd\">Student类</span></p><p data-lake-id=\"ue081b883\" id=\"ue081b883\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnimport%20java.util.*%3B%5Cn%40Get%5Cn%40Set%5Cnpublic%20class%20Student%20%7B%5Cn%2F%2F%E5%88%AB%E5%BF%98%E4%BA%86%E5%86%99get%E5%92%8Cset%E6%96%B9%E6%B3%95%EF%BC%88%E7%94%A8lombok%E6%B3%A8%E8%A7%A3%E4%B9%9F%E8%A1%8C%EF%BC%89%5Cn%20%20%20%20private%20String%20name%3B%5Cn%20%20%20%20private%20Address%20address%3B%5Cn%5Cn%20%20%20%20private%20String%5B%5D%20books%3B%5Cn%20%20%20%20private%20List%3CString%3E%20hobbies%3B%5Cn%5Cn%20%20%20%20private%20Map%3CString%2C%20String%3E%20card%3B%5Cn%20%20%20%20private%20Set%3CString%3E%20game%3B%5Cn%5Cn%20%20%20%20private%20Properties%20infor%3B%5Cn%20%20%20%20private%20String%20wife%3B%5Cn%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20String%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%5C%22Student%7B%5C%22%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22name%3D'%5C%22%20%2B%20name%20%2B%20'%5C%5C''%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20address%3D%5C%22%20%2B%20address.toString()%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20books%3D%5C%22%20%2B%20Arrays.toString(books)%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20hobbies%3D%5C%22%20%2B%20hobbies%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20card%3D%5C%22%20%2B%20card%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20game%3D%5C%22%20%2B%20game%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20infor%3D%5C%22%20%2B%20infor%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20wife%3D'%5C%22%20%2B%20wife%20%2B%20'%5C%5C''%20%2B%5C%22%5C%5Cn%5C%22%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%7D'%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229315fcfd%22%7D\"></card><p data-lake-id=\"uafd756ca\" id=\"uafd756ca\"><br></p><p data-lake-id=\"uc757b93d\" id=\"uc757b93d\"><span data-lake-id=\"u28a416fa\" id=\"u28a416fa\">Address类</span></p><p data-lake-id=\"uecc76417\" id=\"uecc76417\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnpublic%20class%20Address%20%7B%5Cn%5Cn%20%20%20%20private%20String%20address%3B%5Cn%5Cn%20%20%20%20public%20String%20getAddress()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setAddress(String%20address)%20%7B%5Cn%20%20%20%20%20%20%20%20this.address%20%3D%20address%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20String%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%5C%22Address%7B%5C%22%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22address%3D'%5C%22%20%2B%20address%20%2B%20'%5C%5C''%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%7D'%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b0de775c%22%7D\"></card><p data-lake-id=\"u78b877db\" id=\"u78b877db\"><br></p><p data-lake-id=\"ub82dfd40\" id=\"ub82dfd40\"><span data-lake-id=\"ua8bb9aa1\" id=\"ua8bb9aa1\">beans.xml</span></p><p data-lake-id=\"u39dee3cc\" id=\"u39dee3cc\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%5Ct%3Cbean%20id%3D%5C%22address%5C%22%20class%3D%5C%22pojo.Address%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22address%5C%22%20value%3D%5C%22address%E4%BD%A0%E5%A5%BD%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Cn%5Ct%3Cbean%20id%3D%5C%22student%5C%22%20class%3D%5C%22pojo.Student%5C%22%3E%5Cn%5Ct%5Ct%3C!--%E7%AC%AC%E4%B8%80%E7%A7%8D%EF%BC%8C%E6%99%AE%E9%80%9A%E5%80%BC%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22name%E4%BD%A0%E5%A5%BD%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3C!--%E7%AC%AC%E4%BA%8C%E7%A7%8D%EF%BC%8Cref%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22address%5C%22%20ref%3D%5C%22address%5C%22%20%2F%3E%5Cn%5Cn%5Ct%5Ct%3C!--%E6%95%B0%E7%BB%84%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22books%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Carray%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E4%B8%89%E5%9B%BD%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E8%A5%BF%E6%B8%B8%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E6%B0%B4%E6%B5%92%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%3C%2Farray%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--list%E5%88%97%E8%A1%A8%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22hobbies%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Clist%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E5%94%B1%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E8%B7%B3%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Erap%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3E%E7%AF%AE%E7%90%83%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%3C%2Flist%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--map%E9%94%AE%E5%80%BC%E5%AF%B9%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22card%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cmap%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Centry%20key%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Centry%20key%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%5Ct%3C%2Fmap%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--set(%E5%8F%AF%E5%8E%BB%E9%87%8D)%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22game%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cset%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Ewangzhe%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Elol%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cvalue%3Egalname%3C%2Fvalue%3E%5Cn%5Ct%5Ct%5Ct%3C%2Fset%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--%E7%A9%BA%E6%8C%87%E9%92%88null%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22wife%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cnull%3E%3C%2Fnull%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Cn%5Ct%5Ct%3C!--properties%E5%B8%B8%E9%87%8F%E6%B3%A8%E5%85%A5%20--%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22infor%5C%22%3E%5Cn%5Ct%5Ct%5Ct%3Cprops%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cprop%20key%3D%5C%22id%5C%22%3E20200802%3C%2Fprop%3E%5Cn%5Ct%5Ct%5Ct%5Ct%3Cprop%20key%3D%5C%22name%5C%22%3Ecbh%3C%2Fprop%3E%5Cn%5Ct%5Ct%5Ct%3C%2Fprops%3E%5Cn%5Ct%5Ct%3C%2Fproperty%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fa8c1ab8%22%7D\"></card><p data-lake-id=\"u46ce3414\" id=\"u46ce3414\"><br></p><p data-lake-id=\"u77e948f4\" id=\"u77e948f4\"><span data-lake-id=\"ua6feb9e6\" id=\"ua6feb9e6\">MyTest3</span></p><p data-lake-id=\"u1fb06377\" id=\"u1fb06377\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20pojo.Student%3B%5Cn%5Cnpublic%20class%20MyTest3%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5Cn%5Ct%5CtStudent%20stu%20%3D%20(Student)%20context.getBean(%5C%22student%5C%22)%3B%5Cn%5Ct%5CtSystem.out.println(stu.toString())%3B%5Cn%5Ct%7D%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229db21316%22%7D\"></card><p data-lake-id=\"ua682be66\" id=\"ua682be66\"><br></p><h3 data-lake-id=\"3c94674f\" id=\"3c94674f\"><span data-lake-id=\"u6b15ba57\" id=\"u6b15ba57\">6.3、拓展注入</span></h3><p data-lake-id=\"u93a563b7\" id=\"u93a563b7\"><br></p><p data-lake-id=\"ub50d5d37\" id=\"ub50d5d37\"><span data-lake-id=\"u8cadda44\" id=\"u8cadda44\">官方文档位置</span></p><p data-lake-id=\"ubd07feee\" id=\"ubd07feee\"><br></p><p data-lake-id=\"uaa502723\" id=\"uaa502723\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471878381-057df3da-65e9-41cf-8804-c9d387f0fcf3.png%22%2C%22taskId%22%3A%22uda825a33-9e6c-4d24-ac9a-4ca18afea94%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713.5%2C%22height%22%3A328%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A326070%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1427%2C%22originHeight%22%3A656%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%221.2.%E5%AE%B9%E5%99%A8%E6%A0%B8%E8%BF%B7%201.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%201.3%2CBean%E6%80%BB%E8%A7%88%20%E5%A6%82%E4%B8%8A%E4%B8%80%E8%8A%82%E6%89%80%E8%BF%B0%2C%E6%82%A8%E5%8F%AF%E4%BB%A5bean%E5%B1%9E%E6%80%A7%E5%92%8C%E9%80%A0%E6%95%B0%E5%8F%82%E6%95%99%E5%AE%9A%E4%B9%89%E4%B8%BA%E5%AF%B9%E5%85%B6%E4%BB%96%E6%89%98%E7%AE%A1bean(%E5%8D%8F%E8%80%85)%E7%9A%84%E7%94%A8%E5%86%85%E8%81%94%201.4.%E4%BE%9D%E5%AD%98%E5%85%B3%E7%B3%BB%20XML%E7%9A%84%E9%85%8D%E7%BD%AE%E5%85%83%E4%B8%BA%E6%AD%A4%E7%9B%AE%E7%9A%84%E5%9C%A8%E5%85%B6gproperty%2F%E5%92%8Constructorarg%2F%E5%85%83%E7%B4%A0%E4%B8%AD%E6%94%AF%E6%8C%81%E5%AD%90%E5%85%83%E5%A4%B4%E7%B1%BB%E5%9E%8B%201.4.1%2C%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%201.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%20%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%20%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%20%E5%9C%A8value%E6%89%80%E7%9A%84%E5%B1%9E%E6%80%A7sproperty%2F3%E5%85%83%E7%B4%A0%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E6%88%96%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%82%E6%95%B0%E7%9A%84%E4%BA%BA%E7%B1%BB%E5%8F%AF%E8%AF%BB%E7%9A%84%E5%AE%81%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA%2CSprihg%E7%9A%84%20%E5%AF%B9%E5%85%B6%E4%BB%96Bean%E7%9A%84%E5%BC%95%E7%94%A8(%E5%8D%8F%E4%BD%9C%E8%80%85)%20%E6%8D%A2string%E4%B8%BA%E5%B1%9E%E6%80%A7%E6%88%96%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%9E%E9%99%85%E7%B1%BB%E5%9E%8B%2C%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%98%BE%E7%A4%BA%E4%BA%86%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%90%84%E7%A7%8D%E5%80%BC%3A%20%E5%86%85%E8%B1%86%20%E9%A6%86%E8%97%8F%20sbeanidweatasourtedhssong.pahe.m.caueo%20-resultsingsetDriverclassName(string%20CaLL--%3E%20%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%BC%E5%92%8C%E7%A9%BA%E5%AD%97%E7%89%B9%E4%B8%B2%E5%80%BC%20value'com.mysql.jdbe.Driver%2F%3E%20%3Cpropertyname-driverclassName%20%E7%9C%9F%E6%9C%89-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%20spropertynane-url%5C%22value-jdbc%3Amyq%3Acahot%20%E5%85%B7%E6%9C%89c-namespace%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%20%5C%22root%5C%22%2F%3E%20value-%5C%22%20%3Cproperty%20usernane%5C%22%20name%20%5C%22passwordvalue-%5C%22masterkaoli%2F%3E%20%3Cproperty%20name%20%E5%A4%8D%E5%90%88%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%20%3C%2Fbean%3E%201.4.3%2C%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96%201.4.4.%E6%87%92%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B1%86%20%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E5%B0%86P-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%94%A8%E4%BA%8E%E6%9B%B4%E7%AE%80%E6%B4%81%E7%9A%84XML%E9%85%8D%E7%BD%AE%201.4.5.%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%8D%8F%E4%BD%9C%E5%99%A8%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A24.087215%2C%22y%22%3A-1.250443%2C%22width%22%3A125.81227499999999%2C%22height%22%3A19.076933%2C%22text%22%3A%221.2.%E5%AE%B9%E5%99%A8%E6%A0%B8%E8%BF%B7%22%7D%2C%7B%22x%22%3A533.7639%2C%22y%22%3A15.422868%2C%22width%22%3A322.45949999999993%2C%22height%22%3A31.715097999999998%2C%22text%22%3A%221.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%22%7D%2C%7B%22x%22%3A23.977247%2C%22y%22%3A38.287422%2C%22width%22%3A131.573703%2C%22height%22%3A21.222552999999998%2C%22text%22%3A%221.3%2CBean%E6%80%BB%E8%A7%88%22%7D%2C%7B%22x%22%3A532.5748%2C%22y%22%3A73.64552%2C%22width%22%3A892.6387000000001%2C%22height%22%3A24.891949999999994%2C%22text%22%3A%22%E5%A6%82%E4%B8%8A%E4%B8%80%E8%8A%82%E6%89%80%E8%BF%B0%2C%E6%82%A8%E5%8F%AF%E4%BB%A5bean%E5%B1%9E%E6%80%A7%E5%92%8C%E9%80%A0%E6%95%B0%E5%8F%82%E6%95%99%E5%AE%9A%E4%B9%89%E4%B8%BA%E5%AF%B9%E5%85%B6%E4%BB%96%E6%89%98%E7%AE%A1bean(%E5%8D%8F%E8%80%85)%E7%9A%84%E7%94%A8%E5%86%85%E8%81%94%22%7D%2C%7B%22x%22%3A24.868717%2C%22y%22%3A79.921936%2C%22width%22%3A123.04708299999999%2C%22height%22%3A21.671024000000003%2C%22text%22%3A%221.4.%E4%BE%9D%E5%AD%98%E5%85%B3%E7%B3%BB%22%7D%2C%7B%22x%22%3A533.5664%2C%22y%22%3A104.10312%2C%22width%22%3A835.3528%2C%22height%22%3A28.094440000000006%2C%22text%22%3A%22XML%E7%9A%84%E9%85%8D%E7%BD%AE%E5%85%83%E4%B8%BA%E6%AD%A4%E7%9B%AE%E7%9A%84%E5%9C%A8%E5%85%B6gproperty%2F%E5%92%8Constructorarg%2F%E5%85%83%E7%B4%A0%E4%B8%AD%E6%94%AF%E6%8C%81%E5%AD%90%E5%85%83%E5%A4%B4%E7%B1%BB%E5%9E%8B%22%7D%2C%7B%22x%22%3A36.270008%2C%22y%22%3A120.627426%2C%22width%22%3A137.062072%2C%22height%22%3A21.529173999999998%2C%22text%22%3A%221.4.1%2C%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%22%7D%2C%7B%22x%22%3A36.657173%2C%22y%22%3A163.00208%2C%22width%22%3A214.412927%2C%22height%22%3A20.86972%2C%22text%22%3A%221.4.2.%E4%BE%9D%E8%B5%96%E6%80%A7%E5%92%8C%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%22%7D%2C%7B%22x%22%3A533.6175%2C%22y%22%3A173.76848%2C%22width%22%3A262.0802500000001%2C%22height%22%3A30.68849%2C%22text%22%3A%22%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%22%7D%2C%7B%22x%22%3A47.50443%2C%22y%22%3A204.54459%2C%22width%22%3A204.58481999999998%2C%22height%22%3A21.66157000000001%2C%22text%22%3A%22%E7%9B%B4%E5%80%BC(%E5%8E%9F%E8%AF%AD%2C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89)%22%7D%2C%7B%22x%22%3A544.0299%2C%22y%22%3A227.45966%2C%22width%22%3A865.3214%2C%22height%22%3A25.175539999999984%2C%22text%22%3A%22%E5%9C%A8value%E6%89%80%E7%9A%84%E5%B1%9E%E6%80%A7sproperty%2F3%E5%85%83%E7%B4%A0%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E6%88%96%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%82%E6%95%B0%E7%9A%84%E4%BA%BA%E7%B1%BB%E5%8F%AF%E8%AF%BB%E7%9A%84%E5%AE%81%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA%2CSprihg%E7%9A%84%22%7D%2C%7B%22x%22%3A47.615604%2C%22y%22%3A245.71992%2C%22width%22%3A252.33359600000003%2C%22height%22%3A23.441910000000007%2C%22text%22%3A%22%E5%AF%B9%E5%85%B6%E4%BB%96Bean%E7%9A%84%E5%BC%95%E7%94%A8(%E5%8D%8F%E4%BD%9C%E8%80%85)%22%7D%2C%7B%22x%22%3A544.036%2C%22y%22%3A259.75897%2C%22width%22%3A605.5634000000001%2C%22height%22%3A21.79050000000001%2C%22text%22%3A%22%E6%8D%A2string%E4%B8%BA%E5%B1%9E%E6%80%A7%E6%88%96%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%9E%E9%99%85%E7%B1%BB%E5%9E%8B%2C%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E6%98%BE%E7%A4%BA%E4%BA%86%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%90%84%E7%A7%8D%E5%80%BC%3A%22%7D%2C%7B%22x%22%3A47.88115%2C%22y%22%3A287.90396%2C%22width%22%3A40.692569999999996%2C%22height%22%3A18.63742000000002%2C%22text%22%3A%22%E5%86%85%E8%B1%86%22%7D%2C%7B%22x%22%3A47.319794%2C%22y%22%3A328.8128%2C%22width%22%3A41.160066%2C%22height%22%3A19.44022000000001%2C%22text%22%3A%22%E9%A6%86%E8%97%8F%22%7D%2C%7B%22x%22%3A567.3877%2C%22y%22%3A335.3154%2C%22width%22%3A855.7740000000001%2C%22height%22%3A18.446069999999963%2C%22text%22%3A%22sbeanidweatasourtedhssong.pahe.m.caueo%22%7D%2C%7B%22x%22%3A603.3692%2C%22y%22%3A364.81866%2C%22width%22%3A393.54267000000004%2C%22height%22%3A19.91967999999997%2C%22text%22%3A%22-resultsingsetDriverclassName(string%22%7D%2C%7B%22x%22%3A1010.62146%2C%22y%22%3A367.59207%2C%22width%22%3A73.69493999999997%2C%22height%22%3A15.185460000000035%2C%22text%22%3A%22CaLL--%3E%22%7D%2C%7B%22x%22%3A46.361942%2C%22y%22%3A370.54004%2C%22width%22%3A214.322538%2C%22height%22%3A21.01538000000005%2C%22text%22%3A%22%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%BC%E5%92%8C%E7%A9%BA%E5%AD%97%E7%89%B9%E4%B8%B2%E5%80%BC%22%7D%2C%7B%22x%22%3A904.0768%2C%22y%22%3A395.27393%2C%22width%22%3A279.2318%2C%22height%22%3A17.70843000000002%2C%22text%22%3A%22value'com.mysql.jdbe.Driver%2F%3E%22%7D%2C%7B%22x%22%3A602.96716%2C%22y%22%3A397.88177%2C%22width%22%3A283.96034%2C%22height%22%3A17.625069999999994%2C%22text%22%3A%22%3Cpropertyname-driverclassName%22%7D%2C%7B%22x%22%3A48.658962%2C%22y%22%3A413.278%2C%22width%22%3A266.316598%2C%22height%22%3A20.553499999999985%2C%22text%22%3A%22%E7%9C%9F%E6%9C%89-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%22%7D%2C%7B%22x%22%3A604.2065%2C%22y%22%3A427.08914%2C%22width%22%3A567.1103%2C%22height%22%3A17.70658000000003%2C%22text%22%3A%22spropertynane-url%5C%22value-jdbc%3Amyq%3Acahot%22%7D%2C%7B%22x%22%3A47.948803%2C%22y%22%3A452.95316%2C%22width%22%3A290.899217%2C%22height%22%3A23.837339999999983%2C%22text%22%3A%22%E5%85%B7%E6%9C%89c-namespace%E7%9A%84XML%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%22%7D%2C%7B%22x%22%3A889.3476%2C%22y%22%3A457.6973%2C%22width%22%3A72.05125999999996%2C%22height%22%3A16.44100000000003%2C%22text%22%3A%22%5C%22root%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A833.6471%2C%22y%22%3A459.6132%2C%22width%22%3A66.01800000000003%2C%22height%22%3A13.73005999999998%2C%22text%22%3A%22value-%5C%22%22%7D%2C%7B%22x%22%3A603.4438%2C%22y%22%3A459.85068%2C%22width%22%3A82.4633%2C%22height%22%3A14.966759999999965%2C%22text%22%3A%22%3Cproperty%22%7D%2C%7B%22x%22%3A750.7158%2C%22y%22%3A459.87845%2C%22width%22%3A75.20720000000006%2C%22height%22%3A13.730250000000012%2C%22text%22%3A%22usernane%5C%22%22%7D%2C%7B%22x%22%3A687.9363%2C%22y%22%3A461.89807%2C%22width%22%3A45.458000000000084%2C%22height%22%3A11.55840999999998%2C%22text%22%3A%22name%22%7D%2C%7B%22x%22%3A738.64264%2C%22y%22%3A488.859%2C%22width%22%3A290.9183599999999%2C%22height%22%3A15.985500000000002%2C%22text%22%3A%22%5C%22passwordvalue-%5C%22masterkaoli%2F%3E%22%7D%2C%7B%22x%22%3A604.19415%2C%22y%22%3A491.46323%2C%22width%22%3A82.53094999999996%2C%22height%22%3A14.248289999999997%2C%22text%22%3A%22%3Cproperty%22%7D%2C%7B%22x%22%3A690.8706%2C%22y%22%3A493.22842%2C%22width%22%3A45.867560000000026%2C%22height%22%3A10.680979999999977%2C%22text%22%3A%22name%22%7D%2C%7B%22x%22%3A48.128197%2C%22y%22%3A494.06586%2C%22width%22%3A117.72509299999999%2C%22height%22%3A20.410840000000064%2C%22text%22%3A%22%E5%A4%8D%E5%90%88%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%22%7D%2C%7B%22x%22%3A565.5256%2C%22y%22%3A517.5916%2C%22width%22%3A65.21349999999995%2C%22height%22%3A16.612439999999992%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A37.393337%2C%22y%22%3A536.9034%2C%22width%22%3A139.837303%2C%22height%22%3A18.551600000000008%2C%22text%22%3A%221.4.3%2C%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96%22%7D%2C%7B%22x%22%3A36.61345%2C%22y%22%3A576.8362%2C%22width%22%3A157.94223%2C%22height%22%3A20.87729999999999%2C%22text%22%3A%221.4.4.%E6%87%92%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B1%86%22%7D%2C%7B%22x%22%3A533.69055%2C%22y%22%3A608.6612%2C%22width%22%3A417.10934999999995%2C%22height%22%3A23.799859999999967%2C%22text%22%3A%22%E4%BB%A5%E4%B8%8B%E7%A4%BA%E4%BE%8B%E5%B0%86P-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%94%A8%E4%BA%8E%E6%9B%B4%E7%AE%80%E6%B4%81%E7%9A%84XML%E9%85%8D%E7%BD%AE%22%7D%2C%7B%22x%22%3A35.175392%2C%22y%22%3A618.7481%2C%22width%22%3A197.883978%2C%22height%22%3A21.40034000000003%2C%22text%22%3A%221.4.5.%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%8D%8F%E4%BD%9C%E5%99%A8%22%7D%5D%2C%22id%22%3A%22u58d619ea%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u47db98f2\" id=\"u47db98f2\"><br></p><p data-lake-id=\"ue344f449\" id=\"ue344f449\"><span data-lake-id=\"ub9034603\" id=\"ub9034603\">pojo增加User类</span></p><p data-lake-id=\"u5730d9df\" id=\"u5730d9df\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cn%5Cnpublic%20class%20User%20%7B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%20%20%20%20private%20int%20id%3B%5Cn%5Ctpublic%20User()%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%7D%5Cn%5Ctpublic%20User(String%20name%2C%20int%20id)%20%7B%5Cn%5Ct%5Ctsuper()%3B%5Cn%5Ct%5Ctthis.name%20%3D%20name%3B%5Cn%5Ct%5Ctthis.id%20%3D%20id%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20String%20getName()%20%7B%5Cn%5Ct%5Ctreturn%20name%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20void%20setName(String%20name)%20%7B%5Cn%5Ct%5Ctthis.name%20%3D%20name%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20int%20getId()%20%7B%5Cn%5Ct%5Ctreturn%20id%3B%5Cn%5Ct%7D%5Cn%5Ctpublic%20void%20setId(int%20id)%20%7B%5Cn%5Ct%5Ctthis.id%20%3D%20id%3B%5Cn%5Ct%7D%5Cn%5Ct%40Override%5Cn%5Ctpublic%20String%20toString()%20%7B%5Cn%5Ct%5Ctreturn%20%5C%22User%20%5Bname%3D%5C%22%20%2B%20name%20%2B%20%5C%22%2C%20id%3D%5C%22%20%2B%20id%20%2B%20%5C%22%5D%5C%22%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226e372cdd%22%7D\"></card><p data-lake-id=\"ua74e3d3f\" id=\"ua74e3d3f\"><br></p><p data-lake-id=\"ufc28a002\" id=\"ufc28a002\"><span data-lake-id=\"u3d00df98\" id=\"u3d00df98\">注意： beans 里面加上这下面两行</span></p><p data-lake-id=\"ue68b5664\" id=\"ue68b5664\"><br></p><p data-lake-id=\"u7a5e68e8\" id=\"u7a5e68e8\"><span data-lake-id=\"u30bdbf48\" id=\"u30bdbf48\">使用p和c命名空间需要导入xml约束</span></p><p data-lake-id=\"u30710d1b\" id=\"u30710d1b\"><br></p><p data-lake-id=\"u6e044ffa\" id=\"u6e044ffa\"><span data-lake-id=\"uf621ba01\" id=\"uf621ba01\">xmlns:p=“http://www.springframework.org/schema/p”<br /></span><span data-lake-id=\"u9bb1e115\" id=\"u9bb1e115\">xmlns:c=“http://www.springframework.org/schema/c”</span></p><p data-lake-id=\"ue5d1209f\" id=\"ue5d1209f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Ap%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fp%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Ac%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fc%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3C!--p%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E6%B3%A8%E5%85%A5%2Fset%E6%B3%A8%E5%85%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7%E7%9A%84%E5%80%BC-%E3%80%8Bproperty--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22user%5C%22%20class%3D%5C%22pojo.User%5C%22%20p%3Aname%3D%5C%22cxk%5C%22%20p%3Aid%3D%5C%2220%5C%22%20%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%20%20%20%20%3C!--c%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%EF%BC%8C%E9%80%9A%E8%BF%87%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5%EF%BC%8C%E9%9C%80%E8%A6%81%E5%86%99%E5%85%A5%E6%9C%89%E5%8F%82%E5%92%8C%E6%97%A0%E5%8F%82%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-%E3%80%8Bconstruct-args--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22user2%5C%22%20class%3D%5C%22pojo.User%5C%22%20c%3Aname%3D%5C%22cbh%5C%22%20c%3Aid%3D%5C%2222%5C%22%3E%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224296cc52%22%7D\"></card><p data-lake-id=\"u10591681\" id=\"u10591681\"><br></p><p data-lake-id=\"u954c0a1a\" id=\"u954c0a1a\"><span data-lake-id=\"u8fcf3709\" id=\"u8fcf3709\">测试</span></p><p data-lake-id=\"u750d7056\" id=\"u750d7056\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22beans.xml%5C%22)%3B%5CnUser%20user%20%3D%20context.getBean(%5C%22user%5C%22%2CUser.class)%3B%2F%2F%E7%A1%AE%E5%AE%9Aclass%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%B1%E4%B8%8D%E7%94%A8%E5%86%8D%E5%BC%BA%E8%BD%AC%E4%BA%86%5CnSystem.out.println(user.toString())%3B%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2273a0d61e%22%7D\"></card><p data-lake-id=\"u479fc57b\" id=\"u479fc57b\"><br></p><h3 data-lake-id=\"16334c78\" id=\"16334c78\"><span data-lake-id=\"u22b8a0ff\" id=\"u22b8a0ff\">6.4、Bean作用域</span></h3><p data-lake-id=\"uc4928608\" id=\"uc4928608\"><br></p><p data-lake-id=\"u394fad2b\" id=\"u394fad2b\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471904621-7ed632de-12df-40e9-a3b9-ae6b4a446088.png%22%2C%22taskId%22%3A%22u236a3f01-9665-409c-89c8-6110309854a%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A712%2C%22height%22%3A422%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A421622%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1424%2C%22originHeight%22%3A843%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Table3.BeanscopES%20Description%20scope%20Deiaulyscopesasinglebeandeintiontoasinglbjectinsacoeachspring%20singleton%20container.%20Scopesasinglebeandefinitiontoaumrjectistce%20prototype%20Scopesasingebeandeinitontothlfyef%20request%20ofabeancreatedoffthebackofasinglebeandefinitionl%20requesthasitsowninstanceof%20validinthecontextofaweb-awareSoring%20ApplicationConText%20lebeandefinitiontothelifecycleofanHTTP%20Onlyvalidinthecontext%20Scopesasingle%20session%20Session%20ofaweb-awareSoring%20gApplicationContext%20Onlyvalidinthecontext%20Scopesasinglebeandefinitiontothelifyclofaserletcontext%20application%20ofaweb-awareSpringApplicationContext%20Onlyvalidinthecontextofa%20Scopesasinglebeandefinitiontothelifecycleofa%20websocket%20Websocket%20web-awareSpringApplicationContext%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A14.584339%2C%22y%22%3A9.439398%2C%22width%22%3A263.021831%2C%22height%22%3A29.712408%2C%22text%22%3A%22Table3.BeanscopES%22%7D%2C%7B%22x%22%3A313.77054%2C%22y%22%3A92.304596%2C%22width%22%3A149.07059000000004%2C%22height%22%3A31.143333999999996%2C%22text%22%3A%22Description%22%7D%2C%7B%22x%22%3A28.288778%2C%22y%22%3A94.754524%2C%22width%22%3A79.77137199999999%2C%22height%22%3A27.871606%2C%22text%22%3A%22scope%22%7D%2C%7B%22x%22%3A313.93222%2C%22y%22%3A163.16855%2C%22width%22%3A1020.0167800000002%2C%22height%22%3A34.86703%2C%22text%22%3A%22Deiaulyscopesasinglebeandeintiontoasinglbjectinsacoeachspring%22%7D%2C%7B%22x%22%3A27.190334%2C%22y%22%3A165.09358%2C%22width%22%3A114.83275599999999%2C%22height%22%3A29.579880000000003%2C%22text%22%3A%22singleton%22%7D%2C%7B%22x%22%3A314.97665%2C%22y%22%3A210.65306%2C%22width%22%3A122.41546999999997%2C%22height%22%3A23.04760999999999%2C%22text%22%3A%22container.%22%7D%2C%7B%22x%22%3A311.78745%2C%22y%22%3A276.43265%2C%22width%22%3A786.00135%2C%22height%22%3A30.74562999999995%2C%22text%22%3A%22Scopesasinglebeandefinitiontoaumrjectistce%22%7D%2C%7B%22x%22%3A30.286507%2C%22y%22%3A280.26218%2C%22width%22%3A119.37445299999999%2C%22height%22%3A23.760370000000023%2C%22text%22%3A%22prototype%22%7D%2C%7B%22x%22%3A312.95502%2C%22y%22%3A345.8068%2C%22width%22%3A1065.47318%2C%22height%22%3A30.669399999999996%2C%22text%22%3A%22Scopesasingebeandeinitontothlfyef%22%7D%2C%7B%22x%22%3A29.592064%2C%22y%22%3A349.9837%2C%22width%22%3A96.022166%2C%22height%22%3A21.734620000000007%2C%22text%22%3A%22request%22%7D%2C%7B%22x%22%3A658.3521%2C%22y%22%3A384.8068%2C%22width%22%3A735.7104%2C%22height%22%3A30.349099999999964%2C%22text%22%3A%22ofabeancreatedoffthebackofasinglebeandefinitionl%22%7D%2C%7B%22x%22%3A312.24738%2C%22y%22%3A387.87704%2C%22width%22%3A360.94818%2C%22height%22%3A25.830659999999966%2C%22text%22%3A%22requesthasitsowninstanceof%22%7D%2C%7B%22x%22%3A311.17245%2C%22y%22%3A427.68893%2C%22width%22%3A514.8730499999999%2C%22height%22%3A27.845799999999997%2C%22text%22%3A%22validinthecontextofaweb-awareSoring%22%7D%2C%7B%22x%22%3A812.8032%2C%22y%22%3A428.6948%2C%22width%22%3A240.20709999999997%2C%22height%22%3A25.603049999999996%2C%22text%22%3A%22ApplicationConText%22%7D%2C%7B%22x%22%3A487.93225%2C%22y%22%3A491.02414%2C%22width%22%3A506.36774999999994%2C%22height%22%3A32.52135999999996%2C%22text%22%3A%22lebeandefinitiontothelifecycleofanHTTP%22%7D%2C%7B%22x%22%3A1115.1062%2C%22y%22%3A494.40344%2C%22width%22%3A294.0381%2C%22height%22%3A28.29825999999997%2C%22text%22%3A%22Onlyvalidinthecontext%22%7D%2C%7B%22x%22%3A312.68237%2C%22y%22%3A494.48843%2C%22width%22%3A191.87900000000002%2C%22height%22%3A31.11221999999998%2C%22text%22%3A%22Scopesasingle%22%7D%2C%7B%22x%22%3A28.237474%2C%22y%22%3A496.7709%2C%22width%22%3A92.548036%2C%22height%22%3A22.76615000000004%2C%22text%22%3A%22session%22%7D%2C%7B%22x%22%3A1007.8871%2C%22y%22%3A499.87982%2C%22width%22%3A90.37720000000002%2C%22height%22%3A20.416380000000004%2C%22text%22%3A%22Session%22%7D%2C%7B%22x%22%3A313.43744%2C%22y%22%3A535.7779%2C%22width%22%3A274.638%2C%22height%22%3A29.089039999999954%2C%22text%22%3A%22ofaweb-awareSoring%22%7D%2C%7B%22x%22%3A569.93304%2C%22y%22%3A536.5699%2C%22width%22%3A250.30485999999996%2C%22height%22%3A25.87760000000003%2C%22text%22%3A%22gApplicationContext%22%7D%2C%7B%22x%22%3A1115.9946%2C%22y%22%3A600.7325%2C%22width%22%3A295.5102999999999%2C%22height%22%3A32.5684%2C%22text%22%3A%22Onlyvalidinthecontext%22%7D%2C%7B%22x%22%3A313.41428%2C%22y%22%3A603.1799%2C%22width%22%3A784.92212%2C%22height%22%3A29.697540000000004%2C%22text%22%3A%22Scopesasinglebeandefinitiontothelifyclofaserletcontext%22%7D%2C%7B%22x%22%3A29.002136%2C%22y%22%3A604.1563%2C%22width%22%3A135.34686399999998%2C%22height%22%3A30.547860000000014%2C%22text%22%3A%22application%22%7D%2C%7B%22x%22%3A317.99823%2C%22y%22%3A645.357%2C%22width%22%3A499.27077%2C%22height%22%3A27.736440000000016%2C%22text%22%3A%22ofaweb-awareSpringApplicationContext%22%7D%2C%7B%22x%22%3A1053.8529%2C%22y%22%3A712.9187%2C%22width%22%3A347.2844%2C%22height%22%3A26.99980000000005%2C%22text%22%3A%22Onlyvalidinthecontextofa%22%7D%2C%7B%22x%22%3A313.55988%2C%22y%22%3A712.30206%2C%22width%22%3A597.17592%2C%22height%22%3A28.880340000000047%2C%22text%22%3A%22Scopesasinglebeandefinitiontothelifecycleofa%22%7D%2C%7B%22x%22%3A29.892937%2C%22y%22%3A713.9781%2C%22width%22%3A131.16448300000002%2C%22height%22%3A24.962499999999977%2C%22text%22%3A%22websocket%22%7D%2C%7B%22x%22%3A921.94226%2C%22y%22%3A718.20764%2C%22width%22%3A114.68344000000002%2C%22height%22%3A21.837660000000028%2C%22text%22%3A%22Websocket%22%7D%2C%7B%22x%22%3A312.27615%2C%22y%22%3A756.11884%2C%22width%22%3A457.18735%2C%22height%22%3A26.873710000000074%2C%22text%22%3A%22web-awareSpringApplicationContext%22%7D%5D%2C%22id%22%3A%22u6d12e90f%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u2d12ff40\" id=\"u2d12ff40\"><br></p><p data-lake-id=\"u97471f29\" id=\"u97471f29\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471928095-937427a8-29ae-435a-b602-df741f768463.png%22%2C%22taskId%22%3A%22ubdb4b1f9-53e8-4604-a7d3-3d0df1261d0%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713.5%2C%22height%22%3A377%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A374384%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1427%2C%22originHeight%22%3A753%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E8%A1%A83.Bean%E4%BD%9C%E7%94%A8%E5%9F%9F%20%E6%8F%8F%E8%BF%B0%20%E8%8C%83%E5%9B%B4%20%E5%8D%95%E8%BA%AB%E4%BA%BA%E5%A3%AB%20(%E9%BB%98%E8%AE%A4)%E4%B8%BA%E6%AF%8F%E4%B8%AASpringloc%E5%AE%B9%E5%99%A8%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E4%BB%BB%E6%84%8F%E6%95%B0%E9%87%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%20%E5%8E%9F%E5%9E%8B%20%E8%AF%B7%E6%B1%82%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AAHTP%E6%B8%85%E6%B1%82%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%2C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%2C%E6%AF%8FHTP%E8%AF%B7%E6%B1%82%E9%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%9C%A8%E5%8D%95%20%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E5%90%8E%E9%9D%A2%E5%88%9B%E5%BB%BA%E7%9A%84bean%E5%AE%9E%E4%BE%8B%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88plicationcontext.%20%E4%BC%9A%E8%AE%AE%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BAHTP%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fsesion%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%BD%91spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%20ApplicationContext%20.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84Spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%20%E5%BA%94%E7%94%A8%20Seryletcontext%20%E6%9C%89%E6%95%88ApplicationConText%20%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9D%87%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fwebsocke.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%8F%E7%BD%91%E7%BB%9CSpring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%20%E7%BD%91%E7%BB%9C%E5%A5%97%E6%8E%A5%E5%AD%97%20ApplicationContext%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A12.144462%2C%22y%22%3A5.494326%2C%22width%22%3A198.705998%2C%22height%22%3A29.005876%2C%22text%22%3A%22%E8%A1%A83.Bean%E4%BD%9C%E7%94%A8%E5%9F%9F%22%7D%2C%7B%22x%22%3A313.19604%2C%22y%22%3A91.362595%2C%22width%22%3A53.01069000000001%2C%22height%22%3A28.842040999999995%2C%22text%22%3A%22%E6%8F%8F%E8%BF%B0%22%7D%2C%7B%22x%22%3A28.372595%2C%22y%22%3A91.82853%2C%22width%22%3A53.983965%2C%22height%22%3A28.19847%2C%22text%22%3A%22%E8%8C%83%E5%9B%B4%22%7D%2C%7B%22x%22%3A28.6982%2C%22y%22%3A163.3566%2C%22width%22%3A103.41861999999999%2C%22height%22%3A26.667250000000024%2C%22text%22%3A%22%E5%8D%95%E8%BA%AB%E4%BA%BA%E5%A3%AB%22%7D%2C%7B%22x%22%3A332.25116%2C%22y%22%3A162.57925%2C%22width%22%3A853.59494%2C%22height%22%3A29.51271%2C%22text%22%3A%22(%E9%BB%98%E8%AE%A4)%E4%B8%BA%E6%AF%8F%E4%B8%AASpringloc%E5%AE%B9%E5%99%A8%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%22%7D%2C%7B%22x%22%3A311.199%2C%22y%22%3A231.94147%2C%22width%22%3A604.36185%2C%22height%22%3A29.046629999999965%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E4%BB%BB%E6%84%8F%E6%95%B0%E9%87%8F%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B.%22%7D%2C%7B%22x%22%3A29.22308%2C%22y%22%3A232.65906%2C%22width%22%3A52.24669%2C%22height%22%3A26.737179999999967%2C%22text%22%3A%22%E5%8E%9F%E5%9E%8B%22%7D%2C%7B%22x%22%3A26.530003%2C%22y%22%3A299.78918%2C%22width%22%3A56.075061%2C%22height%22%3A30.290840000000003%2C%22text%22%3A%22%E8%AF%B7%E6%B1%82%22%7D%2C%7B%22x%22%3A311.8542%2C%22y%22%3A301.52795%2C%22width%22%3A1097.1688%2C%22height%22%3A29.247100000000046%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BA%E5%8D%95%E4%B8%AAHTP%E6%B8%85%E6%B1%82%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%2C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%2C%E6%AF%8FHTP%E8%AF%B7%E6%B1%82%E9%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%9C%A8%E5%8D%95%22%7D%2C%7B%22x%22%3A313.64304%2C%22y%22%3A336.97586%2C%22width%22%3A1063.4029600000001%2C%22height%22%3A38.52994000000001%2C%22text%22%3A%22%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E5%90%8E%E9%9D%A2%E5%88%9B%E5%BB%BA%E7%9A%84bean%E5%AE%9E%E4%BE%8B%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88plicationcontext.%22%7D%2C%7B%22x%22%3A27.74927%2C%22y%22%3A410.14972%2C%22width%22%3A55.42434%2C%22height%22%3A30.363159999999993%2C%22text%22%3A%22%E4%BC%9A%E8%AE%AE%22%7D%2C%7B%22x%22%3A311.08432%2C%22y%22%3A410.50638%2C%22width%22%3A1095.3203800000001%2C%22height%22%3A29.018060000000048%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E8%8C%83%E5%9B%B4%E9%99%90%E5%AE%9A%E4%B8%BAHTP%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fsesion%2C%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%BD%91spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%22%7D%2C%7B%22x%22%3A321.60364%2C%22y%22%3A456.00003%2C%22width%22%3A224.38385999999997%2C%22height%22%3A23.201940000000036%2C%22text%22%3A%22ApplicationContext%22%7D%2C%7B%22x%22%3A1011.4224%2C%22y%22%3A517.7054%2C%22width%22%3A388.14319999999987%2C%22height%22%3A32.56772999999998%2C%22text%22%3A%22.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%9F%E7%9F%A5%E7%BD%91%E7%BB%9C%E7%9A%84Spring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%22%7D%2C%7B%22x%22%3A311.4814%2C%22y%22%3A518.71857%2C%22width%22%3A492.2953%2C%22height%22%3A29.80592999999999%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%99%90%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%22%7D%2C%7B%22x%22%3A28.167027%2C%22y%22%3A521.81305%2C%22width%22%3A53.355289%2C%22height%22%3A26.047750000000065%2C%22text%22%3A%22%E5%BA%94%E7%94%A8%22%7D%2C%7B%22x%22%3A812.8699%2C%22y%22%3A528.2155%2C%22width%22%3A181.4266%2C%22height%22%3A17.583399999999983%2C%22text%22%3A%22Seryletcontext%22%7D%2C%7B%22x%22%3A320.04077%2C%22y%22%3A561.41516%2C%22width%22%3A279.21403000000004%2C%22height%22%3A26.66247999999996%2C%22text%22%3A%22%E6%9C%89%E6%95%88ApplicationConText%22%7D%2C%7B%22x%22%3A310.90848%2C%22y%22%3A626.409%2C%22width%22%3A1083.3690199999999%2C%22height%22%3A34.468560000000025%2C%22text%22%3A%22%E5%B0%86%E5%8D%95%E4%B8%AAbean%E5%AE%9A%E4%B9%89%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9D%87%E5%AE%9A%E4%B8%BA%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9Fwebsocke.%E4%BB%85%E5%9C%A8%E5%8F%AF%E6%84%8F%E7%BD%91%E7%BB%9CSpring%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E6%9C%89%E6%95%88%22%7D%2C%7B%22x%22%3A29.066113%2C%22y%22%3A629.8826%2C%22width%22%3A128.009357%2C%22height%22%3A26.58865000000003%2C%22text%22%3A%22%E7%BD%91%E7%BB%9C%E5%A5%97%E6%8E%A5%E5%AD%97%22%7D%2C%7B%22x%22%3A320.3262%2C%22y%22%3A672.038%2C%22width%22%3A230.28037000000006%2C%22height%22%3A25.92274999999995%2C%22text%22%3A%22ApplicationContext%22%7D%5D%2C%22id%22%3A%22u79de32bf%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"uaed8d8b2\" id=\"uaed8d8b2\"><br></p><ol list=\"ubc935adb\"><li fid=\"u87e7d33e\" data-lake-id=\"u48051658\" id=\"u48051658\"><span data-lake-id=\"uf81dc518\" id=\"uf81dc518\"> 单例模式（默认） </span><span data-lake-id=\"uc2603b63\" id=\"uc2603b63\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user2%5C%22%20class%3D%5C%22pojo.User%5C%22%20c%3Aname%3D%5C%22cxk%5C%22%20c%3Aage%3D%5C%2219%5C%22%20scope%3D%5C%22singleton%5C%22%3E%3C%2Fbean%3E%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f91b4cc0%22%7D\"></card><p data-lake-id=\"u2cd2b019\" id=\"u2cd2b019\"><br></p><p data-lake-id=\"u73835292\" id=\"u73835292\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625471985296-9123fd81-1e81-4c8e-beba-1596e15f352a.png%22%2C%22taskId%22%3A%22u3910b108-eea1-4fb9-bf65-538b0106af5%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A719%2C%22height%22%3A331%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A310107%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1438%2C%22originHeight%22%3A662%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%3Cbeanide...%5C%22%20class-%5C%22...%5C%22%3E%20Onlyoneinstanceisevercreated...%20%3Cpropertyname-%5C%22accountDao%5C%22%20refz%5C%22accountDao%5C%22%3E%20%3C%2Fbean%3E%20ida..class-..%5C%22%3E%20%3Cbean%20%3Cpropertyname-%5C%22accountDao%20cef-%5C%22accountDao%5C%22%2F%3E%20class-%5C%22...%5C%22%2F%3E%20sbeanid-HaccountDao%5C%22%20%3C%2Fbean%3E%20%3Cbeanida...class...%5C%22%3E%20%3Cpropertyname-%5C%22accountDao%20refz%5C%22accountDao%5C%22%3E%20%3C%2Fbeanx%20intoeachcollaboratingobject%20andthissamesharedinstanceisinjctditoe%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A41.269245%2C%22y%22%3A46.18771%2C%22width%22%3A212.258325%2C%22height%22%3A21.95279%2C%22text%22%3A%22%3Cbeanide...%5C%22%22%7D%2C%7B%22x%22%3A266.28677%2C%22y%22%3A47.967854%2C%22width%22%3A171.90097000000003%2C%22height%22%3A21.139796000000004%2C%22text%22%3A%22class-%5C%22...%5C%22%3E%22%7D%2C%7B%22x%22%3A694.1427%2C%22y%22%3A49.979984%2C%22width%22%3A631.3152000000001%2C%22height%22%3A42.49058599999999%2C%22text%22%3A%22Onlyoneinstanceisevercreated...%22%7D%2C%7B%22x%22%3A103.48737%2C%22y%22%3A77.13822%2C%22width%22%3A404.80606%2C%22height%22%3A25.866013999999993%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%5C%22%22%7D%2C%7B%22x%22%3A250.83527%2C%22y%22%3A106.17953%2C%22width%22%3A271.9570299999999%2C%22height%22%3A22.80413999999999%2C%22text%22%3A%22refz%5C%22accountDao%5C%22%3E%22%7D%2C%7B%22x%22%3A39.82959%2C%22y%22%3A137.46846%2C%22width%22%3A102.22366%2C%22height%22%3A21.856490000000008%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A139.30316%2C%22y%22%3A237.81306%2C%22width%22%3A305.05252%2C%22height%22%3A21.000569999999982%2C%22text%22%3A%22ida..class-..%5C%22%3E%22%7D%2C%7B%22x%22%3A43.96812%2C%22y%22%3A241.43031%2C%22width%22%3A71.11852%2C%22height%22%3A18.18839%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A101.11072%2C%22y%22%3A265.04007%2C%22width%22%3A405.21966%2C%22height%22%3A27.25772999999998%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%22%7D%2C%7B%22x%22%3A249.96025%2C%22y%22%3A297.7104%2C%22width%22%3A272.50915%2C%22height%22%3A26.226730000000032%2C%22text%22%3A%22cef-%5C%22accountDao%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A1186.8196%2C%22y%22%3A308.53006%2C%22width%22%3A202.39229999999998%2C%22height%22%3A24.255040000000008%2C%22text%22%3A%22class-%5C%22...%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A848.99554%2C%22y%22%3A308.97745%2C%22width%22%3A308.1062599999999%2C%22height%22%3A22.67959000000002%2C%22text%22%3A%22sbeanid-HaccountDao%5C%22%22%7D%2C%7B%22x%22%3A41.01014%2C%22y%22%3A329.00812%2C%22width%22%3A101.70590999999999%2C%22height%22%3A20.496759999999995%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A41.62623%2C%22y%22%3A419.80777%2C%22width%22%3A403.2929%2C%22height%22%3A24.50436000000002%2C%22text%22%3A%22%3Cbeanida...class...%5C%22%3E%22%7D%2C%7B%22x%22%3A103.0713%2C%22y%22%3A452.01987%2C%22width%22%3A403.66396%2C%22height%22%3A27.17140999999998%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%22%7D%2C%7B%22x%22%3A249.32343%2C%22y%22%3A482.01624%2C%22width%22%3A274.79436999999996%2C%22height%22%3A23.40142000000003%2C%22text%22%3A%22refz%5C%22accountDao%5C%22%3E%22%7D%2C%7B%22x%22%3A40.141888%2C%22y%22%3A513.46967%2C%22width%22%3A102.991702%2C%22height%22%3A20.59289000000001%2C%22text%22%3A%22%3C%2Fbeanx%22%7D%2C%7B%22x%22%3A850.7997%2C%22y%22%3A594.92975%2C%22width%22%3A522.4825000000001%2C%22height%22%3A42.36559999999997%2C%22text%22%3A%22intoeachcollaboratingobject%22%7D%2C%7B%22x%22%3A89.77681%2C%22y%22%3A598.2496%2C%22width%22%3A826.7422300000001%2C%22height%22%3A38.836700000000064%2C%22text%22%3A%22andthissamesharedinstanceisinjctditoe%22%7D%5D%2C%22id%22%3A%22u44aa8f75%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"uaa494d98\" id=\"uaa494d98\"><br />弹幕评论：单例模式是把对象放在pool中，需要再取出来，使用的都是同一个对象实例</span></p><p data-lake-id=\"udb674de6\" id=\"udb674de6\"><br></p><ol list=\"u78373e2c\"><li fid=\"u328bfe0e\" data-lake-id=\"u62ec68c2\" id=\"u62ec68c2\"><span data-lake-id=\"uf9674af5\" id=\"uf9674af5\"> 原型模式: 每次从容器中get的时候，都产生一个新对象！ </span><span data-lake-id=\"u820ed28c\" id=\"u820ed28c\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22user2%5C%22%20class%3D%5C%22pojo.User%5C%22%20c%3Aname%3D%5C%22cxk%5C%22%20c%3Aage%3D%5C%2219%5C%22%20scope%3D%5C%22prototype%5C%22%3E%3C%2Fbean%3E%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fa8b79aa%22%7D\"></card><p data-lake-id=\"u91bdbb59\" id=\"u91bdbb59\"><br></p><p data-lake-id=\"u1a1200c2\" id=\"u1a1200c2\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472006517-1d85d479-1c63-4354-8b85-3b700f0423e2.png%22%2C%22taskId%22%3A%22ua3770b8a-768b-48a4-8ed9-aba7346dfd7%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A710.5%2C%22height%22%3A330%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A290775%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1421%2C%22originHeight%22%3A659%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22...%5C%22%3E%20class-%20id-%5C%22%20%3Cbean%20Abrandnewbeaninstanceiscreated...%20%3Cproperty%20accountDao%20name%E4%B8%89%20ref-%5C%22accountDao%5C%22%2F%3E%20%3C%2Fbean%3E%20nid-n..%5C%22class-%5C%22...n%3E%20%3Cbean1%20%3Cpropertyname-%5C%22accountDao%20ref-%5C%22accountDao%5C%22%2F%3E%20id-%5C%22accountDaoclass-%5C%22..-%20%3Cbean%20%3C%2Fbean%3E%20scope-%5C%22prototype%5C%22%2F%3E%20id-%5C%22...%5C%22%20%3Cbean%20class%E4%B8%89%5C%22.%20%3Cpropertyname-%5C%22accountDao%5C%22%20ref-%5C%22accountDao%5C%227%3E%20%3C%2Fbean%3E%20eachandeverytimethepr%20heprototypeisreferencedbycollaboratingbeans%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A371.96277%2C%22y%22%3A41.21809%2C%22width%22%3A66.63363000000004%2C%22height%22%3A24.56651%2C%22text%22%3A%22...%5C%22%3E%22%7D%2C%7B%22x%22%3A262.60474%2C%22y%22%3A42.13552%2C%22width%22%3A88.1137%2C%22height%22%3A22.87845%2C%22text%22%3A%22class-%22%7D%2C%7B%22x%22%3A130.22412%2C%22y%22%3A42.488842%2C%22width%22%3A64.00310999999999%2C%22height%22%3A19.81295%2C%22text%22%3A%22id-%5C%22%22%7D%2C%7B%22x%22%3A43.098774%2C%22y%22%3A42.697205%2C%22width%22%3A70.19492600000001%2C%22height%22%3A20.14777%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A630.18555%2C%22y%22%3A45.04186%2C%22width%22%3A693.7150499999999%2C%22height%22%3A38.040639999999996%2C%22text%22%3A%22Abrandnewbeaninstanceiscreated...%22%7D%2C%7B%22x%22%3A102.01103%2C%22y%22%3A73.90814%2C%22width%22%3A131.14168%2C%22height%22%3A22.521739999999994%2C%22text%22%3A%22%3Cproperty%22%7D%2C%7B%22x%22%3A341.70383%2C%22y%22%3A71.265915%2C%22width%22%3A142.58935000000002%2C%22height%22%3A23.563435%2C%22text%22%3A%22accountDao%22%7D%2C%7B%22x%22%3A245.25029%2C%22y%22%3A74.51057%2C%22width%22%3A72.85460999999998%2C%22height%22%3A19.05082%2C%22text%22%3A%22name%E4%B8%89%22%7D%2C%7B%22x%22%3A246.53424%2C%22y%22%3A98.803795%2C%22width%22%3A266.39282%2C%22height%22%3A24.217555000000004%2C%22text%22%3A%22ref-%5C%22accountDao%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A40.752678%2C%22y%22%3A132.0618%2C%22width%22%3A98.482002%2C%22height%22%3A18.71902%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A114.63369%2C%22y%22%3A221.24188%2C%22width%22%3A323.40137%2C%22height%22%3A33.11332999999999%2C%22text%22%3A%22nid-n..%5C%22class-%5C%22...n%3E%22%7D%2C%7B%22x%22%3A41.671825%2C%22y%22%3A232.13203%2C%22width%22%3A102.514145%2C%22height%22%3A19.054390000000012%2C%22text%22%3A%22%3Cbean1%22%7D%2C%7B%22x%22%3A102.23459%2C%22y%22%3A258.08493%2C%22width%22%3A393.95788000000005%2C%22height%22%3A23.968140000000005%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%22%7D%2C%7B%22x%22%3A246.17921%2C%22y%22%3A286.0942%2C%22width%22%3A264.47499%2C%22height%22%3A26.924969999999973%2C%22text%22%3A%22ref-%5C%22accountDao%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A916.56665%2C%22y%22%3A295.30017%2C%22width%22%3A369.47444999999993%2C%22height%22%3A31.34593000000001%2C%22text%22%3A%22id-%5C%22accountDaoclass-%5C%22..-%22%7D%2C%7B%22x%22%3A831.6819%2C%22y%22%3A300.51364%2C%22width%22%3A68.98874999999998%2C%22height%22%3A19.16431%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A40.352646%2C%22y%22%3A317.53128%2C%22width%22%3A100.89845400000002%2C%22height%22%3A20.424990000000037%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A915.03815%2C%22y%22%3A329.47894%2C%22width%22%3A296.71735%2C%22height%22%3A25.20801%2C%22text%22%3A%22scope-%5C%22prototype%5C%22%2F%3E%22%7D%2C%7B%22x%22%3A127.34301%2C%22y%22%3A410.25232%2C%22width%22%3A118.54421%2C%22height%22%3A22.420230000000004%2C%22text%22%3A%22id-%5C%22...%5C%22%22%7D%2C%7B%22x%22%3A41.917244%2C%22y%22%3A410.6605%2C%22width%22%3A71.352236%2C%22height%22%3A19.485070000000007%2C%22text%22%3A%22%3Cbean%22%7D%2C%7B%22x%22%3A263.5095%2C%22y%22%3A411.45956%2C%22width%22%3A114.71865000000003%2C%22height%22%3A18.62754000000001%2C%22text%22%3A%22class%E4%B8%89%5C%22.%22%7D%2C%7B%22x%22%3A101.54672%2C%22y%22%3A439.41342%2C%22width%22%3A394.914%2C%22height%22%3A22.40753000000001%2C%22text%22%3A%22%3Cpropertyname-%5C%22accountDao%5C%22%22%7D%2C%7B%22x%22%3A248.11363%2C%22y%22%3A466.95642%2C%22width%22%3A263.36104%2C%22height%22%3A23.170500000000004%2C%22text%22%3A%22ref-%5C%22accountDao%5C%227%3E%22%7D%2C%7B%22x%22%3A41.93467%2C%22y%22%3A498.87912%2C%22width%22%3A100.39027%2C%22height%22%3A20.99028000000004%2C%22text%22%3A%22%3C%2Fbean%3E%22%7D%2C%7B%22x%22%3A80.33484%2C%22y%22%3A578.9851%2C%22width%22%3A456.78290000000004%2C%22height%22%3A41.23300000000006%2C%22text%22%3A%22eachandeverytimethepr%22%7D%2C%7B%22x%22%3A470.4472%2C%22y%22%3A581.93536%2C%22width%22%3A858.0691999999999%2C%22height%22%3A36.61414000000002%2C%22text%22%3A%22heprototypeisreferencedbycollaboratingbeans%22%7D%5D%2C%22id%22%3A%22uafc03b06%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u2f53d200\" id=\"u2f53d200\"><br></p><ol list=\"u97f1a785\"><li fid=\"ubd519934\" data-lake-id=\"u316e2d3b\" id=\"u316e2d3b\"><span data-lake-id=\"ub27f72e7\" id=\"ub27f72e7\">其余的request、session、application这些只能在web开放中使用！</span></li></ol><p data-lake-id=\"ue2d94565\" id=\"ue2d94565\"><br></p><h2 data-lake-id=\"2401aaad\" id=\"2401aaad\"><span data-lake-id=\"u8e3d7105\" id=\"u8e3d7105\">7、Bean的自动装配</span></h2><p data-lake-id=\"u8cfd193a\" id=\"u8cfd193a\"><br></p><ul list=\"u22499638\"><li fid=\"u34c94e74\" data-lake-id=\"u7ba18ad2\" id=\"u7ba18ad2\"><span data-lake-id=\"u22bad3d9\" id=\"u22bad3d9\">自动装配是Spring满足bean依赖的一种方式</span></li></ul><ul list=\"u66f943e7\"><li fid=\"u74b04680\" data-lake-id=\"u7de52fb0\" id=\"u7de52fb0\"><span data-lake-id=\"u3fe0d647\" id=\"u3fe0d647\">Spring会在上下文自动寻找，并自动给bean装配属性</span></li></ul><p data-lake-id=\"uc333fa1a\" id=\"uc333fa1a\"><br></p><p data-lake-id=\"ud39b23fd\" id=\"ud39b23fd\"><span data-lake-id=\"u44863293\" id=\"u44863293\">在Spring中有三种装配的方式</span></p><p data-lake-id=\"ubc19bba9\" id=\"ubc19bba9\"><br></p><ol list=\"u61492fd5\"><li fid=\"u8e5ac809\" data-lake-id=\"u670de48b\" id=\"u670de48b\"><span data-lake-id=\"u5e933218\" id=\"u5e933218\"> 在xml中显示配置 </span></li></ol><ol list=\"u401b339a\" start=\"2\"><li fid=\"u8297dc20\" data-lake-id=\"u2a5f09f7\" id=\"u2a5f09f7\"><span data-lake-id=\"u5054ed7f\" id=\"u5054ed7f\"> 在java中显示配置 </span></li></ol><ol list=\"u9d7663b9\" start=\"3\"><li fid=\"ud0a86f78\" data-lake-id=\"u1af56d11\" id=\"u1af56d11\"><span data-lake-id=\"ua42167c3\" id=\"ua42167c3\"> 隐式的自动装配bean 【重要】 </span></li></ol><ol list=\"uc8b0ca1c\" start=\"4\"><li fid=\"u74d494bb\" data-lake-id=\"u79ae0658\" id=\"u79ae0658\"><span data-lake-id=\"u53fe0a39\" id=\"u53fe0a39\"> 环境搭建：一个人有两个宠物 </span></li></ol><ol list=\"u36249b08\" start=\"5\"><li fid=\"u789ed7d8\" data-lake-id=\"u8acc51e0\" id=\"u8acc51e0\"><span data-lake-id=\"uc3016ecf\" id=\"uc3016ecf\"> byType自动装配：byType会自动查找，和自己对象set方法参数的类型相同的bean<br /></span><span data-lake-id=\"u5392b47e\" id=\"u5392b47e\">保证所有的class唯一(类为全局唯一) </span></li></ol><ol list=\"u25ce3d79\" start=\"6\"><li fid=\"u62780117\" data-lake-id=\"u85ae21f7\" id=\"u85ae21f7\"><span data-lake-id=\"uc2184af2\" id=\"uc2184af2\"> byName自动装配：byName会自动查找，和自己对象set对应的值对应的id<br /></span><span data-lake-id=\"u382203fd\" id=\"u382203fd\">保证所有id唯一，并且和set注入的值一致 </span><span data-lake-id=\"u7429f4e6\" id=\"u7429f4e6\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20%E6%89%BE%E4%B8%8D%E5%88%B0id%E5%92%8C%E5%A4%9A%E4%B8%AA%E7%9B%B8%E5%90%8Cclass%20--%3E%5Cn%3Cbean%20id%3D%5C%22cat1%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%3Cbean%20id%3D%5C%22cat2%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%3C!--%20%E6%89%BE%E4%B8%8D%E5%88%B0%20id%3Dcat%EF%BC%8C%E4%B8%94%E6%9C%89%E4%B8%A4%E4%B8%AACat%20--%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f308b92d%22%7D\"></card><p data-lake-id=\"u13452480\" id=\"u13452480\"><br></p><h3 data-lake-id=\"013694b5\" id=\"013694b5\"><span data-lake-id=\"u242c5646\" id=\"u242c5646\">7.1测试：自动装配</span></h3><p data-lake-id=\"u6f3dbd17\" id=\"u6f3dbd17\"><br></p><p data-lake-id=\"u9bb4ffdd\" id=\"u9bb4ffdd\"><span data-lake-id=\"udccf8255\" id=\"udccf8255\">pojo的Cat类</span></p><p data-lake-id=\"u46ca8beb\" id=\"u46ca8beb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20Cat%20%7B%5Cn%20%20%20%20public%20void%20shut()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22miao%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a1c71048%22%7D\"></card><p data-lake-id=\"ue91e284d\" id=\"ue91e284d\"><br></p><p data-lake-id=\"u36549670\" id=\"u36549670\"><span data-lake-id=\"u494569bb\" id=\"u494569bb\">pojo的Dog类</span></p><p data-lake-id=\"u4f322037\" id=\"u4f322037\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20Dog%20%7B%5Cn%5Cn%20%20%20%20public%20void%20shut()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22wow%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f3ae705e%22%7D\"></card><p data-lake-id=\"u0d644df7\" id=\"u0d644df7\"><br></p><p data-lake-id=\"u2e3bf3b2\" id=\"u2e3bf3b2\"><span data-lake-id=\"ua99558f0\" id=\"ua99558f0\">pojo的People类</span></p><p data-lake-id=\"ub4aa433f\" id=\"ub4aa433f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20class%20People%20%7B%5Cn%20%20%20%20%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%5Cn%20%20%20%20public%20Cat%20getCat()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20cat%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setCat(Cat%20cat)%20%7B%5Cn%20%20%20%20%20%20%20%20this.cat%20%3D%20cat%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20Dog%20getDog()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20dog%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setDog(Dog%20dog)%20%7B%5Cn%20%20%20%20%20%20%20%20this.dog%20%3D%20dog%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20String%20getName()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20name%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%5Cn%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20String%20toString()%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%5C%22People%7B%5C%22%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22cat%3D%5C%22%20%2B%20cat%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20dog%3D%5C%22%20%2B%20dog%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%2C%20name%3D'%5C%22%20%2B%20name%20%2B%20'%5C%5C''%20%2B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%7D'%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2265dd22ae%22%7D\"></card><p data-lake-id=\"u4e8fffdb\" id=\"u4e8fffdb\"><br></p><p data-lake-id=\"u149faa2c\" id=\"u149faa2c\"><span data-lake-id=\"ufef3e3a3\" id=\"ufef3e3a3\">xml配置 -&gt; byType 自动装配</span></p><p data-lake-id=\"ua776c0cb\" id=\"ua776c0cb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22cat%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22dog%5C%22%20class%3D%5C%22pojo.Dog%5C%22%2F%3E%5Cn%20%20%20%20%5Cn%20%20%20%20%3C!--byType%E4%BC%9A%E5%9C%A8%E5%AE%B9%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9F%A5%E6%89%BE%EF%BC%8C%E5%92%8C%E8%87%AA%E5%B7%B1%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9B%B8%E5%90%8C%E7%9A%84bean%5Cn%5Ct%5Ct%E4%BE%8B%E5%A6%82%EF%BC%8CDog%20dog%3B%20%E9%82%A3%E4%B9%88%E5%B0%B1%E4%BC%9A%E6%9F%A5%E6%89%BEpojo%E7%9A%84Dog%E7%B1%BB%EF%BC%8C%E5%86%8D%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%5Cn%5Ct--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22people%5C%22%20class%3D%5C%22pojo.People%5C%22%20autowire%3D%5C%22byType%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22cbh%5C%22%3E%3C%2Fproperty%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2248fde1a2%22%7D\"></card><p data-lake-id=\"ufbb7ecf5\" id=\"ufbb7ecf5\"><br></p><p data-lake-id=\"uafe3be5c\" id=\"uafe3be5c\"><span data-lake-id=\"ube374acf\" id=\"ube374acf\">xml配置 -&gt; byName 自动装配</span></p><p data-lake-id=\"u79d5ca9a\" id=\"u79d5ca9a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cbean%20id%3D%5C%22cat%5C%22%20class%3D%5C%22pojo.Cat%5C%22%2F%3E%5Cn%3Cbean%20id%3D%5C%22dog%5C%22%20class%3D%5C%22pojo.Dog%5C%22%2F%3E%5Cn%3C!--byname%E4%BC%9A%E5%9C%A8%E5%AE%B9%E5%99%A8%E8%87%AA%E5%8A%A8%E6%9F%A5%E6%89%BE%EF%BC%8C%E5%92%8C%E8%87%AA%E5%B7%B1%E5%AF%B9%E8%B1%A1set%E6%96%B9%E6%B3%95%E7%9A%84set%E5%90%8E%E9%9D%A2%E7%9A%84%E5%80%BC%E5%AF%B9%E5%BA%94%E7%9A%84id%5Cn%20%20%E4%BE%8B%E5%A6%82%3AsetDog()%EF%BC%8C%E5%8F%96set%E5%90%8E%E9%9D%A2%E7%9A%84%E5%AD%97%E7%AC%A6%E4%BD%9C%E4%B8%BAid%EF%BC%8C%E5%88%99%E8%A6%81id%20%3D%20dog%20%E6%89%8D%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%5Cn%20%20%5Cn%20--%3E%5Cn%3Cbean%20id%3D%5C%22people%5C%22%20class%3D%5C%22pojo.People%5C%22%20autowire%3D%5C%22byName%5C%22%3E%5Cn%5Ct%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22cbh%5C%22%3E%3C%2Fproperty%3E%5Cn%3C%2Fbean%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2275a49405%22%7D\"></card><p data-lake-id=\"udd9ac5ba\" id=\"udd9ac5ba\"><br></p><p data-lake-id=\"u8683b04f\" id=\"u8683b04f\"><span data-lake-id=\"u9a5c2fb5\" id=\"u9a5c2fb5\">弹幕评论：byName只能取到小写，大写取不到</span></p><p data-lake-id=\"u5ac1ee85\" id=\"u5ac1ee85\"><br></p><h3 data-lake-id=\"cddbd9d6\" id=\"cddbd9d6\"><span data-lake-id=\"u9275eaf8\" id=\"u9275eaf8\">7.2、使用注解实现自动装配</span></h3><p data-lake-id=\"ud37c9097\" id=\"ud37c9097\"><br></p><p data-lake-id=\"ufd2ba58d\" id=\"ufd2ba58d\"><span data-lake-id=\"u6168d0f8\" id=\"u6168d0f8\">jdk1.5支持的注解，spring2.5支持的注解</span></p><p data-lake-id=\"ub1ffe726\" id=\"ub1ffe726\"><br></p><p data-lake-id=\"ue32a56b6\" id=\"ue32a56b6\"><span data-lake-id=\"uf851097e\" id=\"uf851097e\">The introduction of annotation-based configuration raised the question of whether this approach is “better” than XML.（翻译：基于注释的配置的引入提出了一个问题，即这种方法是否比XML“更好”）</span></p><p data-lake-id=\"u25cbc24d\" id=\"u25cbc24d\"><br></p><ol list=\"udb1f8554\"><li fid=\"uac2068eb\" data-lake-id=\"ue977ecaf\" id=\"ue977ecaf\"><span data-lake-id=\"u0eeb3b9b\" id=\"u0eeb3b9b\">导入context约束</span></li></ol><p data-lake-id=\"u5769a63e\" id=\"u5769a63e\"><br></p><p data-lake-id=\"ube326aec\" id=\"ube326aec\"><strong><span data-lake-id=\"u66c7e086\" id=\"u66c7e086\">xmlns:context=&quot;</span></strong><a href=\"http://www.springframework.org/schema/context\" target=\"_blank\" data-lake-id=\"u6fffbacc\" id=\"u6fffbacc\"><strong><span data-lake-id=\"uf7f857f9\" id=\"uf7f857f9\">http://www.springframework.org/schema/context</span></strong></a><strong><span data-lake-id=\"u601113e0\" id=\"u601113e0\">&quot;</span></strong></p><p data-lake-id=\"u569653ea\" id=\"u569653ea\"><br></p><ol list=\"udc6f4217\"><li fid=\"udd533d2e\" data-lake-id=\"ue2105ddd\" id=\"ue2105ddd\"><span data-lake-id=\"u28f51f1e\" id=\"u28f51f1e\">配置注解的支持：&lt; context:annotation-config/&gt;</span></li></ol><p data-lake-id=\"u4d646e87\" id=\"u4d646e87\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20xmlns%3Acontext%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5C%22%5Cn%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%2Fspring-context.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Ccontext%3Aannotation-config%2F%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221c8a1d7b%22%7D\"></card><p data-lake-id=\"u1a1dc2da\" id=\"u1a1dc2da\"><br></p><h4 data-lake-id=\"f296a4dc\" id=\"f296a4dc\"><span data-lake-id=\"u06fbf86c\" id=\"u06fbf86c\">7.2.1、</span><a href=\"/Autowired \" data-lake-id=\"u05aa090c\" id=\"u05aa090c\"><span data-lake-id=\"u44cf6a91\" id=\"u44cf6a91\">@Autowired </span></a><span data-lake-id=\"uf179b4a3\" id=\"uf179b4a3\"> </span></h4><p data-lake-id=\"ubd6f6fd8\" id=\"ubd6f6fd8\"><br></p><p data-lake-id=\"ue5290dcf\" id=\"ue5290dcf\"><strong><span data-lake-id=\"u0dc2cc6b\" id=\"u0dc2cc6b\">默认是byType方式，如果匹配不上，就会byName</span></strong></p><p data-lake-id=\"u61378b7f\" id=\"u61378b7f\"><br></p><p data-lake-id=\"u0517671c\" id=\"u0517671c\"><span data-lake-id=\"u2bae90ce\" id=\"u2bae90ce\">在属性上个使用，也可以在set上使用</span></p><p data-lake-id=\"u4c0637d3\" id=\"u4c0637d3\"><br></p><p data-lake-id=\"u62632a95\" id=\"u62632a95\"><span data-lake-id=\"u17ead3c1\" id=\"u17ead3c1\">我们可以不用编写set方法了，前提是自动装配的属性在Spring容器里，且要符合ByName 自动装配</span></p><p data-lake-id=\"uaaf1de9a\" id=\"uaaf1de9a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20People%20%7B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ec980cea%22%7D\"></card><p data-lake-id=\"u281b74ab\" id=\"u281b74ab\"><br></p><blockquote data-lake-id=\"u5d468d31\" id=\"u5d468d31\"><p data-lake-id=\"u528d5393\" id=\"u528d5393\"><a href=\"/Nullable \" data-lake-id=\"ud99c1eea\" id=\"ud99c1eea\"><span data-lake-id=\"u10fe430c\" id=\"u10fe430c\">@Nullable </span></a><span data-lake-id=\"ueed48d73\" id=\"ueed48d73\"> 字段标记了这个注解，说明该字段可以为空 </span></p><p data-lake-id=\"u6ba09ce5\" id=\"u6ba09ce5\"><span data-lake-id=\"ufd620adf\" id=\"ufd620adf\"> </span></p><p data-lake-id=\"uda7dab2c\" id=\"uda7dab2c\"><span data-lake-id=\"u850905ca\" id=\"u850905ca\">public name(</span><a href=\"/Nullable \" data-lake-id=\"u8230dd43\" id=\"u8230dd43\"><span data-lake-id=\"u4af9664f\" id=\"u4af9664f\">@Nullable </span></a><span data-lake-id=\"u5e7a20f3\" id=\"u5e7a20f3\"> String name){ </span></p><p data-lake-id=\"u1228a782\" id=\"u1228a782\"><span data-lake-id=\"u78a95f97\" id=\"u78a95f97\"> </span></p><p data-lake-id=\"uac40858e\" id=\"uac40858e\"><span data-lake-id=\"u2d9471ef\" id=\"u2d9471ef\">}</span></p></blockquote><p data-lake-id=\"uc6a47637\" id=\"uc6a47637\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%BA%90%E7%A0%81%5Cnpublic%20%40interface%20Autowired%20%7B%20%5Cn%5Ctboolean%20required()%20default%20true%3B%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229ecb047e%22%7D\"></card><p data-lake-id=\"u00eee96e\" id=\"u00eee96e\"><br></p><p data-lake-id=\"ub380c2b6\" id=\"ub380c2b6\"><span data-lake-id=\"u12b5f12f\" id=\"u12b5f12f\">如果定义了Autowire的require属性为false，说明这个对象可以为null，否则不允许为空（false表示找不到装配，不抛出异常）</span></p><p data-lake-id=\"u57dd1643\" id=\"u57dd1643\"><br></p><h4 data-lake-id=\"99af1956\" id=\"99af1956\"><span data-lake-id=\"udb64d9fc\" id=\"udb64d9fc\">7.2.2、@Autowired+</span><a href=\"/Qualifier \" data-lake-id=\"u947fe3ef\" id=\"u947fe3ef\"><span data-lake-id=\"uea3fc69c\" id=\"uea3fc69c\">@Qualifier </span></a><span data-lake-id=\"uda030f68\" id=\"uda030f68\"> </span></h4><p data-lake-id=\"ub889f625\" id=\"ub889f625\"><br></p><p data-lake-id=\"uddc02b53\" id=\"uddc02b53\"><strong><span data-lake-id=\"ue687521d\" id=\"ue687521d\">@Autowired不能唯一装配时，需要@Autowired+</span></strong><a href=\"/Qualifier \" data-lake-id=\"u412b6679\" id=\"u412b6679\"><strong><span data-lake-id=\"u15ecd1ed\" id=\"u15ecd1ed\">@Qualifier </span></strong></a><strong><span data-lake-id=\"ubf13a60f\" id=\"ubf13a60f\"> </span></strong></p><p data-lake-id=\"u1ae2aac1\" id=\"u1ae2aac1\"><br></p><p data-lake-id=\"uc60850a1\" id=\"uc60850a1\"><span data-lake-id=\"u49f1bb9f\" id=\"u49f1bb9f\">如果</span><a href=\"/Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value \" data-lake-id=\"u851bbfab\" id=\"u851bbfab\"><span data-lake-id=\"u9ef7cb23\" id=\"u9ef7cb23\">@Autowired自动装配环境比较复杂。自动装配无法通过一个注解完成的时候，可以使用@Qualifier(value </span></a><span data-lake-id=\"ue129a3d4\" id=\"ue129a3d4\"> = “dog”)去配合使用，指定一个唯一的id对象 </span></p><p data-lake-id=\"u35aa1ca2\" id=\"u35aa1ca2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20People%20%7B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20%40Qualifier(value%20%3D%20%5C%22dog%5C%22)%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a82f4a07%22%7D\"></card><p data-lake-id=\"u072e77a3\" id=\"u072e77a3\"><br></p><p data-lake-id=\"u97d48e58\" id=\"u97d48e58\"><span data-lake-id=\"u1f7544b1\" id=\"u1f7544b1\">弹幕评论：</span></p><p data-lake-id=\"u79643045\" id=\"u79643045\"><br></p><p data-lake-id=\"u01bb1ad9\" id=\"u01bb1ad9\"><span data-lake-id=\"u8a9bc767\" id=\"u8a9bc767\">如果xml文件中同一个对象被多个bean使用，Autowired无法按类型找到，可以用@Qualifier指定id查找</span></p><p data-lake-id=\"uc589f50c\" id=\"uc589f50c\"><br></p><h4 data-lake-id=\"258454b4\" id=\"258454b4\"><span data-lake-id=\"u4fdf4dfc\" id=\"u4fdf4dfc\">7.2.3、</span><a href=\"/Resource \" data-lake-id=\"u7e117f71\" id=\"u7e117f71\"><span data-lake-id=\"u660730bf\" id=\"u660730bf\">@Resource </span></a><span data-lake-id=\"u7024532b\" id=\"u7024532b\"> </span></h4><p data-lake-id=\"u02df0f43\" id=\"u02df0f43\"><br></p><p data-lake-id=\"u271b7b21\" id=\"u271b7b21\"><strong><span data-lake-id=\"ud092489f\" id=\"ud092489f\">默认是byName方式，如果匹配不上，就会byType</span></strong></p><p data-lake-id=\"udcd5c1ec\" id=\"udcd5c1ec\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20People%20%7B%5Cn%20%20%20%20Resource(name%3D%5C%22cat%5C%22)%5Cn%20%20%20%20private%20Cat%20cat%3B%5Cn%20%20%20%20Resource(name%3D%5C%22dog%5C%22)%5Cn%20%20%20%20private%20Dog%20dog%3B%5Cn%20%20%20%20private%20String%20name%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2289d44e82%22%7D\"></card><p data-lake-id=\"uaa1a1b61\" id=\"uaa1a1b61\"><br></p><p data-lake-id=\"u647edda1\" id=\"u647edda1\"><span data-lake-id=\"u124a5e84\" id=\"u124a5e84\">弹幕评论：</span></p><p data-lake-id=\"u77881aab\" id=\"u77881aab\"><br></p><p data-lake-id=\"ubb2ea703\" id=\"ubb2ea703\"><span data-lake-id=\"uc7dd452b\" id=\"uc7dd452b\">Autowired是byType，@Autowired+</span><a href=\"/Qualifier \" data-lake-id=\"u5e997250\" id=\"u5e997250\"><span data-lake-id=\"uce6fbdf2\" id=\"uce6fbdf2\">@Qualifier </span></a><span data-lake-id=\"u194e211c\" id=\"u194e211c\"> = byType || byName </span></p><p data-lake-id=\"ub29f5a3d\" id=\"ub29f5a3d\"><br></p><p data-lake-id=\"ue83a457d\" id=\"ue83a457d\"><span data-lake-id=\"u3ded4a6e\" id=\"u3ded4a6e\">Autowired是先byteType,如果唯一則注入，否则byName查找。resource是先byname,不符合再继续byType</span></p><p data-lake-id=\"u472bcbd0\" id=\"u472bcbd0\"><br></p><h4 data-lake-id=\"9cdb3b71\" id=\"9cdb3b71\"><span data-lake-id=\"uff80186e\" id=\"uff80186e\">区别：</span></h4><p data-lake-id=\"u42e25834\" id=\"u42e25834\"><br></p><p data-lake-id=\"u273a4f9a\" id=\"u273a4f9a\"><span data-lake-id=\"uffa18d68\" id=\"uffa18d68\">@Resource和@Autowired的区别：</span></p><p data-lake-id=\"u7b634839\" id=\"u7b634839\"><br></p><ul list=\"ub27d7cd0\"><li fid=\"u23285d03\" data-lake-id=\"u93220938\" id=\"u93220938\"><span data-lake-id=\"u9ae1722b\" id=\"u9ae1722b\">都是用来自动装配的，都可以放在属性字段上</span></li></ul><ul list=\"ua1001ea5\"><li fid=\"u5fcfab0d\" data-lake-id=\"u83258af4\" id=\"u83258af4\"><span data-lake-id=\"ua3987b82\" id=\"ua3987b82\">@Autowired通过byType的方式实现，而且必须要求这个对象存在！【常用】</span></li></ul><ul list=\"ue125b355\"><li fid=\"u6162080f\" data-lake-id=\"u4b701c47\" id=\"u4b701c47\"><span data-lake-id=\"u019970f6\" id=\"u019970f6\">@Resource默认通过byname的方式实现，如果找不到名字，则通过byType实现！如果两个都找不到的情况下，就报错！【常用】</span></li></ul><ul list=\"u5f070cf1\"><li fid=\"u0fb14bc3\" data-lake-id=\"ud1333a9b\" id=\"ud1333a9b\"><span data-lake-id=\"ub61602ea\" id=\"ub61602ea\">执行顺序不同：@Autowired通过byType的方式实现。@Resource默认通过byname的方式实现</span></li></ul><p data-lake-id=\"u87905291\" id=\"u87905291\"><br></p><h2 data-lake-id=\"854e10cf\" id=\"854e10cf\"><span data-lake-id=\"uc9f6f4a3\" id=\"uc9f6f4a3\">8、使用注解开发</span></h2><p data-lake-id=\"ub14549a1\" id=\"ub14549a1\"><br></p><p data-lake-id=\"u62b24f85\" id=\"u62b24f85\"><span data-lake-id=\"uabf7fe0e\" id=\"uabf7fe0e\">在spring4之后，使用注解开发，必须要保证aop包的导入<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472040975-16f26b51-4e5d-402d-9197-1f4070053ed9.png%22%2C%22taskId%22%3A%22u32f1f35d-08fe-466a-ac85-5abaf88a5a3%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A423%2C%22height%22%3A274%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A196088%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A846%2C%22originHeight%22%3A548%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Dependencies%20Maven%20spring-webmvc-5.2.7.RELEASEjAR%201c%20spring-aop-5.2.7RELEASEjar-CU%20spring-beans-5.2.7.RELEASEja%20JAR-CAL%20spring-context-5.2.7.RELEASEjARC%20spring-core-5.2.7.RELEASEjARCAUS%20C%3AUser%20spring-jcl-5.2.7.RELEASEjar%20spring-expression-5.2.7.RELEASEjAar%20spring-web-5.2.7.RELEASEjARCUS%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A271.0618%2C%22y%22%3A10.865768%2C%22width%22%3A248.04739999999998%2C%22height%22%3A41.558514%2C%22text%22%3A%22Dependencies%22%7D%2C%7B%22x%22%3A141.67625%2C%22y%22%3A12.748515%2C%22width%22%3A120.95494999999997%2C%22height%22%3A32.101293000000005%2C%22text%22%3A%22Maven%22%7D%2C%7B%22x%22%3A188.6143%2C%22y%22%3A68.840614%2C%22width%22%3A587.8644%2C%22height%22%3A41.259766%2C%22text%22%3A%22spring-webmvc-5.2.7.RELEASEjAR%22%7D%2C%7B%22x%22%3A152.00003%2C%22y%22%3A83.995094%2C%22width%22%3A18%2C%22height%22%3A14.676516000000007%2C%22text%22%3A%221c%22%7D%2C%7B%22x%22%3A188.31407%2C%22y%22%3A129.47173%2C%22width%22%3A612.02626%2C%22height%22%3A42.028639999999996%2C%22text%22%3A%22spring-aop-5.2.7RELEASEjar-CU%22%7D%2C%7B%22x%22%3A195.18767%2C%22y%22%3A188.35844%2C%22width%22%3A500.02797%2C%22height%22%3A45.969269999999995%2C%22text%22%3A%22spring-beans-5.2.7.RELEASEja%22%7D%2C%7B%22x%22%3A675.5384%2C%22y%22%3A193.53212%2C%22width%22%3A157.2495%2C%22height%22%3A37.05412000000001%2C%22text%22%3A%22JAR-CAL%22%7D%2C%7B%22x%22%3A188.2329%2C%22y%22%3A252.22337%2C%22width%22%3A645.0804%2C%22height%22%3A38.14229%2C%22text%22%3A%22spring-context-5.2.7.RELEASEjARC%22%7D%2C%7B%22x%22%3A188.82304%2C%22y%22%3A307.3192%2C%22width%22%3A645.95821%2C%22height%22%3A46.17749999999995%2C%22text%22%3A%22spring-core-5.2.7.RELEASEjARCAUS%22%7D%2C%7B%22x%22%3A697.81525%2C%22y%22%3A368.24768%2C%22width%22%3A136.89862000000005%2C%22height%22%3A41.58945%2C%22text%22%3A%22C%3AUser%22%7D%2C%7B%22x%22%3A188.35132%2C%22y%22%3A370.515%2C%22width%22%3A482.29508%2C%22height%22%3A42.46350000000001%2C%22text%22%3A%22spring-jcl-5.2.7.RELEASEjar%22%7D%2C%7B%22x%22%3A185.83453%2C%22y%22%3A426.53525%2C%22width%22%3A631.75611%2C%22height%22%3A45.86814999999996%2C%22text%22%3A%22spring-expression-5.2.7.RELEASEjAar%22%7D%2C%7B%22x%22%3A188.00056%2C%22y%22%3A487.69644%2C%22width%22%3A642.4349400000001%2C%22height%22%3A44.76743000000005%2C%22text%22%3A%22spring-web-5.2.7.RELEASEjARCUS%22%7D%5D%2C%22id%22%3A%22ua663f32d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u9a7e96ba\" id=\"u9a7e96ba\"><br />使用注解需要导入contex的约束</span></p><p data-lake-id=\"u17e1f641\" id=\"u17e1f641\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20xmlns%3Acontext%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5C%22%5Cn%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%2Fspring-context.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3Ccontext%3Aannotation-config%2F%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224d5ed5ef%22%7D\"></card><p data-lake-id=\"u9f118f03\" id=\"u9f118f03\"><br></p><h3 data-lake-id=\"dfb77a85\" id=\"dfb77a85\"><span data-lake-id=\"ua4c0c01c\" id=\"ua4c0c01c\">8.1、bean</span></h3><p data-lake-id=\"ueaeb7e27\" id=\"ueaeb7e27\"><br></p><p data-lake-id=\"u0ac75b24\" id=\"u0ac75b24\"><span data-lake-id=\"u497cda89\" id=\"u497cda89\">弹幕评论：<br /></span><span data-lake-id=\"u9e97b4b8\" id=\"u9e97b4b8\">有了&lt; context:component-scan&gt;，另一个&lt; context:annotation-config/&gt;标签可以移除掉，因为已经被包含进去了。</span></p><p data-lake-id=\"ubc368a17\" id=\"ubc368a17\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%E6%8C%87%E5%AE%9A%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%8C%85%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%B3%A8%E8%A7%A3%E6%89%8D%E4%BC%9A%E7%94%9F%E6%95%88%5Cn%5Ct%E5%88%AB%E5%8F%AA%E6%89%AB%E4%B8%80%E4%B8%AAcom.kuang.pojo%E5%8C%85--%3E%20%5Cn%3Ccontext%3Acomponent-scan%20base-package%3D%5C%22com.kuang%5C%22%2F%3E%20%5Cn%3Ccontext%3Aannotation-config%2F%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e771370b%22%7D\"></card><p data-lake-id=\"ub3e1ed27\" id=\"ub3e1ed27\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%40Component%20%E7%BB%84%E4%BB%B6%5Cn%2F%2F%E7%AD%89%E4%BB%B7%E4%BA%8E%3Cbean%20id%3D%5C%22user%5C%22%20classs%5C%22pojo.User%5C%22%2F%3E%20%5Cn%40Component%5Cnpublic%20class%20User%20%7B%20%20%5Cn%20%20%20%20%20public%20String%20name%20%3D%5C%22%E7%A7%A6%E7%96%86%5C%22%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ab97c6d9%22%7D\"></card><p data-lake-id=\"u436f7eaa\" id=\"u436f7eaa\"><br></p><h3 data-lake-id=\"a7a26744\" id=\"a7a26744\"><span data-lake-id=\"ua0a14e95\" id=\"ua0a14e95\">8.2、属性如何注入</span><a href=\"/value \" data-lake-id=\"u3f164d45\" id=\"u3f164d45\"><span data-lake-id=\"uc3bcff3e\" id=\"uc3bcff3e\">@value </span></a><span data-lake-id=\"u97815301\" id=\"u97815301\"> </span></h3><p data-lake-id=\"u312c124d\" id=\"u312c124d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%40Component%5Cnpublic%20class%20User%20%7B%20%5Cn%20%20%20%20%2F%2F%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22kuangshen%5C%22%2F%3E%20%5Cn%20%20%20%20%40value(%5C%22kuangshen%5C%22)%20%5Cn%20%20%20%20public%20String%20name%3B%20%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%9C%A8set%E6%96%B9%E6%B3%95%E4%B8%8A%E9%9D%A2%5Cn%20%20%20%20%2F%2F%40value(%5C%22kuangshen%5C%22)%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%20%5Cn%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%20%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e02353a3%22%7D\"></card><p data-lake-id=\"u784b5687\" id=\"u784b5687\"><br></p><h3 data-lake-id=\"3f91c3c2\" id=\"3f91c3c2\"><span data-lake-id=\"u2ad837e1\" id=\"u2ad837e1\">8.3、衍生的注解</span></h3><p data-lake-id=\"ufa323a05\" id=\"ufa323a05\"><br></p><p data-lake-id=\"u84660458\" id=\"u84660458\"><span data-lake-id=\"u7fd23e99\" id=\"u7fd23e99\">@Component有几个衍生注解，会按照web开发中，mvc架构中分层。</span></p><p data-lake-id=\"uc411cbcc\" id=\"uc411cbcc\"><br></p><ul list=\"ue2f0e1a6\"><li fid=\"ue8f58947\" data-lake-id=\"u205cad80\" id=\"u205cad80\"><span data-lake-id=\"u4aedaa9a\" id=\"u4aedaa9a\">dao （@Repository）</span></li></ul><ul list=\"u2a0441bf\"><li fid=\"u72fc33b3\" data-lake-id=\"u7152069a\" id=\"u7152069a\"><span data-lake-id=\"u4d049cb5\" id=\"u4d049cb5\">service（@Service）</span></li></ul><ul list=\"ueaf06589\"><li fid=\"u4495e4c5\" data-lake-id=\"u2963efbd\" id=\"u2963efbd\"><span data-lake-id=\"u13912e43\" id=\"u13912e43\">controller（@Controller）</span></li></ul><p data-lake-id=\"uadb6436b\" id=\"uadb6436b\"><br></p><p data-lake-id=\"u8dffd2db\" id=\"u8dffd2db\"><strong><span data-lake-id=\"ueff7a755\" id=\"ueff7a755\">这四个注解的功能是一样的，都是代表将某个类注册到容器中</span></strong></p><p data-lake-id=\"u51e9689e\" id=\"u51e9689e\"><br></p><h3 data-lake-id=\"137b3e5b\" id=\"137b3e5b\"><span data-lake-id=\"ue476632f\" id=\"ue476632f\">8.4、自动装配置</span></h3><p data-lake-id=\"uf84385a9\" id=\"uf84385a9\"><br></p><p data-lake-id=\"u6b90ac19\" id=\"u6b90ac19\"><span data-lake-id=\"u12958137\" id=\"u12958137\">@Autowired：默认是byType方式，如果匹配不上，就会byName</span></p><p data-lake-id=\"u1f9f4445\" id=\"u1f9f4445\"><br></p><p data-lake-id=\"u98f6b489\" id=\"u98f6b489\"><span data-lake-id=\"uba846630\" id=\"uba846630\">@Nullable：字段标记了这个注解，说明该字段可以为空</span></p><p data-lake-id=\"u98a3c724\" id=\"u98a3c724\"><br></p><p data-lake-id=\"uca90a6ab\" id=\"uca90a6ab\"><span data-lake-id=\"u891b4ae5\" id=\"u891b4ae5\">@Resource：默认是byName方式，如果匹配不上，就会byType</span></p><p data-lake-id=\"ub6c7c93e\" id=\"ub6c7c93e\"><br></p><h3 data-lake-id=\"fd88b712\" id=\"fd88b712\"><span data-lake-id=\"ue48994cb\" id=\"ue48994cb\">8.5、作用域</span><a href=\"/scope \" data-lake-id=\"ubd0639b9\" id=\"ubd0639b9\"><span data-lake-id=\"uef82d42e\" id=\"uef82d42e\">@scope </span></a><span data-lake-id=\"u555e0f63\" id=\"u555e0f63\"> </span></h3><p data-lake-id=\"u87b86fc5\" id=\"u87b86fc5\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8Fprototype%EF%BC%8C%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8Fsingleton%5Cn%2F%2Fscope(%5C%22prototype%5C%22)%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbean%20scope%3D%5C%22prototype%5C%22%3E%3C%2Fbean%3E%5Cn%40Component%20%5Cn%40scope(%5C%22prototype%5C%22)%5Cnpublic%20class%20User%20%7B%20%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cproperty%20name%3D%5C%22name%5C%22%20value%3D%5C%22kuangshen%5C%22%2F%3E%20%5Cn%20%20%20%20%40value(%5C%22kuangshen%5C%22)%20%5Cn%20%20%20%20public%20String%20name%3B%20%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%9C%A8set%E6%96%B9%E6%B3%95%E4%B8%8A%E9%9D%A2%5Cn%20%20%20%20%40value(%5C%22kuangshen%5C%22)%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%20%5Cn%20%20%20%20%20%20%20%20this.name%20%3D%20name%3B%20%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226fbd537e%22%7D\"></card><p data-lake-id=\"u0818a9f4\" id=\"u0818a9f4\"><br></p><h3 data-lake-id=\"3c4563c2\" id=\"3c4563c2\"><span data-lake-id=\"u13fefbee\" id=\"u13fefbee\">8.6、小结</span></h3><p data-lake-id=\"u456b36d5\" id=\"u456b36d5\"><br></p><p data-lake-id=\"u99cea3b6\" id=\"u99cea3b6\"><strong><span data-lake-id=\"u121b0c53\" id=\"u121b0c53\">xml与注解：</span></strong></p><p data-lake-id=\"ube241bcd\" id=\"ube241bcd\"><br></p><ul list=\"u93a5671f\"><li fid=\"ue13f3e2a\" data-lake-id=\"u97d0764a\" id=\"u97d0764a\"><span data-lake-id=\"uc274bca6\" id=\"uc274bca6\">xml更加万能，维护简单，适用于任何场合</span></li></ul><ul list=\"ua65d83aa\"><li fid=\"u17c5dc57\" data-lake-id=\"ua8de0875\" id=\"ua8de0875\"><span data-lake-id=\"u40c16658\" id=\"u40c16658\">注解，不是自己的类使用不了，维护复杂</span></li></ul><p data-lake-id=\"u8fa455a1\" id=\"u8fa455a1\"><br></p><p data-lake-id=\"u3da04bb5\" id=\"u3da04bb5\"><strong><span data-lake-id=\"uf464c1ae\" id=\"uf464c1ae\">最佳实践：</span></strong></p><p data-lake-id=\"u693bd3f3\" id=\"u693bd3f3\"><br></p><ul list=\"u8792fe63\"><li fid=\"u7227bd1d\" data-lake-id=\"u11f4582d\" id=\"u11f4582d\"><span data-lake-id=\"ud2afc29d\" id=\"ud2afc29d\">xml用来管理bean</span></li></ul><ul list=\"u1ea99dc5\"><li fid=\"ua313f21c\" data-lake-id=\"ue073c7d4\" id=\"ue073c7d4\"><span data-lake-id=\"u290e7026\" id=\"u290e7026\">注解只用来完成属性的注入</span></li></ul><ul list=\"u65dfaa4d\"><li fid=\"uda33d62b\" data-lake-id=\"ue3f63aa4\" id=\"ue3f63aa4\"><span data-lake-id=\"ud111f1af\" id=\"ud111f1af\">要开启注解支持</span></li></ul><p data-lake-id=\"u05d6863f\" id=\"u05d6863f\"><br></p><h2 data-lake-id=\"ecb615f1\" id=\"ecb615f1\"><span data-lake-id=\"u52ce471e\" id=\"u52ce471e\">9、使用Java的方式配置Spring</span></h2><p data-lake-id=\"ua7002f5c\" id=\"ua7002f5c\"><br></p><p data-lake-id=\"u0866bebf\" id=\"u0866bebf\"><span data-lake-id=\"u58a3d0da\" id=\"u58a3d0da\">不使用Spring的xml配置，完全交给java来做！</span></p><p data-lake-id=\"uebf4f93c\" id=\"uebf4f93c\"><br></p><p data-lake-id=\"ued73d45f\" id=\"ued73d45f\"><span data-lake-id=\"u322faea1\" id=\"u322faea1\">Spring的一个子项目，在spring4之后，，，它成为了核心功能</span></p><p data-lake-id=\"ub37d7002\" id=\"ub37d7002\"><br></p><p data-lake-id=\"u538f5805\" id=\"u538f5805\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472064164-cf739a67-0d9a-4f49-b36f-8d78ccaf6136.png%22%2C%22taskId%22%3A%22ue3516ca5-3e68-458a-bd30-916ccabb60a%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A712%2C%22height%22%3A344%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1679930%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1424%2C%22originHeight%22%3A687%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22Abstractapplicationcoexingawrkoex)%20Abstractrefreshableapplicationcontextog.springfaewk.context.surt)%20AbstractRefreshableconfizpplicationcontextog.springramewk.contex.u)%20AbstractkefreshablewebApplicationcontexinmkn%20AbstractxmlApplicationcontextog.springamwkoex)%20org.springframework.context.annotation)%20AnnotationConfigApplicationContext%20AnmotationconfisMebpplicationotexk%20classPathXmipplicationConext%20g.springframework.context.support)%20ConfigurableApplicationconext%20(org.springframework.context)%20ConfigurabiewebApplicationcontextgringrmewkc)%20FilesystemxmApplicationcontengamwkoe)%20GenericApplicationcontext(og.springframewokcontex)%20GenericroowyAPplicationContextRgspringframework.context.suot)%20GenericwebApplicationcontextg.sprinrmwrkeox)%20Genericxmlapplicationcontext(og.springframewkcoet.u)%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A30.03726%2C%22y%22%3A17.14309%2C%22width%22%3A1091.81334%2C%22height%22%3A27.871313999999998%2C%22text%22%3A%22Abstractapplicationcoexingawrkoex)%22%7D%2C%7B%22x%22%3A27.34625%2C%22y%22%3A54.65256%2C%22width%22%3A1285.01615%2C%22height%22%3A37.222424999999994%2C%22text%22%3A%22Abstractrefreshableapplicationcontextog.springfaewk.context.surt)%22%7D%2C%7B%22x%22%3A27.168993%2C%22y%22%3A99.85488%2C%22width%22%3A1387.979707%2C%22height%22%3A36.294169999999994%2C%22text%22%3A%22AbstractRefreshableconfizpplicationcontextog.springramewk.contex.u)%22%7D%2C%7B%22x%22%3A27.834364%2C%22y%22%3A143.2155%2C%22width%22%3A1390.436536%2C%22height%22%3A36.28743%2C%22text%22%3A%22AbstractkefreshablewebApplicationcontexinmkn%22%7D%2C%7B%22x%22%3A27.168793%2C%22y%22%3A187.89848%2C%22width%22%3A1146.202707%2C%22height%22%3A31.10047%2C%22text%22%3A%22AbstractxmlApplicationcontextog.springamwkoex)%22%7D%2C%7B%22x%22%3A641.58234%2C%22y%22%3A233.297%2C%22width%22%3A666.5746599999999%2C%22height%22%3A32.94606999999999%2C%22text%22%3A%22org.springframework.context.annotation)%22%7D%2C%7B%22x%22%3A25.698196%2C%22y%22%3A234.62907%2C%22width%22%3A593.7090039999999%2C%22height%22%3A27.893359999999973%2C%22text%22%3A%22AnnotationConfigApplicationContext%22%7D%2C%7B%22x%22%3A26.623686%2C%22y%22%3A276.02023%2C%22width%22%3A1355.061214%2C%22height%22%3A32.24676999999997%2C%22text%22%3A%22AnmotationconfisMebpplicationotexk%22%7D%2C%7B%22x%22%3A27.637823%2C%22y%22%3A318.53308%2C%22width%22%3A519.080977%2C%22height%22%3A29.668980000000033%2C%22text%22%3A%22classPathXmipplicationConext%22%7D%2C%7B%22x%22%3A609.02936%2C%22y%22%3A322.25598%2C%22width%22%3A584.8071399999999%2C%22height%22%3A36.08651999999995%2C%22text%22%3A%22g.springframework.context.support)%22%7D%2C%7B%22x%22%3A24.982046%2C%22y%22%3A363.3059%2C%22width%22%3A521.283054%2C%22height%22%3A32.56473999999997%2C%22text%22%3A%22ConfigurableApplicationconext%22%7D%2C%7B%22x%22%3A565.8546%2C%22y%22%3A364.39044%2C%22width%22%3A489.7558%2C%22height%22%3A30.25133999999997%2C%22text%22%3A%22(org.springframework.context)%22%7D%2C%7B%22x%22%3A24.209059%2C%22y%22%3A405.59897%2C%22width%22%3A1149.106941%2C%22height%22%3A36.50707999999997%2C%22text%22%3A%22ConfigurabiewebApplicationcontextgringrmewkc)%22%7D%2C%7B%22x%22%3A16.856527%2C%22y%22%3A449.75934%2C%22width%22%3A1191.8332730000002%2C%22height%22%3A35.24065999999999%2C%22text%22%3A%22FilesystemxmApplicationcontengamwkoe)%22%7D%2C%7B%22x%22%3A29.510376%2C%22y%22%3A492.79156%2C%22width%22%3A1075.0888240000002%2C%22height%22%3A32.687239999999974%2C%22text%22%3A%22GenericApplicationcontext(og.springframewokcontex)%22%7D%2C%7B%22x%22%3A27.983427%2C%22y%22%3A532.6642%2C%22width%22%3A1184.505173%2C%22height%22%3A44.6183299999999%2C%22text%22%3A%22GenericroowyAPplicationContextRgspringframework.context.suot)%22%7D%2C%7B%22x%22%3A28.08938%2C%22y%22%3A582.4995%2C%22width%22%3A1197.54662%2C%22height%22%3A30.77765999999997%2C%22text%22%3A%22GenericwebApplicationcontextg.sprinrmwrkeox)%22%7D%2C%7B%22x%22%3A25.867594%2C%22y%22%3A619.86664%2C%22width%22%3A1132.371706%2C%22height%22%3A36.61976000000004%2C%22text%22%3A%22Genericxmlapplicationcontext(og.springframewkcoet.u)%22%7D%5D%2C%22id%22%3A%22u974c124e%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"ud167dd5f\" id=\"ud167dd5f\"><br /></span><strong><span data-lake-id=\"ud3fc7003\" id=\"ud3fc7003\">实体类：pojo的User.java</span></strong></p><p data-lake-id=\"ueaf51451\" id=\"ueaf51451\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E8%BF%99%E9%87%8C%E8%BF%99%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%84%8F%E6%80%9D%2C%E5%B0%B1%E6%98%AF%E8%AF%B4%E6%98%8E%E8%BF%99%E4%B8%AA%E7%B1%BB%E8%A2%ABSpring%E6%8E%A5%E7%AE%A1%E4%BA%86%2C%E6%B3%A8%E5%86%8C%E5%88%B0%E4%BA%86%E5%AE%B9%E5%99%A8%E4%B8%AD%20%5Cn%40component%20%5Cnpublic%20class%20User%20%7B%20%5Cn%20%20%20%20private%20String%20name%3B%5Cn%20%20%20%20%5Cn%20%20%20%20public%20String%20getName()%20%7B%20%5Cn%20%20%20%20%5Ctreturn%20name%3B%20%5Cn%20%20%20%20%7D%20%5Cn%20%20%20%20%2F%2F%E5%B1%9E%E6%80%A7%E6%B3%A8%E5%85%A5%E5%80%BC%5Cn%20%20%20%20%40value(%5C%22QINJIANG')%20%20%5Cn%20%20%20%20public%20void%20setName(String%20name)%20%7B%20%5Cn%20%20%20%20%5Ctthis.name%20%3D%20name%3B%20%5Cn%20%20%20%20%7D%20%5Cn%20%20%20%20%40Override%20%5Cn%20%20%20%20public%20String%20toString()%20%7B%20%5Cn%20%20%20%20%20%20%20%20return%20%5C%22user%7B%5C%22%20%2B%20%5Cn%20%20%20%20%20%20%20%20%5C%22name%3D'%5C%22%20%2B%20name%20%2B%20'%5C%5C''%2B%20%5Cn%20%20%20%20%20%20%20%20'%7D'%3B%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221ecbba14%22%7D\"></card><p data-lake-id=\"uf1749e95\" id=\"uf1749e95\"><br></p><p data-lake-id=\"u8be98291\" id=\"u8be98291\"><span data-lake-id=\"u78d2c14d\" id=\"u78d2c14d\">弹幕评论：要么使用@Bean，要么使用@Component和ComponentScan，两种效果一样</span></p><p data-lake-id=\"u091ae37c\" id=\"u091ae37c\"><br></p><p data-lake-id=\"u8dd448f1\" id=\"u8dd448f1\"><strong><span data-lake-id=\"u68772f91\" id=\"u68772f91\">配置文件：config中的kuang.java</span></strong></p><p data-lake-id=\"uba68b1a5\" id=\"uba68b1a5\"><br></p><p data-lake-id=\"u443e7f2e\" id=\"u443e7f2e\"><span data-lake-id=\"u7864a5a2\" id=\"u7864a5a2\">@Import(KuangConfig2.class)，用@import来包含KuangConfig2.java</span></p><p data-lake-id=\"ua3ae4902\" id=\"ua3ae4902\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E8%BF%99%E4%B8%AA%E4%B9%9F%E4%BC%9ASpring%E5%AE%B9%E5%99%A8%E6%89%98%E7%AE%A1%2C%E6%B3%A8%E5%86%8C%E5%88%B0%E5%AE%B9%E5%99%A8%E4%B8%AD%2C%E5%9B%A0%E4%B8%BA%E4%BB%96%E6%9C%AC%E7%B1%B3%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%40Component%20%5Cn%2F%2F%20%40Configuration%E8%A1%A8%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%2C%E5%B0%B1%E5%83%8F%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E7%9C%8B%E7%9A%84beans.xml%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%3Cbeans%3E%E6%A0%87%E7%AD%BE%5Cn%40Configuration%20%5Cn%40componentScan(%5C%22com.Kuang.pojo%5C%22)%20%2F%2F%E5%BC%80%E5%90%AF%E6%89%AB%E6%8F%8F%5Cn%2F%2F%40Import(KuangConfig2.class)%5Cnpublic%20class%20KuangConfig%20%7B%20%5Cn%20%20%20%20%2F%2F%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAbean%20%2C%20%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E5%86%99%E7%9A%84%E4%B8%80%E4%B8%AAbean%20%E6%A0%87%E7%AD%BE%20%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E5%90%8D%E5%AD%97%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%20id%20%E5%B1%9E%E6%80%A7%20-%3EgetUser%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%90%8C%E5%80%BC%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84class%20%E5%B1%9E%E6%80%A7%20-%3EUser%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%40Bean%20%5Cn%20%20%20%20public%20User%20getUser()%7B%20%5Cn%20%20%20%20%5Ctreturn%20new%20User()%3B%20%2F%2F%E5%B0%B1%E6%98%AF%E8%BF%94%E5%9B%9E%E8%A6%81%E6%B3%A8%E5%85%A5%E5%88%B0bean%E7%9A%84%E5%AF%B9%E8%B1%A1!%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2281e33b81%22%7D\"></card><p data-lake-id=\"u62476a4a\" id=\"u62476a4a\"><br></p><p data-lake-id=\"u639798dc\" id=\"u639798dc\"><span data-lake-id=\"ue8ff698a\" id=\"ue8ff698a\">弹幕评论：ComponentScan、@Component(&quot;pojo”) 这两个注解配合使用</span></p><p data-lake-id=\"u46673551\" id=\"u46673551\"><br></p><p data-lake-id=\"u28f5b3e4\" id=\"u28f5b3e4\"><strong><span data-lake-id=\"u26ab2ca8\" id=\"u26ab2ca8\">测试类</span></strong></p><p data-lake-id=\"u5f11b28a\" id=\"u5f11b28a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest%20%7B%20%5Cn%20%20%20%20public%20static%20void%20main(String%5B%20%5D%20args)%20%7B%20%5Cn%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9C%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8%E4%BA%86%E9%85%8D%E7%BD%AE%E7%B1%BB%E6%96%B9%E5%BC%8F%E5%8E%BB%E5%81%9A%2C%E6%88%91%E4%BB%AC%E5%B0%B1%E5%8F%AA%E8%83%BD%E9%80%9A%E8%BF%87%20Annotationconfig%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8%2C%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84class%E5%AF%B9%E8%B1%A1%E5%8A%A0%E8%BD%BD!%20%5Cn%20%20%20%20ApplicationContext%20context%20%3D%20new%20AnnotationConfigApplicationContext(KuangConfig.Class)%3B%20%2F%2Fclass%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20User%20getUser%20%3D(User)context.getBean(%20%5C%22getUser%5C%22)%3B%20%2F%2F%E6%96%B9%E6%B3%95%E5%90%8DgetUser%5Cn%20%20%20%20System.out.Println(getUser.getName())%3B%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226135ad97%22%7D\"></card><p data-lake-id=\"ue80304de\" id=\"ue80304de\"><br></p><p data-lake-id=\"u1a626d67\" id=\"u1a626d67\"><strong><span data-lake-id=\"u10c97471\" id=\"u10c97471\">会创建两个相同对象问题的说明：</span></strong></p><p data-lake-id=\"u4818489f\" id=\"u4818489f\"><br></p><p data-lake-id=\"u9eb122bf\" id=\"u9eb122bf\"><strong><span data-lake-id=\"uc36421d2\" id=\"uc36421d2\">弹幕总结 - -&gt; @Bean是相当于&lt; bean&gt;标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了</span></strong></p><p data-lake-id=\"u386eefe2\" id=\"u386eefe2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E8%BF%99%E4%B8%AA%E4%B9%9F%E4%BC%9ASpring%E5%AE%B9%E5%99%A8%E6%89%98%E7%AE%A1%2C%E6%B3%A8%E5%86%8C%E5%88%B0%E5%AE%B9%E5%99%A8%E4%B8%AD%2C%E5%9B%A0%E4%B8%BA%E4%BB%96%E6%9C%AC%E7%B1%B3%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%40Component%20%5Cn%2F%2F%20%40Configuration%E8%A1%A8%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%2C%E5%B0%B1%E5%83%8F%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E7%9C%8B%E7%9A%84beans.xml%EF%BC%8C%E7%B1%BB%E4%BC%BC%E4%BA%8E%3Cbeans%3E%E6%A0%87%E7%AD%BE%5Cn%40Configuration%20%5Cn%40componentScan(%5C%22com.Kuang.pojo%5C%22)%20%2F%2F%E5%BC%80%E5%90%AF%E6%89%AB%E6%8F%8F%5Cn%2F%2F%40Import(KuangConfig2.class)%5Cnpublic%20class%20KuangConfig%20%7B%20%5Cn%20%20%20%20%2F%2F%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAbean%20%2C%20%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E5%86%99%E7%9A%84%E4%B8%80%E4%B8%AAbean%20%E6%A0%87%E7%AD%BE%20%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E5%90%8D%E5%AD%97%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84%20id%20%E5%B1%9E%E6%80%A7%20-%3EgetUser%5Cn%20%20%20%20%2F%2F%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%90%8C%E5%80%BC%2C%E5%B0%B1%E7%9B%B8%E5%BD%93%E4%BA%8Ebean%20%E6%A0%87%E7%AD%BE%E4%B8%AD%E7%9A%84class%20%E5%B1%9E%E6%80%A7%20-%3EUser%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%40Bean%20%5Cn%20%20%20%20public%20User%20getUser()%7B%20%5Cn%20%20%20%20%5Ctreturn%20new%20User()%3B%20%2F%2F%E5%B0%B1%E6%98%AF%E8%BF%94%E5%9B%9E%E8%A6%81%E6%B3%A8%E5%85%A5%E5%88%B0bean%E7%9A%84%E5%AF%B9%E8%B1%A1!%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2281e33b81-1%22%7D\"></card><p data-lake-id=\"u1c3f1476\" id=\"u1c3f1476\"><br></p><p data-lake-id=\"u36beb76d\" id=\"u36beb76d\"><span data-lake-id=\"uadb073eb\" id=\"uadb073eb\">弹幕评论：ComponentScan、@Component(&quot;pojo”) 这两个注解配合使用</span></p><p data-lake-id=\"ub8063bac\" id=\"ub8063bac\"><br></p><p data-lake-id=\"u18f3d3e8\" id=\"u18f3d3e8\"><strong><span data-lake-id=\"u50f55d75\" id=\"u50f55d75\">测试类</span></strong></p><p data-lake-id=\"u618cad28\" id=\"u618cad28\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest%20%7B%20%5Cn%20%20%20%20public%20static%20void%20main(String%5B%20%5D%20args)%20%7B%20%5Cn%20%20%20%20%2F%2F%E5%A6%82%E6%9E%9C%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8%E4%BA%86%E9%85%8D%E7%BD%AE%E7%B1%BB%E6%96%B9%E5%BC%8F%E5%8E%BB%E5%81%9A%2C%E6%88%91%E4%BB%AC%E5%B0%B1%E5%8F%AA%E8%83%BD%E9%80%9A%E8%BF%87%20Annotationconfig%20%E4%B8%8A%E4%B8%8B%E6%96%87%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8%2C%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84class%E5%AF%B9%E8%B1%A1%E5%8A%A0%E8%BD%BD!%20%5Cn%20%20%20%20ApplicationContext%20context%20%3D%20new%20AnnotationConfigApplicationContext(KuangConfig.Class)%3B%20%2F%2Fclass%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20User%20getUser%20%3D(User)context.getBean(%20%5C%22getUser%5C%22)%3B%20%2F%2F%E6%96%B9%E6%B3%95%E5%90%8DgetUser%5Cn%20%20%20%20System.out.Println(getUser.getName())%3B%20%5Cn%20%20%20%20%7D%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226135ad97-1%22%7D\"></card><p data-lake-id=\"u40d9a5ac\" id=\"u40d9a5ac\"><br></p><p data-lake-id=\"u5b84e5c8\" id=\"u5b84e5c8\"><strong><span data-lake-id=\"u99cc3f2d\" id=\"u99cc3f2d\">会创建两个相同对象问题的说明：</span></strong></p><p data-lake-id=\"u896a50ce\" id=\"u896a50ce\"><br></p><p data-lake-id=\"udb88d953\" id=\"udb88d953\"><strong><span data-lake-id=\"uf9e0c336\" id=\"uf9e0c336\">弹幕总结 - -&gt; @Bean是相当于&lt; bean&gt;标签创建的对象，而我们之前学的@Component是通过spring自动创建的这个被注解声明的对象，所以这里相当于有两个User对象被创建了。一个是bean标签创建的（@Bean），一个是通过扫描然后使用@Component，spring自动创建的User对象，所以这里去掉@Bean这些东西，然后开启扫描。之后在User头上用@Component即可达到spring自动创建User对象了</span></strong></p><p data-lake-id=\"uc5b2a9bf\" id=\"uc5b2a9bf\"><br></p><h2 data-lake-id=\"37ce5f92\" id=\"37ce5f92\"><span data-lake-id=\"u4a7e9781\" id=\"u4a7e9781\">10、动态代理</span></h2><p data-lake-id=\"u30177436\" id=\"u30177436\"><br></p><p data-lake-id=\"u4d84b115\" id=\"u4d84b115\"><span data-lake-id=\"u8fb5450b\" id=\"u8fb5450b\">代理模式是SpringAOP的底层</span></p><p data-lake-id=\"u1c26c9c7\" id=\"u1c26c9c7\"><br></p><p data-lake-id=\"u1c08fd19\" id=\"u1c08fd19\"><span data-lake-id=\"uc3efb2dc\" id=\"uc3efb2dc\">分类：动态代理和静态代理</span></p><p data-lake-id=\"u94313368\" id=\"u94313368\"><br></p><p data-lake-id=\"ucbf24b25\" id=\"ucbf24b25\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472093138-32a4cc48-0e0c-4470-8d41-95edc040a9f5.png%22%2C%22taskId%22%3A%22u3a4682f7-93df-4327-89d8-5588d7a3f33%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A713%2C%22height%22%3A318%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A295439%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1426%2C%22originHeight%22%3A635%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%A7%9F%E6%88%BF%20%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%A7%92%E8%89%B2%20%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%20%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%BA%20%E6%88%BF%E4%B8%9C%20%E4%B8%AD%E4%BB%8B%20%E4%BD%A0%2C%E7%A7%9F%E6%88%BF%E7%9A%84%E4%BA%BA%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A990.97174%2C%22y%22%3A71.19013%2C%22width%22%3A62.349660000000085%2C%22height%22%3A30.874120000000005%2C%22text%22%3A%22%E7%A7%9F%E6%88%BF%22%7D%2C%7B%22x%22%3A1217.1716%2C%22y%22%3A493.99786%2C%22width%22%3A150.67940000000021%2C%22height%22%3A36.879399999999976%2C%22text%22%3A%22%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%A7%92%E8%89%B2%22%7D%2C%7B%22x%22%3A692.61566%2C%22y%22%3A497.1697%2C%22width%22%3A122.21679999999992%2C%22height%22%3A32.589459999999974%2C%22text%22%3A%22%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%22%7D%2C%7B%22x%22%3A85.65793%2C%22y%22%3A502.23346%2C%22width%22%3A121.05632%2C%22height%22%3A31.214840000000038%2C%22text%22%3A%22%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%BA%22%7D%2C%7B%22x%22%3A1262.0941%2C%22y%22%3A534.978%2C%22width%22%3A63.06449999999995%2C%22height%22%3A31.03800000000001%2C%22text%22%3A%22%E6%88%BF%E4%B8%9C%22%7D%2C%7B%22x%22%3A724.5514%2C%22y%22%3A536.8606%2C%22width%22%3A58.54485000000011%2C%22height%22%3A30.76225999999997%2C%22text%22%3A%22%E4%B8%AD%E4%BB%8B%22%7D%2C%7B%22x%22%3A56.797283%2C%22y%22%3A539.181%2C%22width%22%3A179.795227%2C%22height%22%3A31.620699999999943%2C%22text%22%3A%22%E4%BD%A0%2C%E7%A7%9F%E6%88%BF%E7%9A%84%E4%BA%BA%22%7D%5D%2C%22id%22%3A%22u06036644%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u4556e4e9\" id=\"u4556e4e9\"><br></p><h3 data-lake-id=\"ac68d745\" id=\"ac68d745\"><span data-lake-id=\"u32a2ea46\" id=\"u32a2ea46\">10.1、静态代理</span></h3><p data-lake-id=\"ub7583ea9\" id=\"ub7583ea9\"><br></p><p data-lake-id=\"u2c96c119\" id=\"u2c96c119\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472110260-68d6d574-e8a2-4ada-974a-93238575f044.png%22%2C%22taskId%22%3A%22ufa2f2bd3-104b-4298-ac4b-082af9a2452%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A729%2C%22height%22%3A213%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A333570%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1458%2C%22originHeight%22%3A426%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E8%A7%92%E8%89%B2%E5%88%86%E6%9E%90%3A%20.%E6%8A%BD%E8%B1%A1%E8%A7%92%E8%89%B2%3A%E4%B8%80%E8%88%AC%E4%BC%9A%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E6%88%96%E8%80%85%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9D%A5%E8%A7%A3%E5%86%B3%20%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%3A%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E8%A7%92%E8%89%B2%20%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3A%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%2C%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%90%8E%2C%E6%88%91%E4%BB%AC%E4%B8%80%E8%88%AC%E4%BC%9A%E5%81%9A%E4%B8%80%E4%BA%9B%E9%99%84%E5%B1%9E%E6%93%8D%E4%BD%9C%20%E5%AE%A2%E6%88%B7%3A%E8%AE%BF%E9%97%AE%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BA%BA!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A3.7960088%2C%22y%22%3A17.675848%2C%22width%22%3A182.9075612%2C%22height%22%3A47.879352%2C%22text%22%3A%22%E8%A7%92%E8%89%B2%E5%88%86%E6%9E%90%3A%22%7D%2C%7B%22x%22%3A58.98752%2C%22y%22%3A111.796715%2C%22width%22%3A844.65414%2C%22height%22%3A55.364734999999996%2C%22text%22%3A%22.%E6%8A%BD%E8%B1%A1%E8%A7%92%E8%89%B2%3A%E4%B8%80%E8%88%AC%E4%BC%9A%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%E6%88%96%E8%80%85%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9D%A5%E8%A7%A3%E5%86%B3%22%7D%2C%7B%22x%22%3A80.883896%2C%22y%22%3A197.10371%2C%22width%22%3A459.133254%2C%22height%22%3A47.05554999999998%2C%22text%22%3A%22%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%3A%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E8%A7%92%E8%89%B2%22%7D%2C%7B%22x%22%3A81.64361%2C%22y%22%3A270.91354%2C%22width%22%3A1328.02659%2C%22height%22%3A59.39956000000001%2C%22text%22%3A%22%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3A%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%2C%E4%BB%A3%E7%90%86%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%90%8E%2C%E6%88%91%E4%BB%AC%E4%B8%80%E8%88%AC%E4%BC%9A%E5%81%9A%E4%B8%80%E4%BA%9B%E9%99%84%E5%B1%9E%E6%93%8D%E4%BD%9C%22%7D%2C%7B%22x%22%3A83.269806%2C%22y%22%3A367.26077%2C%22width%22%3A481.930394%2C%22height%22%3A40.047180000000026%2C%22text%22%3A%22%E5%AE%A2%E6%88%B7%3A%E8%AE%BF%E9%97%AE%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BA%BA!%22%7D%5D%2C%22id%22%3A%22ued37f954%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u102d514d\" id=\"u102d514d\"><br />代码步骤：</span></p><p data-lake-id=\"u7da15eda\" id=\"u7da15eda\"><br></p><p data-lake-id=\"udb0a9ccc\" id=\"udb0a9ccc\"><span data-lake-id=\"u62fd391d\" id=\"u62fd391d\">1、接口</span></p><p data-lake-id=\"uc89db04e\" id=\"uc89db04e\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20interface%20Host%20%7B%5Cn%5Ctpublic%20void%20rent()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c81ef282%22%7D\"></card><p data-lake-id=\"ud688a2d4\" id=\"ud688a2d4\"><br></p><p data-lake-id=\"udd53965c\" id=\"udd53965c\"><span data-lake-id=\"u5bb5f7a2\" id=\"u5bb5f7a2\">2、真实角色</span></p><p data-lake-id=\"u1cf64652\" id=\"u1cf64652\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20class%20HostMaster%20implements%20Host%7B%5Ct%5Cn%20%20%20%20%5Cn%5Ctpublic%20void%20rent()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%88%BF%E4%B8%9C%E8%A6%81%E5%87%BA%E7%A7%9F%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b6e0874a%22%7D\"></card><p data-lake-id=\"u0afdfda9\" id=\"u0afdfda9\"><br></p><p data-lake-id=\"u6365e5e2\" id=\"u6365e5e2\"><span data-lake-id=\"uc75065ce\" id=\"uc75065ce\">3、代理角色</span></p><p data-lake-id=\"u6b295404\" id=\"u6b295404\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnpublic%20class%20Proxy%20%7B%5Cn%5Cn%5Ctpublic%20Host%20host%3B%5Cn%5Ct%5Cn%5Ctpublic%20Proxy()%20%7B%5Cn%5Ct%5Ct%5Cn%5Ct%7D%5Cn%5Ct%5Cn%5Ctpublic%20Proxy(Host%20host)%20%7B%5Cn%5Ct%5Ctsuper()%3B%5Cn%5Ct%5Ctthis.host%20%3D%20host%3B%5Cn%5Ct%7D%5Cn%5Ct%5Cn%5Ctpublic%20void%20rent()%20%7B%5Cn%5Ct%5CtseeHouse()%3B%5Cn%5Ct%5Cthost.rent()%3B%5Cn%5Ct%5Ctfee()%3B%5Cn%5Ct%5Ctsign()%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E7%9C%8B%E6%88%BF%5Cn%5Ctpublic%20void%20seeHouse()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E7%9C%8B%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E6%94%B6%E8%B4%B9%5Cn%5Ctpublic%20void%20fee()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%94%B6%E4%B8%AD%E4%BB%8B%E8%B4%B9%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E5%90%88%E5%90%8C%5Cn%5Ctpublic%20void%20sign()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E7%AD%BE%E5%90%88%E5%90%8C%5C%22)%3B%5Cn%5Ct%7D%5Ct%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2272dd35fd%22%7D\"></card><p data-lake-id=\"uc21535a7\" id=\"uc21535a7\"><br></p><p data-lake-id=\"u9f4bba4c\" id=\"u9f4bba4c\"><span data-lake-id=\"u5a026beb\" id=\"u5a026beb\">4、客户端访问代理角色</span></p><p data-lake-id=\"ufa1c3d41\" id=\"ufa1c3d41\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle4_proxy%3B%5Cn%5Cnimport%20pojo.Host%3B%5Cnimport%20pojo.HostMaster%3B%5Cnimport%20pojo.Proxy%3B%5Cn%5Cnpublic%20class%20My%20%7B%5Cn%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5Ct%2F%2F%E6%88%BF%E4%B8%9C%E8%A6%81%E5%87%BA%E7%A7%9F%E6%88%BF%E5%AD%90%5Cn%5Ct%5CtHost%20host%20%3D%20new%20HostMaster()%3B%5Cn%5Ct%5Ct%2F%2F%E4%B8%AD%E4%BB%8B%E5%B8%AE%E6%88%BF%E4%B8%9C%E5%87%BA%E7%A7%9F%E6%88%BF%E5%AD%90%EF%BC%8C%E4%BD%86%E4%B9%9F%E6%94%B6%E5%8F%96%E4%B8%80%E5%AE%9A%E8%B4%B9%E7%94%A8%EF%BC%88%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%BA%9B%E6%88%BF%E4%B8%9C%E4%B8%8D%E5%81%9A%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%89%5Cn%5Ct%5CtProxy%20proxy%20%3D%20new%20Proxy(host)%3B%5Cn%5Ct%5Ct%2F%2F%E7%9C%8B%E4%B8%8D%E5%88%B0%E6%88%BF%E4%B8%9C%EF%BC%8C%E4%BD%86%E9%80%9A%E8%BF%87%E4%BB%A3%E7%90%86%EF%BC%8C%E8%BF%98%E6%98%AF%E7%A7%9F%E5%88%B0%E4%BA%86%E6%88%BF%E5%AD%90%5Cn%5Ct%5Ctproxy.rent()%3B%5Cn%5Ct%5Ct%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222479edd4%22%7D\"></card><p data-lake-id=\"u2ce33bd2\" id=\"u2ce33bd2\"><br></p><p data-lake-id=\"u2805ace6\" id=\"u2805ace6\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472182662-cd60ab25-c271-4316-af34-9722171677ff.png%22%2C%22taskId%22%3A%22u4c988078-ba16-4d13-ad27-de269300307%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A716%2C%22height%22%3A276%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A318739%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1432%2C%22originHeight%22%3A552%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%A5%BD%E5%A4%84%3A%20%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%20%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%20%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%20%E7%BC%BA%E7%82%B9%3A%20%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%B0%B1%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3B%E4%BB%A3%E7%A0%81%E9%87%8F%E4%BC%9A%E7%BF%BB%E5%80%8D-%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E4%BC%9A%E5%8F%98%E4%BD%8E~%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A18.71793%2C%22y%22%3A13.003425%2C%22width%22%3A318.64349%2C%22height%22%3A46.618268%2C%22text%22%3A%22%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%A5%BD%E5%A4%84%3A%22%7D%2C%7B%22x%22%3A104.03952%2C%22y%22%3A114.610596%2C%22width%22%3A1140.18298%2C%22height%22%3A43.878574%2C%22text%22%3A%22%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%22%7D%2C%7B%22x%22%3A101.845%2C%22y%22%3A200.36185%2C%22width%22%3A863.6782999999999%2C%22height%22%3A46.50728000000001%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%22%7D%2C%7B%22x%22%3A95.715775%2C%22y%22%3A285.71997%2C%22width%22%3A789.133525%2C%22height%22%3A48.818730000000016%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%22%7D%2C%7B%22x%22%3A20.13478%2C%22y%22%3A388.3527%2C%22width%22%3A104.22771499999999%2C%22height%22%3A43.97149999999999%2C%22text%22%3A%22%E7%BC%BA%E7%82%B9%3A%22%7D%2C%7B%22x%22%3A102.43062%2C%22y%22%3A487.7622%2C%22width%22%3A1311.53838%2C%22height%22%3A47.12959999999998%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E5%B0%B1%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%3B%E4%BB%A3%E7%A0%81%E9%87%8F%E4%BC%9A%E7%BF%BB%E5%80%8D-%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E4%BC%9A%E5%8F%98%E4%BD%8E~%22%7D%5D%2C%22id%22%3A%22u44fe5565%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"ucc3ef0eb\" id=\"ucc3ef0eb\"><br />代码翻倍：几十个真实角色就得写几十个代理</span></p><p data-lake-id=\"u181ee8dc\" id=\"u181ee8dc\"><br></p><p data-lake-id=\"ua1582753\" id=\"ua1582753\"><span data-lake-id=\"u1f776230\" id=\"u1f776230\">AOP横向开发</span></p><p data-lake-id=\"udc8f824e\" id=\"udc8f824e\"><br></p><p data-lake-id=\"u7469fd93\" id=\"u7469fd93\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472202392-f8398270-e31d-4f1d-962d-c24024ab0170.png%22%2C%22taskId%22%3A%22uee994fb2-a8b0-4b92-9319-ac8f359e328%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A714.5%2C%22height%22%3A616%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A535042%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1429%2C%22originHeight%22%3A1231%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22dao%20Aop%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%88%B6!%20Log%3A%E6%A8%AA%E5%90%91%E5%BC%80%E5%8F%91%20service%20%E5%90%91%E5%BC%80%E5%8F%91%E7%9B%8A%20controller%20%E5%89%8D%E7%AB%AF%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A372.66272%2C%22y%22%3A88.493286%2C%22width%22%3A64.13408000000004%2C%22height%22%3A30.003608999999997%2C%22text%22%3A%22dao%22%7D%2C%7B%22x%22%3A866.1268%2C%22y%22%3A221.01337%2C%22width%22%3A242.73829999999998%2C%22height%22%3A35.396180000000015%2C%22text%22%3A%22Aop%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%88%B6!%22%7D%2C%7B%22x%22%3A1049.2529%2C%22y%22%3A401.9132%2C%22width%22%3A230.24430000000007%2C%22height%22%3A34.892949999999985%2C%22text%22%3A%22Log%3A%E6%A8%AA%E5%90%91%E5%BC%80%E5%8F%91%22%7D%2C%7B%22x%22%3A348.94226%2C%22y%22%3A414.1208%2C%22width%22%3A108.28384%2C%22height%22%3A27.617200000000025%2C%22text%22%3A%22service%22%7D%2C%7B%22x%22%3A82.52725%2C%22y%22%3A468.82904%2C%22width%22%3A39.425555%2C%22height%22%3A164.26885999999996%2C%22text%22%3A%22%E5%90%91%E5%BC%80%E5%8F%91%E7%9B%8A%22%7D%2C%7B%22x%22%3A327.13455%2C%22y%22%3A777.1427%2C%22width%22%3A151.05078000000003%2C%22height%22%3A30.68005000000005%2C%22text%22%3A%22controller%22%7D%2C%7B%22x%22%3A367.16302%2C%22y%22%3A1087.8625%2C%22width%22%3A71.71395999999999%2C%22height%22%3A36.23910000000001%2C%22text%22%3A%22%E5%89%8D%E7%AB%AF%22%7D%5D%2C%22id%22%3A%22u6f0ff715%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u1a9a257a\" id=\"u1a9a257a\"><br></p><h3 data-lake-id=\"7f64b1e7\" id=\"7f64b1e7\"><span data-lake-id=\"ua30b19bc\" id=\"ua30b19bc\">10.2、动态代理</span></h3><p data-lake-id=\"u6a225b97\" id=\"u6a225b97\"><br></p><p data-lake-id=\"u52a215f4\" id=\"u52a215f4\"><span data-lake-id=\"u6feff077\" id=\"u6feff077\">动态代理和静态角色一样，动态代理底层是反射机制</span></p><p data-lake-id=\"u55bec41f\" id=\"u55bec41f\"><br></p><p data-lake-id=\"u945d5d3b\" id=\"u945d5d3b\"><span data-lake-id=\"ud60ed7f6\" id=\"ud60ed7f6\">动态代理类是动态生成的，不是我们直接写好的！</span></p><p data-lake-id=\"u484da3d8\" id=\"u484da3d8\"><br></p><p data-lake-id=\"u8855b148\" id=\"u8855b148\"><span data-lake-id=\"u139a8c67\" id=\"u139a8c67\">动态代理(两大类)：基于接口，基于类</span></p><p data-lake-id=\"u63e248cd\" id=\"u63e248cd\"><br></p><ul list=\"u950104e4\"><li fid=\"u0e996830\" data-lake-id=\"u2805d496\" id=\"u2805d496\"><span data-lake-id=\"uc5511781\" id=\"uc5511781\">基于接口：JDK的动态代理【使用ing】</span></li></ul><ul list=\"u2c23c0a9\"><li fid=\"u54c85023\" data-lake-id=\"u6fdc1d52\" id=\"u6fdc1d52\"><span data-lake-id=\"u82ea3f53\" id=\"u82ea3f53\">基于类：cglib</span></li></ul><ul list=\"u1a8775ee\"><li fid=\"uc6c0ac57\" data-lake-id=\"uc4ad0ce4\" id=\"uc4ad0ce4\"><span data-lake-id=\"u7cee8873\" id=\"u7cee8873\">java字节码实现：javasisit</span></li></ul><p data-lake-id=\"u6bcf2dca\" id=\"u6bcf2dca\"><br></p><p data-lake-id=\"ua0f98868\" id=\"ua0f98868\"><span data-lake-id=\"u89e6bd18\" id=\"u89e6bd18\">了解两个类<br />1、Proxy：代理<br />2、InvocationHandler：调用处理程序<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472250406-dbe28260-99f3-47cd-bcb3-dd256a81ddfe.png%22%2C%22taskId%22%3A%22u1b8a68e3-05e6-4b8b-b247-e42a373ad8b%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A718.5%2C%22height%22%3A75%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A119714%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1437%2C%22originHeight%22%3A150%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22java.lang.reflect%20lnterfacelnvocationHandler%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A16.086414%2C%22y%22%3A4.62058%2C%22width%22%3A281.812416%2C%22height%22%3A42.204454999999996%2C%22text%22%3A%22java.lang.reflect%22%7D%2C%7B%22x%22%3A19.994574%2C%22y%22%3A75.245964%2C%22width%22%3A649.8262259999999%2C%22height%22%3A46.316046%2C%22text%22%3A%22lnterfacelnvocationHandler%22%7D%5D%2C%22id%22%3A%22uec06fc4f%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"uf9e30c89\" id=\"uf9e30c89\"><br></p><p data-lake-id=\"ub82b9ddf\" id=\"ub82b9ddf\"><span data-lake-id=\"u26a42c87\" id=\"u26a42c87\">实例：</span></p><p data-lake-id=\"u56a2dad4\" id=\"u56a2dad4\"><br></p><p data-lake-id=\"u6fd8cfbd\" id=\"u6fd8cfbd\"><span data-lake-id=\"u1d5e3f7b\" id=\"u1d5e3f7b\">接口 Host.java</span></p><p data-lake-id=\"ua647c123\" id=\"ua647c123\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%8E%A5%E5%8F%A3%5Cnpackage%20pojo2%3B%5Cnpublic%20interface%20Host%20%7B%5Cn%5Ctpublic%20void%20rent()%3B%5Cn%5Ct%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222e8be48e%22%7D\"></card><p data-lake-id=\"u02faeb2a\" id=\"u02faeb2a\"><br></p><p data-lake-id=\"u647890b9\" id=\"u647890b9\"><span data-lake-id=\"u326b1b6d\" id=\"u326b1b6d\">接口Host实现类 HostMaster.java</span></p><p data-lake-id=\"uac75c7a9\" id=\"uac75c7a9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB%5Cnpackage%20pojo2%3B%5Cnpublic%20class%20HostMaster%20implements%20Host%7B%5Ct%5Cn%5Ctpublic%20void%20rent()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%88%BF%E4%B8%9C%E8%A6%81%E7%A7%9F%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fdc507ab%22%7D\"></card><p data-lake-id=\"u73adfd40\" id=\"u73adfd40\"><br></p><p data-lake-id=\"u17066677\" id=\"u17066677\"><span data-lake-id=\"u17c87370\" id=\"u17c87370\">代理角色的处理程序类 ProxyInvocationHandler.java</span></p><p data-lake-id=\"u95088721\" id=\"u95088721\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo2%3B%5Cn%5Cnimport%20java.lang.reflect.InvocationHandler%3B%5Cnimport%20java.lang.reflect.Method%3B%5Cnimport%20java.lang.reflect.Proxy%3B%5Cn%5Cn%2F%2F%2F%E7%94%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%5Cnpublic%20class%20ProxyInvocationHandler%20implements%20InvocationHandler%20%7B%5Cn%5Cn%5Ct%2F%2F%20Foo%20f%20%3D(Foo)%20Proxy.NewProxyInstance(Foo.%20Class.GetClassLoader()%2C%5Cn%5Ct%2F%2F%20new%20Class%3C%3F%3E%5B%5D%20%7B%20Foo.Class%20%7D%2C%5Cn%5Ct%2F%2F%20handler)%3B%5Cn%5Cn%5Ct%2F%2F%20%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E6%8E%A5%E5%8F%A3%5Cn%5Ctpublic%20HostMaster%20hostMaster%20%3B%5Cn%5Ct%5Cn%5Ctpublic%20void%20setHostMaster(HostMaster%20hostMaster)%20%7B%5Cn%5Ct%5Ctthis.hostMaster%20%3D%20hostMaster%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%BE%97%E5%88%B0%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%90%86%E7%B1%BB%20%5Cn%5Ctpublic%20Object%20getProxy()%20%7B%5Cn%5Ct%5Ct%2F%2F%20newProxyInstance()%20-%3E%20%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%B1%E4%B8%8D%E7%94%A8%E5%86%8D%E5%86%99%E5%85%B7%E4%BD%93%E7%9A%84%E4%BB%A3%E7%90%86%E7%B1%BB%E4%BA%86%5Cn%5Ct%5Ct%2F%2F%20this.getClass().getClassLoader()%20-%3E%20%E6%89%BE%E5%88%B0%E5%8A%A0%E8%BD%BD%E7%B1%BB%E7%9A%84%E4%BD%8D%E7%BD%AE%5Cn%5Ct%5Ct%2F%2F%20hostMaster.getClass().getInterfaces()%20-%3E%20%E4%BB%A3%E7%90%86%E7%9A%84%E5%85%B7%E4%BD%93%E6%8E%A5%E5%8F%A3%5Cn%5Ct%5Ct%2F%2F%20this%20-%3E%20%E4%BB%A3%E8%A1%A8%E4%BA%86%E6%8E%A5%E5%8F%A3InvocationHandler%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BBProxyInvocationHandler%5Cn%5Ct%5Ctreturn%20Proxy.newProxyInstance(this.getClass().getClassLoader()%2C%20hostMaster.getClass().getInterfaces()%2C%20this)%3B%5Cn%5Cn%5Cn%5Ct%2F%2F%20%E5%A4%84%E7%90%86%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BE%8B%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%5Cn%5Ctpublic%20Object%20invoke(Object%20proxy%2C%20Method%20method%2C%20Object%5B%5D%20args)%20throws%20Throwable%20%7B%5Cn%5Ct%5CtseeHouse()%3B%5Cn%5Ct%5Ct%2F%2F%20%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E6%9C%AC%E8%B4%A8%EF%BC%8C%E5%B0%B1%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E7%9A%84%5Cn%20%20%20%20%20%20%20%20%2F%2F%20invoke()%E6%89%A7%E8%A1%8C%E5%AE%83%E7%9C%9F%E6%AD%A3%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95%5Cn%5Ct%5CtObject%20result%20%3D%20method.invoke(hostMaster%2C%20args)%3B%5Cn%5Ct%5Ctfee()%3B%5Cn%5Ct%5Ctreturn%20result%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20void%20seeHouse()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E7%9C%8B%E6%88%BF%E5%AD%90%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20void%20fee()%20%7B%5Cn%5Ct%5CtSystem.out.println(%5C%22%E6%94%B6%E4%B8%AD%E4%BB%8B%E8%B4%B9%5C%22)%3B%5Cn%5Ct%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2209bd3632%22%7D\"></card><p data-lake-id=\"u17d68ad0\" id=\"u17d68ad0\"><br></p><p data-lake-id=\"ubc6cc3ac\" id=\"ubc6cc3ac\"><span data-lake-id=\"u1aa8c2d9\" id=\"u1aa8c2d9\">用户类 My2.java</span></p><p data-lake-id=\"u78fc5ad2\" id=\"u78fc5ad2\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20holle4_proxy%3B%5Cn%5Cnimport%20pojo2.Host%3B%5Cnimport%20pojo2.Host2%3B%5Cnimport%20pojo2.HostMaster%3B%5Cnimport%20pojo2.ProxyInvocationHandler%3B%5Cn%5Cnpublic%20class%20My2%20%7B%5Cn%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5Ct%2F%2F%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%5Cn%5Ct%5CtHostMaster%20hostMaster%20%3D%20new%20HostMaster()%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5Ct%2F%2F%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%EF%BC%8C%E7%8E%B0%E5%9C%A8%E6%B2%A1%E6%9C%89%EF%BC%9B%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2%E7%9A%84%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E6%9D%A5%E5%AE%9E%E7%8E%B0Host%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%B0%83%E7%94%A8%5Cn%5Ct%5CtProxyInvocationHandler%20pih%20%3D%20new%20ProxyInvocationHandler()%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20%2F%2Fpih%20-%3E%20HostMaster%E6%8E%A5%E5%8F%A3%E7%B1%BB%20-%3E%20Host%E6%8E%A5%E5%8F%A3%5Cn%5Ct%5Ctpih.setHostMaster(hostMaster)%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5Ct%2F%2F%E8%8E%B7%E5%8F%96newProxyInstance%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E4%BB%A3%E7%90%86%E7%B1%BB%5Cn%5Ct%5CtHost%20proxy%20%3D%20(Host)%20pih.getProxy()%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctproxy.rent()%3B%5Cn%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22316ccb94%22%7D\"></card><p data-lake-id=\"u0dc97ef7\" id=\"u0dc97ef7\"><br></p><p data-lake-id=\"u6a87434e\" id=\"u6a87434e\"><span data-lake-id=\"ud8e4e410\" id=\"ud8e4e410\">弹幕评论：<br /></span><span data-lake-id=\"u1cdd52ac\" id=\"u1cdd52ac\">什么时候调用invoke方法的?<br /></span><span data-lake-id=\"ue02cdd4b\" id=\"ue02cdd4b\">代理实例调用方法时invoke方法就会被调用，可以debug试试</span></p><p data-lake-id=\"u01340d45\" id=\"u01340d45\"><br></p><p data-lake-id=\"ue2cd13df\" id=\"ue2cd13df\"><span data-lake-id=\"uc80e14ff\" id=\"uc80e14ff\">改为</span><strong><span data-lake-id=\"u06ecef5e\" id=\"u06ecef5e\">万能代理类</span></strong></p><p data-lake-id=\"u5386d90d\" id=\"u5386d90d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%2F%E7%94%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%94%9F%E4%BB%A3%E7%90%86%5Cnpublic%20class%20ProxyInvocationHandler%20implements%20InvocationHandler%20%7B%5Cn%5Cn%5Ct%2F%2F%20%E8%A2%AB%E4%BB%A3%E7%90%86%E7%9A%84%E6%8E%A5%E5%8F%A3%5Cn%5Ctpublic%20Object%20target%3B%5Cn%5Cn%5Ctpublic%20void%20setTarget(Object%20target)%20%7B%5Cn%5Ct%5Ctthis.target%20%3D%20target%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%BE%97%E5%88%B0%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%90%86%E7%B1%BB%20-%3E%20%E5%9B%BA%E5%AE%9A%E7%9A%84%E4%BB%A3%E7%A0%81%5Cn%5Ctpublic%20Object%20getProxy()%20%7B%5Cn%5Ct%5Ctreturn%20Proxy.newProxyInstance(this.getClass().getClassLoader()%2C%20target.getClass().getInterfaces()%2C%20this)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%A4%84%E7%90%86%E4%BB%A3%E7%90%86%E5%AE%9E%E4%BE%8B%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%5Cn%5Ctpublic%20Object%20invoke(Object%20proxy%2C%20Method%20method%2C%20Object%5B%5D%20args)%20throws%20Throwable%20%7B%5Cn%5Ct%5Ct%2F%2F%20%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E6%9C%AC%E8%B4%A8%EF%BC%8C%E5%B0%B1%E6%98%AF%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E7%9A%84%5Cn%5Ct%5Ct%2F%2F%20invoke()%E6%89%A7%E8%A1%8C%E5%AE%83%E7%9C%9F%E6%AD%A3%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95%5Cn%5Ct%5CtObject%20result%20%3D%20method.invoke(target%2C%20args)%3B%5Cn%5Ct%5Ctreturn%20result%3B%5Cn%5Ct%7D%5Cn%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f67b8446%22%7D\"></card><p data-lake-id=\"u747eed1c\" id=\"u747eed1c\"><br></p><p data-lake-id=\"u2b41d676\" id=\"u2b41d676\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472286319-fedd39e9-373b-4ad8-9f64-4b8ee3c604ca.png%22%2C%22taskId%22%3A%22ua22f25c6-84a0-4f29-9431-610048ecc8e%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A732.5%2C%22height%22%3A297%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A416618%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1465%2C%22originHeight%22%3A593%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E5%A5%BD%E5%A4%84%3A%20%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%20%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%20%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%20%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%2C%E4%B8%80%E8%88%AC%E5%B0%B1%E6%98%AF%E5%AF%B9%E5%BA%94%E7%9A%84%E4%B8%80%E7%B1%BB%E4%B8%9A%E5%8A%A1%20%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E5%8F%AF%E4%BB%A5%E4%BB%A3%E7%90%86%E5%A4%9A%E4%B8%AA%E7%B1%BB%2C%E5%8F%AA%E8%A6%81%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%90%8C%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%8D%B3%E5%8F%AF!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A20.974703%2C%22y%22%3A21.202911%2C%22width%22%3A342.929437%2C%22height%22%3A49.477819%2C%22text%22%3A%22%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%9A%84%E5%A5%BD%E5%A4%84%3A%22%7D%2C%7B%22x%22%3A110.31398%2C%22y%22%3A125.35134%2C%22width%22%3A1238.60842%2C%22height%22%3A59.109170000000006%2C%22text%22%3A%22%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%9C%9F%E5%AE%9E%E8%A7%92%E8%89%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9B%B4%E5%8A%A0%E7%BA%AF%E7%B2%B9!%E4%B8%8D%E7%94%A8%E5%8E%BB%E5%85%B3%E6%B3%A8%E4%B8%80%E4%BA%9B%E5%85%AC%E5%85%B1%E7%9A%84%E4%B8%9A%E5%8A%A1%22%7D%2C%7B%22x%22%3A108.648254%2C%22y%22%3A225.02652%2C%22width%22%3A936.8362460000001%2C%22height%22%3A48.489179999999976%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B9%9F%E5%B0%B1%E5%B0%B1%E4%BA%A4%E7%BB%99%E4%BB%A3%E7%90%86%E8%A7%92%E8%89%B2!%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%88%86%E5%B7%A5!%22%7D%2C%7B%22x%22%3A106.30473%2C%22y%22%3A319.75894%2C%22width%22%3A847.1865700000001%2C%22height%22%3A51.633699999999976%2C%22text%22%3A%22%E5%85%AC%E5%85%B1%E4%B8%9A%E5%8A%A1%E5%8F%91%E7%94%9F%E6%89%A9%E5%B1%95%E7%9A%84%E6%97%B6%E5%80%99%2C%E6%96%B9%E4%BE%BF%E9%9B%86%E4%B8%AD%E7%AE%A1%E7%90%86!%22%7D%2C%7B%22x%22%3A100.42764%2C%22y%22%3A409.33658%2C%22width%22%3A1250.3754600000002%2C%22height%22%3A55.078179999999975%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%2C%E4%B8%80%E8%88%AC%E5%B0%B1%E6%98%AF%E5%AF%B9%E5%BA%94%E7%9A%84%E4%B8%80%E7%B1%BB%E4%B8%9A%E5%8A%A1%22%7D%2C%7B%22x%22%3A102.06349%2C%22y%22%3A505.33142%2C%22width%22%3A1315.13731%2C%22height%22%3A53.047879999999964%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%B1%BB%E5%8F%AF%E4%BB%A5%E4%BB%A3%E7%90%86%E5%A4%9A%E4%B8%AA%E7%B1%BB%2C%E5%8F%AA%E8%A6%81%E6%98%AF%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%90%8C%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%8D%B3%E5%8F%AF!%22%7D%5D%2C%22id%22%3A%22u9fe42ff0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u85bc2827\" id=\"u85bc2827\"><br></p><h2 data-lake-id=\"8fcd49a5\" id=\"8fcd49a5\"><span data-lake-id=\"u8f62c711\" id=\"u8f62c711\">11、AOP</span></h2><p data-lake-id=\"uf487067f\" id=\"uf487067f\"><br></p><h3 data-lake-id=\"7b90ca80\" id=\"7b90ca80\"><span data-lake-id=\"uce7eead8\" id=\"uce7eead8\">11.1、什么是AOP</span></h3><p data-lake-id=\"u919e7a61\" id=\"u919e7a61\"><br></p><p data-lake-id=\"u2d61435d\" id=\"u2d61435d\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472302779-a8366011-5841-48c9-a6c7-eff3e7546103.png%22%2C%22taskId%22%3A%22ua7ef26da-9f3b-497b-b0a7-659aab41f56%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A728%2C%22height%22%3A97%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A457846%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1456%2C%22originHeight%22%3A194%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22AOP(PetoRetePToam)%E6%84%8F%E9%9D%A2%2C%E9%80%9A%E8%BF%87%E8%AF%91%E6%96%B9%E5%BC%8F%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%9F%E6%80%81%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%A8%8B%E5%8A%9F%E8%83%BD%20%E7%9A%84%E4%B8%80%E7%BB%A7%E6%8A%A4%E7%9A%84%E4%B8%80%E7%A7%8D%E6%8A%80%E6%9C%AF.AOP%E6%98%AFOOP%E7%9A%84%E7%BB%AD%2C%E6%98%AF%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E7%83%AD%E7%82%B9%2C%E4%B9%9F%E6%98%AFSpg%E6%9E%B6%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9%2C%E6%98%AF%20%E8%A5%BF%E6%95%8F%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A1%8C%E7%94%9F%E8%8C%83%E5%9E%8B%2C%E5%88%A9%E7%94%A80P%E5%8F%AF%E4%BB%A5%E5%AF%B9%E4%B8%9A%E5%8A%A1%E9%80%BB%E7%9A%84%E5%90%84%E4%B8%AA%E9%83%A8%E8%BF%9B%E8%A1%8C%E9%9A%94%E7%A6%BB%2C%E4%BB%8E%E8%80%8C%E4%BD%BF%E4%B8%9A%E5%8A%A1%E9%80%BB%E4%BF%B1%E5%90%84%E9%83%A8%E5%88%86%E4%B9%8B%5D%E7%9A%84%E5%90%88%20%E5%BA%A6%E9%99%8D%E4%BD%8E%2C%E6%8F%90%E9%AB%98%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8F%AF%E9%87%8D%E7%94%A8%E6%80%A7%2C%E5%90%8C%E6%97%B6%E6%8F%90%E9%AB%98%E4%BA%86%E5%BC%80%E5%8F%91%E7%9A%84%E6%95%88%E7%8E%87.%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A20.905172%2C%22y%22%3A17.26656%2C%22width%22%3A1388.177128%2C%22height%22%3A30.323524%2C%22text%22%3A%22AOP(PetoRetePToam)%E6%84%8F%E9%9D%A2%2C%E9%80%9A%E8%BF%87%E8%AF%91%E6%96%B9%E5%BC%8F%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%9F%E6%80%81%E4%BB%A3%E7%90%86%E5%AE%9E%E7%8E%B0%E7%A8%8B%E5%8A%9F%E8%83%BD%22%7D%2C%7B%22x%22%3A17.54849%2C%22y%22%3A60.775894%2C%22width%22%3A1390.29851%2C%22height%22%3A30.995656000000004%2C%22text%22%3A%22%E7%9A%84%E4%B8%80%E7%BB%A7%E6%8A%A4%E7%9A%84%E4%B8%80%E7%A7%8D%E6%8A%80%E6%9C%AF.AOP%E6%98%AFOOP%E7%9A%84%E7%BB%AD%2C%E6%98%AF%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E7%83%AD%E7%82%B9%2C%E4%B9%9F%E6%98%AFSpg%E6%9E%B6%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9%2C%E6%98%AF%22%7D%2C%7B%22x%22%3A18.403284%2C%22y%22%3A104.806786%2C%22width%22%3A1413.341916%2C%22height%22%3A30.29079399999999%2C%22text%22%3A%22%E8%A5%BF%E6%95%8F%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A1%8C%E7%94%9F%E8%8C%83%E5%9E%8B%2C%E5%88%A9%E7%94%A80P%E5%8F%AF%E4%BB%A5%E5%AF%B9%E4%B8%9A%E5%8A%A1%E9%80%BB%E7%9A%84%E5%90%84%E4%B8%AA%E9%83%A8%E8%BF%9B%E8%A1%8C%E9%9A%94%E7%A6%BB%2C%E4%BB%8E%E8%80%8C%E4%BD%BF%E4%B8%9A%E5%8A%A1%E9%80%BB%E4%BF%B1%E5%90%84%E9%83%A8%E5%88%86%E4%B9%8B%5D%E7%9A%84%E5%90%88%22%7D%2C%7B%22x%22%3A17.207062%2C%22y%22%3A148.292%2C%22width%22%3A686.0667380000001%2C%22height%22%3A31.40276%2C%22text%22%3A%22%E5%BA%A6%E9%99%8D%E4%BD%8E%2C%E6%8F%90%E9%AB%98%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8F%AF%E9%87%8D%E7%94%A8%E6%80%A7%2C%E5%90%8C%E6%97%B6%E6%8F%90%E9%AB%98%E4%BA%86%E5%BC%80%E5%8F%91%E7%9A%84%E6%95%88%E7%8E%87.%22%7D%5D%2C%22id%22%3A%22u04219bd7%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"uf9648379\" id=\"uf9648379\"><br></p><h3 data-lake-id=\"11d4b04b\" id=\"11d4b04b\"><span data-lake-id=\"u2d7cb44b\" id=\"u2d7cb44b\">11.2、AOP在Spring中的使用</span></h3><p data-lake-id=\"u897be733\" id=\"u897be733\"><br></p><p data-lake-id=\"uc6369f12\" id=\"uc6369f12\"><span data-lake-id=\"u37ce97b3\" id=\"u37ce97b3\">提供声明式事务，允许用户自定义切面</span></p><p data-lake-id=\"u668134c8\" id=\"u668134c8\"><br></p><ul list=\"uc95ae15a\"><li fid=\"ud9c738eb\" data-lake-id=\"udbc39a44\" id=\"udbc39a44\"><span data-lake-id=\"u873e6d43\" id=\"u873e6d43\">横切关注点：跨越应用程序多个模块的方法或功能。即是，与我们业务逻辑无关的，但是我们需要关注的部分，就是横切关注点。如日志，安全，缓存，事务等等…</span></li></ul><ul list=\"ua0827484\"><li fid=\"udd899c9d\" data-lake-id=\"u7893d60b\" id=\"u7893d60b\"><span data-lake-id=\"ucd4e8140\" id=\"ucd4e8140\">切面(Aspect)：横切关注点 被模块化的特殊对象。即，它是一个类。（Log类）</span></li></ul><ul list=\"u77379a9f\"><li fid=\"ue62e6395\" data-lake-id=\"u5d4aabd9\" id=\"u5d4aabd9\"><span data-lake-id=\"ucfb4fcd8\" id=\"ucfb4fcd8\">通知(Advice)：切面必须要完成的工作。即，它是类中的一个方法。（Log类中的方法）</span></li></ul><ul list=\"u1023f42a\"><li fid=\"u8d010ec5\" data-lake-id=\"u29699ac7\" id=\"u29699ac7\"><span data-lake-id=\"u0a5c3611\" id=\"u0a5c3611\">目标(Target)：被通知对象。（生成的代理类)</span></li></ul><ul list=\"u4b9e75f2\"><li fid=\"u71513cac\" data-lake-id=\"u6b902ffc\" id=\"u6b902ffc\"><span data-lake-id=\"uf9878494\" id=\"uf9878494\">代理(Proxy)：向目标对象应用通知之后创建的对象。（生成的代理类）</span></li></ul><ul list=\"ufa216e08\"><li fid=\"uc936895d\" data-lake-id=\"u55a9e10f\" id=\"u55a9e10f\"><span data-lake-id=\"ue04ee6d5\" id=\"ue04ee6d5\">切入点(PointCut)：切面通知执行的”地点”的定义。（最后两点：在哪个地方执行，比如：method.invoke()）</span></li></ul><ul list=\"u2e5107c1\"><li fid=\"u10abf692\" data-lake-id=\"u9768cf13\" id=\"u9768cf13\"><span data-lake-id=\"uc6f99ee5\" id=\"uc6f99ee5\">连接点(JointPoint)：与切入点匹配的执行点。</span></li></ul><p data-lake-id=\"uc7b74b9c\" id=\"uc7b74b9c\"><br></p><p data-lake-id=\"u1f100549\" id=\"u1f100549\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472322962-506e3170-dbca-45d9-ac0b-0e3eea0c8a9e.png%22%2C%22taskId%22%3A%22ud3471f4c-c60b-46b1-b070-7126b300d2b%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A725.5%2C%22height%22%3A443%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A606566%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1451%2C%22originHeight%22%3A886%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%20%E8%BF%9E%E6%8E%A5%E7%82%B9%20%E5%88%87%E5%85%A5%E7%82%B9%20%E7%BB%87%E5%85%A5%20ave%20%E6%A8%A1%E5%88%87%E5%85%B3%E6%B3%A8%E7%82%B9%20%E6%8A%BD%E8%B1%A1%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%BA%E7%B1%BB%20%E9%80%9A%E7%9F%A5%20%E5%88%87%E9%9D%A2%20%E5%88%87%E9%9D%A2%E4%B8%AD%E7%9A%84%E5%85%B7%E4%BD%93%E6%96%B9%E6%B3%95%20Betore%20Anor%20ARerRunning%20ARerThrowing%20.Around%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1157.2225%2C%22y%22%3A37.204666%2C%22width%22%3A170.64210000000003%2C%22height%22%3A42.75381399999999%2C%22text%22%3A%22%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%22%7D%2C%7B%22x%22%3A972.83075%2C%22y%22%3A134.43044%2C%22width%22%3A130.9298500000001%2C%22height%22%3A43.81512000000001%2C%22text%22%3A%22%E8%BF%9E%E6%8E%A5%E7%82%B9%22%7D%2C%7B%22x%22%3A300.95206%2C%22y%22%3A134.24724%2C%22width%22%3A131.14544%2C%22height%22%3A43.72480999999999%2C%22text%22%3A%22%E5%88%87%E5%85%A5%E7%82%B9%22%7D%2C%7B%22x%22%3A766.25073%2C%22y%22%3A159.2028%2C%22width%22%3A92.92480999999998%2C%22height%22%3A47.22657000000001%2C%22text%22%3A%22%E7%BB%87%E5%85%A5%22%7D%2C%7B%22x%22%3A1189.5887%2C%22y%22%3A254.26823%2C%22width%22%3A66.76880000000006%2C%22height%22%3A31.04688999999999%2C%22text%22%3A%22ave%22%7D%2C%7B%22x%22%3A1135.6503%2C%22y%22%3A355.86697%2C%22width%22%3A222.95710000000008%2C%22height%22%3A46.24243000000001%2C%22text%22%3A%22%E6%A8%A1%E5%88%87%E5%85%B3%E6%B3%A8%E7%82%B9%22%7D%2C%7B%22x%22%3A755.4363%2C%22y%22%3A389.39957%2C%22width%22%3A306.5852000000001%2C%22height%22%3A45.94866999999999%2C%22text%22%3A%22%E6%8A%BD%E8%B1%A1%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%BA%E7%B1%BB%22%7D%2C%7B%22x%22%3A435.38574%2C%22y%22%3A474.77783%2C%22width%22%3A86.02898999999996%2C%22height%22%3A41.00197000000003%2C%22text%22%3A%22%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A850.5366%2C%22y%22%3A477.99478%2C%22width%22%3A83.88374999999996%2C%22height%22%3A40.75592000000006%2C%22text%22%3A%22%E5%88%87%E9%9D%A2%22%7D%2C%7B%22x%22%3A481.11105%2C%22y%22%3A569.3236%2C%22width%22%3A346.55355%2C%22height%22%3A49.45935999999995%2C%22text%22%3A%22%E5%88%87%E9%9D%A2%E4%B8%AD%E7%9A%84%E5%85%B7%E4%BD%93%E6%96%B9%E6%B3%95%22%7D%2C%7B%22x%22%3A161.49101%2C%22y%22%3A647.3197%2C%22width%22%3A103.02698999999998%2C%22height%22%3A27.670600000000036%2C%22text%22%3A%22Betore%22%7D%2C%7B%22x%22%3A159.73024%2C%22y%22%3A687.3352%2C%22width%22%3A74.85236999999998%2C%22height%22%3A28.597049999999967%2C%22text%22%3A%22Anor%22%7D%2C%7B%22x%22%3A159.90526%2C%22y%22%3A723.8534%2C%22width%22%3A196.33144%2C%22height%22%3A33.87774000000002%2C%22text%22%3A%22ARerRunning%22%7D%2C%7B%22x%22%3A158.6015%2C%22y%22%3A764.11304%2C%22width%22%3A210.42760000000004%2C%22height%22%3A33.725520000000074%2C%22text%22%3A%22ARerThrowing%22%7D%2C%7B%22x%22%3A154.08965%2C%22y%22%3A807.1933%2C%22width%22%3A120.37968000000001%2C%22height%22%3A28.688660000000027%2C%22text%22%3A%22.Around%22%7D%5D%2C%22id%22%3A%22uf65ee572%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u09b92027\" id=\"u09b92027\"><br />SpringAOP中，通过Advice定义横切逻辑，Spring中支持5种类型的Advice:</span></p><p data-lake-id=\"ua6035643\" id=\"ua6035643\"><br></p><p data-lake-id=\"ua9fbf9e3\" id=\"ua9fbf9e3\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472344670-8b22f0b8-df31-4b7a-bdb5-98af8fdf68cc.png%22%2C%22taskId%22%3A%22u47ab38d8-661a-472d-8686-7cd6f379dbd%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A704.5%2C%22height%22%3A233%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A265012%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1409%2C%22originHeight%22%3A466%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E8%BF%9E%E6%8E%A5%E7%82%B9%20%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B%20%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%20%E6%96%B9%E6%B3%95%E5%89%8D%20%E5%89%8D%E7%BD%AE%E9%80%9A%E7%9F%A5%20org.springframework.aop.MethodBeforeAdvice%20%E6%96%B9%E6%B3%95%E5%90%8E%20%E5%90%8E%E7%BD%AE%E9%80%9A%E7%9F%A5%20org.springframework.aop.AfterRtuningAdvice%20%E6%96%B9%E6%B3%95%E5%89%8D%E5%90%8E%20%E7%8E%AF%E7%BB%95%E9%80%9A%E7%9F%A5%20org.springframework.aop.Methodinterceptor%20%E5%BC%82%E5%B8%B8%E6%8A%9B%E5%87%BA%E9%80%9A%E7%9F%A5%20%E6%96%B9%E6%B3%95%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%20org.springframework.aop.ThrowsAdvice%20%E5%BC%95%E4%BB%8B%E9%80%9A%E7%9F%A5%20%E7%B1%BB%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%96%B0%E6%96%B9%E6%B3%95%E5%B1%9E%E6%80%A7%20org.springframework.aop.ntroductionOnteceptor%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A385.29074%2C%22y%22%3A23.675528%2C%22width%22%3A84.70263999999997%2C%22height%22%3A30.401052%2C%22text%22%3A%22%E8%BF%9E%E6%8E%A5%E7%82%B9%22%7D%2C%7B%22x%22%3A72.065315%2C%22y%22%3A24.717323%2C%22width%22%3A111.379435%2C%22height%22%3A28.126140999999997%2C%22text%22%3A%22%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B%22%7D%2C%7B%22x%22%3A951.10364%2C%22y%22%3A25.076479%2C%22width%22%3A107.1701599999999%2C%22height%22%3A27.140627000000002%2C%22text%22%3A%22%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%22%7D%2C%7B%22x%22%3A385.0258%2C%22y%22%3A100.74733%2C%22width%22%3A84.55946999999998%2C%22height%22%3A30.451719999999995%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E5%89%8D%22%7D%2C%7B%22x%22%3A71.25796%2C%22y%22%3A101.2316%2C%22width%22%3A110.74175%2C%22height%22%3A27.4559%2C%22text%22%3A%22%E5%89%8D%E7%BD%AE%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A719.6925%2C%22y%22%3A105.366585%2C%22width%22%3A574.0214%2C%22height%22%3A27.103695000000002%2C%22text%22%3A%22org.springframework.aop.MethodBeforeAdvice%22%7D%2C%7B%22x%22%3A383.68408%2C%22y%22%3A178.41422%2C%22width%22%3A85.29322000000002%2C%22height%22%3A30.503809999999987%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E5%90%8E%22%7D%2C%7B%22x%22%3A71.5292%2C%22y%22%3A179.33281%2C%22width%22%3A110.27340000000001%2C%22height%22%3A27.473010000000016%2C%22text%22%3A%22%E5%90%8E%E7%BD%AE%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A716.7615%2C%22y%22%3A179.81432%2C%22width%22%3A578.5714000000002%2C%22height%22%3A28.25421%2C%22text%22%3A%22org.springframework.aop.AfterRtuningAdvice%22%7D%2C%7B%22x%22%3A373.7513%2C%22y%22%3A256.24826%2C%22width%22%3A109.79762%2C%22height%22%3A29.371939999999995%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E5%89%8D%E5%90%8E%22%7D%2C%7B%22x%22%3A70.67841%2C%22y%22%3A255.96631%2C%22width%22%3A111.94688000000001%2C%22height%22%3A27.24454%2C%22text%22%3A%22%E7%8E%AF%E7%BB%95%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A735.1238%2C%22y%22%3A260.3197%2C%22width%22%3A542.5223%2C%22height%22%3A25.82329999999996%2C%22text%22%3A%22org.springframework.aop.Methodinterceptor%22%7D%2C%7B%22x%22%3A43.40196%2C%22y%22%3A330.3329%2C%22width%22%3A167.25092%2C%22height%22%3A29.74781999999999%2C%22text%22%3A%22%E5%BC%82%E5%B8%B8%E6%8A%9B%E5%87%BA%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A344.65436%2C%22y%22%3A331.00537%2C%22width%22%3A167.83853999999997%2C%22height%22%3A29.713379999999972%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%22%7D%2C%7B%22x%22%3A760.5232%2C%22y%22%3A331.32565%2C%22width%22%3A490.74360000000013%2C%22height%22%3A36.11011000000002%2C%22text%22%3A%22org.springframework.aop.ThrowsAdvice%22%7D%2C%7B%22x%22%3A70.04588%2C%22y%22%3A409.4405%2C%22width%22%3A112.06609000000002%2C%22height%22%3A27.700670000000002%2C%22text%22%3A%22%E5%BC%95%E4%BB%8B%E9%80%9A%E7%9F%A5%22%7D%2C%7B%22x%22%3A302.11163%2C%22y%22%3A409.44214%2C%22width%22%3A251.70221000000004%2C%22height%22%3A27.776520000000005%2C%22text%22%3A%22%E7%B1%BB%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%96%B0%E6%96%B9%E6%B3%95%E5%B1%9E%E6%80%A7%22%7D%2C%7B%22x%22%3A701.8143%2C%22y%22%3A411.14728%2C%22width%22%3A608.9919%2C%22height%22%3A31.514160000000004%2C%22text%22%3A%22org.springframework.aop.ntroductionOnteceptor%22%7D%5D%2C%22id%22%3A%22u99ab396b%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u3b7cc36f\" id=\"u3b7cc36f\"><br /></span><strong><span data-lake-id=\"u6e7d46a1\" id=\"u6e7d46a1\">即AOP在不改变原有代码的情况下，去增加新的功能。</span></strong><span data-lake-id=\"u1f6020d0\" id=\"u1f6020d0\">（代理）</span></p><p data-lake-id=\"udba572bc\" id=\"udba572bc\"><br></p><h3 data-lake-id=\"6e16d25f\" id=\"6e16d25f\"><span data-lake-id=\"u56f02528\" id=\"u56f02528\">11.3、使用Spring实现AOP</span></h3><p data-lake-id=\"ub2c16353\" id=\"ub2c16353\"><br></p><p data-lake-id=\"u9df4bd2d\" id=\"u9df4bd2d\"><span data-lake-id=\"u8ee07106\" id=\"u8ee07106\">导入jar包</span></p><p data-lake-id=\"uc6ddbe8d\" id=\"uc6ddbe8d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.aspectj%2Faspectjweaver%20--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.aspectj%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Easpectjweaver%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E1.9.4%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ef2857b4%22%7D\"></card><p data-lake-id=\"u313aad1b\" id=\"u313aad1b\"><br></p><h4 data-lake-id=\"c727a170\" id=\"c727a170\"><span data-lake-id=\"u2f72e488\" id=\"u2f72e488\">11.3.1、方法一：使用原生spring接口</span></h4><p data-lake-id=\"u20acda60\" id=\"u20acda60\"><br></p><p data-lake-id=\"u2db27c0c\" id=\"u2db27c0c\"><span data-lake-id=\"u80fa990e\" id=\"u80fa990e\">springAPI接口实现</span></p><p data-lake-id=\"uccb97f40\" id=\"uccb97f40\"><br></p><p data-lake-id=\"ueab8a234\" id=\"ueab8a234\"><span data-lake-id=\"u64ec97db\" id=\"u64ec97db\">applicationContext.xml</span></p><p data-lake-id=\"u8839a852\" id=\"u8839a852\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%20%20%20%20%3C!--%E6%B3%A8%E5%86%8Cbean--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userservice%5C%22%20class%3D%5C%22service.UserServiceImpl%5C%22%2F%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22log%5C%22%20class%3D%5C%22log.Log%5C%22%2F%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22afterLog%5C%22%20class%3D%5C%22log.AfterLog%5C%22%2F%3E%5Cn%5Ct%3C!--%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%94%9FSpring%20API%E6%8E%A5%E5%8F%A3--%3E%5Cn%20%20%20%20%3C!--%E9%85%8D%E7%BD%AEaop%2C%E8%BF%98%E9%9C%80%E8%A6%81%E5%AF%BC%E5%85%A5aop%E7%BA%A6%E6%9D%9F--%3E%5Cn%20%20%20%20%3Caop%3Aconfig%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E5%88%87%E5%85%A5%E7%82%B9%EF%BC%9Aexpression%3A%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8Cexecution%EF%BC%88%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%89--%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Apointcut%20id%3D%5C%22pointcut%5C%22%20expression%3D%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--UserServiceImpl.*(..)%20-%E3%80%8B%20UserServiceImpl%E7%B1%BB%E4%B8%8B%E7%9A%84%E6%89%80%E4%BB%A5%E6%96%B9%E6%B3%95(%E5%8F%82%E6%95%B0)--%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E6%89%A7%E8%A1%8C%E7%8E%AF%E7%BB%95%E5%A2%9E%E5%8A%A0--%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Aadvisor%20advice-ref%3D%5C%22log%5C%22%20pointcut-ref%3D%5C%22pointcut%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Aadvisor%20advice-ref%3D%5C%22afterLog%5C%22%20pointcut-ref%3D%5C%22pointcut%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%20%E7%8E%AF%E7%BB%95%2C%E5%9C%A8id%3D%5C%22pointcut%5C%22%E7%9A%84%E5%89%8D%E5%90%8E%E5%88%87%E5%85%A5%20--%3E%5Cn%20%20%20%20%3C%2Faop%3Aconfig%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227c8403a8%22%7D\"></card><p data-lake-id=\"u414644bb\" id=\"u414644bb\"><br></p><p data-lake-id=\"u148e1b5b\" id=\"u148e1b5b\"><span data-lake-id=\"u57d1ea8f\" id=\"u57d1ea8f\">execution(返回类型，类名，方法名(参数)) -&gt; execution(</span><em><span data-lake-id=\"uf77f19bf\" id=\"uf77f19bf\"> com.service.</span></em><span data-lake-id=\"u27059ff0\" id=\"u27059ff0\">,*(…))</span></p><p data-lake-id=\"u1a5dac99\" id=\"u1a5dac99\"><br></p><p data-lake-id=\"u243eb643\" id=\"u243eb643\"><span data-lake-id=\"u6a28d15c\" id=\"u6a28d15c\">UserService.java</span></p><p data-lake-id=\"u00fb61cd\" id=\"u00fb61cd\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20service%3B%5Cnpublic%20interface%20UserService%20%7B%20%20%20%5Cn%5Ct%20%20%20%20public%20void%20add()%20%3B%5Cn%5Ct%20%20%20%20public%20void%20delete()%20%3B%5Cn%5Ct%20%20%20%20public%20void%20query()%20%3B%5Cn%5Ct%20%20%20%20public%20void%20update()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222736fcad%22%7D\"></card><p data-lake-id=\"udab4a2ba\" id=\"udab4a2ba\"><br></p><p data-lake-id=\"ucba7370b\" id=\"ucba7370b\"><span data-lake-id=\"uba157c14\" id=\"uba157c14\">UserService 的实现类 UserServiceImp.java</span></p><p data-lake-id=\"u537a42e7\" id=\"u537a42e7\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20service%3B%5Cn%5Cnpublic%20class%20UserServiceImpl%20implements%20UserService%20%7B%5Cn%5Cn%20%20%20%20public%20void%20add()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22add%E5%A2%9E%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20public%20void%20delete()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22delete%E5%88%A0%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20public%20void%20update()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22update%E6%94%B9%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20public%20void%20query()%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22query%E6%9F%A5%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f8a5211c%22%7D\"></card><p data-lake-id=\"u6993fb53\" id=\"u6993fb53\"><br></p><p data-lake-id=\"ua75b6744\" id=\"ua75b6744\"><span data-lake-id=\"u1e34ccab\" id=\"u1e34ccab\">前置Log.java</span></p><p data-lake-id=\"u2a14fa3f\" id=\"u2a14fa3f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20log%3B%5Cnimport%20org.springframework.aop.MethodBeforeAdvice%3B%5Cnimport%20java.lang.reflect.Method%3B%5Cn%5Cnpublic%20class%20Log%20implements%20MethodBeforeAdvice%20%7B%5Cn%20%20%20%20%2F%2Fmethod%EF%BC%9A%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%5Cn%20%20%20%20%2F%2Fargs%EF%BC%9A%E5%8F%82%E6%95%B0%5Cn%20%20%20%20%2F%2Ftarget%EF%BC%9A%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20public%20void%20before(Method%20method%2C%20Object%5B%5D%20args%2C%20Object%20target)%20throws%20Throwable%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(target.getClass().getName()%2B%5C%22%E7%9A%84%5C%22%2Bmethod.getName()%2B%5C%22%E8%A2%AB%E6%89%A7%E8%A1%8C%E4%BA%86%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22be63d742%22%7D\"></card><p data-lake-id=\"u5fda1434\" id=\"u5fda1434\"><br></p><p data-lake-id=\"uc1d6f671\" id=\"uc1d6f671\"><span data-lake-id=\"u3e77a9f3\" id=\"u3e77a9f3\">后置AfterLog.java</span></p><p data-lake-id=\"ud03b43ca\" id=\"ud03b43ca\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20log%3B%5Cnimport%20java.lang.reflect.Method%3B%5Cnimport%20org.springframework.aop.AfterReturningAdvice%3B%5Cn%5Cnpublic%20class%20AfterLog%20implements%20AfterReturningAdvice%20%7B%5Cn%20%20%20%20%2F%2FreturnVaule%3A%20%E8%BF%94%E5%9B%9E%E5%80%BC%5Cn%20%20%20%20public%20void%20afterReturning(Object%20returnValue%2C%20Method%20method%2C%20Object%5B%5D%20args%2C%20Object%20target)%20throws%20Throwable%20%7B%5Cn%20%20%20%20%5CtSystem.out.println(%5C%22%E6%89%A7%E8%A1%8C%E4%BA%86%5C%22%2Bmethod.getName()%2B%5C%22%E6%96%B9%E6%B3%95%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E6%98%AF%5C%22%2BreturnValue)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a096486f%22%7D\"></card><p data-lake-id=\"ubf5ee859\" id=\"ubf5ee859\"><br></p><p data-lake-id=\"uc744c79c\" id=\"uc744c79c\"><span data-lake-id=\"u11171bd6\" id=\"u11171bd6\">测试类MyTest5</span></p><p data-lake-id=\"u42757cf5\" id=\"u42757cf5\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20service.UserService%3B%5Cn%5Cnpublic%20class%20MyTest5%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%B3%A8%E6%84%8F%3A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20UserService%20userService%20%3D%20(UserService)%20context.getBean(%5C%22userservice%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20userService.add()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2213d53226%22%7D\"></card><p data-lake-id=\"ua85aa148\" id=\"ua85aa148\"><br></p><h4 data-lake-id=\"8d2cce88\" id=\"8d2cce88\"><span data-lake-id=\"ua227c321\" id=\"ua227c321\">11.3.2、方法二：自定义类实现AOP</span></h4><p data-lake-id=\"u8935ed68\" id=\"u8935ed68\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%20%20%20%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%20%20%20%3C!--%E6%B3%A8%E5%86%8Cbean--%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22userservice%5C%22%20class%3D%5C%22service.UserServiceImpl%5C%22%2F%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22log%5C%22%20class%3D%5C%22log.Log%5C%22%2F%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22afterLog%5C%22%20class%3D%5C%22log.AfterLog%5C%22%2F%3E%5Cn%20%20%20%3C!--%20%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%20--%3E%5Cn%20%20%20%3Cbean%20id%3D%5C%22diy%5C%22%20class%3D%5C%22diy.DiyPointcut%5C%22%2F%3E%5Cn%20%20%20%3Caop%3Aconfig%3E%5Cn%20%20%20%20%20%20%20%3C!--%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%87%E9%9D%A2--%3E%5Cn%20%20%20%20%20%20%20%3Caop%3Aaspect%20ref%3D%5C%22diy%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3C!--%E5%88%87%E5%85%A5%E7%82%B9--%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3Caop%3Apointcut%20id%3D%5C%22point%5C%22%20expression%3D%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3Caop%3Abefore%20method%3D%5C%22before%5C%22%20pointcut-ref%3D%5C%22point%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%3Caop%3Aafter%20method%3D%5C%22after%5C%22%20pointcut-ref%3D%5C%22point%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%3C%2Faop%3Aaspect%3E%5Cn%20%20%20%3C%2Faop%3Aconfig%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22aaf70bda%22%7D\"></card><p data-lake-id=\"u32ef0b72\" id=\"u32ef0b72\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20diy%3B%5Cnpublic%20class%20DiyPointcut%20%7B%5Cn%5Cn%20%20%20%20public%20void%20before()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E6%8F%92%E5%85%A5%E5%88%B0%E5%89%8D%E9%9D%A2%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20public%20void%20after()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E6%8F%92%E5%85%A5%E5%88%B0%E5%90%8E%E9%9D%A2%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2228d1e299%22%7D\"></card><p data-lake-id=\"u2cdc3408\" id=\"u2cdc3408\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%2F%2F%E6%B5%8B%E8%AF%95%5Cnpublic%20class%20MyTest5%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%B3%A8%E6%84%8F%3A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20UserService%20userService%20%3D%20(UserService)%20context.getBean(%5C%22userservice%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20userService.add()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2237f47bfc%22%7D\"></card><p data-lake-id=\"u79650cc9\" id=\"u79650cc9\"><br></p><h4 data-lake-id=\"09383569\" id=\"09383569\"><span data-lake-id=\"u5531ac12\" id=\"u5531ac12\">11.3.3、方法三：使用注解实现</span></h4><p data-lake-id=\"u5d62575b\" id=\"u5d62575b\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Cn%20%20%20%20%3C!--%20%E6%B3%A8%E5%86%8C%20--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userservice%5C%22%20class%3D%5C%22service.UserServiceImpl%5C%22%2F%3E%5Cn%20%20%20%20%3C!--%E6%96%B9%E5%BC%8F%E4%B8%89%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22diyAnnotation%5C%22%20class%3D%5C%22diy.DiyAnnotation%5C%22%3E%3C%2Fbean%3E%5Cn%20%20%20%20%5Cn%20%20%20%20%3C!--%20%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E4%BB%A3%E7%90%86%20%5Cn%5Ct%5Ct%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%9A%E9%BB%98%E8%AE%A4JDK%20(proxy-targer-class%3D%5C%22fasle%5C%22)%5Cn%20%20%20%20%5Ct%5Ct%5Ct%20cgbin%20(proxy-targer-class%3D%5C%22true%5C%22)--%3E%5Cn%5Ct%3Caop%3Aaspectj-autoproxy%2F%3E%5Cn%20%20%20%20%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f2068eba%22%7D\"></card><p data-lake-id=\"ubb28b181\" id=\"ubb28b181\"><br></p><p data-lake-id=\"ua704807a\" id=\"ua704807a\"><span data-lake-id=\"ufdd8a900\" id=\"ufdd8a900\">DiyAnnotation.java</span></p><p data-lake-id=\"uc7c399df\" id=\"uc7c399df\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20diy%3B%5Cnimport%20org.aspectj.lang.ProceedingJoinPoint%3B%5Cnimport%20org.aspectj.lang.annotation.After%3B%5Cnimport%20org.aspectj.lang.annotation.Around%3B%5Cnimport%20org.aspectj.lang.annotation.Aspect%3B%5Cnimport%20org.aspectj.lang.annotation.Before%3B%5Cn%5Cn%40Aspect%20%20%2F%2F%E6%A0%87%E6%B3%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E5%88%87%E9%9D%A2%5Cnpublic%20class%20DiyAnnotation%20%7B%5Cn%5Ct%5Cn%20%20%20%20%40Before(%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22)%5Cn%20%20%20%20public%20void%20before()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%3D%3D%3D%3D%3D%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%89%8D%3D%3D%3D%3D%3D%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%40After(%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22)%5Cn%20%20%20%20public%20void%20after()%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%3D%3D%3D%3D%3D%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%90%8E%3D%3D%3D%3D%3D%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%E5%9C%A8%E7%8E%AF%E7%BB%95%E5%A2%9E%E5%BC%BA%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%9C%B0%E6%9A%96%E7%AE%A1%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E4%BB%A3%E8%A1%A8%E6%88%91%E4%BB%AC%E8%A6%81%E8%8E%B7%E5%8F%96%E5%88%87%E5%85%A5%E7%9A%84%E7%82%B9%5Cn%20%20%20%20%40Around(%5C%22execution(*%20service.UserServiceImpl.*(..))%5C%22)%5Cn%20%20%20%20public%20void%20around(ProceedingJoinPoint%20joinPoint)%20throws%20Throwable%20%7B%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E7%8E%AF%E7%BB%95%E5%89%8D%5C%22)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20Object%20proceed%20%3D%20joinPoint.proceed()%3B%5Cn%5Cn%20%20%20%20%20%20%20%20System.out.println(%5C%22%E7%8E%AF%E7%BB%95%E5%90%8E%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fdd8b229%22%7D\"></card><p data-lake-id=\"u62e945ec\" id=\"u62e945ec\"><br></p><p data-lake-id=\"u33a480b3\" id=\"u33a480b3\"><span data-lake-id=\"u3200a08f\" id=\"u3200a08f\">测试</span></p><p data-lake-id=\"u240efe63\" id=\"u240efe63\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest5%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20ApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%B3%A8%E6%84%8F%3A%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%A3%E7%90%86%E7%9A%84%E6%98%AF%E6%8E%A5%E5%8F%A3%5Cn%20%20%20%20%20%20%20%20UserService%20userService%20%3D%20(UserService)%20context.getBean(%5C%22userservice%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20userService.add()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b1c2694c%22%7D\"></card><p data-lake-id=\"ud371e3be\" id=\"ud371e3be\"><br></p><p data-lake-id=\"u4b99b1c3\" id=\"u4b99b1c3\"><span data-lake-id=\"uc76301fb\" id=\"uc76301fb\">输出结果：</span></p><p data-lake-id=\"ube4e5bde\" id=\"ube4e5bde\"><br></p><p data-lake-id=\"u13a01d72\" id=\"u13a01d72\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472366377-cc3b2d27-7a9d-4c51-81f4-ea9986f2dc37.png%22%2C%22taskId%22%3A%22uc5e52ebc-7c61-4cc3-936b-fd7f9c8de83%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A265%2C%22height%22%3A152%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A16982%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A530%2C%22originHeight%22%3A304%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%8E%AF%E9%A5%B6%E5%89%8D%20%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%89%8D%20add%E5%A2%9E%20%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%90%8E%20%E7%8E%AF%E7%BB%95%E5%90%8E%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A5.25205%2C%22y%22%3A5.612284%2C%22width%22%3A134.14271%2C%22height%22%3A46.325578%2C%22text%22%3A%22%E7%8E%AF%E9%A5%B6%E5%89%8D%22%7D%2C%7B%22x%22%3A125.20388%2C%22y%22%3A60.048664%2C%22width%22%3A223.39216000000002%2C%22height%22%3A47.08231599999999%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%89%8D%22%7D%2C%7B%22x%22%3A4.9738717%2C%22y%22%3A118.02775%2C%22width%22%3A119.0543883%2C%22height%22%3A48.38157000000001%2C%22text%22%3A%22add%E5%A2%9E%22%7D%2C%7B%22x%22%3A126.455505%2C%22y%22%3A173.67464%2C%22width%22%3A227.27236499999998%2C%22height%22%3A49.59935999999999%2C%22text%22%3A%22%E6%96%B9%E6%B3%95%E6%89%A7%E8%A1%8C%E5%90%8E%22%7D%2C%7B%22x%22%3A6.2268386%2C%22y%22%3A232.65584%2C%22width%22%3A134.3163014%2C%22height%22%3A46.778819999999996%2C%22text%22%3A%22%E7%8E%AF%E7%BB%95%E5%90%8E%22%7D%5D%2C%22id%22%3A%22ub2d25d62%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card></p><p data-lake-id=\"u2254509c\" id=\"u2254509c\"><br></p><h2 data-lake-id=\"697586fb\" id=\"697586fb\"><span data-lake-id=\"u79fb20c4\" id=\"u79fb20c4\">12、整合mybatis</span></h2><p data-lake-id=\"uf19bf9ec\" id=\"uf19bf9ec\"><br></p><p data-lake-id=\"u2b04a408\" id=\"u2b04a408\"><span data-lake-id=\"u7bb7d67e\" id=\"u7bb7d67e\">mybatis-spring官网：</span><a href=\"https://mybatis.org/spring/zh/\" target=\"_blank\" data-lake-id=\"u15d6ca59\" id=\"u15d6ca59\"><span data-lake-id=\"u1436a3bc\" id=\"u1436a3bc\">https://mybatis.org/spring/zh/</span></a></p><p data-lake-id=\"u8b673a12\" id=\"u8b673a12\"><br></p><p data-lake-id=\"u940a3529\" id=\"u940a3529\"><strong><span data-lake-id=\"u1264e122\" id=\"u1264e122\">mybatis的配置流程：</span></strong></p><p data-lake-id=\"u4ed3ba18\" id=\"u4ed3ba18\"><br></p><ol list=\"ub82215b5\"><li fid=\"u457daee4\" data-lake-id=\"u1fd10204\" id=\"u1fd10204\"><span data-lake-id=\"ud11078df\" id=\"ud11078df\">编写实体类</span></li></ol><ol list=\"udbfee600\" start=\"2\"><li fid=\"u8c1b0fa8\" data-lake-id=\"ucfddfc8f\" id=\"ucfddfc8f\"><span data-lake-id=\"u9398c867\" id=\"u9398c867\">编写核心配置文件</span></li></ol><ol list=\"u4317eeff\" start=\"3\"><li fid=\"ua0cb0d38\" data-lake-id=\"ud74fd80c\" id=\"ud74fd80c\"><span data-lake-id=\"u2fed54c2\" id=\"u2fed54c2\">编写接口</span></li></ol><ol list=\"ue45c9806\" start=\"4\"><li fid=\"u0b43332c\" data-lake-id=\"ufe52acaf\" id=\"ufe52acaf\"><span data-lake-id=\"u871a6adf\" id=\"u871a6adf\">编写Mapper.xmi</span></li></ol><ol list=\"u2886ff25\" start=\"5\"><li fid=\"u8e5c9b77\" data-lake-id=\"u563516ac\" id=\"u563516ac\"><span data-lake-id=\"ue323919b\" id=\"ue323919b\">测试</span></li></ol><p data-lake-id=\"u55d0c2dd\" id=\"u55d0c2dd\"><br></p><h3 data-lake-id=\"c033efd7\" id=\"c033efd7\"><span data-lake-id=\"u4c21f80f\" id=\"u4c21f80f\">12.1、mybatis-spring-方式一</span></h3><p data-lake-id=\"u2d9a69ac\" id=\"u2d9a69ac\"><br></p><ol list=\"u0956f0cc\"><li fid=\"ua7155c0a\" data-lake-id=\"u16dfccd1\" id=\"u16dfccd1\"><span data-lake-id=\"uc15de510\" id=\"uc15de510\">编写数据源配置</span></li></ol><ol list=\"u720e3db3\" start=\"2\"><li fid=\"u516ef897\" data-lake-id=\"u1b5dce70\" id=\"u1b5dce70\"><span data-lake-id=\"ubf39c877\" id=\"ubf39c877\">sqISessionFactory</span></li></ol><ol list=\"u67903a02\" start=\"3\"><li fid=\"u4c57da53\" data-lake-id=\"u859a6edd\" id=\"u859a6edd\"><span data-lake-id=\"ubc82b5da\" id=\"ubc82b5da\">sqISessionTemplate（相当于sqISession）</span></li></ol><ol list=\"uec19818c\" start=\"4\"><li fid=\"ud2af8148\" data-lake-id=\"u463c3db1\" id=\"u463c3db1\"><span data-lake-id=\"u7ef7c57a\" id=\"u7ef7c57a\">需要给接口加实现类【new】</span></li></ol><ol list=\"u8e3de665\" start=\"5\"><li fid=\"ua1ff2703\" data-lake-id=\"uea16cade\" id=\"uea16cade\"><span data-lake-id=\"ud758d747\" id=\"ud758d747\">将自己写的实现类，注入到Spring中</span></li></ol><ol list=\"uc877140a\" start=\"6\"><li fid=\"u54b03a7d\" data-lake-id=\"u0f12afd6\" id=\"u0f12afd6\"><span data-lake-id=\"ub0424f58\" id=\"ub0424f58\">测试！</span></li></ol><p data-lake-id=\"u2be6a8e0\" id=\"u2be6a8e0\"><br></p><p data-lake-id=\"u944ab4a2\" id=\"u944ab4a2\"><span data-lake-id=\"u72330baa\" id=\"u72330baa\">先导入jar包</span></p><p data-lake-id=\"u061f948a\" id=\"u061f948a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cdependencies%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.aspectj%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Easpectjweaver%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.9.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-jdbc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-jdbc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E3.5.2%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis-spring%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E2.0.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Emysql%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emysql-connector-java%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E8.0.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.projectlombok%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Elombok%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.18.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%3C%2Fdependencies%3E%5Cn%5Ct%5Cn%3C!--%E5%9C%A8build%E4%B8%AD%E9%85%8D%E7%BD%AEresources%EF%BC%8C%E6%9D%A5%E9%98%B2%E6%AD%A2%E8%B5%84%E6%BA%90%E5%AF%BC%E5%87%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98--%3E%5Cn%3C!--%20Maven%E8%A7%A3%E5%86%B3%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%E9%97%AE%E9%A2%98%20--%3E%5Cn%3Cbuild%3E%5Cn%3Cresources%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fjava%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fresources%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%3C%2Fresources%3E%5Cn%3C%2Fbuild%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22515c2895%22%7D\"></card><p data-lake-id=\"ub05fc26b\" id=\"ub05fc26b\"><br></p><p data-lake-id=\"u68df0d60\" id=\"u68df0d60\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fpng%2F21990331%2F1625472386121-cbb94361-c6f6-47ba-868e-39521696a0a2.png%22%2C%22taskId%22%3A%22ude8d9f5a-d54e-4e62-b99f-e34a08fb5cd%22%2C%22clientId%22%3A%22u65c68b31-85a1-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A363.5%2C%22height%22%3A536%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A184771%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A727%2C%22originHeight%22%3A1071%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22JUnit4%20src%20main%20java%20mapper%20UserMapperjava%20UserMapperxml%20UserMapperlmpljava%20pojo%20Userjava%20resource%20applicationcontextxml%20mybatis-config-xml%20X%20X%20spring-daoxml%20test%20ava%20MyTest6.java%20target%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A140.95464%2C%22y%22%3A9.535767%2C%22width%22%3A116.00528999999997%2C%22height%22%3A31.953319%2C%22text%22%3A%22JUnit4%22%7D%2C%7B%22x%22%3A138.8284%2C%22y%22%3A77.60363%2C%22width%22%3A52.91829000000001%2C%22height%22%3A22.88077%2C%22text%22%3A%22src%22%7D%2C%7B%22x%22%3A186.66151%2C%22y%22%3A137.04836%2C%22width%22%3A85.76989%2C%22height%22%3A24.008589999999998%2C%22text%22%3A%22main%22%7D%2C%7B%22x%22%3A234.9665%2C%22y%22%3A197.3491%2C%22width%22%3A70.39675%2C%22height%22%3A29.58710000000002%2C%22text%22%3A%22java%22%7D%2C%7B%22x%22%3A279.69052%2C%22y%22%3A251.04138%2C%22width%22%3A145.56178%2C%22height%22%3A39.4726%2C%22text%22%3A%22mapper%22%7D%2C%7B%22x%22%3A328.75824%2C%22y%22%3A307.977%2C%22width%22%3A304.65692%2C%22height%22%3A41.890900000000045%2C%22text%22%3A%22UserMapperjava%22%7D%2C%7B%22x%22%3A330.1675%2C%22y%22%3A366.1506%2C%22width%22%3A292.5962999999999%2C%22height%22%3A39.61743999999999%2C%22text%22%3A%22UserMapperxml%22%7D%2C%7B%22x%22%3A328.7785%2C%22y%22%3A425.6923%2C%22width%22%3A383.74850000000004%2C%22height%22%3A42.83883000000003%2C%22text%22%3A%22UserMapperlmpljava%22%7D%2C%7B%22x%22%3A280.76334%2C%22y%22%3A494.05753%2C%22width%22%3A84.95189999999997%2C%22height%22%3A36.33537000000007%2C%22text%22%3A%22pojo%22%7D%2C%7B%22x%22%3A330.26065%2C%22y%22%3A548.9807%2C%22width%22%3A160.45850000000002%2C%22height%22%3A37.95940000000007%2C%22text%22%3A%22Userjava%22%7D%2C%7B%22x%22%3A236.44887%2C%22y%22%3A616.7904%2C%22width%22%3A154.99813%2C%22height%22%3A24.452760000000012%2C%22text%22%3A%22resource%22%7D%2C%7B%22x%22%3A275.86917%2C%22y%22%3A651.8409%2C%22width%22%3A402.13088999999997%2C%22height%22%3A61.62424999999996%2C%22text%22%3A%22applicationcontextxml%22%7D%2C%7B%22x%22%3A281.6486%2C%22y%22%3A723.8571%2C%22width%22%3A332.0348%2C%22height%22%3A45.59230000000002%2C%22text%22%3A%22mybatis-config-xml%22%7D%2C%7B%22x%22%3A233.16339%2C%22y%22%3A730.99255%2C%22width%22%3A25.66955999999999%2C%22height%22%3A38.12514999999996%2C%22text%22%3A%22X%22%7D%2C%7B%22x%22%3A233.02489%2C%22y%22%3A787.10156%2C%22width%22%3A26.410809999999998%2C%22height%22%3A36.36829%2C%22text%22%3A%22X%22%7D%2C%7B%22x%22%3A280.99335%2C%22y%22%3A786.9997%2C%22width%22%3A269.24684999999994%2C%22height%22%3A45.20983000000001%2C%22text%22%3A%22spring-daoxml%22%7D%2C%7B%22x%22%3A184.48721%2C%22y%22%3A852.68787%2C%22width%22%3A68.94558999999998%2C%22height%22%3A27.940630000000056%2C%22text%22%3A%22test%22%7D%2C%7B%22x%22%3A234.12813%2C%22y%22%3A918.451%2C%22width%22%3A69.20753000000002%2C%22height%22%3A25.794059999999945%2C%22text%22%3A%22ava%22%7D%2C%7B%22x%22%3A279.90146%2C%22y%22%3A968.9707%2C%22width%22%3A231.63370000000003%2C%22height%22%3A36.46325999999999%2C%22text%22%3A%22MyTest6.java%22%7D%2C%7B%22x%22%3A135.5938%2C%22y%22%3A1031.6794%2C%22width%22%3A111.99032000000003%2C%22height%22%3A31.915899999999965%2C%22text%22%3A%22target%22%7D%5D%2C%22id%22%3A%22ud6ca78bf%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><span data-lake-id=\"u237437d0\" id=\"u237437d0\"><br /></span><strong><span data-lake-id=\"ub479b7bb\" id=\"ub479b7bb\">编写顺序：</span></strong><span data-lake-id=\"uc570f053\" id=\"uc570f053\"><br /></span><strong><span data-lake-id=\"u5b4d6dee\" id=\"u5b4d6dee\">User -&gt; UserMapper -&gt; UserMapper.xml -&gt; spring-dao.xml -&gt; UserServiceImpl -&gt; applicationContext.xml -&gt; MyTest6</span></strong></p><p data-lake-id=\"u9c148210\" id=\"u9c148210\"><br></p><p data-lake-id=\"u52de6f30\" id=\"u52de6f30\"><strong><span data-lake-id=\"u6c0b0dad\" id=\"u6c0b0dad\">代码步骤：</span></strong></p><p data-lake-id=\"u6e3a10d6\" id=\"u6e3a10d6\"><br></p><p data-lake-id=\"u12d23304\" id=\"u12d23304\"><span data-lake-id=\"u5e43d4cc\" id=\"u5e43d4cc\">pojo实体类 User</span></p><p data-lake-id=\"u47228ed0\" id=\"u47228ed0\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnimport%20lombok.Data%3B%5Cn%40Data%5Cnpublic%20class%20User%20%7B%5Cn%5Ctprivate%20int%20id%3B%5Cn%5Ctprivate%20String%20name%3B%5Cn%5Ctprivate%20String%20pwd%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c2503de2%22%7D\"></card><p data-lake-id=\"u1108a48b\" id=\"u1108a48b\"><br></p><p data-lake-id=\"u43352972\" id=\"u43352972\"><span data-lake-id=\"u09fdf890\" id=\"u09fdf890\">mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml</span></p><p data-lake-id=\"u21aca6fb\" id=\"u21aca6fb\"><br></p><p data-lake-id=\"ubfe2740b\" id=\"ubfe2740b\"><span data-lake-id=\"u8053149c\" id=\"u8053149c\">接口UserMapper</span></p><p data-lake-id=\"ufc918148\" id=\"ufc918148\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20java.util.List%3B%5Cnimport%20pojo.User%3B%5Cnpublic%20interface%20UserMapper%20%7B%5Cn%5Ctpublic%20List%3CUser%3E%20getUser()%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22710cfe9a%22%7D\"></card><p data-lake-id=\"u3e469b68\" id=\"u3e469b68\"><br></p><p data-lake-id=\"u85e53ddf\" id=\"u85e53ddf\"><span data-lake-id=\"u32e0cf37\" id=\"u32e0cf37\">UserMapperImpl</span></p><p data-lake-id=\"ua309aa78\" id=\"ua309aa78\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20java.util.List%3B%5Cnimport%20org.mybatis.spring.SqlSessionTemplate%3B%5Cnimport%20pojo.User%3B%5Cn%5Cnpublic%20class%20UserMapperImpl%20implements%20UserMapper%7B%5Cn%5Ct%5Cn%5Ct%2F%2F%E6%88%91%E4%BB%AC%E7%9A%84%E6%89%80%E6%9C%89%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%9C%A8%E5%8E%9F%E6%9D%A5%E9%83%BD%E4%BD%BF%E7%94%A8sqlSession%E6%9D%A5%E6%89%A7%E8%A1%8C%EF%BC%8C%E7%8E%B0%E5%9C%A8%E9%83%BD%E4%BD%BF%E7%94%A8SqlSessionTemplate%EF%BC%9B%5Cn%5Ctprivate%20SqlSessionTemplate%20sqlSessionTemplate%3B%5Cn%5Cn%5Ctpublic%20void%20setSqlSessionTemplate(SqlSessionTemplate%20sqlSessionTemplate)%20%7B%5Cn%5Ct%5Ctthis.sqlSessionTemplate%20%3D%20sqlSessionTemplate%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctpublic%20List%3CUser%3E%20getUser()%20%7B%5Cn%5Ct%5CtUserMapper%20mapper%20%3D%20sqlSessionTemplate.getMapper(UserMapper.class)%3B%5Cn%5Ct%5Ctreturn%20mapper.getUser()%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2221821422%22%7D\"></card><p data-lake-id=\"u80607dc8\" id=\"u80607dc8\"><br></p><p data-lake-id=\"uf4e7fecc\" id=\"uf4e7fecc\"><span data-lake-id=\"u2b2924b4\" id=\"u2b2924b4\">UserMapper.xml （狂神给面子才留下来的）</span></p><p data-lake-id=\"u4d2c2927\" id=\"u4d2c2927\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20mapper%5Cn%20%20%20%20%20%20%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%20%20%20%20%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-mapper.dtd%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%5Cn%3C!--%20%E7%BB%91%E5%AE%9A%E6%8E%A5%E5%8F%A3%20--%3E%5Cn%3Cmapper%20namespace%3D%5C%22mapper.UserMapper%5C%22%3E%5Cn%5Ct%3Cselect%20id%3D%5C%22getUser%5C%22%20resultType%3D%5C%22pojo.User%5C%22%3E%5Cn%5Ct%5Ctselect%20*%20from%20mybatis.mybatis%5Cn%5Ct%3C%2Fselect%3E%5Cn%3C%2Fmapper%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2284ab8640%22%7D\"></card><p data-lake-id=\"ud7b0a465\" id=\"ud7b0a465\"><br></p><p data-lake-id=\"u47dfa548\" id=\"u47dfa548\"><span data-lake-id=\"ub75910a2\" id=\"ub75910a2\">resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml</span></p><p data-lake-id=\"udf64827f\" id=\"udf64827f\"><br></p><p data-lake-id=\"udecd50de\" id=\"udecd50de\"><span data-lake-id=\"u066d3394\" id=\"u066d3394\">mybatis-config.xml</span></p><p data-lake-id=\"u5d64248b\" id=\"u5d64248b\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20configuration%5Cn%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-config.dtd%5C%22%3E%5Cn%3Cconfiguration%3E%5Cn%5Ct%3C!--%E5%BC%80%E5%90%AF%E6%97%A5%E5%BF%97--%3E%5Cn%5Ct%3Csettings%3E%5Cn%5Ct%5Ct%3Csetting%20name%3D%5C%22logImpl%5C%22%20value%3D%5C%22STDOUT_LOGGING%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fsettings%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%AE%9E%E4%BD%93%E7%B1%BB%E8%B5%B7%E5%88%AB%E5%90%8D%20--%3E%5Cn%5Ct%3CtypeAliases%3E%20%5Cn%5Ct%5Ct%3Cpackage%20name%3D%5C%22pojo%5C%22%20%2F%3E%5Cn%5Ct%3C%2FtypeAliases%3E%5Cn%5Cn%3C%2Fconfiguration%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f44cf828%22%7D\"></card><p data-lake-id=\"uccef7c08\" id=\"uccef7c08\"><br></p><p data-lake-id=\"ub524bd68\" id=\"ub524bd68\"><span data-lake-id=\"u3471b722\" id=\"u3471b722\">spring-dao.xml</span></p><p data-lake-id=\"u906ec157\" id=\"u906ec157\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Ct%5Cn%5Ct%3C!--DataSource%3A%E4%BD%BF%E7%94%A8Spring%E7%9A%84%E6%95%B0%E5%B8%AE%E6%BA%90%E6%9B%BF%E6%8D%A2Mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%20%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E6%BA%90%EF%BC%9Ac3p0%E3%80%81dbcp%E3%80%81druid%20%5Cn%5Ct%5Ct%E8%BF%99%E4%BD%BF%E7%94%A8Spring%E6%8F%90%E4%BE%9B%E7%9A%84JDBC%3A%20org.springframework.jdbc.datasource%20--%3E%5Cn%5Ct%3C!--data%20source%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22datasource%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DriverManagerDataSource%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22driverClassName%5C%22%5Cn%5Ct%5Ct%5Ctvalue%3D%5C%22com.mysql.cj.jdbc.Driver%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22url%5C%22%20value%3D%5C%22jdbc%3Amysql%3A%2F%2F127.0.0.1%3A3306%2Fmybatis%3FuseSSL%3Dfalse%26amp%3BuseUnicode%3Dtrue%26amp%3BcharacterEncoding%3Dutf-8%26amp%3BserverTimezone%3DAsia%2FShanghai%5C%22%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--sqlSessionFactory--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSessionFactory%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionFactoryBean%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22dataSource%5C%22%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%91%E5%AE%9A%20mybatis%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22configLocation%5C%22%20value%3D%5C%22classpath%3Amybatis-config.xml%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22mapperLocations%5C%22%20value%3D%5C%22classpath%3Amapper%2F*.xml%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%5Ct%3C!--%20sqlSessionTemplate%20%E5%B0%B1%E6%98%AF%E4%B9%8B%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%EF%BC%9Asqlsession%20--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSession%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionTemplate%5C%22%3E%5Cn%20%20%20%20%5Ct%3C!--%20%E5%8F%AA%E8%83%BD%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5sqlSessionFactory%20%E5%8E%9F%E5%9B%A0%EF%BC%9A%E5%AE%83%E6%B2%A1%E6%9C%89set%E6%96%B9%E6%B3%95--%3E%5Ct%5Cn%20%20%20%20%20%20%20%20%3Cconstructor-arg%20index%3D%5C%220%5C%22%20ref%3D%5C%22sqlSessionFactory%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Ct%5Ct%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ee7bd000%22%7D\"></card><p data-lake-id=\"u5583a599\" id=\"u5583a599\"><br></p><p data-lake-id=\"u4d848222\" id=\"u4d848222\"><span data-lake-id=\"u53340215\" id=\"u53340215\">applicationContext.xml</span></p><p data-lake-id=\"ub45898ec\" id=\"ub45898ec\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%20%20%20%20%5Cn%5Ct%3C!--%20%E5%AF%BC%E5%85%A5spring-dao.xml%20--%3E%5Cn%5Ct%3Cimport%20resource%3D%5C%22spring-dao.xml%5C%22%2F%3E%5Cn%5Ct%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22userMapper%5C%22%20class%3D%5C%22mapper.UserMapperImpl%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22sqlSessionTemplate%5C%22%20ref%3D%5C%22sqlSession%5C%22%3E%3C%2Fproperty%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2225b09536%22%7D\"></card><p data-lake-id=\"u318fe68a\" id=\"u318fe68a\"><br></p><p data-lake-id=\"udea25084\" id=\"udea25084\"><span data-lake-id=\"u6e3fd1e7\" id=\"u6e3fd1e7\">测试类</span></p><p data-lake-id=\"u73c0a404\" id=\"u73c0a404\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cnimport%20mapper.UserMapper%3B%5Cnimport%20pojo.User%3B%5Cnpublic%20class%20MyTest6%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5CtUserMapper%20userMapper%20%3D%20(UserMapper)%20context.getBean(%5C%22userMapper%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctfor%20(User%20user%20%3A%20userMapper.getUser())%20%7B%5Cn%5Ct%5Ct%5CtSystem.out.println(user)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227c17c9c4%22%7D\"></card><p data-lake-id=\"u6761696d\" id=\"u6761696d\"><br></p><h3 data-lake-id=\"4c4395cd\" id=\"4c4395cd\"><span data-lake-id=\"u3cd91429\" id=\"u3cd91429\">12.2、mybatis-spring-方式二</span></h3><p data-lake-id=\"u2fa315e4\" id=\"u2fa315e4\"><br></p><p data-lake-id=\"u2fd42d91\" id=\"u2fd42d91\"><span data-lake-id=\"ud9f931be\" id=\"ud9f931be\">UserServiceImpl2</span></p><p data-lake-id=\"u918273fb\" id=\"u918273fb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20pojo.User%3B%5Cnimport%20org.apache.ibatis.session.SqlSession%3B%5Cnimport%20org.mybatis.spring.support.SqlSessionDaoSupport%3B%5Cnimport%20java.util.List%3B%5Cn%2F%2F%E7%BB%A7%E6%89%BFSqlSessionDaoSupport%20%E7%B1%BB%5Cnpublic%20class%20UserMapperImpl2%20extends%20SqlSessionDaoSupport%20implements%20UserMapper%20%7B%5Cn%20%20%20%20public%20List%3CUser%3E%20getUser()%20%7B%5Cn%20%20%20%20%20%20%20%20SqlSession%20sqlSession%20%3D%20getSqlSession()%3B%5Cn%20%20%20%20%20%20%20%20UserMapper%20mapper%20%3D%20sqlSession.getMapper(UserMapper.class)%3B%5Cn%20%20%20%20%20%20%20%20return%20mapper.getUser()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%88%96%E8%80%85%E4%B8%80%E5%8F%A5%E8%AF%9D%EF%BC%9Areturn%20getSqlSession().getMapper(UserMapper.class).getUser()%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226c7fd6fa%22%7D\"></card><p data-lake-id=\"u101689e4\" id=\"u101689e4\"><br></p><p data-lake-id=\"u22e0b6d8\" id=\"u22e0b6d8\"><span data-lake-id=\"u883e8803\" id=\"u883e8803\">spring-dao.xml</span></p><p data-lake-id=\"ud66041cb\" id=\"ud66041cb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Ct%5Cn%5Ct%3C!--DataSource%3A%E4%BD%BF%E7%94%A8Spring%E7%9A%84%E6%95%B0%E5%B8%AE%E6%BA%90%E6%9B%BF%E6%8D%A2Mybatis%E7%9A%84%E9%85%8D%E7%BD%AE%20c3p0%20dbcp%20druid%20%5Cn%5Ct%5Ct%E8%BF%99%E4%BD%BF%E7%94%A8Spring%E6%8F%90%E4%BE%9B%E7%9A%84JDBC%3A%20org.springframework.jdbc.datasource%20--%3E%5Cn%5Ct%3C!--data%20source%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22datasource%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DriverManagerDataSource%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22driverClassName%5C%22%5Cn%5Ct%5Ct%5Ctvalue%3D%5C%22com.mysql.cj.jdbc.Driver%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22url%5C%22%20value%3D%5C%22jdbc%3Amysql%3A%2F%2F127.0.0.1%3A3306%2Fmybatis%3FuseSSL%3Dfalse%26amp%3BuseUnicode%3Dtrue%26amp%3BcharacterEncoding%3Dutf-8%26amp%3BserverTimezone%3DAsia%2FShanghai%5C%22%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--sqlSessionFactory--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSessionFactory%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionFactoryBean%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22dataSource%5C%22%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%91%E5%AE%9A%20mybatis%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22configLocation%5C%22%20value%3D%5C%22classpath%3Amybatis-config.xml%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22mapperLocations%5C%22%20value%3D%5C%22classpath%3Amapper%2F*.xml%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%20%20%20%20%5Cn%5Ct%3C!--%20%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9ASqlSessionTemplate%20%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%86%99%E4%BA%86--%3E%5Cn%20%20%20%20%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228385de43%22%7D\"></card><p data-lake-id=\"uf55f5d3e\" id=\"uf55f5d3e\"><br></p><p data-lake-id=\"uaa1f6d47\" id=\"uaa1f6d47\"><span data-lake-id=\"udbe4826b\" id=\"udbe4826b\">applicationContext.xml</span></p><p data-lake-id=\"uc74849f1\" id=\"uc74849f1\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%5Ct%3Cimport%20resource%3D%5C%22spring-dao.xml%5C%22%20%2F%3E%5Cn%5Cn%5Ct%3C!--%20%E6%96%B9%E6%B3%95%E4%BA%8C%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22userMapper2%5C%22%20class%3D%5C%22mapper.UserMapperImpl2%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22sqlSessionFactory%5C%22%20ref%3D%5C%22sqlSessionFactory%5C%22%3E%3C%2Fproperty%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a58a760b%22%7D\"></card><p data-lake-id=\"ud8e19257\" id=\"ud8e19257\"><br></p><p data-lake-id=\"u9fdf273d\" id=\"u9fdf273d\"><span data-lake-id=\"u7a7ac4e4\" id=\"u7a7ac4e4\">测试</span></p><p data-lake-id=\"u8404b1cc\" id=\"u8404b1cc\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20MyTest6%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%5Ct%5CtUserMapper%20userMapper%20%3D%20(UserMapper)%20context.getBean(%5C%22userMapper2%5C%22)%3B%5Cn%5Ct%5Ctfor%20(User%20user%20%3A%20userMapper.getUser())%20%7B%5Cn%5Ct%5Ct%5CtSystem.out.println(user)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22383c3290%22%7D\"></card><p data-lake-id=\"u96bd4443\" id=\"u96bd4443\"><br></p><h2 data-lake-id=\"11e5c339\" id=\"11e5c339\"><span data-lake-id=\"u3280ce6e\" id=\"u3280ce6e\">13. 声明式事务</span></h2><p data-lake-id=\"u1d343e0e\" id=\"u1d343e0e\"><br></p><ul list=\"u87d55c56\"><li fid=\"u5a67e1c6\" data-lake-id=\"ue1d36dde\" id=\"ue1d36dde\"><span data-lake-id=\"uc5808135\" id=\"uc5808135\">把一组业务当成一个业务来做；要么都成功，要么都失败！</span></li></ul><ul list=\"uf50e2e24\"><li fid=\"ue92901ed\" data-lake-id=\"u8715cb7a\" id=\"u8715cb7a\"><span data-lake-id=\"ucdfe7754\" id=\"ucdfe7754\">事务在项目开发中，十分的重要，涉及到数据的一致性问题</span></li></ul><ul list=\"u4508c235\"><li fid=\"u5c9a5391\" data-lake-id=\"u61e488a6\" id=\"u61e488a6\"><span data-lake-id=\"u5cad19cf\" id=\"u5cad19cf\">确保完整性和一致性</span></li></ul><p data-lake-id=\"u918054df\" id=\"u918054df\"><br></p><p data-lake-id=\"uc151542c\" id=\"uc151542c\"><span data-lake-id=\"ufc688d20\" id=\"ufc688d20\">事务的ACID原则：<br /></span><span data-lake-id=\"uc9c85d48\" id=\"uc9c85d48\">1、原子性<br /></span><span data-lake-id=\"u394ea06f\" id=\"u394ea06f\">2、隔离性<br /></span><span data-lake-id=\"u6d77f032\" id=\"u6d77f032\">3、一致性<br /></span><span data-lake-id=\"uc82bc6dc\" id=\"uc82bc6dc\">4、持久性</span></p><p data-lake-id=\"u1e0b4b99\" id=\"u1e0b4b99\"><br></p><p data-lake-id=\"u9839876f\" id=\"u9839876f\"><span data-lake-id=\"u302ca5dd\" id=\"u302ca5dd\">ACID参考文章：</span><a href=\"https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html\" target=\"_blank\" data-lake-id=\"u0836a4dd\" id=\"u0836a4dd\"><span data-lake-id=\"u7716c34b\" id=\"u7716c34b\">https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html</span></a></p><p data-lake-id=\"u99fdcd27\" id=\"u99fdcd27\"><br></p><p data-lake-id=\"udb4f8812\" id=\"udb4f8812\"><span data-lake-id=\"u7916e4c1\" id=\"u7916e4c1\">Spring中的事务管理</span></p><p data-lake-id=\"u468b1b02\" id=\"u468b1b02\"><br></p><ul list=\"uad98b750\"><li fid=\"u200af9dd\" data-lake-id=\"uf8bd7b46\" id=\"uf8bd7b46\"><span data-lake-id=\"u8cb68d5b\" id=\"u8cb68d5b\">声明式事务：AOP</span></li></ul><ul list=\"u6f86a9c4\"><li fid=\"u46236fb2\" data-lake-id=\"ue3bd45df\" id=\"ue3bd45df\"><span data-lake-id=\"uc609be24\" id=\"uc609be24\">编程式事务：需要再代码中，进行事务管理</span></li></ul><p data-lake-id=\"u78ede138\" id=\"u78ede138\"><br></p><p data-lake-id=\"u5e3ef618\" id=\"u5e3ef618\"><strong><span data-lake-id=\"u9724d4ce\" id=\"u9724d4ce\">声明式事务</span></strong></p><p data-lake-id=\"ubb41dfc6\" id=\"ubb41dfc6\"><br></p><p data-lake-id=\"ue171bbba\" id=\"ue171bbba\"><span data-lake-id=\"u3e325502\" id=\"u3e325502\">先导入jar包</span></p><p data-lake-id=\"u8037c43a\" id=\"u8037c43a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cdependencies%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-webmvc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-webmvc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.aspectj%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Easpectjweaver%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.9.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3C!--%20https%3A%2F%2Fmvnrepository.com%2Fartifact%2Forg.springframework%2Fspring-jdbc%20--%3E%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.springframework%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Espring-jdbc%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E5.2.7.RELEASE%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E3.5.2%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.mybatis%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emybatis-spring%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E2.0.4%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Emysql%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Emysql-connector-java%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E8.0.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%20%20%20%20%3Cdependency%3E%5Cn%20%20%20%20%20%20%20%20%3CgroupId%3Eorg.projectlombok%3C%2FgroupId%3E%5Cn%20%20%20%20%20%20%20%20%3CartifactId%3Elombok%3C%2FartifactId%3E%5Cn%20%20%20%20%20%20%20%20%3Cversion%3E1.18.12%3C%2Fversion%3E%5Cn%20%20%20%20%3C%2Fdependency%3E%5Cn%5Cn%3C%2Fdependencies%3E%5Cn%5Ct%5Cn%3C!--%E5%9C%A8build%E4%B8%AD%E9%85%8D%E7%BD%AEresources%EF%BC%8C%E6%9D%A5%E9%98%B2%E6%AD%A2%E8%B5%84%E6%BA%90%E5%AF%BC%E5%87%BA%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98--%3E%5Cn%3C!--%20Maven%E8%A7%A3%E5%86%B3%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%BF%87%E6%BB%A4%E9%97%AE%E9%A2%98%20--%3E%5Cn%3Cbuild%3E%5Cn%3Cresources%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fjava%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%20%20%20%20%3Cresource%3E%5Cn%20%20%20%20%20%20%20%20%3Cdirectory%3Esrc%2Fmain%2Fresources%3C%2Fdirectory%3E%5Cn%20%20%20%20%20%20%20%20%3Cincludes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.properties%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cinclude%3E**%2F*.xml%3C%2Finclude%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fincludes%3E%5Cn%20%20%20%20%20%20%20%20%3Cfiltering%3Efalse%3C%2Ffiltering%3E%5Cn%20%20%20%20%3C%2Fresource%3E%5Cn%3C%2Fresources%3E%5Cn%3C%2Fbuild%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22515c2895-1%22%7D\"></card><p data-lake-id=\"u87006774\" id=\"u87006774\"><br></p><p data-lake-id=\"u83a02899\" id=\"u83a02899\"><strong><span data-lake-id=\"u675bc754\" id=\"u675bc754\">代码步骤：</span></strong></p><p data-lake-id=\"u381ebc45\" id=\"u381ebc45\"><br></p><p data-lake-id=\"ue9fe6cd4\" id=\"ue9fe6cd4\"><span data-lake-id=\"ue4516820\" id=\"ue4516820\">pojo实体类 User</span></p><p data-lake-id=\"uabfadc30\" id=\"uabfadc30\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20pojo%3B%5Cnimport%20lombok.AllArgsConstructor%3B%5Cnimport%20lombok.Data%3B%5Cnimport%20lombok.NoArgsConstructor%3B%5Cn%5Cn%40Data%5Cn%40AllArgsConstructor%5Cn%40NoArgsConstructor%5Cnpublic%20class%20User%20%7B%5Cn%5Ctprivate%20int%20id%3B%5Cn%5Ctprivate%20String%20name%3B%5Cn%5Ctprivate%20String%20pwd%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f30c30b9%22%7D\"></card><p data-lake-id=\"uf04e84dc\" id=\"uf04e84dc\"><br></p><p data-lake-id=\"ua93dcb27\" id=\"ua93dcb27\"><span data-lake-id=\"ua40877e9\" id=\"ua40877e9\">mapper目录下的 UserMapper、UserMapperImpl、UserMapper.xml</span></p><p data-lake-id=\"uc456fd42\" id=\"uc456fd42\"><br></p><p data-lake-id=\"u9d185ef3\" id=\"u9d185ef3\"><span data-lake-id=\"u98be8081\" id=\"u98be8081\">接口UserMapper</span></p><p data-lake-id=\"u148d955a\" id=\"u148d955a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cnimport%20java.util.List%3B%5Cnimport%20org.apache.ibatis.annotations.Param%3B%5Cnimport%20pojo.User%3B%5Cn%5Cnpublic%20interface%20UserMapper%20%7B%5Cn%5Ctpublic%20List%3CUser%3E%20getUser()%3B%5Cn%5Ct%5Cn%5Ctpublic%20int%20insertUser(User%20user)%3B%20%5Cn%5Ct%5Cn%5Ctpublic%20int%20delUser(%40Param(%5C%22id%5C%22)%20int%20id)%3B%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223f95a62f%22%7D\"></card><p data-lake-id=\"u5ec60dc9\" id=\"u5ec60dc9\"><br></p><p data-lake-id=\"u9067e490\" id=\"u9067e490\"><span data-lake-id=\"uba08cfa1\" id=\"uba08cfa1\">UserMapperImpl</span></p><p data-lake-id=\"u9717ccb9\" id=\"u9717ccb9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20mapper%3B%5Cn%5Cnimport%20pojo.User%3B%5Cnimport%20org.apache.ibatis.session.SqlSession%3B%5Cnimport%20org.mybatis.spring.support.SqlSessionDaoSupport%3B%5Cnimport%20java.util.List%3B%5Cn%5Cnpublic%20class%20UserMapperImpl%20extends%20SqlSessionDaoSupport%20implements%20UserMapper%20%7B%5Cn%20%20%20%20public%20List%3CUser%3E%20getUser()%20%7B%5Cn%20%20%20%20%5CtUser%20user%20%3D%20new%20User(5%2C%5C%22%E4%BD%A0%E5%A5%BD%5C%22%2C%5C%22ok%5C%22)%3B%5Cn%20%20%20%20%5CtinsertUser(user)%3B%5Cn%20%20%20%20%5CtdelUser(5)%3B%5Cn%20%20%20%20%20%20%20%20SqlSession%20sqlSession%20%3D%20getSqlSession()%3B%5Cn%20%20%20%20%20%20%20%20UserMapper%20mapper%20%3D%20sqlSession.getMapper(UserMapper.class)%3B%5Cn%20%20%20%20%20%20%20%20return%20mapper.getUser()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%E6%88%96%E8%80%85return%20%20getSqlSession().getMapper(UserMapper.class).getUser()%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%2F%2F%E6%8F%92%E5%85%A5%5Cn%5Ctpublic%20int%20insertUser(User%20user)%20%7B%5Cn%5Ct%5Ctreturn%20getSqlSession().getMapper(UserMapper.class).insertUser(user)%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E5%88%A0%E9%99%A4%5Cn%5Ctpublic%20int%20delUser(int%20id)%20%7B%5Cn%5Ct%5Ctreturn%20getSqlSession().getMapper(UserMapper.class).delUser(id)%3B%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222be76189%22%7D\"></card><p data-lake-id=\"u947ae9e9\" id=\"u947ae9e9\"><br></p><p data-lake-id=\"uf63f1b6a\" id=\"uf63f1b6a\"><span data-lake-id=\"u57bcce30\" id=\"u57bcce30\">UserMapper.xml</span></p><p data-lake-id=\"u0b2e8198\" id=\"u0b2e8198\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20mapper%5Cn%20%20%20%20%20%20%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%20%20%20%20%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-mapper.dtd%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%5Cn%3C!--%20%E7%BB%91%E5%AE%9A%E6%8E%A5%E5%8F%A3%20--%3E%5Cn%3Cmapper%20namespace%3D%5C%22mapper.UserMapper%5C%22%3E%5Cn%5Ct%3Cselect%20id%3D%5C%22getUser%5C%22%20resultType%3D%5C%22pojo.User%5C%22%3E%5Cn%5Ct%5Ctselect%20*%20from%20mybatis.mybatis%5Cn%5Ct%3C%2Fselect%3E%5Cn%5Ct%5Cn%5Ct%3Cinsert%20id%3D%5C%22insertUser%5C%22%20%20parameterType%3D%5C%22pojo.User%5C%22%20%3E%5Cn%5Ct%5Ctinsert%20into%20%20mybatis.mybatis%20(id%2Cname%2Cpwd)%20values%20(%23%7Bid%7D%2C%23%7Bname%7D%2C%23%7Bpwd%7D)%5Cn%5Ct%3C%2Finsert%3E%5Cn%5Ct%5Cn%5Ct%3Cdelete%20id%3D%5C%22delUser%5C%22%20parameterType%3D%5C%22_int%5C%22%3E%5Cn%5Ct%5CtdeleteAAAAA%20from%20mybatis.mybatis%20where%20id%20%3D%20%23%7Bid%7D%5Cn%5Ct%5Ct%3C!--%20deleteAAAAA%E6%98%AF%E6%95%85%E6%84%8F%E5%86%99%E9%94%99%E7%9A%84%20--%3E%5Cn%5Ct%3C%2Fdelete%3E%5Cn%5Cn%3C%2Fmapper%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229bb9b753%22%7D\"></card><p data-lake-id=\"u575b1a61\" id=\"u575b1a61\"><br></p><p data-lake-id=\"u0ecab490\" id=\"u0ecab490\"><span data-lake-id=\"u42b686aa\" id=\"u42b686aa\">resource目录下的 mybatis-config.xml、spring-dao.xml、applicationContext.xml</span></p><p data-lake-id=\"u07817bd7\" id=\"u07817bd7\"><br></p><p data-lake-id=\"ub03b0667\" id=\"ub03b0667\"><span data-lake-id=\"uf34f164d\" id=\"uf34f164d\">mybatis-config.xml</span></p><p data-lake-id=\"ub1269210\" id=\"ub1269210\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%20%3F%3E%5Cn%3C!DOCTYPE%20configuration%5Cn%20%20PUBLIC%20%5C%22-%2F%2Fmybatis.org%2F%2FDTD%20Config%203.0%2F%2FEN%5C%22%5Cn%20%20%5C%22http%3A%2F%2Fmybatis.org%2Fdtd%2Fmybatis-3-config.dtd%5C%22%3E%5Cn%3C!--%20configuration%20--%3E%5Cn%3Cconfiguration%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%BC%80%E5%90%AF%E6%97%A5%E5%BF%97--%3E%5Cn%5Ct%3Csettings%3E%5Cn%5Ct%5Ct%3Csetting%20name%3D%5C%22logImpl%5C%22%20value%3D%5C%22STDOUT_LOGGING%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fsettings%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%AE%9E%E4%BD%93%E7%B1%BB%E8%B5%B7%E5%88%AB%E5%90%8D--%3E%5Cn%5Ct%3CtypeAliases%3E%20%5Cn%5Ct%5Ct%3Cpackage%20name%3D%5C%22pojo%5C%22%20%2F%3E%5Cn%5Ct%3C%2FtypeAliases%3E%5Cn%5Cn%3C%2Fconfiguration%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22cdcdd88b%22%7D\"></card><p data-lake-id=\"u5ca01f1a\" id=\"u5ca01f1a\"><br></p><p data-lake-id=\"u72a122da\" id=\"u72a122da\"><span data-lake-id=\"u34e1b86c\" id=\"u34e1b86c\">spring-dao.xml（已导入约束）</span></p><p data-lake-id=\"u4ec06027\" id=\"u4ec06027\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%20%20%20%20%20%20%20xmlns%3Atx%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Ftx%5C%22%5Cn%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Ftx%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Ftx%2Fspring-tx.xsd%5Cn%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%20%20%20%20%20%20%20%20https%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Ct%5Ct%5Cn%5Ct%3C!--data%20source%20--%3E%5Cn%5Ct%3Cbean%20id%3D%5C%22datasource%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DriverManagerDataSource%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22driverClassName%5C%22%5Cn%5Ct%5Ct%5Ctvalue%3D%5C%22com.mysql.cj.jdbc.Driver%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22url%5C%22%20value%3D%5C%22jdbc%3Amysql%3A%2F%2F127.0.0.1%3A3306%2Fmybatis%3FuseSSL%3Dfalse%26amp%3BuseUnicode%3Dtrue%26amp%3BcharacterEncoding%3Dutf-8%26amp%3BserverTimezone%3DAsia%2FShanghai%5C%22%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22username%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22password%5C%22%20value%3D%5C%22root%5C%22%20%2F%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--sqlSessionFactory--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22sqlSessionFactory%5C%22%20class%3D%5C%22org.mybatis.spring.SqlSessionFactoryBean%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22dataSource%5C%22%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%91%E5%AE%9A%20mybatis%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6--%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22configLocation%5C%22%20value%3D%5C%22classpath%3Amybatis-config.xml%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%5C%22mapperLocations%5C%22%20value%3D%5C%22classpath%3Amapper%2F*.xml%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Ct%5Cn%5Ct%3C!--%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1--%3E%5Cn%20%20%20%20%3Cbean%20id%3D%5C%22transactionManager%5C%22%20class%3D%5C%22org.springframework.jdbc.datasource.DataSourceTransactionManager%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cconstructor-arg%20ref%3D%5C%22datasource%5C%22%20%2F%3E%5Cn%20%20%20%20%3C%2Fbean%3E%5Cn%5Cn%20%20%20%20%3C!--%E7%BB%93%E5%90%88aop%E5%AE%9E%E7%8E%B0%E4%BA%8B%E5%8A%A1%E7%BB%87%E5%85%A5--%3E%5Cn%20%20%20%20%3C!--%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%80%9A%E7%9F%A5%E7%B1%BB--%3E%5Cn%20%20%20%20%3Ctx%3Aadvice%20id%3D%5C%22txAdvice%5C%22%20transaction-manager%3D%5C%22transactionManager%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E7%BB%99%E5%93%AA%E4%BA%9B%E6%96%B9%E6%B3%95%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1--%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%E6%96%B0%E4%B8%9C%E8%A5%BF%EF%BC%9A%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1%E7%9A%84%E4%BC%A0%E6%92%AD%E7%89%B9%E6%80%A7%20propagation--%3E%5Cn%20%20%20%20%20%20%20%20%3Ctx%3Aattributes%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22add%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22delete%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22update%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22query%5C%22%20read-only%3D%5C%22true%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20*%E5%8F%B7%E5%8C%85%E5%90%AB%E4%B8%8A%E9%9D%A24%E4%B8%AA%E6%96%B9%E6%B3%95%EF%BC%9A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Ctx%3Amethod%20name%3D%5C%22*%5C%22%20propagation%3D%5C%22REQUIRED%5C%22%2F%3E%20--%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Ftx%3Aattributes%3E%5Cn%20%20%20%20%3C%2Ftx%3Aadvice%3E%5Cn%5Cn%20%20%20%20%3C!--%E9%85%8D%E7%BD%AE%E4%BA%8B%E5%8A%A1%E5%88%87%E5%85%A5--%3E%5Cn%20%20%20%20%3Caop%3Aconfig%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Apointcut%20id%3D%5C%22txpointcut%5C%22%20expression%3D%5C%22execution(*%20mapper.*.*(..))%5C%22%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Caop%3Aadvisor%20advice-ref%3D%5C%22txAdvice%5C%22%20pointcut-ref%3D%5C%22txpointcut%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Faop%3Aconfig%3E%5Cn%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226a43cf52%22%7D\"></card><p data-lake-id=\"u3e351949\" id=\"u3e351949\"><br></p><p data-lake-id=\"u28aa2b95\" id=\"u28aa2b95\"><span data-lake-id=\"u032b6242\" id=\"u032b6242\">applicationContext.xml</span></p><p data-lake-id=\"u1f0a4117\" id=\"u1f0a4117\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22UTF-8%5C%22%3F%3E%5Cn%3Cbeans%20xmlns%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5C%22%5Cn%5Ctxmlns%3Axsi%3D%5C%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%5C%22%5Cn%5Ctxmlns%3Aaop%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5C%22%5Cn%5Ctxsi%3AschemaLocation%3D%5C%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%5Cn%5Ct%5Cthttp%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%5Cn%5Ct%5Cthttps%3A%2F%2Fwww.springframework.org%2Fschema%2Faop%2Fspring-aop.xsd%5C%22%3E%5Cn%5Cn%5Ct%3Cimport%20resource%3D%5C%22spring-dao.xml%5C%22%20%2F%3E%5Cn%5Cn%5Ct%3Cbean%20id%3D%5C%22userMapper%5C%22%20class%3D%5C%22mapper.UserMapperImpl%5C%22%3E%5Cn%5Ct%5Ct%3Cproperty%20name%3D%5C%22sqlSessionFactory%5C%22%20ref%3D%5C%22sqlSessionFactory%5C%22%3E%3C%2Fproperty%3E%5Cn%5Ct%3C%2Fbean%3E%5Cn%3C%2Fbeans%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2207798d76%22%7D\"></card><p data-lake-id=\"u2ae86960\" id=\"u2ae86960\"><br></p><p data-lake-id=\"ue2461720\" id=\"ue2461720\"><span data-lake-id=\"u000f9e57\" id=\"u000f9e57\">测试类</span></p><p data-lake-id=\"u6ebc63da\" id=\"u6ebc63da\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22import%20org.springframework.context.ApplicationContext%3B%5Cnimport%20org.springframework.context.support.ClassPathXmlApplicationContext%3B%5Cn%5Cnimport%20mapper.UserMapper%3Bimport%20pojo.User%3B%5Cnpublic%20class%20MyTest7%20%7B%5Cn%5Ctpublic%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%5Cn%5Ct%5CtApplicationContext%20context%20%3D%20new%20ClassPathXmlApplicationContext(%5C%22applicationContext.xml%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5CtUserMapper%20userMapper%20%3D%20(UserMapper)%20context.getBean(%5C%22userMapper%5C%22)%3B%5Cn%5Ct%5Ct%5Cn%5Ct%5Ctfor%20(User%20user%20%3A%20userMapper.getUser())%20%7B%5Cn%5Ct%5Ct%5CtSystem.out.println(user)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ffb686ab%22%7D\"></card><p data-lake-id=\"uce4f6751\" id=\"uce4f6751\"><br></p><p data-lake-id=\"udf0c17f0\" id=\"udf0c17f0\"><strong><span data-lake-id=\"uf69b514c\" id=\"uf69b514c\">思考：</span></strong><span data-lake-id=\"u5d557038\" id=\"u5d557038\"><br /></span><span data-lake-id=\"ud1cfc61a\" id=\"ud1cfc61a\">为什么需要事务？</span></p><p data-lake-id=\"u50a7b44c\" id=\"u50a7b44c\"><br></p><ul list=\"u5f46a6c5\"><li fid=\"u9508eeb5\" data-lake-id=\"ua96f7901\" id=\"ua96f7901\"><span data-lake-id=\"u11a36f2c\" id=\"u11a36f2c\">如果不配置事务，可能存在数据提交不一致的情况下；</span></li></ul><ul list=\"u878ca60c\"><li fid=\"u84ae998e\" data-lake-id=\"u700c55eb\" id=\"u700c55eb\"><span data-lake-id=\"u999d652f\" id=\"u999d652f\">如果不在spring中去配置声明式事务，我们就需要在代码中手动配置事务！</span></li></ul><ul list=\"u7ca68645\"><li fid=\"u8f46f6fe\" data-lake-id=\"ua65f279c\" id=\"ua65f279c\"><span data-lake-id=\"ue5c4e280\" id=\"ue5c4e280\">事务在项目的开发中非常重要，涉及到数据的一致性和完整性问题！</span></li></ul>",
    "public": 1,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2021-07-05T08:06:41.000Z",
    "deleted_at": null,
    "created_at": "2021-07-05T07:26:08.000Z",
    "updated_at": "2021-07-05T08:06:41.000Z",
    "published_at": "2021-07-05T08:06:41.000Z",
    "first_published_at": "2021-07-05T07:26:08.000Z",
    "word_count": 9369,
    "cover": "https://cdn.nlark.com/yuque/0/2021/jpeg/21990331/1625470123698-d2c29622-abbf-4042-b3a6-46d13f848425.jpeg",
    "description": "Spring51.、Spring1.1、简介 Spring ——> 春天，为开源软件带来了春天  2002，首次推出了Spring框架的雏形：interface21框架！  Spring框架以interface21框架为基础，经过重新设计，并不断丰富其内涵，于2004年3月24日发布了1.0正...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 48380400,
    "slug": "mok0nn",
    "title": "Redis笔记",
    "book_id": 20286859,
    "book": {
      "id": 20286859,
      "type": "Book",
      "slug": "qeaqxg",
      "name": "阿松博客",
      "user_id": 21990331,
      "description": "阿松博客",
      "creator_id": 21990331,
      "public": 1,
      "items_count": 2,
      "likes_count": 0,
      "watches_count": 1,
      "content_updated_at": "2021-07-07T01:23:08.031Z",
      "updated_at": "2021-07-07T01:23:08.000Z",
      "created_at": "2021-07-04T05:51:02.000Z",
      "namespace": "asong-m4h1o/qeaqxg",
      "user": {
        "id": 21990331,
        "type": "User",
        "login": "asong-m4h1o",
        "name": "阿松",
        "description": null,
        "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
        "books_count": 1,
        "public_books_count": 1,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2021-07-01T06:12:00.000Z",
        "updated_at": "2021-07-07T09:03:27.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 21990331,
    "creator": {
      "id": 21990331,
      "type": "User",
      "login": "asong-m4h1o",
      "name": "阿松",
      "description": null,
      "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
      "books_count": 1,
      "public_books_count": 1,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2021-07-01T06:12:00.000Z",
      "updated_at": "2021-07-07T09:03:27.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "<a name=\"aee055fc\"></a>\n## 一、Nosql概述\n\n\n<a name=\"ab7557ae\"></a>\n### 为什么使用Nosql\n\n\n> 1、单机Mysql时代\n\n\n<br />![](https://img-blog.csdnimg.cn/2020082010365930.png#pic_center#id=wIDA6&originHeight=113&originWidth=611&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题<br />\n\n1. 数据量增加到一定程度，单机数据库就放不下了\n2. 数据的索引（B+ Tree）,一个机器内存也存放不下\n3. 访问量变大后（读写混合），一台服务器承受不住。\n\n\n\n> 2、Memcached(缓存) + Mysql + 垂直拆分（读写分离）\n\n\n<br />网站80%的情况都是在读，每次都要去查询数据库的话就十分的麻烦！所以说我们希望减轻数据库的压力，我们可以使用缓存来保证效率！<br />\n<br />![](https://img-blog.csdnimg.cn/20200820103713734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=EYshd&originHeight=313&originWidth=614&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />优化过程经历了以下几个过程：<br />\n\n1. 优化数据库的数据结构和索引(难度大)\n2. 文件缓存，通过IO流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO流也承受不了\n3. MemCache,当时最热门的技术，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升。\n\n\n\n> 3、分库分表 + 水平拆分 + Mysql集群\n\n\n<br />![](https://img-blog.csdnimg.cn/20200820103739584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=IV2zO&originHeight=503&originWidth=622&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 4、如今最近的年代\n\n\n<br />如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等），大数据的背景下关系型数据库（RDBMS）无法满足大量数据要求。Nosql数据库就能轻松解决这些问题。<br />\n\n> 目前一个基本的互联网项目\n\n\n<br />![](https://img-blog.csdnimg.cn/20200820103804572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=dByAg&originHeight=516&originWidth=1131&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 为什么要用NoSQL ？\n\n\n<br />用户的个人信息，社交网络，地理位置。用户自己产生的数据，用户日志等等爆发式增长！<br />这时候我们就需要使用NoSQL数据库的，Nosql可以很好的处理以上的情况！<br />\n\n<a name=\"c94eeebb\"></a>\n### 什么是Nosql\n\n<br />**NoSQL = Not Only SQL（不仅仅是SQL）**<br />\n<br />Not Only Structured Query Language<br />\n<br />关系型数据库：列+行，同一个表下数据的结构是一样的。<br />\n<br />非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展。<br />\n<br />NoSQL泛指非关系型数据库，随着web2.0互联网的诞生，传统的关系型数据库很难对付web2.0时代！尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，Redis是发展最快的。<br />\n\n<a name=\"9b16b018\"></a>\n### Nosql特点\n\n\n1.  方便扩展（数据之间没有关系，很好扩展！） \n2.  大数据量高性能（Redis一秒可以写8万次，读11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能会比较高！） \n3.  数据类型是多样型的！（不需要事先设计数据库，随取随用） \n4.  传统的 RDBMS 和 NoSQL   \n```\n传统的 RDBMS(关系型数据库)\n- 结构化组织\n- SQL\n- 数据和关系都存在单独的表中 row col\n- 操作，数据定义语言\n- 严格的一致性\n- 基础的事务\n- ...\n```\n```\nNosql\n- 不仅仅是数据\n- 没有固定的查询语言\n- 键值对存储，列存储，文档存储，图形数据库（社交关系）\n- 最终一致性\n- CAP定理和BASE\n- 高性能，高可用，高扩展\n- ...\n```\n\n\n> 了解：3V + 3高\n\n\n<br />大数据时代的3V ：主要是**描述问题**的<br />\n\n1. 海量Velume\n2. 多样Variety\n3. 实时Velocity\n\n\n<br />大数据时代的3高 ： 主要是**对程序的要求**<br />\n\n1. 高并发\n2. 高可扩\n3. 高性能\n\n\n<br />真正在公司中的实践：NoSQL + RDBMS 一起使用才是最强的。<br />\n\n<a name=\"e8a7ba20\"></a>\n### 阿里巴巴演进分析\n\n<br />推荐阅读：阿里云的这群疯子https://yq.aliyun.com/articles/653511<br />\n<br />![](https://img-blog.csdnimg.cn/20200820103829446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=MeOWA&originHeight=813&originWidth=1056&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](https://img-blog.csdnimg.cn/20200820103851613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=H4zN8&originHeight=836&originWidth=1130&originalType=binary&ratio=1&status=done&style=none)<br />\n\n```bash\n# 商品信息\n- 一般存放在关系型数据库：Mysql,阿里巴巴使用的Mysql都是经过内部改动的。\n\n# 商品描述、评论(文字居多)\n- 文档型数据库：MongoDB\n\n# 图片\n- 分布式文件系统 FastDFS\n- 淘宝：TFS\n- Google: GFS\n- Hadoop: HDFS\n- 阿里云: oss\n\n# 商品关键字 用于搜索\n- 搜索引擎：solr,elasticsearch\n- 阿里：Isearch 多隆\n\n# 商品热门的波段信息\n- 内存数据库：Redis，Memcache\n\n# 商品交易，外部支付接口\n- 第三方应用\n```\n\n\n<a name=\"8c18f413\"></a>\n### Nosql的四大分类\n\n\n> **KV键值对**\n\n\n\n- 新浪：**Redis**\n- 美团：Redis + Tair\n- 阿里、百度：Redis + Memcache\n\n\n\n> **文档型数据库（bson数据格式）：**\n\n\n\n- **MongoDB**(掌握) \n   - 基于分布式文件存储的数据库。C++编写，用于处理大量文档。\n   - MongoDB是RDBMS和NoSQL的中间产品。MongoDB是非关系型数据库中功能最丰富的，NoSQL中最像关系型数据库的数据库。\n\n \n\n- ConthDB\n\n\n\n> **列存储数据库**\n\n\n\n- **HBase**(大数据必学)\n- 分布式文件系统\n\n\n\n> **图关系数据库**\n\n\n<br />用于广告推荐，社交网络<br />\n\n- **Neo4j**、InfoGrid\n| **分类** | **Examples举例** | **典型应用场景** | **数据模型** | **优点** | **缺点** |\n| --- | --- | --- | --- | --- | --- |\n| **键值对（key-value）** | Tokyo Cabinet/Tyrant, Redis, Voldemort, Oracle BDB | 内容缓存，主要用于处理大量数据的高访问负载，也用于一些日志系统等等。 | Key 指向 Value 的键值对，通常用hash table来实现 | 查找速度快 | 数据无结构化，通常只被当作字符串或者二进制数据 |\n| **列存储数据库** | Cassandra, HBase, Riak | 分布式的文件系统 | 以列簇式存储，将同一列数据存在一起 | 查找速度快，可扩展性强，更容易进行分布式扩展 | 功能相对局限 |\n| **文档型数据库** | CouchDB, MongoDb | Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容） | Key-Value对应的键值对，Value为结构化数据 | 数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构 | 查询性能不高，而且缺乏统一的查询语法。 |\n| **图形(Graph)数据库** | Neo4J, InfoGrid, Infinite Graph | 社交网络，推荐系统等。专注于构建关系图谱 | 图结构 | 利用图结构相关算法。比如最短路径寻址，N度关系查找等 | 很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群 |\n\n\n\n<a name=\"98812eda\"></a>\n## 二、Redis入门\n\n\n<a name=\"a4d3b02a\"></a>\n### 概述\n\n\n> Redis是什么？\n\n\n<br />Redis（Remote Dictionary Server )，即远程字典服务。<br />\n<br />是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、**Key-Value数据库**，并提供多种语言的API。<br />\n<br />与memcached一样，为了保证效率，**数据都是缓存在内存中**。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。<br />\n\n> Redis能该干什么？\n\n\n\n1. 内存存储、持久化，内存是断电即失的，所以需要持久化（RDB、AOF）\n2. 高效率、用于高速缓冲\n3. 发布订阅系统\n4. 地图信息分析\n5. 计时器、计数器(eg：浏览量)\n6. 。。。\n\n\n\n> 特性\n\n\n\n1.  多样的数据类型 \n2.  持久化 \n3.  集群 \n4.  事务<br />… \n\n\n\n<a name=\"8a887b45\"></a>\n### 环境搭建\n\n<br />官网：[https://redis.io/](https://redis.io/)<br />\n<br />推荐使用Linux服务器学习。<br />\n<br />windows版本的Redis已经停更很久了…<br />\n\n<a name=\"7d834b8c\"></a>\n### Windows安装\n\n<br />[https://github.com/dmajkic/redis](https://github.com/dmajkic/redis)<br />\n\n1. 解压安装包<br />![](https://img-blog.csdnimg.cn/20200820103922318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=qRico&originHeight=637&originWidth=1103&originalType=binary&ratio=1&status=done&style=none)\n2. 开启redis-server.exe\n3. 启动redis-cli.exe测试![](https://img-blog.csdnimg.cn/20200820103950934.png#pic_center#id=KF0w6&originHeight=198&originWidth=1062&originalType=binary&ratio=1&status=done&style=none)\n\n\n\n<a name=\"f1a36f58\"></a>\n### Linux安装\n\n\n1.  下载安装包！`redis-5.0.8.tar.gz` \n2.  解压Redis的安装包！程序一般放在 `/opt` 目录下<br />![](https://img-blog.csdnimg.cn/20200820104016426.png#pic_center#id=GiTUS&originHeight=155&originWidth=1006&originalType=binary&ratio=1&status=done&style=none) \n3.  基本环境安装  \n```bash\nyum install gcc-c++\n# 然后进入redis目录下执行\nmake\n# 然后执行\nmake install\n```\n\n<br />![](https://img-blog.csdnimg.cn/20200820104048327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=DfA3r&originHeight=579&originWidth=1085&originalType=binary&ratio=1&status=done&style=none)<br />\n\n1.  redis默认安装路径 `/usr/local/bin`![](https://img-blog.csdnimg.cn/20200820104140692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=Fjg8x&originHeight=315&originWidth=1098&originalType=binary&ratio=1&status=done&style=none) \n2.  将redis的配置文件复制到 程序安装目录 `/usr/local/bin/kconfig`下<br />![](https://img-blog.csdnimg.cn/20200820104157817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=tn1ls&originHeight=223&originWidth=1102&originalType=binary&ratio=1&status=done&style=none) \n3.  redis默认不是后台启动的，需要修改配置文件！<br />![](https://img-blog.csdnimg.cn/20200820104213706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=bjxOb&originHeight=354&originWidth=1088&originalType=binary&ratio=1&status=done&style=none) \n4.  通过制定的配置文件启动redis服务<br />![](https://img-blog.csdnimg.cn/20200820104228556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=Cyr4o&originHeight=255&originWidth=1101&originalType=binary&ratio=1&status=done&style=none) \n5.  使用redis-cli连接指定的端口号测试，Redis的默认端口6379<br />![](https://img-blog.csdnimg.cn/20200820104243223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=Xywd7&originHeight=421&originWidth=986&originalType=binary&ratio=1&status=done&style=none) \n6.  查看redis进程是否开启<br />![](https://img-blog.csdnimg.cn/20200820104300532.png#pic_center#id=FHs8K&originHeight=176&originWidth=1102&originalType=binary&ratio=1&status=done&style=none) \n7.  关闭Redis服务 `shutdown`<br />![](https://img-blog.csdnimg.cn/20200820104314297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=m0hEK&originHeight=207&originWidth=1102&originalType=binary&ratio=1&status=done&style=none) \n8.  再次查看进程是否存在 \n9.  后面我们会使用单机多Redis启动集群测试 \n\n\n\n<a name=\"cb1df365\"></a>\n### 测试性能\n\n<br />**redis-benchmark：**Redis官方提供的性能测试工具，参数选项如下：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214125892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=p6S7R&originHeight=641&originWidth=746&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />**简单测试：**<br />\n\n```bash\n# 测试：100个并发连接 100000请求\nredis-benchmark -h localhost -p 6379 -c 100 -n 100000\n12\n```\n\n<br />![](https://img-blog.csdnimg.cn/20200820104343472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=gSOzi&originHeight=319&originWidth=1124&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"8453e91e\"></a>\n### 基础知识\n\n\n> redis默认有16个数据库\n\n\n<br />![](https://img-blog.csdnimg.cn/20200820104357466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=OtCTa&originHeight=282&originWidth=1116&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />默认使用的第0个;<br />\n<br />16个数据库为：DB 0~DB 15<br />默认使用DB 0 ，可以使用`select n`切换到DB n，`dbsize`可以查看当前数据库的大小，与key数量相关。<br />\n\n```bash\n127.0.0.1:6379> config get databases # 命令行查看数据库数量databases\n1) \"databases\"\n2) \"16\"\n\n127.0.0.1:6379> select 8 # 切换数据库 DB 8\nOK\n127.0.0.1:6379[8]> dbsize # 查看数据库大小\n(integer) 0\n\n# 不同数据库之间 数据是不能互通的，并且dbsize 是根据库中key的个数。\n127.0.0.1:6379> set name sakura \nOK\n127.0.0.1:6379> SELECT 8\nOK\n127.0.0.1:6379[8]> get name # db8中并不能获取db0中的键值对。\n(nil)\n127.0.0.1:6379[8]> DBSIZE\n(integer) 0\n127.0.0.1:6379[8]> SELECT 0\nOK\n127.0.0.1:6379> keys *\n1) \"counter:__rand_int__\"\n2) \"mylist\"\n3) \"name\"\n4) \"key:__rand_int__\"\n5) \"myset:__rand_int__\"\n127.0.0.1:6379> DBSIZE # size和key个数相关\n(integer) 5\n```\n\n<br />`keys *` ：查看当前数据库中所有的key。<br />\n<br />`flushdb`：清空当前数据库中的键值对。<br />\n<br />`flushall`：清空所有数据库的键值对。<br />\n\n> **Redis是单线程的，Redis是基于内存操作的。**\n\n\n<br />所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。<br />\n<br />那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+<br />\n\n> **Redis为什么单线程还这么快？**\n\n\n\n- 误区1：高性能的服务器一定是多线程的？\n- 误区2：多线程（CPU上下文会切换！）一定比单线程效率高！\n\n\n<br />核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。<br />\n\n<a name=\"b9ae2c5c\"></a>\n## 三、五大数据类型\n\n<br />Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作**数据库**，**高速缓存**和**消息队列代理**。它支持[字符串](https://www.redis.net.cn/tutorial/3508.html)、[哈希表](https://www.redis.net.cn/tutorial/3509.html)、[列表](https://www.redis.net.cn/tutorial/3510.html)、[集合](https://www.redis.net.cn/tutorial/3511.html)、[有序集合](https://www.redis.net.cn/tutorial/3512.html)，[位图](https://www.redis.net.cn/tutorial/3508.html)，[hyperloglogs](https://www.redis.net.cn/tutorial/3513.html)等数据类型。内置复制、[Lua脚本](https://www.redis.net.cn/tutorial/3516.html)、LRU收回、[事务](https://www.redis.net.cn/tutorial/3515.html)以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动[分区](https://www.redis.net.cn/tutorial/3524.html)。<br />\n\n<a name=\"Redis-key\"></a>\n### Redis-key\n\n\n> 在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。\n\n\n<br />下面学习的命令：<br />\n\n- `exists key`：判断键是否存在\n- `del key`：删除键值对\n- `move key db`：将键值对移动到指定数据库\n- `expire key second`：设置键值对的过期时间\n- `type key`：查看value的数据类型\n\n\n\n```bash\n127.0.0.1:6379> keys * # 查看当前数据库所有key\n(empty list or set)\n127.0.0.1:6379> set name qinjiang # set key\nOK\n127.0.0.1:6379> set age 20\nOK\n127.0.0.1:6379> keys *\n1) \"age\"\n2) \"name\"\n127.0.0.1:6379> move age 1 # 将键值对移动到指定数据库\n(integer) 1\n127.0.0.1:6379> EXISTS age # 判断键是否存在\n(integer) 0 # 不存在\n127.0.0.1:6379> EXISTS name\n(integer) 1 # 存在\n127.0.0.1:6379> SELECT 1\nOK\n127.0.0.1:6379[1]> keys *\n1) \"age\"\n127.0.0.1:6379[1]> del age # 删除键值对\n(integer) 1 # 删除个数\n\n\n127.0.0.1:6379> set age 20\nOK\n127.0.0.1:6379> EXPIRE age 15 # 设置键值对的过期时间\n\n(integer) 1 # 设置成功 开始计数\n127.0.0.1:6379> ttl age # 查看key的过期剩余时间\n(integer) 13\n127.0.0.1:6379> ttl age\n(integer) 11\n127.0.0.1:6379> ttl age\n(integer) 9\n127.0.0.1:6379> ttl age\n(integer) -2 # -2 表示key过期，-1表示key未设置过期时间\n\n127.0.0.1:6379> get age # 过期的key 会被自动delete\n(nil)\n127.0.0.1:6379> keys *\n1) \"name\"\n\n127.0.0.1:6379> type name # 查看value的数据类型\nstring\n```\n\n<br />关于`TTL`命令<br />\n<br />Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：<br />\n\n1. 当前key没有设置过期时间，所以会返回-1.\n2. 当前key有设置过期时间，而且key已经过期，所以会返回-2.\n3. 当前key有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.\n\n\n<br />关于重命名`RENAME`和`RENAMENX`<br />\n\n- `RENAME key newkey`修改 key 的名称\n- `RENAMENX key newkey`仅当 newkey 不存在时，将 key 改名为 newkey 。\n\n\n<br />更多命令学习：[https://www.redis.net.cn/order/](https://www.redis.net.cn/order/)<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wBVZtGVm-1597890996517)(狂神说 Redis.assets/image-20200813114228439.png)]<br />\n\n<a name=\"dab38aa6\"></a>\n### String(字符串)\n\n<br />普通的set、get直接略过。\n\n| 命令 | 描述 | 示例 |\n| --- | --- | --- |\n| `APPEND key value` | 向指定的key的value后追加字符串 | 127.0.0.1:6379> set msg hello OK 127.0.0.1:6379> append msg \" world\" (integer) 11 127.0.0.1:6379> get msg “hello world” |\n| `DECR/INCR key` | 将指定key的value数值进行+1/-1(仅对于数字) | 127.0.0.1:6379> set age 20 OK 127.0.0.1:6379> incr age (integer) 21 127.0.0.1:6379> decr age (integer) 20 |\n| `INCRBY/DECRBY key n` | 按指定的步长对数值进行加减 | 127.0.0.1:6379> INCRBY age 5 (integer) 25 127.0.0.1:6379> DECRBY age 10 (integer) 15 |\n| `INCRBYFLOAT key n` | 为数值加上浮点型数值 | 127.0.0.1:6379> INCRBYFLOAT age 5.2 “20.2” |\n| `STRLEN key` | 获取key保存值的字符串长度 | 127.0.0.1:6379> get msg “hello world” 127.0.0.1:6379> STRLEN msg (integer) 11 |\n| `GETRANGE key start end` | 按起止位置获取字符串（闭区间，起止位置都取） | 127.0.0.1:6379> get msg “hello world” 127.0.0.1:6379> GETRANGE msg 3 9 “lo worl” |\n| `SETRANGE key offset value` | 用指定的value 替换key中 offset开始的值 | 127.0.0.1:6379> SETRANGE msg 2 hello (integer) 7 127.0.0.1:6379> get msg “tehello” |\n| `GETSET key value` | 将给定 key 的值设为 value ，并返回 key 的旧值(old value)。 | 127.0.0.1:6379> GETSET msg test “hello world” |\n| `SETNX key value` | 仅当key不存在时进行set | 127.0.0.1:6379> SETNX msg test (integer) 0 127.0.0.1:6379> SETNX name sakura (integer) 1 |\n| `SETEX key seconds value` | set 键值对并设置过期时间 | 127.0.0.1:6379> setex name 10 root OK 127.0.0.1:6379> get name (nil) |\n| `MSET key1 value1 [key2 value2..]` | 批量set键值对 | 127.0.0.1:6379> MSET k1 v1 k2 v2 k3 v3 OK |\n| `MSETNX key1 value1 [key2 value2..]` | 批量设置键值对，仅当参数中所有的key都不存在时执行 | 127.0.0.1:6379> MSETNX k1 v1 k4 v4 (integer) 0 |\n| `MGET key1 [key2..]` | 批量获取多个key保存的值 | 127.0.0.1:6379> MGET k1 k2 k3 1) “v1” 2) “v2” 3) “v3” |\n| `PSETEX key milliseconds value` | 和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间， |  |\n| `getset key value` | 如果不存在值，则返回nil，如果存在值，获取原来的值，并设置新的值 |  |\n\n\n<br />String类似的使用场景：value除了是字符串还可以是数字，用途举例：<br />\n\n- 计数器\n- 统计多单位的数量：uid:123666：follow 0\n- 粉丝数\n- 对象存储缓存\n\n\n\n<a name=\"285a2314\"></a>\n### List(列表)\n\n\n> Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）\n>  \n> 一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。\n\n\n<br />首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等<br />\n<br />![](https://img-blog.csdnimg.cn/20200820104440398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#id=XKZ67&originHeight=306&originWidth=1119&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN\n\n| 命令 | 描述 |\n| --- | --- |\n| `LPUSH/RPUSH key value1[value2..]` | 从左边/右边向列表中PUSH值(一个或者多个)。 |\n| `LRANGE key start end` | 获取list 起止元素==（索引从左往右 递增）== |\n| `LPUSHX/RPUSHX key value` | 向已存在的列名中push值（一个或者多个） |\n| `LINSERT key BEFORE|AFTER pivot value` | 在指定列表元素的前/后 插入value |\n| `LLEN key` | 查看列表长度 |\n| `LINDEX key index` | 通过索引获取列表元素 |\n| `LSET key index value` | 通过索引为元素设值 |\n| `LPOP/RPOP key` | 从最左边/最右边移除值 并返回 |\n| `RPOPLPUSH source destination` | 将列表的尾部(右)最后一个值弹出，并返回，然后加到另一个列表的头部 |\n| `LTRIM key start end` | 通过下标截取指定范围内的列表 |\n| `LREM key count value` | List中是允许value重复的 `count > 0`<br />：从头部开始搜索 然后删除指定的value 至多删除count个 `count < 0`<br />：从尾部开始搜索… `count = 0`<br />：删除列表中所有的指定value。 |\n| `BLPOP/BRPOP key1[key2] timout` | 移出并获取列表的第一个/最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。 |\n| `BRPOPLPUSH source destination timeout` | 和`RPOPLPUSH`<br />功能相同，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。 |\n\n\n\n```bash\n---------------------------LPUSH---RPUSH---LRANGE--------------------------------\n\n127.0.0.1:6379> LPUSH mylist k1 # LPUSH mylist=>{1}\n(integer) 1\n127.0.0.1:6379> LPUSH mylist k2 # LPUSH mylist=>{2,1}\n(integer) 2\n127.0.0.1:6379> RPUSH mylist k3 # RPUSH mylist=>{2,1,3}\n(integer) 3\n127.0.0.1:6379> get mylist # 普通的get是无法获取list值的\n(error) WRONGTYPE Operation against a key holding the wrong kind of value\n127.0.0.1:6379> LRANGE mylist 0 4 # LRANGE 获取起止位置范围内的元素\n1) \"k2\"\n2) \"k1\"\n3) \"k3\"\n127.0.0.1:6379> LRANGE mylist 0 2\n1) \"k2\"\n2) \"k1\"\n3) \"k3\"\n127.0.0.1:6379> LRANGE mylist 0 1\n1) \"k2\"\n2) \"k1\"\n127.0.0.1:6379> LRANGE mylist 0 -1 # 获取全部元素\n1) \"k2\"\n2) \"k1\"\n3) \"k3\"\n\n---------------------------LPUSHX---RPUSHX-----------------------------------\n\n127.0.0.1:6379> LPUSHX list v1 # list不存在 LPUSHX失败\n(integer) 0\n127.0.0.1:6379> LPUSHX list v1 v2  \n(integer) 0\n127.0.0.1:6379> LPUSHX mylist k4 k5 # 向mylist中 左边 PUSH k4 k5\n(integer) 5\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k5\"\n2) \"k4\"\n3) \"k2\"\n4) \"k1\"\n5) \"k3\"\n\n---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------\n\n127.0.0.1:6379> LINSERT mylist after k2 ins_key1 # 在k2元素后 插入ins_key1\n(integer) 6\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k5\"\n2) \"k4\"\n3) \"k2\"\n4) \"ins_key1\"\n5) \"k1\"\n6) \"k3\"\n127.0.0.1:6379> LLEN mylist # 查看mylist的长度\n(integer) 6\n127.0.0.1:6379> LINDEX mylist 3 # 获取下标为3的元素\n\"ins_key1\"\n127.0.0.1:6379> LINDEX mylist 0\n\"k5\"\n127.0.0.1:6379> LSET mylist 3 k6 # 将下标3的元素 set值为k6\nOK\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k5\"\n2) \"k4\"\n3) \"k2\"\n4) \"k6\"\n5) \"k1\"\n6) \"k3\"\n\n---------------------------LPOP--RPOP--------------------------\n\n127.0.0.1:6379> LPOP mylist # 左侧(头部)弹出\n\"k5\"\n127.0.0.1:6379> RPOP mylist # 右侧(尾部)弹出\n\"k3\"\n\n---------------------------RPOPLPUSH--------------------------\n\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k4\"\n2) \"k2\"\n3) \"k6\"\n4) \"k1\"\n127.0.0.1:6379> RPOPLPUSH mylist newlist # 将mylist的最后一个值(k1)弹出，加入到newlist的头部\n\"k1\"\n127.0.0.1:6379> LRANGE newlist 0 -1\n1) \"k1\"\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k4\"\n2) \"k2\"\n3) \"k6\"\n\n---------------------------LTRIM--------------------------\n\n127.0.0.1:6379> LTRIM mylist 0 1 # 截取mylist中的 0~1部分\nOK\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k4\"\n2) \"k2\"\n\n# 初始 mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2\n---------------------------LREM--------------------------\n\n127.0.0.1:6379> LREM mylist 3 k2 # 从头部开始搜索 至多删除3个 k2\n(integer) 3\n# 删除后：mylist: k2,k2,k2,k4,k2,k2,k2,k2\n\n127.0.0.1:6379> LREM mylist -2 k2 #从尾部开始搜索 至多删除2个 k2\n(integer) 2\n# 删除后：mylist: k2,k2,k2,k4,k2,k2\n\n\n---------------------------BLPOP--BRPOP--------------------------\n\nmylist: k2,k2,k2,k4,k2,k2\nnewlist: k1\n\n127.0.0.1:6379> BLPOP newlist mylist 30 # 从newlist中弹出第一个值，mylist作为候选\n1) \"newlist\" # 弹出\n2) \"k1\"\n127.0.0.1:6379> BLPOP newlist mylist 30\n1) \"mylist\" # 由于newlist空了 从mylist中弹出\n2) \"k2\"\n127.0.0.1:6379> BLPOP newlist 30\n(30.10s) # 超时了\n\n127.0.0.1:6379> BLPOP newlist 30 # 我们连接另一个客户端向newlist中push了test, 阻塞被解决。\n1) \"newlist\"\n2) \"test\"\n(12.54s)\n```\n\n\n> 小结\n\n\n\n- list实际上是一个链表，before Node after , left, right 都可以插入值\n- **如果key不存在，则创建新的链表**\n- 如果key存在，新增内容\n- 如果移除了所有值，空链表，也代表不存在\n- 在两边插入或者改动值，效率最高！修改中间元素，效率相对较低\n\n\n<br />**应用：**<br />\n<br />**消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）**<br />\n\n<a name=\"5b4368f5\"></a>\n### Set(集合)\n\n\n> Redis的Set是**string类型**的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。\n>  \n> Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。\n>  \n> 集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。\n\n| 命令 | 描述 |\n| --- | --- |\n| `SADD key member1[member2..]` | 向集合中无序增加一个/多个成员 |\n| `SCARD key` | 获取集合的成员数 |\n| `SMEMBERS key` | 返回集合中所有的成员 |\n| `SISMEMBER key member` | 查询member元素是否是集合的成员,结果是无序的 |\n| `SRANDMEMBER key [count]` | 随机返回集合中count个成员，count缺省值为1 |\n| `SPOP key [count]` | 随机移除并返回集合中count个成员，count缺省值为1 |\n| `SMOVE source destination member` | 将source集合的成员member移动到destination集合 |\n| `SREM key member1[member2..]` | 移除集合中一个/多个成员 |\n| `SDIFF key1[key2..]` | 返回所有集合的差集 key1- key2 - … |\n| `SDIFFSTORE destination key1[key2..]` | 在SDIFF的基础上，将结果保存到集合中==(覆盖)==。不能保存到其他类型key噢！ |\n| `SINTER key1 [key2..]` | 返回所有集合的交集 |\n| `SINTERSTORE destination key1[key2..]` | 在SINTER的基础上，存储结果到集合中。覆盖 |\n| `SUNION key1 [key2..]` | 返回所有集合的并集 |\n| `SUNIONSTORE destination key1 [key2..]` | 在SUNION的基础上，存储结果到及和张。覆盖 |\n| `SSCAN KEY [MATCH pattern] [COUNT count]` | 在大量数据环境下，使用此命令遍历集合中元素，每次遍历部分 |\n\n\n\n```bash\n---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------\n\n127.0.0.1:6379> SADD myset m1 m2 m3 m4 # 向myset中增加成员 m1~m4\n(integer) 4\n127.0.0.1:6379> SCARD myset # 获取集合的成员数目\n(integer) 4\n127.0.0.1:6379> smembers myset # 获取集合中所有成员\n1) \"m4\"\n2) \"m3\"\n3) \"m2\"\n4) \"m1\"\n127.0.0.1:6379> SISMEMBER myset m5 # 查询m5是否是myset的成员\n(integer) 0 # 不是，返回0\n127.0.0.1:6379> SISMEMBER myset m2\n(integer) 1 # 是，返回1\n127.0.0.1:6379> SISMEMBER myset m3\n(integer) 1\n\n---------------------SRANDMEMBER--SPOP----------------------------------\n\n127.0.0.1:6379> SRANDMEMBER myset 3 # 随机返回3个成员\n1) \"m2\"\n2) \"m3\"\n3) \"m4\"\n127.0.0.1:6379> SRANDMEMBER myset # 随机返回1个成员\n\"m3\"\n127.0.0.1:6379> SPOP myset 2 # 随机移除并返回2个成员\n1) \"m1\"\n2) \"m4\"\n# 将set还原到{m1,m2,m3,m4}\n\n---------------------SMOVE--SREM----------------------------------------\n\n127.0.0.1:6379> SMOVE myset newset m3 # 将myset中m3成员移动到newset集合\n(integer) 1\n127.0.0.1:6379> SMEMBERS myset\n1) \"m4\"\n2) \"m2\"\n3) \"m1\"\n127.0.0.1:6379> SMEMBERS newset\n1) \"m3\"\n127.0.0.1:6379> SREM newset m3 # 从newset中移除m3元素\n(integer) 1\n127.0.0.1:6379> SMEMBERS newset\n(empty list or set)\n\n# 下面开始是多集合操作,多集合操作中若只有一个参数默认和自身进行运算\n# setx=>{m1,m2,m4,m6}, sety=>{m2,m5,m6}, setz=>{m1,m3,m6}\n\n-----------------------------SDIFF------------------------------------\n\n127.0.0.1:6379> SDIFF setx sety setz # 等价于setx-sety-setz\n1) \"m4\"\n127.0.0.1:6379> SDIFF setx sety # setx - sety\n1) \"m4\"\n2) \"m1\"\n127.0.0.1:6379> SDIFF sety setx # sety - setx\n1) \"m5\"\n\n\n-------------------------SINTER---------------------------------------\n# 共同关注（交集）\n\n127.0.0.1:6379> SINTER setx sety setz # 求 setx、sety、setx的交集\n1) \"m6\"\n127.0.0.1:6379> SINTER setx sety # 求setx sety的交集\n1) \"m2\"\n2) \"m6\"\n\n-------------------------SUNION---------------------------------------\n\n127.0.0.1:6379> SUNION setx sety setz # setx sety setz的并集\n1) \"m4\"\n2) \"m6\"\n3) \"m3\"\n4) \"m2\"\n5) \"m1\"\n6) \"m5\"\n127.0.0.1:6379> SUNION setx sety # setx sety 并集\n1) \"m4\"\n2) \"m6\"\n3) \"m2\"\n4) \"m1\"\n5) \"m5\"\n```\n\n\n<a name=\"4f1ea94e\"></a>\n### Hash（哈希）\n\n\n> Redis hash 是一个string类型的field和value的映射表，hash特别适合用于存储对象。\n>  \n> Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。\n\n| 命令 | 描述 |\n| --- | --- |\n| `HSET key field value` | 将哈希表 key 中的字段 field 的值设为 value 。重复设置同一个field会覆盖,返回0 |\n| `HMSET key field1 value1 [field2 value2..]` | 同时将多个 field-value (域-值)对设置到哈希表 key 中。 |\n| `HSETNX key field value` | 只有在字段 field 不存在时，设置哈希表字段的值。 |\n| `HEXISTS key field` | 查看哈希表 key 中，指定的字段是否存在。 |\n| `HGET key field value` | 获取存储在哈希表中指定字段的值 |\n| `HMGET key field1 [field2..]` | 获取所有给定字段的值 |\n| `HGETALL key` | 获取在哈希表key 的所有字段和值 |\n| `HKEYS key` | 获取哈希表key中所有的字段 |\n| `HLEN key` | 获取哈希表中字段的数量 |\n| `HVALS key` | 获取哈希表中所有值 |\n| `HDEL key field1 [field2..]` | 删除哈希表key中一个/多个field字段 |\n| `HINCRBY key field n` | 为哈希表 key 中的指定字段的整数值加上增量n，并返回增量后结果 一样只适用于整数型字段 |\n| `HINCRBYFLOAT key field n` | 为哈希表 key 中的指定字段的浮点数值加上增量 n。 |\n| `HSCAN key cursor [MATCH pattern] [COUNT count]` | 迭代哈希表中的键值对。 |\n\n\n\n```bash\n------------------------HSET--HMSET--HSETNX----------------\n127.0.0.1:6379> HSET studentx name sakura # 将studentx哈希表作为一个对象，设置name为sakura\n(integer) 1\n127.0.0.1:6379> HSET studentx name gyc # 重复设置field进行覆盖，并返回0\n(integer) 0\n127.0.0.1:6379> HSET studentx age 20 # 设置studentx的age为20\n(integer) 1\n127.0.0.1:6379> HMSET studentx sex 1 tel 15623667886 # 设置sex为1，tel为15623667886\nOK\n127.0.0.1:6379> HSETNX studentx name gyc # HSETNX 设置已存在的field\n(integer) 0 # 失败\n127.0.0.1:6379> HSETNX studentx email 12345@qq.com\n(integer) 1 # 成功\n\n----------------------HEXISTS--------------------------------\n127.0.0.1:6379> HEXISTS studentx name # name字段在studentx中是否存在\n(integer) 1 # 存在\n127.0.0.1:6379> HEXISTS studentx addr\n(integer) 0 # 不存在\n\n-------------------HGET--HMGET--HGETALL-----------\n127.0.0.1:6379> HGET studentx name # 获取studentx中name字段的value\n\"gyc\"\n127.0.0.1:6379> HMGET studentx name age tel # 获取studentx中name、age、tel字段的value\n1) \"gyc\"\n2) \"20\"\n3) \"15623667886\"\n127.0.0.1:6379> HGETALL studentx # 获取studentx中所有的field及其value\n 1) \"name\"\n 2) \"gyc\"\n 3) \"age\"\n 4) \"20\"\n 5) \"sex\"\n 6) \"1\"\n 7) \"tel\"\n 8) \"15623667886\"\n 9) \"email\"\n10) \"12345@qq.com\"\n\n\n--------------------HKEYS--HLEN--HVALS--------------\n127.0.0.1:6379> HKEYS studentx # 查看studentx中所有的field\n1) \"name\"\n2) \"age\"\n3) \"sex\"\n4) \"tel\"\n5) \"email\"\n127.0.0.1:6379> HLEN studentx # 查看studentx中的字段数量\n(integer) 5\n127.0.0.1:6379> HVALS studentx # 查看studentx中所有的value\n1) \"gyc\"\n2) \"20\"\n3) \"1\"\n4) \"15623667886\"\n5) \"12345@qq.com\"\n\n-------------------------HDEL--------------------------\n127.0.0.1:6379> HDEL studentx sex tel # 删除studentx 中的sex、tel字段\n(integer) 2\n127.0.0.1:6379> HKEYS studentx\n1) \"name\"\n2) \"age\"\n3) \"email\"\n\n-------------HINCRBY--HINCRBYFLOAT------------------------\n127.0.0.1:6379> HINCRBY studentx age 1 # studentx的age字段数值+1\n(integer) 21\n127.0.0.1:6379> HINCRBY studentx name 1 # 非整数字型字段不可用\n(error) ERR hash value is not an integer\n127.0.0.1:6379> HINCRBYFLOAT studentx weight 0.6 # weight字段增加0.6\n\"90.8\"\n```\n\n<br />Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！**Hash更适合于对象的存储，Sring更加适合字符串存储！**<br />\n\n<a name=\"414c7e5f\"></a>\n### Zset（有序集合）\n\n\n> 不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。\n>  \n> score相同：按字典顺序排序\n>  \n> 有序集合的成员是唯一的,但分数(score)却可以重复。\n\n| 命令 | 描述 |\n| --- | --- |\n| `ZADD key score member1 [score2 member2]` | 向有序集合添加一个或多个成员，或者更新已存在成员的分数 |\n| `ZCARD key` | 获取有序集合的成员数 |\n| `ZCOUNT key min max` | 计算在有序集合中指定区间score的成员数 |\n| `ZINCRBY key n member` | 有序集合中对指定成员的分数加上增量 n |\n| `ZSCORE key member` | 返回有序集中，成员的分数值 |\n| `ZRANK key member` | 返回有序集合中指定成员的索引 |\n| `ZRANGE key start end` | 通过索引区间返回有序集合成指定区间内的成员 |\n| `ZRANGEBYLEX key min max` | 通过字典区间返回有序集合的成员 |\n| `ZRANGEBYSCORE key min max` | 通过分数返回有序集合指定区间内的成员==-inf 和 +inf分别表示最小最大值，只支持开区间()== |\n| `ZLEXCOUNT key min max` | 在有序集合中计算指定字典区间内成员数量 |\n| `ZREM key member1 [member2..]` | 移除有序集合中一个/多个成员 |\n| `ZREMRANGEBYLEX key min max` | 移除有序集合中给定的字典区间的所有成员 |\n| `ZREMRANGEBYRANK key start stop` | 移除有序集合中给定的排名区间的所有成员 |\n| `ZREMRANGEBYSCORE key min max` | 移除有序集合中给定的分数区间的所有成员 |\n| `ZREVRANGE key start end` | 返回有序集中指定区间内的成员，通过索引，分数从高到底 |\n| `ZREVRANGEBYSCORRE key max min` | 返回有序集中指定分数区间内的成员，分数从高到低排序 |\n| `ZREVRANGEBYLEX key max min` | 返回有序集中指定字典区间内的成员，按字典顺序倒序 |\n| `ZREVRANK key member` | 返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序 |\n| `ZINTERSTORE destination numkeys key1 [key2 ..]` | 计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中，numkeys：表示参与运算的集合数，将score相加作为结果的score |\n| `ZUNIONSTORE destination numkeys key1 [key2..]` | 计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中 |\n| `ZSCAN key cursor [MATCH pattern\\] [COUNT count]` | 迭代有序集合中的元素（包括元素成员和元素分值） |\n\n\n\n```bash\n-------------------ZADD--ZCARD--ZCOUNT--------------\n127.0.0.1:6379> ZADD myzset 1 m1 2 m2 3 m3 # 向有序集合myzset中添加成员m1 score=1 以及成员m2 score=2..\n(integer) 2\n127.0.0.1:6379> ZCARD myzset # 获取有序集合的成员数\n(integer) 2\n127.0.0.1:6379> ZCOUNT myzset 0 1 # 获取score在 [0,1]区间的成员数量\n(integer) 1\n127.0.0.1:6379> ZCOUNT myzset 0 2\n(integer) 2\n\n----------------ZINCRBY--ZSCORE--------------------------\n127.0.0.1:6379> ZINCRBY myzset 5 m2 # 将成员m2的score +5\n\"7\"\n127.0.0.1:6379> ZSCORE myzset m1 # 获取成员m1的score\n\"1\"\n127.0.0.1:6379> ZSCORE myzset m2\n\"7\"\n\n--------------ZRANK--ZRANGE-----------------------------------\n127.0.0.1:6379> ZRANK myzset m1 # 获取成员m1的索引，索引按照score排序，score相同索引值按字典顺序顺序增加\n(integer) 0\n127.0.0.1:6379> ZRANK myzset m2\n(integer) 2\n127.0.0.1:6379> ZRANGE myzset 0 1 # 获取索引在 0~1的成员\n1) \"m1\"\n2) \"m3\"\n127.0.0.1:6379> ZRANGE myzset 0 -1 # 获取全部成员\n1) \"m1\"\n2) \"m3\"\n3) \"m2\"\n\n#testset=>{abc,add,amaze,apple,back,java,redis} score均为0\n------------------ZRANGEBYLEX---------------------------------\n127.0.0.1:6379> ZRANGEBYLEX testset - + # 返回所有成员\n1) \"abc\"\n2) \"add\"\n3) \"amaze\"\n4) \"apple\"\n5) \"back\"\n6) \"java\"\n7) \"redis\"\n127.0.0.1:6379> ZRANGEBYLEX testset - + LIMIT 0 3 # 分页 按索引显示查询结果的 0,1,2条记录\n1) \"abc\"\n2) \"add\"\n3) \"amaze\"\n127.0.0.1:6379> ZRANGEBYLEX testset - + LIMIT 3 3 # 显示 3,4,5条记录\n1) \"apple\"\n2) \"back\"\n3) \"java\"\n127.0.0.1:6379> ZRANGEBYLEX testset (- [apple # 显示 (-,apple] 区间内的成员\n1) \"abc\"\n2) \"add\"\n3) \"amaze\"\n4) \"apple\"\n127.0.0.1:6379> ZRANGEBYLEX testset [apple [java # 显示 [apple,java]字典区间的成员\n1) \"apple\"\n2) \"back\"\n3) \"java\"\n\n-----------------------ZRANGEBYSCORE---------------------\n127.0.0.1:6379> ZRANGEBYSCORE myzset 1 10 # 返回score在 [1,10]之间的的成员\n1) \"m1\"\n2) \"m3\"\n3) \"m2\"\n127.0.0.1:6379> ZRANGEBYSCORE myzset 1 5\n1) \"m1\"\n2) \"m3\"\n\n--------------------ZLEXCOUNT-----------------------------\n127.0.0.1:6379> ZLEXCOUNT testset - +\n(integer) 7\n127.0.0.1:6379> ZLEXCOUNT testset [apple [java\n(integer) 3\n\n------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------\n127.0.0.1:6379> ZREM testset abc # 移除成员abc\n(integer) 1\n127.0.0.1:6379> ZREMRANGEBYLEX testset [apple [java # 移除字典区间[apple,java]中的所有成员\n(integer) 3\n127.0.0.1:6379> ZREMRANGEBYRANK testset 0 1 # 移除排名0~1的所有成员\n(integer) 2\n127.0.0.1:6379> ZREMRANGEBYSCORE myzset 0 3 # 移除score在 [0,3]的成员\n(integer) 2\n\n\n# testset=> {abc,add,apple,amaze,back,java,redis} score均为0\n# myzset=> {(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)}\n----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------\n127.0.0.1:6379> ZREVRANGE myzset 0 3 # 按score递减排序，然后按索引，返回结果的 0~3\n1) \"m9\"\n2) \"m7\"\n3) \"m4\"\n4) \"m3\"\n127.0.0.1:6379> ZREVRANGE myzset 2 4 # 返回排序结果的 索引的2~4\n1) \"m4\"\n2) \"m3\"\n3) \"m2\"\n127.0.0.1:6379> ZREVRANGEBYSCORE myzset 6 2 # 按score递减顺序 返回集合中分数在[2,6]之间的成员\n1) \"m4\"\n2) \"m3\"\n3) \"m2\"\n127.0.0.1:6379> ZREVRANGEBYLEX testset [java (add # 按字典倒序 返回集合中(add,java]字典区间的成员\n1) \"java\"\n2) \"back\"\n3) \"apple\"\n4) \"amaze\"\n\n-------------------------ZREVRANK------------------------------\n127.0.0.1:6379> ZREVRANK myzset m7 # 按score递减顺序，返回成员m7索引\n(integer) 1\n127.0.0.1:6379> ZREVRANK myzset m2\n(integer) 4\n\n\n# mathscore=>{(xm,90),(xh,95),(xg,87)} 小明、小红、小刚的数学成绩\n# enscore=>{(xm,70),(xh,93),(xg,90)} 小明、小红、小刚的英语成绩\n-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------\n127.0.0.1:6379> ZINTERSTORE sumscore 2 mathscore enscore # 将mathscore enscore进行合并 结果存放到sumscore\n(integer) 3\n127.0.0.1:6379> ZRANGE sumscore 0 -1 withscores # 合并后的score是之前集合中所有score的和\n1) \"xm\"\n2) \"160\"\n3) \"xg\"\n4) \"177\"\n5) \"xh\"\n6) \"188\"\n\n127.0.0.1:6379> ZUNIONSTORE lowestscore 2 mathscore enscore AGGREGATE MIN # 取两个集合的成员score最小值作为结果的\n(integer) 3\n127.0.0.1:6379> ZRANGE lowestscore 0 -1 withscores\n1) \"xm\"\n2) \"70\"\n3) \"xg\"\n4) \"87\"\n5) \"xh\"\n6) \"93\"\n```\n\n<br />应用案例：<br />\n\n- set排序 存储班级成绩表 工资表排序！\n- 普通消息，1.重要消息 2.带权重进行判断\n- 排行榜应用实现，取Top N测试\n\n\n\n<a name=\"d56625c6\"></a>\n## 四、三种特殊数据类型\n\n\n<a name=\"57d73dd8\"></a>\n### Geospatial(地理位置)\n\n\n> 使用经纬度定位地理坐标并用一个**有序集合zset保存**，所以zset命令也可以使用\n\n| 命令 | 描述 |\n| --- | --- |\n| `geoadd key longitud(经度) latitude(纬度) member [..]` | 将具体经纬度的坐标存入一个有序集合 |\n| `geopos key member [member..]` | 获取集合中的一个/多个成员坐标 |\n| `geodist key member1 member2 [unit]` | 返回两个给定位置之间的距离。默认以米作为单位。 |\n| `georadius key longitude latitude radius m|km|mi|ft [WITHCOORD][WITHDIST] [WITHHASH] [COUNT count]` | 以给定的经纬度为中心， 返回集合包含的位置元素当中， 与中心的距离不超过给定最大距离的所有位置元素。 |\n| `GEORADIUSBYMEMBER key member radius...` | 功能与GEORADIUS相同，只是中心位置不是具体的经纬度，而是使用结合中已有的成员作为中心点。 |\n| `geohash key member1 [member2..]` | 返回一个或多个位置元素的Geohash表示。使用Geohash位置52点整数编码。 |\n\n\n<br />**有效经纬度**<br />\n\n>  \n> - 有效的经度从-180度到180度。\n> - 有效的纬度从-85.05112878度到85.05112878度。\n> \n \n\n\n<br />指定单位的参数 **unit** 必须是以下单位的其中一个：<br />\n\n- **m** 表示单位为米。\n- **km** 表示单位为千米。\n- **mi** 表示单位为英里。\n- **ft** 表示单位为英尺。\n\n\n<br />**关于GEORADIUS的参数**<br />\n\n> 通过`georadius`就可以完成 **附近的人**功能\n>  \n> withcoord:带上坐标\n>  \n> withdist:带上距离，单位与半径单位相同\n>  \n> COUNT n : 只显示前n个(按距离递增排序)\n\n\n\n```bash\n----------------georadius---------------------\n127.0.0.1:6379> GEORADIUS china:city 120 30 500 km withcoord withdist # 查询经纬度(120,30)坐标500km半径内的成员\n1) 1) \"hangzhou\"\n   2) \"29.4151\"\n   3) 1) \"120.20000249147415\"\n      2) \"30.199999888333501\"\n2) 1) \"shanghai\"\n   2) \"205.3611\"\n   3) 1) \"121.40000134706497\"\n      2) \"31.400000253193539\"\n     \n------------geohash---------------------------\n127.0.0.1:6379> geohash china:city yichang shanghai # 获取成员经纬坐标的geohash表示\n1) \"wmrjwbr5250\"\n2) \"wtw6ds0y300\"\n```\n\n\n<a name=\"08968f7e\"></a>\n### Hyperloglog(基数统计)\n\n\n> Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。\n>  \n> 花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。\n>  \n> 因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。\n>  \n> 其底层使用string数据类型\n\n\n<br />**什么是基数？**<br />\n\n> 数据集中不重复的元素的个数。\n\n\n<br />**应用场景：**<br />\n<br />网页的访问量（UV）：一个用户多次访问，也只能算作一个人。<br />\n\n> 传统实现，存储用户的id,然后每次进行比较。当用户变多之后这种方式及其浪费空间，而我们的目的只是**计数**，Hyperloglog就能帮助我们利用最小的空间完成。\n\n| 命令 | 描述 |\n| --- | --- |\n| `PFADD key element1 [elememt2..]` | 添加指定元素到 HyperLogLog 中 |\n| `PFCOUNT key [key]` | 返回给定 HyperLogLog 的基数估算值。 |\n| `PFMERGE destkey sourcekey [sourcekey..]` | 将多个 HyperLogLog 合并为一个 HyperLogLog |\n\n\n\n```bash\n----------PFADD--PFCOUNT---------------------\n127.0.0.1:6379> PFADD myelemx a b c d e f g h i j k # 添加元素\n(integer) 1\n127.0.0.1:6379> type myelemx # hyperloglog底层使用String\nstring\n127.0.0.1:6379> PFCOUNT myelemx # 估算myelemx的基数\n(integer) 11\n127.0.0.1:6379> PFADD myelemy i j k z m c b v p q s\n(integer) 1\n127.0.0.1:6379> PFCOUNT myelemy\n(integer) 11\n\n----------------PFMERGE-----------------------\n127.0.0.1:6379> PFMERGE myelemz myelemx myelemy # 合并myelemx和myelemy 成为myelemz\nOK\n127.0.0.1:6379> PFCOUNT myelemz # 估算基数\n(integer) 17\n```\n\n<br />如果允许容错，那么一定可以使用Hyperloglog !<br />\n<br />如果不允许容错，就使用set或者自己的数据类型即可 ！<br />\n\n<a name=\"419a74c3\"></a>\n### BitMaps(位图)\n\n\n> 使用位存储，信息状态只有 0 和 1\n>  \n> Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)，在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。\n\n\n<br />**应用场景**<br />\n<br />签到统计、状态统计\n\n| 命令 | 描述 |\n| --- | --- |\n| `setbit key offset value` | 为指定key的offset位设置值 |\n| `getbit key offset` | 获取offset位的值 |\n| `bitcount key [start end]` | 统计字符串被设置为1的bit数，也可以指定统计范围按字节 |\n| `bitop operration destkey key[key..]` | 对一个或多个保存二进制位的字符串 key 进行位元操作，并将结果保存到 destkey 上。 |\n| `BITPOS key bit [start] [end]` | 返回字符串里面第一个被设置为1或者0的bit位。start和end只能按字节,不能按位 |\n\n\n\n```bash\n------------setbit--getbit--------------\n127.0.0.1:6379> setbit sign 0 1 # 设置sign的第0位为 1 \n(integer) 0\n127.0.0.1:6379> setbit sign 2 1 # 设置sign的第2位为 1  不设置默认 是0\n(integer) 0\n127.0.0.1:6379> setbit sign 3 1\n(integer) 0\n127.0.0.1:6379> setbit sign 5 1\n(integer) 0\n127.0.0.1:6379> type sign\nstring\n\n127.0.0.1:6379> getbit sign 2 # 获取第2位的数值\n(integer) 1\n127.0.0.1:6379> getbit sign 3\n(integer) 1\n127.0.0.1:6379> getbit sign 4 # 未设置默认是0\n(integer) 0\n\n-----------bitcount----------------------------\n127.0.0.1:6379> BITCOUNT sign # 统计sign中为1的位数\n(integer) 4\n```\n\n<br />**bitmaps的底层**<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PlszjhS-1597890996519)(D:\\我\\MyBlog\\狂神说 Redis.assets\\image-20200803234336175.png)]<br />\n<br />这样设置以后你能get到的值是：**\\xA2\\x80**，所以bitmaps是一串从左到右的二进制串<br />\n\n<a name=\"ea4899e5\"></a>\n## 五、事务\n\n<br />Redis的单条命令是保证原子性的，但是redis事务不能保证原子性<br />\n\n> Redis事务本质：一组命令的集合。\n>  \n> ----------------- 队列 set set set 执行 -------------------\n>  \n> 事务中每条命令都会被序列化，执行过程中按顺序执行，不允许其他命令进行干扰。\n>  \n> - 一次性\n> - 顺序性\n> - 排他性\n> 1. Redis事务没有隔离级别的概念\n> 2. Redis单条命令是保证原子性的，但是事务不保证原子性！\n> \n \n\n\n---\n\n\n\n<a name=\"7ce98419\"></a>\n### Redis事务操作过程\n\n\n- 开启事务（`multi`）\n- 命令入队\n- 执行事务（`exec`）\n\n\n<br />所以事务中的命令在加入时都没有被执行，直到提交时才会开始执行(Exec)一次性完成。<br />\n\n```bash\n127.0.0.1:6379> multi # 开启事务\nOK\n127.0.0.1:6379> set k1 v1 # 命令入队\nQUEUED\n127.0.0.1:6379> set k2 v2 # ..\nQUEUED\n127.0.0.1:6379> get k1\nQUEUED\n127.0.0.1:6379> set k3 v3\nQUEUED\n127.0.0.1:6379> keys *\nQUEUED\n127.0.0.1:6379> exec # 事务执行\n1) OK\n2) OK\n3) \"v1\"\n4) OK\n5) 1) \"k3\"\n   2) \"k2\"\n   3) \"k1\"\n```\n\n<br />**取消事务(**`**discurd**`**)**<br />\n\n```bash\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> set k1 v1\nQUEUED\n127.0.0.1:6379> set k2 v2\nQUEUED\n127.0.0.1:6379> DISCARD # 放弃事务\nOK\n127.0.0.1:6379> EXEC \n(error) ERR EXEC without MULTI # 当前未开启事务\n127.0.0.1:6379> get k1 # 被放弃事务中命令并未执行\n(nil)\n```\n\n\n<a name=\"5bfc1a01\"></a>\n### 事务错误\n\n\n> 代码语法错误（编译时异常）所有的命令都不执行\n\n\n\n```bash\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> set k1 v1\nQUEUED\n127.0.0.1:6379> set k2 v2\nQUEUED\n127.0.0.1:6379> error k1 # 这是一条语法错误命令\n(error) ERR unknown command `error`, with args beginning with: `k1`, # 会报错但是不影响后续命令入队 \n127.0.0.1:6379> get k2\nQUEUED\n127.0.0.1:6379> EXEC\n(error) EXECABORT Transaction discarded because of previous errors. # 执行报错\n127.0.0.1:6379> get k1 \n(nil) # 其他命令并没有被执行\n```\n\n\n> 代码逻辑错误 (运行时异常) **其他命令可以正常执行 ** >>> 所以不保证事务原子性\n\n\n\n```bash\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> set k1 v1\nQUEUED\n127.0.0.1:6379> set k2 v2\nQUEUED\n127.0.0.1:6379> INCR k1 # 这条命令逻辑错误（对字符串进行增量）\nQUEUED\n127.0.0.1:6379> get k2\nQUEUED\n127.0.0.1:6379> exec\n1) OK\n2) OK\n3) (error) ERR value is not an integer or out of range # 运行时报错\n4) \"v2\" # 其他命令正常执行\n\n# 虽然中间有一条命令报错了，但是后面的指令依旧正常执行成功了。\n# 所以说Redis单条指令保证原子性，但是Redis事务不能保证原子性。\n```\n\n\n<a name=\"9aff6241\"></a>\n### 监控\n\n<br />**悲观锁：**<br />\n\n- 很悲观，认为什么时候都会出现问题，无论做什么都会加锁\n\n\n<br />**乐观锁：**<br />\n\n- 很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据\n- 获取version\n- 更新的时候比较version\n\n\n<br />使用`watch key`监控指定数据，相当于乐观锁加锁。<br />\n\n> 正常执行\n\n\n\n```bash\n127.0.0.1:6379> set money 100 # 设置余额:100\nOK\n127.0.0.1:6379> set use 0 # 支出使用:0\nOK\n127.0.0.1:6379> watch money # 监视money (上锁)\nOK\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> DECRBY money 20\nQUEUED\n127.0.0.1:6379> INCRBY use 20\nQUEUED\n127.0.0.1:6379> exec # 监视值没有被中途修改，事务正常执行\n1) (integer) 80\n2) (integer) 20\n```\n\n\n> 测试多线程修改值，使用watch可以当做redis的乐观锁操作（相当于getversion）\n\n\n<br />我们启动另外一个客户端模拟插队线程。<br />\n<br />线程1：<br />\n\n```bash\n127.0.0.1:6379> watch money # money上锁\nOK\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> DECRBY money 20\nQUEUED\n127.0.0.1:6379> INCRBY use 20\nQUEUED\n127.0.0.1:6379> \t# 此时事务并没有执行\n```\n\n<br />模拟线程插队，线程2：<br />\n\n```bash\n127.0.0.1:6379> INCRBY money 500 # 修改了线程一中监视的money\n(integer) 600\n12\n```\n\n<br />回到线程1，执行事务：<br />\n\n```bash\n127.0.0.1:6379> EXEC # 执行之前，另一个线程修改了我们的值，这个时候就会导致事务执行失败\n(nil) # 没有结果，说明事务执行失败\n\n127.0.0.1:6379> get money # 线程2 修改生效\n\"600\"\n127.0.0.1:6379> get use # 线程1事务执行失败，数值没有被修改\n\"0\"\n```\n\n\n> 解锁获取最新值，然后再加锁进行事务。\n>  \n> `unwatch`进行解锁。\n\n\n<br />注意：每次提交执行exec后都会自动释放锁，不管是否成功<br />\n\n<a name=\"c79e2752\"></a>\n## 六、Jedis\n\n<br />使用Java来操作Redis，Jedis是Redis官方推荐使用的Java连接redis的客户端。<br />\n\n1.  导入依赖  \n```xml\n<!--导入jredis的包-->\n<dependency>\n    <groupId>redis.clients</groupId>\n    <artifactId>jedis</artifactId>\n    <version>3.2.0</version>\n</dependency>\n<!--fastjson-->\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.70</version>\n</dependency>\n```\n\n2.  编码测试 \n   -  连接数据库 \n      1.  修改redis的配置文件  \n```bash\nvim /usr/local/bin/myconfig/redis.conf\n1\n```\n\n         1.  将只绑定本地注释<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-4IRUFJ95-1597890996520)(狂神说 Redis.assets/image-20200813161921480.png)] \n         1.  保护模式改为 no<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oKjIVapw-1597890996521)(狂神说 Redis.assets/image-20200813161939847.png)] \n         1.  允许后台运行<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c2IMvpZL-1597890996522)(狂神说 Redis.assets/image-20200813161954567.png)] \n\n \n\n3.  开放端口6379 <br />重启防火墙服务  \n```bash\nfirewall-cmd --zone=public --add-port=6379/tcp --permanet\n1\n```\n```bash\nsystemctl restart firewalld.service\n1\n```\n\n   1.  阿里云服务器控制台配置安全组 \n   1.  重启redis-server  \n```bash\n[root@AlibabaECS bin]# redis-server myconfig/redis.conf \n1\n```\n \n\n-  操作命令<br />**TestPing.java**  \n```java\npublic class TestPing {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis(\"192.168.xx.xxx\", 6379);\n        String response = jedis.ping();\n        System.out.println(response); // PONG\n    }\n}\n```\n\n-  断开连接 \n\n\n\n1.  **事务**  \n```java\npublic class TestTX {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis(\"39.99.xxx.xx\", 6379);\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(\"hello\", \"world\");\n        jsonObject.put(\"name\", \"kuangshen\");\n        // 开启事务\n        Transaction multi = jedis.multi();\n        String result = jsonObject.toJSONString();\n        // jedis.watch(result)\n        try {\n            multi.set(\"user1\", result);\n            multi.set(\"user2\", result);\n            // 执行事务\n            multi.exec();\n        }catch (Exception e){\n            // 放弃事务\n            multi.discard();\n        } finally {\n            // 关闭连接\n            System.out.println(jedis.get(\"user1\"));\n            System.out.println(jedis.get(\"user2\"));\n            jedis.close();\n        }\n    }\n}\n```\n\n\n<a name=\"dbb1052f\"></a>\n## 七、SpringBoot整合\n\n\n1. 导入依赖\n\n\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n```\n\n<br />springboot 2.x后 ，原来使用的 Jedis 被 lettuce 替换。<br />\n\n> jedis：采用的直连，多个线程操作的话，是不安全的。如果要避免不安全，使用jedis pool连接池！更像BIO模式\n>  \n> lettuce：采用netty，实例可以在多个线程中共享，不存在线程不安全的情况！可以减少线程数据了，更像NIO模式\n\n\n<br />我们在学习SpringBoot自动配置的原理时，整合一个组件并进行配置一定会有一个自动配置类xxxAutoConfiguration,并且在spring.factories中也一定能找到这个类的完全限定名。Redis也不例外。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214531573.png#id=afEED&originHeight=110&originWidth=1147&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />那么就一定还存在一个RedisProperties类<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214554661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=S17vK&originHeight=214&originWidth=1159&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />之前我们说SpringBoot2.x后默认使用Lettuce来替换Jedis，现在我们就能来验证了。<br />\n<br />先看Jedis:<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214607475.png#id=kGLhv&originHeight=90&originWidth=1117&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />@ConditionalOnClass注解中有两个类是默认不存在的，所以Jedis是无法生效的<br />\n<br />然后再看Lettuce：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214618179.png#id=qWNTA&originHeight=67&originWidth=1009&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />完美生效。<br />\n<br />现在我们回到RedisAutoConfiguratio<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321462777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=DKVT5&originHeight=630&originWidth=1256&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />只有两个简单的Bean<br />\n\n- **RedisTemplate**\n- **StringRedisTemplate**\n\n\n<br />当看到xxTemplate时可以对比RestTemplat、SqlSessionTemplate,通过使用这些Template来间接操作组件。那么这俩也不会例外。分别用于操作Redis和Redis中的String数据类型。<br />\n<br />在RedisTemplate上也有一个条件注解，说明我们是可以对其进行定制化的<br />\n<br />说完这些，我们需要知道如何编写配置文件然后连接Redis，就需要阅读RedisProperties<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214638238.png#id=aWu5H&originHeight=128&originWidth=763&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />这是一些基本的配置属性。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214649380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=i0wNu&originHeight=377&originWidth=359&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />还有一些连接池相关的配置。注意使用时一定使用Lettuce的连接池。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214700372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=cG4ZA&originHeight=490&originWidth=432&originalType=binary&ratio=1&status=done&style=none)<br />\n\n1.  编写配置文件  \n```properties\n# 配置redis\nspring.redis.host=39.99.xxx.xx\nspring.redis.port=6379\n```\n\n2.  使用RedisTemplate  \n```java\n@SpringBootTest\nclass Redis02SpringbootApplicationTests {\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Test\n    void contextLoads() {\n\n        // redisTemplate 操作不同的数据类型，api和我们的指令是一样的\n        // opsForValue 操作字符串 类似String\n        // opsForList 操作List 类似List\n        // opsForHah\n\n        // 除了基本的操作，我们常用的方法都可以直接通过redisTemplate操作，比如事务和基本的CRUD\n\n        // 获取连接对象\n        //RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();\n        //connection.flushDb();\n        //connection.flushAll();\n\n        redisTemplate.opsForValue().set(\"mykey\",\"kuangshen\");\n        System.out.println(redisTemplate.opsForValue().get(\"mykey\"));\n    }\n}\n```\n\n3.  测试结果<br />**此时我们回到Redis查看数据时候，惊奇发现全是乱码，可是程序中可以正常输出：**<br />![](https://img-blog.csdnimg.cn/20200513214734520.png#id=l9ss1&originHeight=182&originWidth=525&originalType=binary&ratio=1&status=done&style=none)<br />这时候就关系到存储对象的序列化问题，在网络中传输的对象也是一样需要序列化，否者就全是乱码。<br />我们转到看那个默认的RedisTemplate内部什么样子：<br />![](https://img-blog.csdnimg.cn/20200513214746506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=rZDN6&originHeight=288&originWidth=1193&originalType=binary&ratio=1&status=done&style=none)<br />在最开始就能看到几个关于序列化的参数。<br />默认的序列化器是采用JDK序列化器<br />![](https://img-blog.csdnimg.cn/20200513214757247.png#id=CbTP8&originHeight=50&originWidth=816&originalType=binary&ratio=1&status=done&style=none)<br />而默认的RedisTemplate中的所有序列化器都是使用这个序列化器：<br />![](https://img-blog.csdnimg.cn/20200513214809494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=AzzAU&originHeight=586&originWidth=799&originalType=binary&ratio=1&status=done&style=none)<br />后续我们定制RedisTemplate就可以对其进行修改。<br />`RedisSerializer`提供了多种序列化方案： \n   -  直接调用RedisSerializer的静态方法来返回序列化器，然后set<br />![](https://img-blog.csdnimg.cn/20200513214818682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=MOE1T&originHeight=312&originWidth=457&originalType=binary&ratio=1&status=done&style=none) \n   -  自己new 相应的实现类，然后set<br />![](https://img-blog.csdnimg.cn/20200513214827233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=R3cPV&originHeight=335&originWidth=602&originalType=binary&ratio=1&status=done&style=none) \n\n \n\n4.  **定制RedisTemplate的模板：**<br />我们创建一个Bean加入容器，就会触发RedisTemplate上的条件注解使默认的RedisTemplate失效。 <br />这样一来，只要实体类进行了序列化，我们存什么都不会有乱码的担忧了。<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oc8kJP08-1597890996523)(狂神说 Redis.assets/image-20200817175638086.png)] \n```java\n@Configuration\npublic class RedisConfig {\n\n   @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {\n        // 将template 泛型设置为 <String, Object>\n        RedisTemplate<String, Object> template = new RedisTemplate();\n        // 连接工厂，不必修改\n        template.setConnectionFactory(redisConnectionFactory);\n        /*\n         * 序列化设置\n         */\n        // key、hash的key 采用 String序列化方式\n        template.setKeySerializer(RedisSerializer.string());\n        template.setHashKeySerializer(RedisSerializer.string());\n        // value、hash的value 采用 Jackson 序列化方式\n        template.setValueSerializer(RedisSerializer.json());\n        template.setHashValueSerializer(RedisSerializer.json());\n        template.afterPropertiesSet();\n        \n        return template;\n    }\n}\n```\n\n\n<a name=\"c3e4416a\"></a>\n## 八、自定义Redis工具类\n\n<br />使用RedisTemplate需要频繁调用`.opForxxx`然后才能进行对应的操作，这样使用起来代码效率低下，工作中一般不会这样使用，而是将这些常用的公共API抽取出来封装成为一个工具类，然后直接使用工具类来间接操作Redis,不但效率高并且易用。<br />\n<br />工具类参考博客：<br />\n<br />[https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html](https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html)<br />\n<br />[https://www.cnblogs.com/zhzhlong/p/11434284.html](https://www.cnblogs.com/zhzhlong/p/11434284.html)<br />\n\n<a name=\"8f0c6da4\"></a>\n## 九、Redis.conf\n\n\n> 容量单位不区分大小写，G和GB有区别\n\n\n<br />![](https://img-blog.csdnimg.cn/2020051321485460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=yG8r0&originHeight=349&originWidth=1008&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 可以使用 include 组合多个配置问题\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214902552.png#id=jQb9i&originHeight=99&originWidth=604&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 网络配置\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214912813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=YZOg5&originHeight=741&originWidth=1193&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 日志输出级别\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214923678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=mZ4Hy&originHeight=261&originWidth=970&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 日志输出文件\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214933713.png#id=c28ja&originHeight=138&originWidth=847&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 持久化规则\n\n\n<br />由于Redis是基于内存的数据库，需要将数据由内存持久化到文件中<br />\n<br />持久化方式：<br />\n\n- RDB\n- AOF\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214944964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=DYGFT&originHeight=202&originWidth=668&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> RDB文件相关\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214955679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=MXxbw&originHeight=721&originWidth=1115&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215006207.png#id=oBhgq&originHeight=88&originWidth=656&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 主从复制\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215016371.png#id=FUUTH&originHeight=140&originWidth=1033&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> Security模块中进行密码设置\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215026143.png#id=TeOFZ&originHeight=107&originWidth=777&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 客户端连接相关\n\n\n\n```bash\nmaxclients 10000  最大客户端数量\nmaxmemory <bytes> 最大内存限制\nmaxmemory-policy noeviction # 内存达到限制值的处理策略\n```\n\n<br />redis 中的**默认**的过期策略是 **volatile-lru** 。<br />\n<br />**设置方式**<br />\n\n```bash\nconfig set maxmemory-policy volatile-lru \n1\n```\n\n\n<a name=\"2c0ecb4b\"></a>\n#### **maxmemory-policy 六种方式**\n\n<br />**1、volatile-lru：**只对设置了过期时间的key进行LRU（默认值）<br />\n<br />**2、allkeys-lru ：** 删除lru算法的key<br />\n<br />**3、volatile-random：**随机删除即将过期key<br />\n<br />**4、allkeys-random：**随机删除<br />\n<br />**5、volatile-ttl ：** 删除即将过期的<br />\n<br />**6、noeviction ：** 永不过期，返回错误<br />\n\n> AOF相关部分\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215037918.png#id=gu6Y1&originHeight=146&originWidth=1040&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215047999.png#id=Jsq9r&originHeight=136&originWidth=1014&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"5bcafd56\"></a>\n## 十、持久化—RDB\n\n<br />RDB：Redis Databases<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-C0mm1D4A-1597890996524)(狂神说 Redis.assets/image-20200818122236614.png)]<br />\n\n<a name=\"46096430\"></a>\n### 什么是RDB\n\n---\n\n在指定时间间隔后，将内存中的数据集快照写入数据库 ；在恢复时候，直接读取快照文件，进行数据的恢复 ；<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215126515.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=WjrQk&originHeight=262&originWidth=443&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />默认情况下， Redis 将数据库快照保存在名字为 dump.rdb的二进制文件中。文件名可以在配置文件中进行自定义。<br />\n\n<a name=\"b3fbd195\"></a>\n### 工作原理\n\n---\n\n在进行 `**RDB**` 的时候，`**redis**` 的主线程是不会做 `**io**` 操作的，主线程会 `**fork**` 一个子线程来完成该操作；<br />\n\n1. Redis 调用forks。同时拥有父进程和子进程。\n2. 子进程将数据集写入到一个临时 RDB 文件中。\n3. 当子进程完成对新 RDB 文件的写入时，Redis 用新 RDB 文件替换原来的 RDB 文件，并删除旧的 RDB 文件。\n\n\n<br />这种工作方式使得 Redis 可以从写时复制（copy-on-write）机制中获益(因为是使用子进程进行写操作，而父进程依然可以接收来自客户端的请求。)<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215141519.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=w9GKz&originHeight=307&originWidth=592&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"5e1a77c8\"></a>\n### 触发机制\n\n---\n\n1. save的规则满足的情况下，会自动触发rdb原则\n2. 执行flushall命令，也会触发我们的rdb原则\n3. 退出redis，也会自动产生rdb文件\n\n\n\n<a name=\"save\"></a>\n#### save\n\n<br />使用 `save` 命令，会立刻对当前内存中的数据进行持久化 ,但是会阻塞，也就是不接受其他操作了；<br />\n\n> 由于 `save` 命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，`save`命令执行速度会非常慢，阻塞所有客户端的请求。\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215150892.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=FG28P&originHeight=288&originWidth=783&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"d23a92c1\"></a>\n#### flushall命令\n\n<br />`flushall` 命令也会触发持久化 ；<br />\n\n<a name=\"9fa8119d\"></a>\n#### 触发持久化规则\n\n<br />满足配置条件中的触发条件 ；<br />\n\n> 可以通过配置文件对 Redis 进行设置， 让它在“ N 秒内数据集至少有 M 个改动”这一条件被满足时， 自动进行数据集保存操作。\n>  \n> ![](https://img-blog.csdnimg.cn/20200513215205970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=z1eHe&originHeight=202&originWidth=668&originalType=binary&ratio=1&status=done&style=none)\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215220858.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=i6khx&originHeight=253&originWidth=611&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"bgsave\"></a>\n#### bgsave\n\n<br />`bgsave` 是异步进行，进行持久化的时候，`redis` 还可以将继续响应客户端请求 ；<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321523151.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=AaUif&originHeight=307&originWidth=592&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />**bgsave和save对比**\n\n| 命令 | save | bgsave |\n| --- | --- | --- |\n| IO类型 | 同步 | 异步 |\n| 阻塞？ | 是 | 是（阻塞发生在fock()，通常非常快） |\n| 复杂度 | O(n) | O(n) |\n| 优点 | 不会消耗额外的内存 | 不阻塞客户端命令 |\n| 缺点 | 阻塞客户端命令 | 需要fock子进程，消耗内存 |\n\n\n\n<a name=\"78102351\"></a>\n### 优缺点\n\n<br />**优点：**<br />\n\n1. 适合大规模的数据恢复\n2. 对数据的完整性要求不高\n\n\n<br />**缺点：**<br />\n\n1. 需要一定的时间间隔进行操作，如果redis意外宕机了，这个最后一次修改的数据就没有了。\n2. fork进程的时候，会占用一定的内容空间。\n\n\n\n<a name=\"17472ea0\"></a>\n## 十一、持久化AOF\n\n<br />**Append Only File**<br />\n<br />将我们所有的命令都记录下来，history，恢复的时候就把这个文件全部再执行一遍<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z8wr9lBW-1597890996525)(狂神说 Redis.assets/image-20200818123711375.png)]<br />\n\n> 以日志的形式来记录每个写的操作，将Redis执行过的所有指令记录下来（读操作不记录），只许追加文件但不可以改写文件，redis启动之初会读取该文件重新构建数据，换言之，redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作。\n\n\n\n<a name=\"95180d71\"></a>\n### 什么是AOF\n\n<br />快照功能（RDB）并不是非常耐久（durable）： 如果 Redis 因为某些原因而造成故障停机， 那么服务器将丢失最近写入、以及未保存到快照中的那些数据。 从 1.1 版本开始， Redis 增加了一种完全耐久的持久化方式： AOF 持久化。<br />\n<br />如果要使用AOF，需要修改配置文件：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215247113.png#id=eDPNZ&originHeight=146&originWidth=1040&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />`appendonly no yes`则表示启用AOF<br />\n<br />默认是不开启的，我们需要手动配置，然后重启redis，就可以生效了！<br />\n<br />如果这个aof文件有错位，这时候redis是启动不起来的，我需要修改这个aof文件<br />\n<br />redis给我们提供了一个工具`redis-check-aof --fix`<br />\n\n> 优点和缺点\n\n\n\n```bash\nappendonly yes  # 默认是不开启aof模式的，默认是使用rdb方式持久化的，在大部分的情况下，rdb完全够用\nappendfilename \"appendonly.aof\"\n\n# appendfsync always # 每次修改都会sync 消耗性能\nappendfsync everysec # 每秒执行一次 sync 可能会丢失这一秒的数据\n# appendfsync no # 不执行 sync ,这时候操作系统自己同步数据，速度最快\n```\n\n<br />**优点**<br />\n\n1. 每一次修改都会同步，文件的完整性会更加好\n2. 没秒同步一次，可能会丢失一秒的数据\n3. 从不同步，效率最高\n\n\n<br />**缺点**<br />\n\n1. 相对于数据文件来说，aof远远大于rdb，修复速度比rdb慢！\n2. Aof运行效率也要比rdb慢，所以我们redis默认的配置就是rdb持久化\n\n\n\n<a name=\"7ee877b2\"></a>\n## 十二、RDB和AOP选择\n\n\n<a name=\"9a4822ca\"></a>\n### RDB 和 AOF 对比\n| RDB | AOF |  |\n| --- | --- | --- |\n| 启动优先级 | 低 | 高 |\n| 体积 | 小 | 大 |\n| 恢复速度 | 快 | 慢 |\n| 数据安全性 | 丢数据 | 根据策略决定 |\n\n\n\n<a name=\"5e50f972\"></a>\n### 如何选择使用哪种持久化方式？\n\n<br />一般来说， 如果想达到足以媲美 PostgreSQL 的数据安全性， 你应该同时使用两种持久化功能。<br />\n<br />如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失， 那么你可以只使用 RDB 持久化。<br />\n<br />有很多用户都只使用 AOF 持久化， 但并不推荐这种方式： 因为定时生成 RDB 快照（snapshot）非常便于进行数据库备份， 并且 RDB 恢复数据集的速度也要比 AOF 恢复的速度要快。<br />\n\n<a name=\"c71a560d\"></a>\n## 十三、Redis发布与订阅\n\n<br />Redis 发布订阅(pub/sub)是一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IBT2pjCa-1597890996526)(狂神说 Redis.assets/image-20200818162849693.png)]<br />\n<br />下图展示了频道 channel1 ， 以及订阅这个频道的三个客户端 —— client2 、 client5 和 client1 之间的关系：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215523258.png#id=phjVM&originHeight=198&originWidth=319&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />当有新消息通过 PUBLISH 命令发送给频道 channel1 时， 这个消息就会被发送给订阅它的三个客户端：<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321553483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=l5gyr&originHeight=285&originWidth=315&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"ddf7d2a5\"></a>\n### 命令\n| 命令 | 描述 |\n| --- | --- |\n| `PSUBSCRIBE pattern [pattern..]` | 订阅一个或多个符合给定模式的频道。 |\n| `PUNSUBSCRIBE pattern [pattern..]` | 退订一个或多个符合给定模式的频道。 |\n| `PUBSUB subcommand [argument[argument]]` | 查看订阅与发布系统状态。 |\n| `PUBLISH channel message` | 向指定频道发布消息 |\n| `SUBSCRIBE channel [channel..]` | 订阅给定的一个或多个频道。 |\n| `SUBSCRIBE channel [channel..]` | 退订一个或多个频道 |\n\n\n\n<a name=\"1a63ac23\"></a>\n### 示例\n\n\n```bash\n------------订阅端----------------------\n127.0.0.1:6379> SUBSCRIBE sakura # 订阅sakura频道\nReading messages... (press Ctrl-C to quit) # 等待接收消息\n1) \"subscribe\" # 订阅成功的消息\n2) \"sakura\"\n3) (integer) 1\n1) \"message\" # 接收到来自sakura频道的消息 \"hello world\"\n2) \"sakura\"\n3) \"hello world\"\n1) \"message\" # 接收到来自sakura频道的消息 \"hello i am sakura\"\n2) \"sakura\"\n3) \"hello i am sakura\"\n\n--------------消息发布端-------------------\n127.0.0.1:6379> PUBLISH sakura \"hello world\" # 发布消息到sakura频道\n(integer) 1\n127.0.0.1:6379> PUBLISH sakura \"hello i am sakura\" # 发布消息\n(integer) 1\n\n-----------------查看活跃的频道------------\n127.0.0.1:6379> PUBSUB channels\n1) \"sakura\"\n```\n\n\n<a name=\"b6724cff\"></a>\n### 原理\n\n<br />每个 Redis 服务器进程都维持着一个表示服务器状态的 redis.h/redisServer 结构， 结构的 pubsub_channels 属性是一个字典， 这个字典就用于保存订阅频道的信息，其中，字典的键为正在被订阅的频道， 而字典的值则是一个链表， 链表中保存了所有订阅这个频道的客户端。<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321554964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=HaVKA&originHeight=216&originWidth=709&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />客户端订阅，就被链接到对应频道的链表的尾部，退订则就是将客户端节点从链表中移除。<br />\n\n<a name=\"2e769a75\"></a>\n### 缺点\n\n\n1. 如果一个客户端订阅了频道，但自己读取消息的速度却不够快的话，那么不断积压的消息会使redis输出缓冲区的体积变得越来越大，这可能使得redis本身的速度变慢，甚至直接崩溃。\n2. 这和数据传输可靠性有关，如果在订阅方断线，那么他将会丢失所有在短线期间发布者发布的消息。\n\n\n\n<a name=\"5b0520a9\"></a>\n### 应用\n\n\n1. 消息订阅：公众号订阅，微博关注等等（起始更多是使用消息队列来进行实现）\n2. 多人在线聊天室。\n\n\n<br />稍微复杂的场景，我们就会使用消息中间件MQ处理。<br />\n\n<a name=\"ca07c665\"></a>\n## 十四、Redis主从复制\n\n\n<a name=\"b59c9e0f\"></a>\n### 概念\n\n<br />主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点（Master/Leader）,后者称为从节点（Slave/Follower）， 数据的复制是单向的！只能由主节点复制到从节点（主节点以写为主、从节点以读为主）。<br />\n<br />默认情况下，每台Redis服务器都是主节点，一个主节点可以有0个或者多个从节点，但每个从节点只能由一个主节点。<br />\n\n<a name=\"69fa3701\"></a>\n### 作用\n\n\n1. 数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余的方式。\n2. 故障恢复：当主节点故障时，从节点可以暂时替代主节点提供服务，是一种服务冗余的方式\n3. 负载均衡：在主从复制的基础上，配合读写分离，由主节点进行写操作，从节点进行读操作，分担服务器的负载；尤其是在多读少写的场景下，通过多个从节点分担负载，提高并发量。\n4. 高可用基石：主从复制还是哨兵和集群能够实施的基础。\n\n\n\n<a name=\"7f831a7b\"></a>\n### 为什么使用集群\n\n\n1. 单台服务器难以负载大量的请求\n2. 单台服务器故障率高，系统崩坏概率大\n3. 单台服务器内存容量有限。\n\n\n\n<a name=\"a69f6882\"></a>\n### 环境配置\n\n<br />我们在讲解配置文件的时候，注意到有一个`replication`模块 (见Redis.conf中第8条)<br />\n<br />查看当前库的信息：`info replication`<br />\n\n```bash\n127.0.0.1:6379> info replication\n# Replication\nrole:master # 角色\nconnected_slaves:0 # 从机数量\nmaster_replid:3b54deef5b7b7b7f7dd8acefa23be48879b4fcff\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0\n```\n\n<br />既然需要启动多个服务，就需要多个配置文件。每个配置文件对应修改以下信息：<br />\n\n- 端口号\n- pid文件名\n- 日志文件名\n- rdb文件名\n\n\n<br />启动单机多服务集群：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215610163.png#id=m6Aax&originHeight=108&originWidth=993&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"391961da\"></a>\n### 一主二从配置\n\n<br />==默认情况下，每台Redis服务器都是主节点；==我们一般情况下只用配置从机就好了！<br />\n<br />认老大！一主（79）二从（80，81）<br />\n<br />使用`SLAVEOF host port`就可以为从机配置主机了。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215637483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=ciaCd&originHeight=410&originWidth=1226&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />然后主机上也能看到从机的状态：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215645778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=Z1x5f&originHeight=378&originWidth=818&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />我们这里是使用命令搭建，是暂时的，==真实开发中应该在从机的配置文件中进行配置，==这样的话是永久的。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215654634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=uO75y&originHeight=253&originWidth=912&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"1ebbd644\"></a>\n### 使用规则\n\n\n1.  从机只能读，不能写，主机可读可写但是多用于写。  \n```bash\n 127.0.0.1:6381> set name sakura # 从机6381写入失败\n(error) READONLY You can't write against a read only replica.\n\n127.0.0.1:6380> set name sakura # 从机6380写入失败\n(error) READONLY You can't write against a read only replica.\n\n127.0.0.1:6379> set name sakura\nOK\n127.0.0.1:6379> get name\n\"sakura\"\n```\n\n2.  当主机断电宕机后，默认情况下从机的角色不会发生变化 ，集群中只是失去了写操作，当主机恢复以后，又会连接上从机恢复原状。 \n3.  当从机断电宕机后，若不是使用配置文件配置的从机，再次启动后作为主机是无法获取之前主机的数据的，若此时重新配置称为从机，又可以获取到主机的所有数据。这里就要提到一个同步原理。 \n4.  第二条中提到，默认情况下，主机故障后，不会出现新的主机，有两种方式可以产生新的主机： \n   - 从机手动执行命令`slaveof no one`,这样执行以后从机会独立出来成为一个主机\n   - 使用哨兵模式（自动选举）\n\n \n> 如果没有老大了，这个时候能不能选择出来一个老大呢？手动！\n\n\n<br />如果主机断开了连接，我们可以使用`SLAVEOF no one`让自己变成主机！其他的节点就可以手动连接到最新的主节点（手动）！如果这个时候老大修复了，那么久重新连接！<br />\n\n<a name=\"94816f45\"></a>\n## 十五、哨兵模式\n\n<br />更多信息参考博客：[https://www.jianshu.com/p/06ab9daf921d](https://www.jianshu.com/p/06ab9daf921d)<br />\n<br />**主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。**这不是一种推荐的方式，更多时候，我们优先考虑**哨兵模式**。<br />\n<br />单机单个哨兵<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2ENYVAPp-1597890996527)(狂神说 Redis.assets/image-20200818233231154.png)]<br />\n<br />哨兵的作用：<br />\n\n- 通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。\n- 当哨兵监测到master宕机，会自动将slave切换成master，然后通过**发布订阅模式**通知其他的从服务器，修改配置文件，让它们切换主机。\n\n\n<br />多哨兵模式<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Ga1RyfVc-1597890996528)(狂神说 Redis.assets/image-20200818233316478.png)]<br />\n<br />哨兵的核心配置<br />\n\n```\nsentinel monitor mymaster 127.0.0.1 6379 1\n```\n\n\n- 数字1表示 ：当一个哨兵主观认为主机断开，就可以客观认为主机故障，然后开始选举新的主机。\n\n\n\n> 测试\n\n\n\n```\nredis-sentinel xxx/sentinel.conf\n```\n\n<br />成功启动哨兵模式<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215752444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=CsjCy&originHeight=582&originWidth=890&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />此时哨兵监视着我们的主机6379，当我们断开主机后：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215806972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=rI5rm&originHeight=736&originWidth=1255&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 哨兵模式优缺点\n\n\n<br />**优点：**<br />\n\n1. 哨兵集群，基于主从复制模式，所有主从复制的优点，它都有\n2. 主从可以切换，故障可以转移，系统的可用性更好\n3. 哨兵模式是主从模式的升级，手动到自动，更加健壮\n\n\n<br />**缺点：**<br />\n\n1. Redis不好在线扩容，集群容量一旦达到上限，在线扩容就十分麻烦\n2. 实现哨兵模式的配置其实是很麻烦的，里面有很多配置项\n\n\n\n> 哨兵模式的全部配置\n\n\n<br />完整的哨兵模式配置文件 sentinel.conf<br />\n\n```bash\n# Example sentinel.conf\n \n# 哨兵sentinel实例运行的端口 默认26379\nport 26379\n \n# 哨兵sentinel的工作目录\ndir /tmp\n \n# 哨兵sentinel监控的redis主节点的 ip port \n# master-name  可以自己命名的主节点名字 只能由字母A-z、数字0-9 、这三个字符\".-_\"组成。\n# quorum 当这些quorum个数sentinel哨兵认为master主节点失联 那么这时 客观上认为主节点失联了\n# sentinel monitor <master-name> <ip> <redis-port> <quorum>\nsentinel monitor mymaster 127.0.0.1 6379 1\n \n# 当在Redis实例中开启了requirepass foobared 授权密码 这样所有连接Redis实例的客户端都要提供密码\n# 设置哨兵sentinel 连接主从的密码 注意必须为主从设置一样的验证密码\n# sentinel auth-pass <master-name> <password>\nsentinel auth-pass mymaster MySUPER--secret-0123passw0rd\n \n \n# 指定多少毫秒之后 主节点没有应答哨兵sentinel 此时 哨兵主观上认为主节点下线 默认30秒\n# sentinel down-after-milliseconds <master-name> <milliseconds>\nsentinel down-after-milliseconds mymaster 30000\n \n# 这个配置项指定了在发生failover主备切换时最多可以有多少个slave同时对新的master进行 同步，\n这个数字越小，完成failover所需的时间就越长，\n但是如果这个数字越大，就意味着越 多的slave因为replication而不可用。\n可以通过将这个值设为 1 来保证每次只有一个slave 处于不能处理命令请求的状态。\n# sentinel parallel-syncs <master-name> <numslaves>\nsentinel parallel-syncs mymaster 1\n \n \n \n# 故障转移的超时时间 failover-timeout 可以用在以下这些方面： \n#1. 同一个sentinel对同一个master两次failover之间的间隔时间。\n#2. 当一个slave从一个错误的master那里同步数据开始计算时间。直到slave被纠正为向正确的master那里同步数据时。\n#3.当想要取消一个正在进行的failover所需要的时间。  \n#4.当进行failover时，配置所有slaves指向新的master所需的最大时间。不过，即使过了这个超时，slaves依然会被正确配置为指向master，但是就不按parallel-syncs所配置的规则来了\n# 默认三分钟\n# sentinel failover-timeout <master-name> <milliseconds>\nsentinel failover-timeout mymaster 180000\n \n# SCRIPTS EXECUTION\n \n#配置当某一事件发生时所需要执行的脚本，可以通过脚本来通知管理员，例如当系统运行不正常时发邮件通知相关人员。\n#对于脚本的运行结果有以下规则：\n#若脚本执行后返回1，那么该脚本稍后将会被再次执行，重复次数目前默认为10\n#若脚本执行后返回2，或者比2更高的一个返回值，脚本将不会重复执行。\n#如果脚本在执行过程中由于收到系统中断信号被终止了，则同返回值为1时的行为相同。\n#一个脚本的最大执行时间为60s，如果超过这个时间，脚本将会被一个SIGKILL信号终止，之后重新执行。\n \n#通知型脚本:当sentinel有任何警告级别的事件发生时（比如说redis实例的主观失效和客观失效等等），将会去调用这个脚本，\n#这时这个脚本应该通过邮件，SMS等方式去通知系统管理员关于系统不正常运行的信息。调用该脚本时，将传给脚本两个参数，\n#一个是事件的类型，\n#一个是事件的描述。\n#如果sentinel.conf配置文件中配置了这个脚本路径，那么必须保证这个脚本存在于这个路径，并且是可执行的，否则sentinel无法正常启动成功。\n#通知脚本\n# sentinel notification-script <master-name> <script-path>\n  sentinel notification-script mymaster /var/redis/notify.sh\n \n# 客户端重新配置主节点参数脚本\n# 当一个master由于failover而发生改变时，这个脚本将会被调用，通知相关的客户端关于master地址已经发生改变的信息。\n# 以下参数将会在调用脚本时传给脚本:\n# <master-name> <role> <state> <from-ip> <from-port> <to-ip> <to-port>\n# 目前<state>总是“failover”,\n# <role>是“leader”或者“observer”中的一个。 \n# 参数 from-ip, from-port, to-ip, to-port是用来和旧的master和新的master(即旧的slave)通信的\n# 这个脚本应该是通用的，能被多次调用，不是针对性的。\n# sentinel client-reconfig-script <master-name> <script-path>\nsentinel client-reconfig-script mymaster /var/redis/reconfig.sh\n```\n\n\n<a name=\"1b8920bd\"></a>\n## 十六、缓存穿透与雪崩\n\n\n<a name=\"d9526f37\"></a>\n### 缓存穿透（查不到）\n\n\n> 概念\n\n\n<br />在默认情况下，用户请求数据时，会先在缓存(Redis)中查找，若没找到即缓存未命中，再在数据库中进行查找，数量少可能问题不大，可是一旦大量的请求数据（例如秒杀场景）缓存都没有命中的话，就会全部转移到数据库上，造成数据库极大的压力，就有可能导致数据库崩溃。网络安全中也有人恶意使用这种手段进行攻击被称为洪水攻击。<br />\n\n> 解决方案\n\n\n<br />**布隆过滤器**<br />\n<br />对所有可能查询的参数以Hash的形式存储，以便快速确定是否存在这个值，在控制层先进行拦截校验，校验不通过直接打回，减轻了存储系统的压力。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215824722.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=UaX6n&originHeight=416&originWidth=342&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />**缓存空对象**<br />\n<br />一次请求若在缓存和数据库中都没找到，就在缓存中方一个空对象用于处理后续这个请求。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215836317.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=kwSAl&originHeight=610&originWidth=573&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />这样做有一个缺陷：存储空对象也需要空间，大量的空对象会耗费一定的空间，存储效率并不高。解决这个缺陷的方式就是设置较短过期时间<br />\n<br />即使对空值设置了过期时间，还是会存在缓存层和存储层的数据会有一段时间窗口的不一致，这对于需要保持一致性的业务会有影响。<br />\n\n<a name=\"1f3d8099\"></a>\n### 缓存击穿（量太大，缓存过期）\n\n\n> 概念\n\n\n<br />相较于缓存穿透，缓存击穿的目的性更强，一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB，造成瞬时DB请求量大、压力骤增。这就是缓存被击穿，只是针对其中某个key的缓存不可用而导致击穿，但是其他的key依然可以使用缓存响应。<br />\n<br />比如热搜排行上，一个热点新闻被同时大量访问就可能导致缓存击穿。<br />\n\n> 解决方案\n\n\n\n1.  **设置热点数据永不过期**<br />这样就不会出现热点数据过期的情况，但是当Redis内存空间满的时候也会清理部分数据，而且此种方案会占用空间，一旦热点数据多了起来，就会占用部分空间。 \n2.  **加互斥锁(分布式锁)**<br />在访问key之前，采用SETNX（set if not exists）来设置另一个短期key来锁住当前key的访问，访问结束再删除该短期key。保证同时刻只有一个线程访问。这样对锁的要求就十分高。 \n\n\n\n<a name=\"b901facc\"></a>\n### 缓存雪崩\n\n\n> 概念\n\n\n<br />大量的key设置了相同的过期时间，导致在缓存在同一时刻全部失效，造成瞬时DB请求量大、压力骤增，引起雪崩。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215850428.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#id=m7I1r&originHeight=385&originWidth=636&originalType=binary&ratio=1&status=done&style=none)<br />\n\n> 解决方案\n\n\n\n-  redis高可用<br />这个思想的含义是，既然redis有可能挂掉，那我多增设几台redis，这样一台挂掉之后其他的还可以继续工作，其实就是搭建的集群 \n-  限流降级<br />这个解决方案的思想是，在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。 \n-  数据预热<br />数据加热的含义就是在正式部署之前，我先把可能的数据先预先访问一遍，这样部分可能大量访问的数据就会加载到缓存中。在即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。 \n",
    "body_draft": "<a name=\"aee055fc\"></a>\n## 一、Nosql概述\n\n\n<a name=\"ab7557ae\"></a>\n### 为什么使用Nosql\n\n\n> 1、单机Mysql时代\n\n\n<br />![](https://img-blog.csdnimg.cn/2020082010365930.png#pic_center#align=left&display=inline&height=113&id=wIDA6&margin=%5Bobject%20Object%5D&originHeight=113&originWidth=611&status=done&style=none&width=611)<br />\n<br />90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题<br />\n\n1. 数据量增加到一定程度，单机数据库就放不下了\n2. 数据的索引（B+ Tree）,一个机器内存也存放不下\n3. 访问量变大后（读写混合），一台服务器承受不住。\n\n\n\n> 2、Memcached(缓存) + Mysql + 垂直拆分（读写分离）\n\n\n<br />网站80%的情况都是在读，每次都要去查询数据库的话就十分的麻烦！所以说我们希望减轻数据库的压力，我们可以使用缓存来保证效率！<br />\n<br />![](https://img-blog.csdnimg.cn/20200820103713734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=313&id=EYshd&margin=%5Bobject%20Object%5D&originHeight=313&originWidth=614&status=done&style=none&width=614)<br />\n<br />优化过程经历了以下几个过程：<br />\n\n1. 优化数据库的数据结构和索引(难度大)\n2. 文件缓存，通过IO流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO流也承受不了\n3. MemCache,当时最热门的技术，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升。\n\n\n\n> 3、分库分表 + 水平拆分 + Mysql集群\n\n\n<br />![](https://img-blog.csdnimg.cn/20200820103739584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=503&id=IV2zO&margin=%5Bobject%20Object%5D&originHeight=503&originWidth=622&status=done&style=none&width=622)<br />\n\n> 4、如今最近的年代\n\n\n<br />如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等），大数据的背景下关系型数据库（RDBMS）无法满足大量数据要求。Nosql数据库就能轻松解决这些问题。<br />\n\n> 目前一个基本的互联网项目\n\n\n<br />![](https://img-blog.csdnimg.cn/20200820103804572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=516&id=dByAg&margin=%5Bobject%20Object%5D&originHeight=516&originWidth=1131&status=done&style=none&width=1131)<br />\n\n> 为什么要用NoSQL ？\n\n\n<br />用户的个人信息，社交网络，地理位置。用户自己产生的数据，用户日志等等爆发式增长！<br />这时候我们就需要使用NoSQL数据库的，Nosql可以很好的处理以上的情况！<br />\n\n<a name=\"c94eeebb\"></a>\n### 什么是Nosql\n\n<br />**NoSQL = Not Only SQL（不仅仅是SQL）**<br />\n<br />Not Only Structured Query Language<br />\n<br />关系型数据库：列+行，同一个表下数据的结构是一样的。<br />\n<br />非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展。<br />\n<br />NoSQL泛指非关系型数据库，随着web2.0互联网的诞生，传统的关系型数据库很难对付web2.0时代！尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，Redis是发展最快的。<br />\n\n<a name=\"9b16b018\"></a>\n### Nosql特点\n\n\n1.  方便扩展（数据之间没有关系，很好扩展！） \n2.  大数据量高性能（Redis一秒可以写8万次，读11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能会比较高！） \n3.  数据类型是多样型的！（不需要事先设计数据库，随取随用） \n4.  传统的 RDBMS 和 NoSQL   \n```\n传统的 RDBMS(关系型数据库)\n- 结构化组织\n- SQL\n- 数据和关系都存在单独的表中 row col\n- 操作，数据定义语言\n- 严格的一致性\n- 基础的事务\n- ...\n```\n```\nNosql\n- 不仅仅是数据\n- 没有固定的查询语言\n- 键值对存储，列存储，文档存储，图形数据库（社交关系）\n- 最终一致性\n- CAP定理和BASE\n- 高性能，高可用，高扩展\n- ...\n```\n\n\n> 了解：3V + 3高\n\n\n<br />大数据时代的3V ：主要是**描述问题**的<br />\n\n1. 海量Velume\n2. 多样Variety\n3. 实时Velocity\n\n\n<br />大数据时代的3高 ： 主要是**对程序的要求**<br />\n\n1. 高并发\n2. 高可扩\n3. 高性能\n\n\n<br />真正在公司中的实践：NoSQL + RDBMS 一起使用才是最强的。<br />\n\n<a name=\"e8a7ba20\"></a>\n### 阿里巴巴演进分析\n\n<br />推荐阅读：阿里云的这群疯子https://yq.aliyun.com/articles/653511<br />\n<br />![](https://img-blog.csdnimg.cn/20200820103829446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=813&id=MeOWA&margin=%5Bobject%20Object%5D&originHeight=813&originWidth=1056&status=done&style=none&width=1056)<br />\n<br />![](https://img-blog.csdnimg.cn/20200820103851613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=836&id=H4zN8&margin=%5Bobject%20Object%5D&originHeight=836&originWidth=1130&status=done&style=none&width=1130)<br />\n\n```bash\n# 商品信息\n- 一般存放在关系型数据库：Mysql,阿里巴巴使用的Mysql都是经过内部改动的。\n\n# 商品描述、评论(文字居多)\n- 文档型数据库：MongoDB\n\n# 图片\n- 分布式文件系统 FastDFS\n- 淘宝：TFS\n- Google: GFS\n- Hadoop: HDFS\n- 阿里云: oss\n\n# 商品关键字 用于搜索\n- 搜索引擎：solr,elasticsearch\n- 阿里：Isearch 多隆\n\n# 商品热门的波段信息\n- 内存数据库：Redis，Memcache\n\n# 商品交易，外部支付接口\n- 第三方应用\n```\n\n\n<a name=\"8c18f413\"></a>\n### Nosql的四大分类\n\n\n> **KV键值对**\n\n\n\n- 新浪：**Redis**\n- 美团：Redis + Tair\n- 阿里、百度：Redis + Memcache\n\n\n\n> **文档型数据库（bson数据格式）：**\n\n\n\n- **MongoDB**(掌握) \n   - 基于分布式文件存储的数据库。C++编写，用于处理大量文档。\n   - MongoDB是RDBMS和NoSQL的中间产品。MongoDB是非关系型数据库中功能最丰富的，NoSQL中最像关系型数据库的数据库。\n\n \n\n- ConthDB\n\n\n\n> **列存储数据库**\n\n\n\n- **HBase**(大数据必学)\n- 分布式文件系统\n\n\n\n> **图关系数据库**\n\n\n<br />用于广告推荐，社交网络<br />\n\n- **Neo4j**、InfoGrid\n| **分类** | **Examples举例** | **典型应用场景** | **数据模型** | **优点** | **缺点** |\n| --- | --- | --- | --- | --- | --- |\n| **键值对（key-value）** | Tokyo Cabinet/Tyrant, Redis, Voldemort, Oracle BDB | 内容缓存，主要用于处理大量数据的高访问负载，也用于一些日志系统等等。 | Key 指向 Value 的键值对，通常用hash table来实现 | 查找速度快 | 数据无结构化，通常只被当作字符串或者二进制数据 |\n| **列存储数据库** | Cassandra, HBase, Riak | 分布式的文件系统 | 以列簇式存储，将同一列数据存在一起 | 查找速度快，可扩展性强，更容易进行分布式扩展 | 功能相对局限 |\n| **文档型数据库** | CouchDB, MongoDb | Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容） | Key-Value对应的键值对，Value为结构化数据 | 数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构 | 查询性能不高，而且缺乏统一的查询语法。 |\n| **图形(Graph)数据库** | Neo4J, InfoGrid, Infinite Graph | 社交网络，推荐系统等。专注于构建关系图谱 | 图结构 | 利用图结构相关算法。比如最短路径寻址，N度关系查找等 | 很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群 |\n\n\n\n<a name=\"98812eda\"></a>\n## 二、Redis入门\n\n\n<a name=\"a4d3b02a\"></a>\n### 概述\n\n\n> Redis是什么？\n\n\n<br />Redis（Remote Dictionary Server )，即远程字典服务。<br />\n<br />是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、**Key-Value数据库**，并提供多种语言的API。<br />\n<br />与memcached一样，为了保证效率，**数据都是缓存在内存中**。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。<br />\n\n> Redis能该干什么？\n\n\n\n1. 内存存储、持久化，内存是断电即失的，所以需要持久化（RDB、AOF）\n2. 高效率、用于高速缓冲\n3. 发布订阅系统\n4. 地图信息分析\n5. 计时器、计数器(eg：浏览量)\n6. 。。。\n\n\n\n> 特性\n\n\n\n1.  多样的数据类型 \n2.  持久化 \n3.  集群 \n4.  事务<br />… \n\n\n\n<a name=\"8a887b45\"></a>\n### 环境搭建\n\n<br />官网：[https://redis.io/](https://redis.io/)<br />\n<br />推荐使用Linux服务器学习。<br />\n<br />windows版本的Redis已经停更很久了…<br />\n\n<a name=\"7d834b8c\"></a>\n### Windows安装\n\n<br />[https://github.com/dmajkic/redis](https://github.com/dmajkic/redis)<br />\n\n1. 解压安装包<br />![](https://img-blog.csdnimg.cn/20200820103922318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=637&id=qRico&margin=%5Bobject%20Object%5D&originHeight=637&originWidth=1103&status=done&style=none&width=1103)\n2. 开启redis-server.exe\n3. 启动redis-cli.exe测试![](https://img-blog.csdnimg.cn/20200820103950934.png#pic_center#align=left&display=inline&height=198&id=KF0w6&margin=%5Bobject%20Object%5D&originHeight=198&originWidth=1062&status=done&style=none&width=1062)\n\n\n\n<a name=\"f1a36f58\"></a>\n### Linux安装\n\n\n1.  下载安装包！`redis-5.0.8.tar.gz` \n2.  解压Redis的安装包！程序一般放在 `/opt` 目录下<br />![](https://img-blog.csdnimg.cn/20200820104016426.png#pic_center#align=left&display=inline&height=155&id=GiTUS&margin=%5Bobject%20Object%5D&originHeight=155&originWidth=1006&status=done&style=none&width=1006) \n3.  基本环境安装  \n```bash\nyum install gcc-c++\n# 然后进入redis目录下执行\nmake\n# 然后执行\nmake install\n```\n\n<br />![](https://img-blog.csdnimg.cn/20200820104048327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=579&id=DfA3r&margin=%5Bobject%20Object%5D&originHeight=579&originWidth=1085&status=done&style=none&width=1085)<br />\n\n1.  redis默认安装路径 `/usr/local/bin`![](https://img-blog.csdnimg.cn/20200820104140692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=315&id=Fjg8x&margin=%5Bobject%20Object%5D&originHeight=315&originWidth=1098&status=done&style=none&width=1098) \n2.  将redis的配置文件复制到 程序安装目录 `/usr/local/bin/kconfig`下<br />![](https://img-blog.csdnimg.cn/20200820104157817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=223&id=tn1ls&margin=%5Bobject%20Object%5D&originHeight=223&originWidth=1102&status=done&style=none&width=1102) \n3.  redis默认不是后台启动的，需要修改配置文件！<br />![](https://img-blog.csdnimg.cn/20200820104213706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=354&id=bjxOb&margin=%5Bobject%20Object%5D&originHeight=354&originWidth=1088&status=done&style=none&width=1088) \n4.  通过制定的配置文件启动redis服务<br />![](https://img-blog.csdnimg.cn/20200820104228556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=255&id=Cyr4o&margin=%5Bobject%20Object%5D&originHeight=255&originWidth=1101&status=done&style=none&width=1101) \n5.  使用redis-cli连接指定的端口号测试，Redis的默认端口6379<br />![](https://img-blog.csdnimg.cn/20200820104243223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=421&id=Xywd7&margin=%5Bobject%20Object%5D&originHeight=421&originWidth=986&status=done&style=none&width=986) \n6.  查看redis进程是否开启<br />![](https://img-blog.csdnimg.cn/20200820104300532.png#pic_center#align=left&display=inline&height=176&id=FHs8K&margin=%5Bobject%20Object%5D&originHeight=176&originWidth=1102&status=done&style=none&width=1102) \n7.  关闭Redis服务 `shutdown`<br />![](https://img-blog.csdnimg.cn/20200820104314297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=207&id=m0hEK&margin=%5Bobject%20Object%5D&originHeight=207&originWidth=1102&status=done&style=none&width=1102) \n8.  再次查看进程是否存在 \n9.  后面我们会使用单机多Redis启动集群测试 \n\n\n\n<a name=\"cb1df365\"></a>\n### 测试性能\n\n<br />**redis-benchmark：**Redis官方提供的性能测试工具，参数选项如下：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214125892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=641&id=p6S7R&margin=%5Bobject%20Object%5D&originHeight=641&originWidth=746&status=done&style=none&width=746)<br />\n<br />**简单测试：**<br />\n\n```bash\n# 测试：100个并发连接 100000请求\nredis-benchmark -h localhost -p 6379 -c 100 -n 100000\n12\n```\n\n<br />![](https://img-blog.csdnimg.cn/20200820104343472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=319&id=gSOzi&margin=%5Bobject%20Object%5D&originHeight=319&originWidth=1124&status=done&style=none&width=1124)<br />\n\n<a name=\"8453e91e\"></a>\n### 基础知识\n\n\n> redis默认有16个数据库\n\n\n<br />![](https://img-blog.csdnimg.cn/20200820104357466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=282&id=OtCTa&margin=%5Bobject%20Object%5D&originHeight=282&originWidth=1116&status=done&style=none&width=1116)<br />\n<br />默认使用的第0个;<br />\n<br />16个数据库为：DB 0~DB 15<br />默认使用DB 0 ，可以使用`select n`切换到DB n，`dbsize`可以查看当前数据库的大小，与key数量相关。<br />\n\n```bash\n127.0.0.1:6379> config get databases # 命令行查看数据库数量databases\n1) \"databases\"\n2) \"16\"\n\n127.0.0.1:6379> select 8 # 切换数据库 DB 8\nOK\n127.0.0.1:6379[8]> dbsize # 查看数据库大小\n(integer) 0\n\n# 不同数据库之间 数据是不能互通的，并且dbsize 是根据库中key的个数。\n127.0.0.1:6379> set name sakura \nOK\n127.0.0.1:6379> SELECT 8\nOK\n127.0.0.1:6379[8]> get name # db8中并不能获取db0中的键值对。\n(nil)\n127.0.0.1:6379[8]> DBSIZE\n(integer) 0\n127.0.0.1:6379[8]> SELECT 0\nOK\n127.0.0.1:6379> keys *\n1) \"counter:__rand_int__\"\n2) \"mylist\"\n3) \"name\"\n4) \"key:__rand_int__\"\n5) \"myset:__rand_int__\"\n127.0.0.1:6379> DBSIZE # size和key个数相关\n(integer) 5\n```\n\n<br />`keys *` ：查看当前数据库中所有的key。<br />\n<br />`flushdb`：清空当前数据库中的键值对。<br />\n<br />`flushall`：清空所有数据库的键值对。<br />\n\n> **Redis是单线程的，Redis是基于内存操作的。**\n\n\n<br />所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。<br />\n<br />那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+<br />\n\n> **Redis为什么单线程还这么快？**\n\n\n\n- 误区1：高性能的服务器一定是多线程的？\n- 误区2：多线程（CPU上下文会切换！）一定比单线程效率高！\n\n\n<br />核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。<br />\n\n<a name=\"b9ae2c5c\"></a>\n## 三、五大数据类型\n\n<br />Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作**数据库**，**高速缓存**和**消息队列代理**。它支持[字符串](https://www.redis.net.cn/tutorial/3508.html)、[哈希表](https://www.redis.net.cn/tutorial/3509.html)、[列表](https://www.redis.net.cn/tutorial/3510.html)、[集合](https://www.redis.net.cn/tutorial/3511.html)、[有序集合](https://www.redis.net.cn/tutorial/3512.html)，[位图](https://www.redis.net.cn/tutorial/3508.html)，[hyperloglogs](https://www.redis.net.cn/tutorial/3513.html)等数据类型。内置复制、[Lua脚本](https://www.redis.net.cn/tutorial/3516.html)、LRU收回、[事务](https://www.redis.net.cn/tutorial/3515.html)以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动[分区](https://www.redis.net.cn/tutorial/3524.html)。<br />\n\n<a name=\"Redis-key\"></a>\n### Redis-key\n\n\n> 在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。\n\n\n<br />下面学习的命令：<br />\n\n- `exists key`：判断键是否存在\n- `del key`：删除键值对\n- `move key db`：将键值对移动到指定数据库\n- `expire key second`：设置键值对的过期时间\n- `type key`：查看value的数据类型\n\n\n\n```bash\n127.0.0.1:6379> keys * # 查看当前数据库所有key\n(empty list or set)\n127.0.0.1:6379> set name qinjiang # set key\nOK\n127.0.0.1:6379> set age 20\nOK\n127.0.0.1:6379> keys *\n1) \"age\"\n2) \"name\"\n127.0.0.1:6379> move age 1 # 将键值对移动到指定数据库\n(integer) 1\n127.0.0.1:6379> EXISTS age # 判断键是否存在\n(integer) 0 # 不存在\n127.0.0.1:6379> EXISTS name\n(integer) 1 # 存在\n127.0.0.1:6379> SELECT 1\nOK\n127.0.0.1:6379[1]> keys *\n1) \"age\"\n127.0.0.1:6379[1]> del age # 删除键值对\n(integer) 1 # 删除个数\n\n\n127.0.0.1:6379> set age 20\nOK\n127.0.0.1:6379> EXPIRE age 15 # 设置键值对的过期时间\n\n(integer) 1 # 设置成功 开始计数\n127.0.0.1:6379> ttl age # 查看key的过期剩余时间\n(integer) 13\n127.0.0.1:6379> ttl age\n(integer) 11\n127.0.0.1:6379> ttl age\n(integer) 9\n127.0.0.1:6379> ttl age\n(integer) -2 # -2 表示key过期，-1表示key未设置过期时间\n\n127.0.0.1:6379> get age # 过期的key 会被自动delete\n(nil)\n127.0.0.1:6379> keys *\n1) \"name\"\n\n127.0.0.1:6379> type name # 查看value的数据类型\nstring\n```\n\n<br />关于`TTL`命令<br />\n<br />Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：<br />\n\n1. 当前key没有设置过期时间，所以会返回-1.\n2. 当前key有设置过期时间，而且key已经过期，所以会返回-2.\n3. 当前key有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.\n\n\n<br />关于重命名`RENAME`和`RENAMENX`<br />\n\n- `RENAME key newkey`修改 key 的名称\n- `RENAMENX key newkey`仅当 newkey 不存在时，将 key 改名为 newkey 。\n\n\n<br />更多命令学习：[https://www.redis.net.cn/order/](https://www.redis.net.cn/order/)<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wBVZtGVm-1597890996517)(狂神说 Redis.assets/image-20200813114228439.png)]<br />\n\n<a name=\"dab38aa6\"></a>\n### String(字符串)\n\n<br />普通的set、get直接略过。\n\n| 命令 | 描述 | 示例 |\n| --- | --- | --- |\n| `APPEND key value` | 向指定的key的value后追加字符串 | 127.0.0.1:6379> set msg hello OK 127.0.0.1:6379> append msg \" world\" (integer) 11 127.0.0.1:6379> get msg “hello world” |\n| `DECR/INCR key` | 将指定key的value数值进行+1/-1(仅对于数字) | 127.0.0.1:6379> set age 20 OK 127.0.0.1:6379> incr age (integer) 21 127.0.0.1:6379> decr age (integer) 20 |\n| `INCRBY/DECRBY key n` | 按指定的步长对数值进行加减 | 127.0.0.1:6379> INCRBY age 5 (integer) 25 127.0.0.1:6379> DECRBY age 10 (integer) 15 |\n| `INCRBYFLOAT key n` | 为数值加上浮点型数值 | 127.0.0.1:6379> INCRBYFLOAT age 5.2 “20.2” |\n| `STRLEN key` | 获取key保存值的字符串长度 | 127.0.0.1:6379> get msg “hello world” 127.0.0.1:6379> STRLEN msg (integer) 11 |\n| `GETRANGE key start end` | 按起止位置获取字符串（闭区间，起止位置都取） | 127.0.0.1:6379> get msg “hello world” 127.0.0.1:6379> GETRANGE msg 3 9 “lo worl” |\n| `SETRANGE key offset value` | 用指定的value 替换key中 offset开始的值 | 127.0.0.1:6379> SETRANGE msg 2 hello (integer) 7 127.0.0.1:6379> get msg “tehello” |\n| `GETSET key value` | 将给定 key 的值设为 value ，并返回 key 的旧值(old value)。 | 127.0.0.1:6379> GETSET msg test “hello world” |\n| `SETNX key value` | 仅当key不存在时进行set | 127.0.0.1:6379> SETNX msg test (integer) 0 127.0.0.1:6379> SETNX name sakura (integer) 1 |\n| `SETEX key seconds value` | set 键值对并设置过期时间 | 127.0.0.1:6379> setex name 10 root OK 127.0.0.1:6379> get name (nil) |\n| `MSET key1 value1 [key2 value2..]` | 批量set键值对 | 127.0.0.1:6379> MSET k1 v1 k2 v2 k3 v3 OK |\n| `MSETNX key1 value1 [key2 value2..]` | 批量设置键值对，仅当参数中所有的key都不存在时执行 | 127.0.0.1:6379> MSETNX k1 v1 k4 v4 (integer) 0 |\n| `MGET key1 [key2..]` | 批量获取多个key保存的值 | 127.0.0.1:6379> MGET k1 k2 k3 1) “v1” 2) “v2” 3) “v3” |\n| `PSETEX key milliseconds value` | 和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间， |  |\n| `getset key value` | 如果不存在值，则返回nil，如果存在值，获取原来的值，并设置新的值 |  |\n\n\n<br />String类似的使用场景：value除了是字符串还可以是数字，用途举例：<br />\n\n- 计数器\n- 统计多单位的数量：uid:123666：follow 0\n- 粉丝数\n- 对象存储缓存\n\n\n\n<a name=\"285a2314\"></a>\n### List(列表)\n\n\n> Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）\n>  \n> 一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。\n\n\n<br />首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等<br />\n<br />![](https://img-blog.csdnimg.cn/20200820104440398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center#align=left&display=inline&height=306&id=XKZ67&margin=%5Bobject%20Object%5D&originHeight=306&originWidth=1119&status=done&style=none&width=1119)<br />\n<br />正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN\n\n| 命令 | 描述 |\n| --- | --- |\n| `LPUSH/RPUSH key value1[value2..]` | 从左边/右边向列表中PUSH值(一个或者多个)。 |\n| `LRANGE key start end` | 获取list 起止元素==（索引从左往右 递增）== |\n| `LPUSHX/RPUSHX key value` | 向已存在的列名中push值（一个或者多个） |\n| `LINSERT key BEFORE|AFTER pivot value` | 在指定列表元素的前/后 插入value |\n| `LLEN key` | 查看列表长度 |\n| `LINDEX key index` | 通过索引获取列表元素 |\n| `LSET key index value` | 通过索引为元素设值 |\n| `LPOP/RPOP key` | 从最左边/最右边移除值 并返回 |\n| `RPOPLPUSH source destination` | 将列表的尾部(右)最后一个值弹出，并返回，然后加到另一个列表的头部 |\n| `LTRIM key start end` | 通过下标截取指定范围内的列表 |\n| `LREM key count value` | List中是允许value重复的 `count > 0`<br />：从头部开始搜索 然后删除指定的value 至多删除count个 `count < 0`<br />：从尾部开始搜索… `count = 0`<br />：删除列表中所有的指定value。 |\n| `BLPOP/BRPOP key1[key2] timout` | 移出并获取列表的第一个/最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。 |\n| `BRPOPLPUSH source destination timeout` | 和`RPOPLPUSH`<br />功能相同，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。 |\n\n\n\n```bash\n---------------------------LPUSH---RPUSH---LRANGE--------------------------------\n\n127.0.0.1:6379> LPUSH mylist k1 # LPUSH mylist=>{1}\n(integer) 1\n127.0.0.1:6379> LPUSH mylist k2 # LPUSH mylist=>{2,1}\n(integer) 2\n127.0.0.1:6379> RPUSH mylist k3 # RPUSH mylist=>{2,1,3}\n(integer) 3\n127.0.0.1:6379> get mylist # 普通的get是无法获取list值的\n(error) WRONGTYPE Operation against a key holding the wrong kind of value\n127.0.0.1:6379> LRANGE mylist 0 4 # LRANGE 获取起止位置范围内的元素\n1) \"k2\"\n2) \"k1\"\n3) \"k3\"\n127.0.0.1:6379> LRANGE mylist 0 2\n1) \"k2\"\n2) \"k1\"\n3) \"k3\"\n127.0.0.1:6379> LRANGE mylist 0 1\n1) \"k2\"\n2) \"k1\"\n127.0.0.1:6379> LRANGE mylist 0 -1 # 获取全部元素\n1) \"k2\"\n2) \"k1\"\n3) \"k3\"\n\n---------------------------LPUSHX---RPUSHX-----------------------------------\n\n127.0.0.1:6379> LPUSHX list v1 # list不存在 LPUSHX失败\n(integer) 0\n127.0.0.1:6379> LPUSHX list v1 v2  \n(integer) 0\n127.0.0.1:6379> LPUSHX mylist k4 k5 # 向mylist中 左边 PUSH k4 k5\n(integer) 5\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k5\"\n2) \"k4\"\n3) \"k2\"\n4) \"k1\"\n5) \"k3\"\n\n---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------\n\n127.0.0.1:6379> LINSERT mylist after k2 ins_key1 # 在k2元素后 插入ins_key1\n(integer) 6\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k5\"\n2) \"k4\"\n3) \"k2\"\n4) \"ins_key1\"\n5) \"k1\"\n6) \"k3\"\n127.0.0.1:6379> LLEN mylist # 查看mylist的长度\n(integer) 6\n127.0.0.1:6379> LINDEX mylist 3 # 获取下标为3的元素\n\"ins_key1\"\n127.0.0.1:6379> LINDEX mylist 0\n\"k5\"\n127.0.0.1:6379> LSET mylist 3 k6 # 将下标3的元素 set值为k6\nOK\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k5\"\n2) \"k4\"\n3) \"k2\"\n4) \"k6\"\n5) \"k1\"\n6) \"k3\"\n\n---------------------------LPOP--RPOP--------------------------\n\n127.0.0.1:6379> LPOP mylist # 左侧(头部)弹出\n\"k5\"\n127.0.0.1:6379> RPOP mylist # 右侧(尾部)弹出\n\"k3\"\n\n---------------------------RPOPLPUSH--------------------------\n\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k4\"\n2) \"k2\"\n3) \"k6\"\n4) \"k1\"\n127.0.0.1:6379> RPOPLPUSH mylist newlist # 将mylist的最后一个值(k1)弹出，加入到newlist的头部\n\"k1\"\n127.0.0.1:6379> LRANGE newlist 0 -1\n1) \"k1\"\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k4\"\n2) \"k2\"\n3) \"k6\"\n\n---------------------------LTRIM--------------------------\n\n127.0.0.1:6379> LTRIM mylist 0 1 # 截取mylist中的 0~1部分\nOK\n127.0.0.1:6379> LRANGE mylist 0 -1\n1) \"k4\"\n2) \"k2\"\n\n# 初始 mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2\n---------------------------LREM--------------------------\n\n127.0.0.1:6379> LREM mylist 3 k2 # 从头部开始搜索 至多删除3个 k2\n(integer) 3\n# 删除后：mylist: k2,k2,k2,k4,k2,k2,k2,k2\n\n127.0.0.1:6379> LREM mylist -2 k2 #从尾部开始搜索 至多删除2个 k2\n(integer) 2\n# 删除后：mylist: k2,k2,k2,k4,k2,k2\n\n\n---------------------------BLPOP--BRPOP--------------------------\n\nmylist: k2,k2,k2,k4,k2,k2\nnewlist: k1\n\n127.0.0.1:6379> BLPOP newlist mylist 30 # 从newlist中弹出第一个值，mylist作为候选\n1) \"newlist\" # 弹出\n2) \"k1\"\n127.0.0.1:6379> BLPOP newlist mylist 30\n1) \"mylist\" # 由于newlist空了 从mylist中弹出\n2) \"k2\"\n127.0.0.1:6379> BLPOP newlist 30\n(30.10s) # 超时了\n\n127.0.0.1:6379> BLPOP newlist 30 # 我们连接另一个客户端向newlist中push了test, 阻塞被解决。\n1) \"newlist\"\n2) \"test\"\n(12.54s)\n```\n\n\n> 小结\n\n\n\n- list实际上是一个链表，before Node after , left, right 都可以插入值\n- **如果key不存在，则创建新的链表**\n- 如果key存在，新增内容\n- 如果移除了所有值，空链表，也代表不存在\n- 在两边插入或者改动值，效率最高！修改中间元素，效率相对较低\n\n\n<br />**应用：**<br />\n<br />**消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）**<br />\n\n<a name=\"5b4368f5\"></a>\n### Set(集合)\n\n\n> Redis的Set是**string类型**的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。\n>  \n> Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。\n>  \n> 集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。\n\n| 命令 | 描述 |\n| --- | --- |\n| `SADD key member1[member2..]` | 向集合中无序增加一个/多个成员 |\n| `SCARD key` | 获取集合的成员数 |\n| `SMEMBERS key` | 返回集合中所有的成员 |\n| `SISMEMBER key member` | 查询member元素是否是集合的成员,结果是无序的 |\n| `SRANDMEMBER key [count]` | 随机返回集合中count个成员，count缺省值为1 |\n| `SPOP key [count]` | 随机移除并返回集合中count个成员，count缺省值为1 |\n| `SMOVE source destination member` | 将source集合的成员member移动到destination集合 |\n| `SREM key member1[member2..]` | 移除集合中一个/多个成员 |\n| `SDIFF key1[key2..]` | 返回所有集合的差集 key1- key2 - … |\n| `SDIFFSTORE destination key1[key2..]` | 在SDIFF的基础上，将结果保存到集合中==(覆盖)==。不能保存到其他类型key噢！ |\n| `SINTER key1 [key2..]` | 返回所有集合的交集 |\n| `SINTERSTORE destination key1[key2..]` | 在SINTER的基础上，存储结果到集合中。覆盖 |\n| `SUNION key1 [key2..]` | 返回所有集合的并集 |\n| `SUNIONSTORE destination key1 [key2..]` | 在SUNION的基础上，存储结果到及和张。覆盖 |\n| `SSCAN KEY [MATCH pattern] [COUNT count]` | 在大量数据环境下，使用此命令遍历集合中元素，每次遍历部分 |\n\n\n\n```bash\n---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------\n\n127.0.0.1:6379> SADD myset m1 m2 m3 m4 # 向myset中增加成员 m1~m4\n(integer) 4\n127.0.0.1:6379> SCARD myset # 获取集合的成员数目\n(integer) 4\n127.0.0.1:6379> smembers myset # 获取集合中所有成员\n1) \"m4\"\n2) \"m3\"\n3) \"m2\"\n4) \"m1\"\n127.0.0.1:6379> SISMEMBER myset m5 # 查询m5是否是myset的成员\n(integer) 0 # 不是，返回0\n127.0.0.1:6379> SISMEMBER myset m2\n(integer) 1 # 是，返回1\n127.0.0.1:6379> SISMEMBER myset m3\n(integer) 1\n\n---------------------SRANDMEMBER--SPOP----------------------------------\n\n127.0.0.1:6379> SRANDMEMBER myset 3 # 随机返回3个成员\n1) \"m2\"\n2) \"m3\"\n3) \"m4\"\n127.0.0.1:6379> SRANDMEMBER myset # 随机返回1个成员\n\"m3\"\n127.0.0.1:6379> SPOP myset 2 # 随机移除并返回2个成员\n1) \"m1\"\n2) \"m4\"\n# 将set还原到{m1,m2,m3,m4}\n\n---------------------SMOVE--SREM----------------------------------------\n\n127.0.0.1:6379> SMOVE myset newset m3 # 将myset中m3成员移动到newset集合\n(integer) 1\n127.0.0.1:6379> SMEMBERS myset\n1) \"m4\"\n2) \"m2\"\n3) \"m1\"\n127.0.0.1:6379> SMEMBERS newset\n1) \"m3\"\n127.0.0.1:6379> SREM newset m3 # 从newset中移除m3元素\n(integer) 1\n127.0.0.1:6379> SMEMBERS newset\n(empty list or set)\n\n# 下面开始是多集合操作,多集合操作中若只有一个参数默认和自身进行运算\n# setx=>{m1,m2,m4,m6}, sety=>{m2,m5,m6}, setz=>{m1,m3,m6}\n\n-----------------------------SDIFF------------------------------------\n\n127.0.0.1:6379> SDIFF setx sety setz # 等价于setx-sety-setz\n1) \"m4\"\n127.0.0.1:6379> SDIFF setx sety # setx - sety\n1) \"m4\"\n2) \"m1\"\n127.0.0.1:6379> SDIFF sety setx # sety - setx\n1) \"m5\"\n\n\n-------------------------SINTER---------------------------------------\n# 共同关注（交集）\n\n127.0.0.1:6379> SINTER setx sety setz # 求 setx、sety、setx的交集\n1) \"m6\"\n127.0.0.1:6379> SINTER setx sety # 求setx sety的交集\n1) \"m2\"\n2) \"m6\"\n\n-------------------------SUNION---------------------------------------\n\n127.0.0.1:6379> SUNION setx sety setz # setx sety setz的并集\n1) \"m4\"\n2) \"m6\"\n3) \"m3\"\n4) \"m2\"\n5) \"m1\"\n6) \"m5\"\n127.0.0.1:6379> SUNION setx sety # setx sety 并集\n1) \"m4\"\n2) \"m6\"\n3) \"m2\"\n4) \"m1\"\n5) \"m5\"\n```\n\n\n<a name=\"4f1ea94e\"></a>\n### Hash（哈希）\n\n\n> Redis hash 是一个string类型的field和value的映射表，hash特别适合用于存储对象。\n>  \n> Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。\n\n| 命令 | 描述 |\n| --- | --- |\n| `HSET key field value` | 将哈希表 key 中的字段 field 的值设为 value 。重复设置同一个field会覆盖,返回0 |\n| `HMSET key field1 value1 [field2 value2..]` | 同时将多个 field-value (域-值)对设置到哈希表 key 中。 |\n| `HSETNX key field value` | 只有在字段 field 不存在时，设置哈希表字段的值。 |\n| `HEXISTS key field` | 查看哈希表 key 中，指定的字段是否存在。 |\n| `HGET key field value` | 获取存储在哈希表中指定字段的值 |\n| `HMGET key field1 [field2..]` | 获取所有给定字段的值 |\n| `HGETALL key` | 获取在哈希表key 的所有字段和值 |\n| `HKEYS key` | 获取哈希表key中所有的字段 |\n| `HLEN key` | 获取哈希表中字段的数量 |\n| `HVALS key` | 获取哈希表中所有值 |\n| `HDEL key field1 [field2..]` | 删除哈希表key中一个/多个field字段 |\n| `HINCRBY key field n` | 为哈希表 key 中的指定字段的整数值加上增量n，并返回增量后结果 一样只适用于整数型字段 |\n| `HINCRBYFLOAT key field n` | 为哈希表 key 中的指定字段的浮点数值加上增量 n。 |\n| `HSCAN key cursor [MATCH pattern] [COUNT count]` | 迭代哈希表中的键值对。 |\n\n\n\n```bash\n------------------------HSET--HMSET--HSETNX----------------\n127.0.0.1:6379> HSET studentx name sakura # 将studentx哈希表作为一个对象，设置name为sakura\n(integer) 1\n127.0.0.1:6379> HSET studentx name gyc # 重复设置field进行覆盖，并返回0\n(integer) 0\n127.0.0.1:6379> HSET studentx age 20 # 设置studentx的age为20\n(integer) 1\n127.0.0.1:6379> HMSET studentx sex 1 tel 15623667886 # 设置sex为1，tel为15623667886\nOK\n127.0.0.1:6379> HSETNX studentx name gyc # HSETNX 设置已存在的field\n(integer) 0 # 失败\n127.0.0.1:6379> HSETNX studentx email 12345@qq.com\n(integer) 1 # 成功\n\n----------------------HEXISTS--------------------------------\n127.0.0.1:6379> HEXISTS studentx name # name字段在studentx中是否存在\n(integer) 1 # 存在\n127.0.0.1:6379> HEXISTS studentx addr\n(integer) 0 # 不存在\n\n-------------------HGET--HMGET--HGETALL-----------\n127.0.0.1:6379> HGET studentx name # 获取studentx中name字段的value\n\"gyc\"\n127.0.0.1:6379> HMGET studentx name age tel # 获取studentx中name、age、tel字段的value\n1) \"gyc\"\n2) \"20\"\n3) \"15623667886\"\n127.0.0.1:6379> HGETALL studentx # 获取studentx中所有的field及其value\n 1) \"name\"\n 2) \"gyc\"\n 3) \"age\"\n 4) \"20\"\n 5) \"sex\"\n 6) \"1\"\n 7) \"tel\"\n 8) \"15623667886\"\n 9) \"email\"\n10) \"12345@qq.com\"\n\n\n--------------------HKEYS--HLEN--HVALS--------------\n127.0.0.1:6379> HKEYS studentx # 查看studentx中所有的field\n1) \"name\"\n2) \"age\"\n3) \"sex\"\n4) \"tel\"\n5) \"email\"\n127.0.0.1:6379> HLEN studentx # 查看studentx中的字段数量\n(integer) 5\n127.0.0.1:6379> HVALS studentx # 查看studentx中所有的value\n1) \"gyc\"\n2) \"20\"\n3) \"1\"\n4) \"15623667886\"\n5) \"12345@qq.com\"\n\n-------------------------HDEL--------------------------\n127.0.0.1:6379> HDEL studentx sex tel # 删除studentx 中的sex、tel字段\n(integer) 2\n127.0.0.1:6379> HKEYS studentx\n1) \"name\"\n2) \"age\"\n3) \"email\"\n\n-------------HINCRBY--HINCRBYFLOAT------------------------\n127.0.0.1:6379> HINCRBY studentx age 1 # studentx的age字段数值+1\n(integer) 21\n127.0.0.1:6379> HINCRBY studentx name 1 # 非整数字型字段不可用\n(error) ERR hash value is not an integer\n127.0.0.1:6379> HINCRBYFLOAT studentx weight 0.6 # weight字段增加0.6\n\"90.8\"\n```\n\n<br />Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！**Hash更适合于对象的存储，Sring更加适合字符串存储！**<br />\n\n<a name=\"414c7e5f\"></a>\n### Zset（有序集合）\n\n\n> 不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。\n>  \n> score相同：按字典顺序排序\n>  \n> 有序集合的成员是唯一的,但分数(score)却可以重复。\n\n| 命令 | 描述 |\n| --- | --- |\n| `ZADD key score member1 [score2 member2]` | 向有序集合添加一个或多个成员，或者更新已存在成员的分数 |\n| `ZCARD key` | 获取有序集合的成员数 |\n| `ZCOUNT key min max` | 计算在有序集合中指定区间score的成员数 |\n| `ZINCRBY key n member` | 有序集合中对指定成员的分数加上增量 n |\n| `ZSCORE key member` | 返回有序集中，成员的分数值 |\n| `ZRANK key member` | 返回有序集合中指定成员的索引 |\n| `ZRANGE key start end` | 通过索引区间返回有序集合成指定区间内的成员 |\n| `ZRANGEBYLEX key min max` | 通过字典区间返回有序集合的成员 |\n| `ZRANGEBYSCORE key min max` | 通过分数返回有序集合指定区间内的成员==-inf 和 +inf分别表示最小最大值，只支持开区间()== |\n| `ZLEXCOUNT key min max` | 在有序集合中计算指定字典区间内成员数量 |\n| `ZREM key member1 [member2..]` | 移除有序集合中一个/多个成员 |\n| `ZREMRANGEBYLEX key min max` | 移除有序集合中给定的字典区间的所有成员 |\n| `ZREMRANGEBYRANK key start stop` | 移除有序集合中给定的排名区间的所有成员 |\n| `ZREMRANGEBYSCORE key min max` | 移除有序集合中给定的分数区间的所有成员 |\n| `ZREVRANGE key start end` | 返回有序集中指定区间内的成员，通过索引，分数从高到底 |\n| `ZREVRANGEBYSCORRE key max min` | 返回有序集中指定分数区间内的成员，分数从高到低排序 |\n| `ZREVRANGEBYLEX key max min` | 返回有序集中指定字典区间内的成员，按字典顺序倒序 |\n| `ZREVRANK key member` | 返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序 |\n| `ZINTERSTORE destination numkeys key1 [key2 ..]` | 计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中，numkeys：表示参与运算的集合数，将score相加作为结果的score |\n| `ZUNIONSTORE destination numkeys key1 [key2..]` | 计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中 |\n| `ZSCAN key cursor [MATCH pattern\\] [COUNT count]` | 迭代有序集合中的元素（包括元素成员和元素分值） |\n\n\n\n```bash\n-------------------ZADD--ZCARD--ZCOUNT--------------\n127.0.0.1:6379> ZADD myzset 1 m1 2 m2 3 m3 # 向有序集合myzset中添加成员m1 score=1 以及成员m2 score=2..\n(integer) 2\n127.0.0.1:6379> ZCARD myzset # 获取有序集合的成员数\n(integer) 2\n127.0.0.1:6379> ZCOUNT myzset 0 1 # 获取score在 [0,1]区间的成员数量\n(integer) 1\n127.0.0.1:6379> ZCOUNT myzset 0 2\n(integer) 2\n\n----------------ZINCRBY--ZSCORE--------------------------\n127.0.0.1:6379> ZINCRBY myzset 5 m2 # 将成员m2的score +5\n\"7\"\n127.0.0.1:6379> ZSCORE myzset m1 # 获取成员m1的score\n\"1\"\n127.0.0.1:6379> ZSCORE myzset m2\n\"7\"\n\n--------------ZRANK--ZRANGE-----------------------------------\n127.0.0.1:6379> ZRANK myzset m1 # 获取成员m1的索引，索引按照score排序，score相同索引值按字典顺序顺序增加\n(integer) 0\n127.0.0.1:6379> ZRANK myzset m2\n(integer) 2\n127.0.0.1:6379> ZRANGE myzset 0 1 # 获取索引在 0~1的成员\n1) \"m1\"\n2) \"m3\"\n127.0.0.1:6379> ZRANGE myzset 0 -1 # 获取全部成员\n1) \"m1\"\n2) \"m3\"\n3) \"m2\"\n\n#testset=>{abc,add,amaze,apple,back,java,redis} score均为0\n------------------ZRANGEBYLEX---------------------------------\n127.0.0.1:6379> ZRANGEBYLEX testset - + # 返回所有成员\n1) \"abc\"\n2) \"add\"\n3) \"amaze\"\n4) \"apple\"\n5) \"back\"\n6) \"java\"\n7) \"redis\"\n127.0.0.1:6379> ZRANGEBYLEX testset - + LIMIT 0 3 # 分页 按索引显示查询结果的 0,1,2条记录\n1) \"abc\"\n2) \"add\"\n3) \"amaze\"\n127.0.0.1:6379> ZRANGEBYLEX testset - + LIMIT 3 3 # 显示 3,4,5条记录\n1) \"apple\"\n2) \"back\"\n3) \"java\"\n127.0.0.1:6379> ZRANGEBYLEX testset (- [apple # 显示 (-,apple] 区间内的成员\n1) \"abc\"\n2) \"add\"\n3) \"amaze\"\n4) \"apple\"\n127.0.0.1:6379> ZRANGEBYLEX testset [apple [java # 显示 [apple,java]字典区间的成员\n1) \"apple\"\n2) \"back\"\n3) \"java\"\n\n-----------------------ZRANGEBYSCORE---------------------\n127.0.0.1:6379> ZRANGEBYSCORE myzset 1 10 # 返回score在 [1,10]之间的的成员\n1) \"m1\"\n2) \"m3\"\n3) \"m2\"\n127.0.0.1:6379> ZRANGEBYSCORE myzset 1 5\n1) \"m1\"\n2) \"m3\"\n\n--------------------ZLEXCOUNT-----------------------------\n127.0.0.1:6379> ZLEXCOUNT testset - +\n(integer) 7\n127.0.0.1:6379> ZLEXCOUNT testset [apple [java\n(integer) 3\n\n------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------\n127.0.0.1:6379> ZREM testset abc # 移除成员abc\n(integer) 1\n127.0.0.1:6379> ZREMRANGEBYLEX testset [apple [java # 移除字典区间[apple,java]中的所有成员\n(integer) 3\n127.0.0.1:6379> ZREMRANGEBYRANK testset 0 1 # 移除排名0~1的所有成员\n(integer) 2\n127.0.0.1:6379> ZREMRANGEBYSCORE myzset 0 3 # 移除score在 [0,3]的成员\n(integer) 2\n\n\n# testset=> {abc,add,apple,amaze,back,java,redis} score均为0\n# myzset=> {(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)}\n----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------\n127.0.0.1:6379> ZREVRANGE myzset 0 3 # 按score递减排序，然后按索引，返回结果的 0~3\n1) \"m9\"\n2) \"m7\"\n3) \"m4\"\n4) \"m3\"\n127.0.0.1:6379> ZREVRANGE myzset 2 4 # 返回排序结果的 索引的2~4\n1) \"m4\"\n2) \"m3\"\n3) \"m2\"\n127.0.0.1:6379> ZREVRANGEBYSCORE myzset 6 2 # 按score递减顺序 返回集合中分数在[2,6]之间的成员\n1) \"m4\"\n2) \"m3\"\n3) \"m2\"\n127.0.0.1:6379> ZREVRANGEBYLEX testset [java (add # 按字典倒序 返回集合中(add,java]字典区间的成员\n1) \"java\"\n2) \"back\"\n3) \"apple\"\n4) \"amaze\"\n\n-------------------------ZREVRANK------------------------------\n127.0.0.1:6379> ZREVRANK myzset m7 # 按score递减顺序，返回成员m7索引\n(integer) 1\n127.0.0.1:6379> ZREVRANK myzset m2\n(integer) 4\n\n\n# mathscore=>{(xm,90),(xh,95),(xg,87)} 小明、小红、小刚的数学成绩\n# enscore=>{(xm,70),(xh,93),(xg,90)} 小明、小红、小刚的英语成绩\n-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------\n127.0.0.1:6379> ZINTERSTORE sumscore 2 mathscore enscore # 将mathscore enscore进行合并 结果存放到sumscore\n(integer) 3\n127.0.0.1:6379> ZRANGE sumscore 0 -1 withscores # 合并后的score是之前集合中所有score的和\n1) \"xm\"\n2) \"160\"\n3) \"xg\"\n4) \"177\"\n5) \"xh\"\n6) \"188\"\n\n127.0.0.1:6379> ZUNIONSTORE lowestscore 2 mathscore enscore AGGREGATE MIN # 取两个集合的成员score最小值作为结果的\n(integer) 3\n127.0.0.1:6379> ZRANGE lowestscore 0 -1 withscores\n1) \"xm\"\n2) \"70\"\n3) \"xg\"\n4) \"87\"\n5) \"xh\"\n6) \"93\"\n```\n\n<br />应用案例：<br />\n\n- set排序 存储班级成绩表 工资表排序！\n- 普通消息，1.重要消息 2.带权重进行判断\n- 排行榜应用实现，取Top N测试\n\n\n\n<a name=\"d56625c6\"></a>\n## 四、三种特殊数据类型\n\n\n<a name=\"57d73dd8\"></a>\n### Geospatial(地理位置)\n\n\n> 使用经纬度定位地理坐标并用一个**有序集合zset保存**，所以zset命令也可以使用\n\n| 命令 | 描述 |\n| --- | --- |\n| `geoadd key longitud(经度) latitude(纬度) member [..]` | 将具体经纬度的坐标存入一个有序集合 |\n| `geopos key member [member..]` | 获取集合中的一个/多个成员坐标 |\n| `geodist key member1 member2 [unit]` | 返回两个给定位置之间的距离。默认以米作为单位。 |\n| `georadius key longitude latitude radius m|km|mi|ft [WITHCOORD][WITHDIST] [WITHHASH] [COUNT count]` | 以给定的经纬度为中心， 返回集合包含的位置元素当中， 与中心的距离不超过给定最大距离的所有位置元素。 |\n| `GEORADIUSBYMEMBER key member radius...` | 功能与GEORADIUS相同，只是中心位置不是具体的经纬度，而是使用结合中已有的成员作为中心点。 |\n| `geohash key member1 [member2..]` | 返回一个或多个位置元素的Geohash表示。使用Geohash位置52点整数编码。 |\n\n\n<br />**有效经纬度**<br />\n\n>  \n> - 有效的经度从-180度到180度。\n> - 有效的纬度从-85.05112878度到85.05112878度。\n> \n \n\n\n<br />指定单位的参数 **unit** 必须是以下单位的其中一个：<br />\n\n- **m** 表示单位为米。\n- **km** 表示单位为千米。\n- **mi** 表示单位为英里。\n- **ft** 表示单位为英尺。\n\n\n<br />**关于GEORADIUS的参数**<br />\n\n> 通过`georadius`就可以完成 **附近的人**功能\n>  \n> withcoord:带上坐标\n>  \n> withdist:带上距离，单位与半径单位相同\n>  \n> COUNT n : 只显示前n个(按距离递增排序)\n\n\n\n```bash\n----------------georadius---------------------\n127.0.0.1:6379> GEORADIUS china:city 120 30 500 km withcoord withdist # 查询经纬度(120,30)坐标500km半径内的成员\n1) 1) \"hangzhou\"\n   2) \"29.4151\"\n   3) 1) \"120.20000249147415\"\n      2) \"30.199999888333501\"\n2) 1) \"shanghai\"\n   2) \"205.3611\"\n   3) 1) \"121.40000134706497\"\n      2) \"31.400000253193539\"\n     \n------------geohash---------------------------\n127.0.0.1:6379> geohash china:city yichang shanghai # 获取成员经纬坐标的geohash表示\n1) \"wmrjwbr5250\"\n2) \"wtw6ds0y300\"\n```\n\n\n<a name=\"08968f7e\"></a>\n### Hyperloglog(基数统计)\n\n\n> Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。\n>  \n> 花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。\n>  \n> 因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。\n>  \n> 其底层使用string数据类型\n\n\n<br />**什么是基数？**<br />\n\n> 数据集中不重复的元素的个数。\n\n\n<br />**应用场景：**<br />\n<br />网页的访问量（UV）：一个用户多次访问，也只能算作一个人。<br />\n\n> 传统实现，存储用户的id,然后每次进行比较。当用户变多之后这种方式及其浪费空间，而我们的目的只是**计数**，Hyperloglog就能帮助我们利用最小的空间完成。\n\n| 命令 | 描述 |\n| --- | --- |\n| `PFADD key element1 [elememt2..]` | 添加指定元素到 HyperLogLog 中 |\n| `PFCOUNT key [key]` | 返回给定 HyperLogLog 的基数估算值。 |\n| `PFMERGE destkey sourcekey [sourcekey..]` | 将多个 HyperLogLog 合并为一个 HyperLogLog |\n\n\n\n```bash\n----------PFADD--PFCOUNT---------------------\n127.0.0.1:6379> PFADD myelemx a b c d e f g h i j k # 添加元素\n(integer) 1\n127.0.0.1:6379> type myelemx # hyperloglog底层使用String\nstring\n127.0.0.1:6379> PFCOUNT myelemx # 估算myelemx的基数\n(integer) 11\n127.0.0.1:6379> PFADD myelemy i j k z m c b v p q s\n(integer) 1\n127.0.0.1:6379> PFCOUNT myelemy\n(integer) 11\n\n----------------PFMERGE-----------------------\n127.0.0.1:6379> PFMERGE myelemz myelemx myelemy # 合并myelemx和myelemy 成为myelemz\nOK\n127.0.0.1:6379> PFCOUNT myelemz # 估算基数\n(integer) 17\n```\n\n<br />如果允许容错，那么一定可以使用Hyperloglog !<br />\n<br />如果不允许容错，就使用set或者自己的数据类型即可 ！<br />\n\n<a name=\"419a74c3\"></a>\n### BitMaps(位图)\n\n\n> 使用位存储，信息状态只有 0 和 1\n>  \n> Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)，在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。\n\n\n<br />**应用场景**<br />\n<br />签到统计、状态统计\n\n| 命令 | 描述 |\n| --- | --- |\n| `setbit key offset value` | 为指定key的offset位设置值 |\n| `getbit key offset` | 获取offset位的值 |\n| `bitcount key [start end]` | 统计字符串被设置为1的bit数，也可以指定统计范围按字节 |\n| `bitop operration destkey key[key..]` | 对一个或多个保存二进制位的字符串 key 进行位元操作，并将结果保存到 destkey 上。 |\n| `BITPOS key bit [start] [end]` | 返回字符串里面第一个被设置为1或者0的bit位。start和end只能按字节,不能按位 |\n\n\n\n```bash\n------------setbit--getbit--------------\n127.0.0.1:6379> setbit sign 0 1 # 设置sign的第0位为 1 \n(integer) 0\n127.0.0.1:6379> setbit sign 2 1 # 设置sign的第2位为 1  不设置默认 是0\n(integer) 0\n127.0.0.1:6379> setbit sign 3 1\n(integer) 0\n127.0.0.1:6379> setbit sign 5 1\n(integer) 0\n127.0.0.1:6379> type sign\nstring\n\n127.0.0.1:6379> getbit sign 2 # 获取第2位的数值\n(integer) 1\n127.0.0.1:6379> getbit sign 3\n(integer) 1\n127.0.0.1:6379> getbit sign 4 # 未设置默认是0\n(integer) 0\n\n-----------bitcount----------------------------\n127.0.0.1:6379> BITCOUNT sign # 统计sign中为1的位数\n(integer) 4\n```\n\n<br />**bitmaps的底层**<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PlszjhS-1597890996519)(D:\\我\\MyBlog\\狂神说 Redis.assets\\image-20200803234336175.png)]<br />\n<br />这样设置以后你能get到的值是：**\\xA2\\x80**，所以bitmaps是一串从左到右的二进制串<br />\n\n<a name=\"ea4899e5\"></a>\n## 五、事务\n\n<br />Redis的单条命令是保证原子性的，但是redis事务不能保证原子性<br />\n\n> Redis事务本质：一组命令的集合。\n>  \n> ----------------- 队列 set set set 执行 -------------------\n>  \n> 事务中每条命令都会被序列化，执行过程中按顺序执行，不允许其他命令进行干扰。\n>  \n> - 一次性\n> - 顺序性\n> - 排他性\n> 1. Redis事务没有隔离级别的概念\n> 2. Redis单条命令是保证原子性的，但是事务不保证原子性！\n> \n \n\n\n---\n\n\n\n<a name=\"7ce98419\"></a>\n### Redis事务操作过程\n\n\n- 开启事务（`multi`）\n- 命令入队\n- 执行事务（`exec`）\n\n\n<br />所以事务中的命令在加入时都没有被执行，直到提交时才会开始执行(Exec)一次性完成。<br />\n\n```bash\n127.0.0.1:6379> multi # 开启事务\nOK\n127.0.0.1:6379> set k1 v1 # 命令入队\nQUEUED\n127.0.0.1:6379> set k2 v2 # ..\nQUEUED\n127.0.0.1:6379> get k1\nQUEUED\n127.0.0.1:6379> set k3 v3\nQUEUED\n127.0.0.1:6379> keys *\nQUEUED\n127.0.0.1:6379> exec # 事务执行\n1) OK\n2) OK\n3) \"v1\"\n4) OK\n5) 1) \"k3\"\n   2) \"k2\"\n   3) \"k1\"\n```\n\n<br />**取消事务(**`**discurd**`**)**<br />\n\n```bash\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> set k1 v1\nQUEUED\n127.0.0.1:6379> set k2 v2\nQUEUED\n127.0.0.1:6379> DISCARD # 放弃事务\nOK\n127.0.0.1:6379> EXEC \n(error) ERR EXEC without MULTI # 当前未开启事务\n127.0.0.1:6379> get k1 # 被放弃事务中命令并未执行\n(nil)\n```\n\n\n<a name=\"5bfc1a01\"></a>\n### 事务错误\n\n\n> 代码语法错误（编译时异常）所有的命令都不执行\n\n\n\n```bash\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> set k1 v1\nQUEUED\n127.0.0.1:6379> set k2 v2\nQUEUED\n127.0.0.1:6379> error k1 # 这是一条语法错误命令\n(error) ERR unknown command `error`, with args beginning with: `k1`, # 会报错但是不影响后续命令入队 \n127.0.0.1:6379> get k2\nQUEUED\n127.0.0.1:6379> EXEC\n(error) EXECABORT Transaction discarded because of previous errors. # 执行报错\n127.0.0.1:6379> get k1 \n(nil) # 其他命令并没有被执行\n```\n\n\n> 代码逻辑错误 (运行时异常) **其他命令可以正常执行 ** >>> 所以不保证事务原子性\n\n\n\n```bash\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> set k1 v1\nQUEUED\n127.0.0.1:6379> set k2 v2\nQUEUED\n127.0.0.1:6379> INCR k1 # 这条命令逻辑错误（对字符串进行增量）\nQUEUED\n127.0.0.1:6379> get k2\nQUEUED\n127.0.0.1:6379> exec\n1) OK\n2) OK\n3) (error) ERR value is not an integer or out of range # 运行时报错\n4) \"v2\" # 其他命令正常执行\n\n# 虽然中间有一条命令报错了，但是后面的指令依旧正常执行成功了。\n# 所以说Redis单条指令保证原子性，但是Redis事务不能保证原子性。\n```\n\n\n<a name=\"9aff6241\"></a>\n### 监控\n\n<br />**悲观锁：**<br />\n\n- 很悲观，认为什么时候都会出现问题，无论做什么都会加锁\n\n\n<br />**乐观锁：**<br />\n\n- 很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据\n- 获取version\n- 更新的时候比较version\n\n\n<br />使用`watch key`监控指定数据，相当于乐观锁加锁。<br />\n\n> 正常执行\n\n\n\n```bash\n127.0.0.1:6379> set money 100 # 设置余额:100\nOK\n127.0.0.1:6379> set use 0 # 支出使用:0\nOK\n127.0.0.1:6379> watch money # 监视money (上锁)\nOK\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> DECRBY money 20\nQUEUED\n127.0.0.1:6379> INCRBY use 20\nQUEUED\n127.0.0.1:6379> exec # 监视值没有被中途修改，事务正常执行\n1) (integer) 80\n2) (integer) 20\n```\n\n\n> 测试多线程修改值，使用watch可以当做redis的乐观锁操作（相当于getversion）\n\n\n<br />我们启动另外一个客户端模拟插队线程。<br />\n<br />线程1：<br />\n\n```bash\n127.0.0.1:6379> watch money # money上锁\nOK\n127.0.0.1:6379> multi\nOK\n127.0.0.1:6379> DECRBY money 20\nQUEUED\n127.0.0.1:6379> INCRBY use 20\nQUEUED\n127.0.0.1:6379> \t# 此时事务并没有执行\n```\n\n<br />模拟线程插队，线程2：<br />\n\n```bash\n127.0.0.1:6379> INCRBY money 500 # 修改了线程一中监视的money\n(integer) 600\n12\n```\n\n<br />回到线程1，执行事务：<br />\n\n```bash\n127.0.0.1:6379> EXEC # 执行之前，另一个线程修改了我们的值，这个时候就会导致事务执行失败\n(nil) # 没有结果，说明事务执行失败\n\n127.0.0.1:6379> get money # 线程2 修改生效\n\"600\"\n127.0.0.1:6379> get use # 线程1事务执行失败，数值没有被修改\n\"0\"\n```\n\n\n> 解锁获取最新值，然后再加锁进行事务。\n>  \n> `unwatch`进行解锁。\n\n\n<br />注意：每次提交执行exec后都会自动释放锁，不管是否成功<br />\n\n<a name=\"c79e2752\"></a>\n## 六、Jedis\n\n<br />使用Java来操作Redis，Jedis是Redis官方推荐使用的Java连接redis的客户端。<br />\n\n1.  导入依赖  \n```xml\n<!--导入jredis的包-->\n<dependency>\n    <groupId>redis.clients</groupId>\n    <artifactId>jedis</artifactId>\n    <version>3.2.0</version>\n</dependency>\n<!--fastjson-->\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.70</version>\n</dependency>\n```\n\n2.  编码测试 \n   -  连接数据库 \n      1.  修改redis的配置文件  \n```bash\nvim /usr/local/bin/myconfig/redis.conf\n1\n```\n\n         1.  将只绑定本地注释<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-4IRUFJ95-1597890996520)(狂神说 Redis.assets/image-20200813161921480.png)] \n         1.  保护模式改为 no<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oKjIVapw-1597890996521)(狂神说 Redis.assets/image-20200813161939847.png)] \n         1.  允许后台运行<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c2IMvpZL-1597890996522)(狂神说 Redis.assets/image-20200813161954567.png)] \n\n \n\n3.  开放端口6379 <br />重启防火墙服务  \n```bash\nfirewall-cmd --zone=public --add-port=6379/tcp --permanet\n1\n```\n```bash\nsystemctl restart firewalld.service\n1\n```\n\n   1.  阿里云服务器控制台配置安全组 \n   1.  重启redis-server  \n```bash\n[root@AlibabaECS bin]# redis-server myconfig/redis.conf \n1\n```\n \n\n-  操作命令<br />**TestPing.java**  \n```java\npublic class TestPing {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis(\"192.168.xx.xxx\", 6379);\n        String response = jedis.ping();\n        System.out.println(response); // PONG\n    }\n}\n```\n\n-  断开连接 \n\n\n\n1.  **事务**  \n```java\npublic class TestTX {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis(\"39.99.xxx.xx\", 6379);\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(\"hello\", \"world\");\n        jsonObject.put(\"name\", \"kuangshen\");\n        // 开启事务\n        Transaction multi = jedis.multi();\n        String result = jsonObject.toJSONString();\n        // jedis.watch(result)\n        try {\n            multi.set(\"user1\", result);\n            multi.set(\"user2\", result);\n            // 执行事务\n            multi.exec();\n        }catch (Exception e){\n            // 放弃事务\n            multi.discard();\n        } finally {\n            // 关闭连接\n            System.out.println(jedis.get(\"user1\"));\n            System.out.println(jedis.get(\"user2\"));\n            jedis.close();\n        }\n    }\n}\n```\n\n\n<a name=\"dbb1052f\"></a>\n## 七、SpringBoot整合\n\n\n1. 导入依赖\n\n\n\n```xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n```\n\n<br />springboot 2.x后 ，原来使用的 Jedis 被 lettuce 替换。<br />\n\n> jedis：采用的直连，多个线程操作的话，是不安全的。如果要避免不安全，使用jedis pool连接池！更像BIO模式\n>  \n> lettuce：采用netty，实例可以在多个线程中共享，不存在线程不安全的情况！可以减少线程数据了，更像NIO模式\n\n\n<br />我们在学习SpringBoot自动配置的原理时，整合一个组件并进行配置一定会有一个自动配置类xxxAutoConfiguration,并且在spring.factories中也一定能找到这个类的完全限定名。Redis也不例外。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214531573.png#align=left&display=inline&height=110&id=afEED&margin=%5Bobject%20Object%5D&originHeight=110&originWidth=1147&status=done&style=none&width=1147)<br />\n<br />那么就一定还存在一个RedisProperties类<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214554661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=214&id=S17vK&margin=%5Bobject%20Object%5D&originHeight=214&originWidth=1159&status=done&style=none&width=1159)<br />\n<br />之前我们说SpringBoot2.x后默认使用Lettuce来替换Jedis，现在我们就能来验证了。<br />\n<br />先看Jedis:<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214607475.png#align=left&display=inline&height=90&id=kGLhv&margin=%5Bobject%20Object%5D&originHeight=90&originWidth=1117&status=done&style=none&width=1117)<br />\n<br />@ConditionalOnClass注解中有两个类是默认不存在的，所以Jedis是无法生效的<br />\n<br />然后再看Lettuce：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214618179.png#align=left&display=inline&height=67&id=qWNTA&margin=%5Bobject%20Object%5D&originHeight=67&originWidth=1009&status=done&style=none&width=1009)<br />\n<br />完美生效。<br />\n<br />现在我们回到RedisAutoConfiguratio<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321462777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=630&id=DKVT5&margin=%5Bobject%20Object%5D&originHeight=630&originWidth=1256&status=done&style=none&width=1256)<br />\n<br />只有两个简单的Bean<br />\n\n- **RedisTemplate**\n- **StringRedisTemplate**\n\n\n<br />当看到xxTemplate时可以对比RestTemplat、SqlSessionTemplate,通过使用这些Template来间接操作组件。那么这俩也不会例外。分别用于操作Redis和Redis中的String数据类型。<br />\n<br />在RedisTemplate上也有一个条件注解，说明我们是可以对其进行定制化的<br />\n<br />说完这些，我们需要知道如何编写配置文件然后连接Redis，就需要阅读RedisProperties<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214638238.png#align=left&display=inline&height=128&id=aWu5H&margin=%5Bobject%20Object%5D&originHeight=128&originWidth=763&status=done&style=none&width=763)<br />\n<br />这是一些基本的配置属性。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214649380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=377&id=i0wNu&margin=%5Bobject%20Object%5D&originHeight=377&originWidth=359&status=done&style=none&width=359)<br />\n<br />还有一些连接池相关的配置。注意使用时一定使用Lettuce的连接池。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513214700372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=490&id=cG4ZA&margin=%5Bobject%20Object%5D&originHeight=490&originWidth=432&status=done&style=none&width=432)<br />\n\n1.  编写配置文件  \n```properties\n# 配置redis\nspring.redis.host=39.99.xxx.xx\nspring.redis.port=6379\n```\n\n2.  使用RedisTemplate  \n```java\n@SpringBootTest\nclass Redis02SpringbootApplicationTests {\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Test\n    void contextLoads() {\n\n        // redisTemplate 操作不同的数据类型，api和我们的指令是一样的\n        // opsForValue 操作字符串 类似String\n        // opsForList 操作List 类似List\n        // opsForHah\n\n        // 除了基本的操作，我们常用的方法都可以直接通过redisTemplate操作，比如事务和基本的CRUD\n\n        // 获取连接对象\n        //RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();\n        //connection.flushDb();\n        //connection.flushAll();\n\n        redisTemplate.opsForValue().set(\"mykey\",\"kuangshen\");\n        System.out.println(redisTemplate.opsForValue().get(\"mykey\"));\n    }\n}\n```\n\n3.  测试结果<br />**此时我们回到Redis查看数据时候，惊奇发现全是乱码，可是程序中可以正常输出：**<br />![](https://img-blog.csdnimg.cn/20200513214734520.png#align=left&display=inline&height=182&id=l9ss1&margin=%5Bobject%20Object%5D&originHeight=182&originWidth=525&status=done&style=none&width=525)<br />这时候就关系到存储对象的序列化问题，在网络中传输的对象也是一样需要序列化，否者就全是乱码。<br />我们转到看那个默认的RedisTemplate内部什么样子：<br />![](https://img-blog.csdnimg.cn/20200513214746506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=288&id=rZDN6&margin=%5Bobject%20Object%5D&originHeight=288&originWidth=1193&status=done&style=none&width=1193)<br />在最开始就能看到几个关于序列化的参数。<br />默认的序列化器是采用JDK序列化器<br />![](https://img-blog.csdnimg.cn/20200513214757247.png#align=left&display=inline&height=50&id=CbTP8&margin=%5Bobject%20Object%5D&originHeight=50&originWidth=816&status=done&style=none&width=816)<br />而默认的RedisTemplate中的所有序列化器都是使用这个序列化器：<br />![](https://img-blog.csdnimg.cn/20200513214809494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=586&id=AzzAU&margin=%5Bobject%20Object%5D&originHeight=586&originWidth=799&status=done&style=none&width=799)<br />后续我们定制RedisTemplate就可以对其进行修改。<br />`RedisSerializer`提供了多种序列化方案： \n   -  直接调用RedisSerializer的静态方法来返回序列化器，然后set<br />![](https://img-blog.csdnimg.cn/20200513214818682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=312&id=MOE1T&margin=%5Bobject%20Object%5D&originHeight=312&originWidth=457&status=done&style=none&width=457) \n   -  自己new 相应的实现类，然后set<br />![](https://img-blog.csdnimg.cn/20200513214827233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=335&id=R3cPV&margin=%5Bobject%20Object%5D&originHeight=335&originWidth=602&status=done&style=none&width=602) \n\n \n\n4.  **定制RedisTemplate的模板：**<br />我们创建一个Bean加入容器，就会触发RedisTemplate上的条件注解使默认的RedisTemplate失效。 <br />这样一来，只要实体类进行了序列化，我们存什么都不会有乱码的担忧了。<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oc8kJP08-1597890996523)(狂神说 Redis.assets/image-20200817175638086.png)] \n```java\n@Configuration\npublic class RedisConfig {\n\n   @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {\n        // 将template 泛型设置为 <String, Object>\n        RedisTemplate<String, Object> template = new RedisTemplate();\n        // 连接工厂，不必修改\n        template.setConnectionFactory(redisConnectionFactory);\n        /*\n         * 序列化设置\n         */\n        // key、hash的key 采用 String序列化方式\n        template.setKeySerializer(RedisSerializer.string());\n        template.setHashKeySerializer(RedisSerializer.string());\n        // value、hash的value 采用 Jackson 序列化方式\n        template.setValueSerializer(RedisSerializer.json());\n        template.setHashValueSerializer(RedisSerializer.json());\n        template.afterPropertiesSet();\n        \n        return template;\n    }\n}\n```\n\n\n<a name=\"c3e4416a\"></a>\n## 八、自定义Redis工具类\n\n<br />使用RedisTemplate需要频繁调用`.opForxxx`然后才能进行对应的操作，这样使用起来代码效率低下，工作中一般不会这样使用，而是将这些常用的公共API抽取出来封装成为一个工具类，然后直接使用工具类来间接操作Redis,不但效率高并且易用。<br />\n<br />工具类参考博客：<br />\n<br />[https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html](https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html)<br />\n<br />[https://www.cnblogs.com/zhzhlong/p/11434284.html](https://www.cnblogs.com/zhzhlong/p/11434284.html)<br />\n\n<a name=\"8f0c6da4\"></a>\n## 九、Redis.conf\n\n\n> 容量单位不区分大小写，G和GB有区别\n\n\n<br />![](https://img-blog.csdnimg.cn/2020051321485460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=349&id=yG8r0&margin=%5Bobject%20Object%5D&originHeight=349&originWidth=1008&status=done&style=none&width=1008)<br />\n\n> 可以使用 include 组合多个配置问题\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214902552.png#align=left&display=inline&height=99&id=jQb9i&margin=%5Bobject%20Object%5D&originHeight=99&originWidth=604&status=done&style=none&width=604)<br />\n\n> 网络配置\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214912813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=741&id=YZOg5&margin=%5Bobject%20Object%5D&originHeight=741&originWidth=1193&status=done&style=none&width=1193)<br />\n\n> 日志输出级别\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214923678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=261&id=mZ4Hy&margin=%5Bobject%20Object%5D&originHeight=261&originWidth=970&status=done&style=none&width=970)<br />\n\n> 日志输出文件\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214933713.png#align=left&display=inline&height=138&id=c28ja&margin=%5Bobject%20Object%5D&originHeight=138&originWidth=847&status=done&style=none&width=847)<br />\n\n> 持久化规则\n\n\n<br />由于Redis是基于内存的数据库，需要将数据由内存持久化到文件中<br />\n<br />持久化方式：<br />\n\n- RDB\n- AOF\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214944964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=202&id=DYGFT&margin=%5Bobject%20Object%5D&originHeight=202&originWidth=668&status=done&style=none&width=668)<br />\n\n> RDB文件相关\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513214955679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=721&id=MXxbw&margin=%5Bobject%20Object%5D&originHeight=721&originWidth=1115&status=done&style=none&width=1115)<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215006207.png#align=left&display=inline&height=88&id=oBhgq&margin=%5Bobject%20Object%5D&originHeight=88&originWidth=656&status=done&style=none&width=656)<br />\n\n> 主从复制\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215016371.png#align=left&display=inline&height=140&id=FUUTH&margin=%5Bobject%20Object%5D&originHeight=140&originWidth=1033&status=done&style=none&width=1033)<br />\n\n> Security模块中进行密码设置\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215026143.png#align=left&display=inline&height=107&id=TeOFZ&margin=%5Bobject%20Object%5D&originHeight=107&originWidth=777&status=done&style=none&width=777)<br />\n\n> 客户端连接相关\n\n\n\n```bash\nmaxclients 10000  最大客户端数量\nmaxmemory <bytes> 最大内存限制\nmaxmemory-policy noeviction # 内存达到限制值的处理策略\n```\n\n<br />redis 中的**默认**的过期策略是 **volatile-lru** 。<br />\n<br />**设置方式**<br />\n\n```bash\nconfig set maxmemory-policy volatile-lru \n1\n```\n\n\n<a name=\"2c0ecb4b\"></a>\n#### **maxmemory-policy 六种方式**\n\n<br />**1、volatile-lru：**只对设置了过期时间的key进行LRU（默认值）<br />\n<br />**2、allkeys-lru ：** 删除lru算法的key<br />\n<br />**3、volatile-random：**随机删除即将过期key<br />\n<br />**4、allkeys-random：**随机删除<br />\n<br />**5、volatile-ttl ：** 删除即将过期的<br />\n<br />**6、noeviction ：** 永不过期，返回错误<br />\n\n> AOF相关部分\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215037918.png#align=left&display=inline&height=146&id=gu6Y1&margin=%5Bobject%20Object%5D&originHeight=146&originWidth=1040&status=done&style=none&width=1040)<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215047999.png#align=left&display=inline&height=136&id=Jsq9r&margin=%5Bobject%20Object%5D&originHeight=136&originWidth=1014&status=done&style=none&width=1014)<br />\n\n<a name=\"5bcafd56\"></a>\n## 十、持久化—RDB\n\n<br />RDB：Redis Databases<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-C0mm1D4A-1597890996524)(狂神说 Redis.assets/image-20200818122236614.png)]<br />\n\n<a name=\"46096430\"></a>\n### 什么是RDB\n\n---\n\n在指定时间间隔后，将内存中的数据集快照写入数据库 ；在恢复时候，直接读取快照文件，进行数据的恢复 ；<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215126515.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=262&id=WjrQk&margin=%5Bobject%20Object%5D&originHeight=262&originWidth=443&status=done&style=none&width=443)<br />\n<br />默认情况下， Redis 将数据库快照保存在名字为 dump.rdb的二进制文件中。文件名可以在配置文件中进行自定义。<br />\n\n<a name=\"b3fbd195\"></a>\n### 工作原理\n\n---\n\n在进行 `**RDB**` 的时候，`**redis**` 的主线程是不会做 `**io**` 操作的，主线程会 `**fork**` 一个子线程来完成该操作；<br />\n\n1. Redis 调用forks。同时拥有父进程和子进程。\n2. 子进程将数据集写入到一个临时 RDB 文件中。\n3. 当子进程完成对新 RDB 文件的写入时，Redis 用新 RDB 文件替换原来的 RDB 文件，并删除旧的 RDB 文件。\n\n\n<br />这种工作方式使得 Redis 可以从写时复制（copy-on-write）机制中获益(因为是使用子进程进行写操作，而父进程依然可以接收来自客户端的请求。)<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215141519.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=307&id=w9GKz&margin=%5Bobject%20Object%5D&originHeight=307&originWidth=592&status=done&style=none&width=592)<br />\n\n<a name=\"5e1a77c8\"></a>\n### 触发机制\n\n---\n\n1. save的规则满足的情况下，会自动触发rdb原则\n2. 执行flushall命令，也会触发我们的rdb原则\n3. 退出redis，也会自动产生rdb文件\n\n\n\n<a name=\"save\"></a>\n#### save\n\n<br />使用 `save` 命令，会立刻对当前内存中的数据进行持久化 ,但是会阻塞，也就是不接受其他操作了；<br />\n\n> 由于 `save` 命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，`save`命令执行速度会非常慢，阻塞所有客户端的请求。\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215150892.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=288&id=FG28P&margin=%5Bobject%20Object%5D&originHeight=288&originWidth=783&status=done&style=none&width=783)<br />\n\n<a name=\"d23a92c1\"></a>\n#### flushall命令\n\n<br />`flushall` 命令也会触发持久化 ；<br />\n\n<a name=\"9fa8119d\"></a>\n#### 触发持久化规则\n\n<br />满足配置条件中的触发条件 ；<br />\n\n> 可以通过配置文件对 Redis 进行设置， 让它在“ N 秒内数据集至少有 M 个改动”这一条件被满足时， 自动进行数据集保存操作。\n>  \n> ![](https://img-blog.csdnimg.cn/20200513215205970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=202&id=z1eHe&margin=%5Bobject%20Object%5D&originHeight=202&originWidth=668&status=done&style=none&width=668)\n\n\n<br />![](https://img-blog.csdnimg.cn/20200513215220858.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=253&id=i6khx&margin=%5Bobject%20Object%5D&originHeight=253&originWidth=611&status=done&style=none&width=611)<br />\n\n<a name=\"bgsave\"></a>\n#### bgsave\n\n<br />`bgsave` 是异步进行，进行持久化的时候，`redis` 还可以将继续响应客户端请求 ；<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321523151.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=307&id=AaUif&margin=%5Bobject%20Object%5D&originHeight=307&originWidth=592&status=done&style=none&width=592)<br />\n<br />**bgsave和save对比**\n\n| 命令 | save | bgsave |\n| --- | --- | --- |\n| IO类型 | 同步 | 异步 |\n| 阻塞？ | 是 | 是（阻塞发生在fock()，通常非常快） |\n| 复杂度 | O(n) | O(n) |\n| 优点 | 不会消耗额外的内存 | 不阻塞客户端命令 |\n| 缺点 | 阻塞客户端命令 | 需要fock子进程，消耗内存 |\n\n\n\n<a name=\"78102351\"></a>\n### 优缺点\n\n<br />**优点：**<br />\n\n1. 适合大规模的数据恢复\n2. 对数据的完整性要求不高\n\n\n<br />**缺点：**<br />\n\n1. 需要一定的时间间隔进行操作，如果redis意外宕机了，这个最后一次修改的数据就没有了。\n2. fork进程的时候，会占用一定的内容空间。\n\n\n\n<a name=\"17472ea0\"></a>\n## 十一、持久化AOF\n\n<br />**Append Only File**<br />\n<br />将我们所有的命令都记录下来，history，恢复的时候就把这个文件全部再执行一遍<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z8wr9lBW-1597890996525)(狂神说 Redis.assets/image-20200818123711375.png)]<br />\n\n> 以日志的形式来记录每个写的操作，将Redis执行过的所有指令记录下来（读操作不记录），只许追加文件但不可以改写文件，redis启动之初会读取该文件重新构建数据，换言之，redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作。\n\n\n\n<a name=\"95180d71\"></a>\n### 什么是AOF\n\n<br />快照功能（RDB）并不是非常耐久（durable）： 如果 Redis 因为某些原因而造成故障停机， 那么服务器将丢失最近写入、以及未保存到快照中的那些数据。 从 1.1 版本开始， Redis 增加了一种完全耐久的持久化方式： AOF 持久化。<br />\n<br />如果要使用AOF，需要修改配置文件：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215247113.png#align=left&display=inline&height=146&id=eDPNZ&margin=%5Bobject%20Object%5D&originHeight=146&originWidth=1040&status=done&style=none&width=1040)<br />\n<br />`appendonly no yes`则表示启用AOF<br />\n<br />默认是不开启的，我们需要手动配置，然后重启redis，就可以生效了！<br />\n<br />如果这个aof文件有错位，这时候redis是启动不起来的，我需要修改这个aof文件<br />\n<br />redis给我们提供了一个工具`redis-check-aof --fix`<br />\n\n> 优点和缺点\n\n\n\n```bash\nappendonly yes  # 默认是不开启aof模式的，默认是使用rdb方式持久化的，在大部分的情况下，rdb完全够用\nappendfilename \"appendonly.aof\"\n\n# appendfsync always # 每次修改都会sync 消耗性能\nappendfsync everysec # 每秒执行一次 sync 可能会丢失这一秒的数据\n# appendfsync no # 不执行 sync ,这时候操作系统自己同步数据，速度最快\n```\n\n<br />**优点**<br />\n\n1. 每一次修改都会同步，文件的完整性会更加好\n2. 没秒同步一次，可能会丢失一秒的数据\n3. 从不同步，效率最高\n\n\n<br />**缺点**<br />\n\n1. 相对于数据文件来说，aof远远大于rdb，修复速度比rdb慢！\n2. Aof运行效率也要比rdb慢，所以我们redis默认的配置就是rdb持久化\n\n\n\n<a name=\"7ee877b2\"></a>\n## 十二、RDB和AOP选择\n\n\n<a name=\"9a4822ca\"></a>\n### RDB 和 AOF 对比\n| RDB | AOF |  |\n| --- | --- | --- |\n| 启动优先级 | 低 | 高 |\n| 体积 | 小 | 大 |\n| 恢复速度 | 快 | 慢 |\n| 数据安全性 | 丢数据 | 根据策略决定 |\n\n\n\n<a name=\"5e50f972\"></a>\n### 如何选择使用哪种持久化方式？\n\n<br />一般来说， 如果想达到足以媲美 PostgreSQL 的数据安全性， 你应该同时使用两种持久化功能。<br />\n<br />如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失， 那么你可以只使用 RDB 持久化。<br />\n<br />有很多用户都只使用 AOF 持久化， 但并不推荐这种方式： 因为定时生成 RDB 快照（snapshot）非常便于进行数据库备份， 并且 RDB 恢复数据集的速度也要比 AOF 恢复的速度要快。<br />\n\n<a name=\"c71a560d\"></a>\n## 十三、Redis发布与订阅\n\n<br />Redis 发布订阅(pub/sub)是一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IBT2pjCa-1597890996526)(狂神说 Redis.assets/image-20200818162849693.png)]<br />\n<br />下图展示了频道 channel1 ， 以及订阅这个频道的三个客户端 —— client2 、 client5 和 client1 之间的关系：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215523258.png#align=left&display=inline&height=198&id=phjVM&margin=%5Bobject%20Object%5D&originHeight=198&originWidth=319&status=done&style=none&width=319)<br />\n<br />当有新消息通过 PUBLISH 命令发送给频道 channel1 时， 这个消息就会被发送给订阅它的三个客户端：<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321553483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=285&id=l5gyr&margin=%5Bobject%20Object%5D&originHeight=285&originWidth=315&status=done&style=none&width=315)<br />\n\n<a name=\"ddf7d2a5\"></a>\n### 命令\n| 命令 | 描述 |\n| --- | --- |\n| `PSUBSCRIBE pattern [pattern..]` | 订阅一个或多个符合给定模式的频道。 |\n| `PUNSUBSCRIBE pattern [pattern..]` | 退订一个或多个符合给定模式的频道。 |\n| `PUBSUB subcommand [argument[argument]]` | 查看订阅与发布系统状态。 |\n| `PUBLISH channel message` | 向指定频道发布消息 |\n| `SUBSCRIBE channel [channel..]` | 订阅给定的一个或多个频道。 |\n| `SUBSCRIBE channel [channel..]` | 退订一个或多个频道 |\n\n\n\n<a name=\"1a63ac23\"></a>\n### 示例\n\n\n```bash\n------------订阅端----------------------\n127.0.0.1:6379> SUBSCRIBE sakura # 订阅sakura频道\nReading messages... (press Ctrl-C to quit) # 等待接收消息\n1) \"subscribe\" # 订阅成功的消息\n2) \"sakura\"\n3) (integer) 1\n1) \"message\" # 接收到来自sakura频道的消息 \"hello world\"\n2) \"sakura\"\n3) \"hello world\"\n1) \"message\" # 接收到来自sakura频道的消息 \"hello i am sakura\"\n2) \"sakura\"\n3) \"hello i am sakura\"\n\n--------------消息发布端-------------------\n127.0.0.1:6379> PUBLISH sakura \"hello world\" # 发布消息到sakura频道\n(integer) 1\n127.0.0.1:6379> PUBLISH sakura \"hello i am sakura\" # 发布消息\n(integer) 1\n\n-----------------查看活跃的频道------------\n127.0.0.1:6379> PUBSUB channels\n1) \"sakura\"\n```\n\n\n<a name=\"b6724cff\"></a>\n### 原理\n\n<br />每个 Redis 服务器进程都维持着一个表示服务器状态的 redis.h/redisServer 结构， 结构的 pubsub_channels 属性是一个字典， 这个字典就用于保存订阅频道的信息，其中，字典的键为正在被订阅的频道， 而字典的值则是一个链表， 链表中保存了所有订阅这个频道的客户端。<br />\n<br />![](https://img-blog.csdnimg.cn/2020051321554964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=216&id=HaVKA&margin=%5Bobject%20Object%5D&originHeight=216&originWidth=709&status=done&style=none&width=709)<br />\n<br />客户端订阅，就被链接到对应频道的链表的尾部，退订则就是将客户端节点从链表中移除。<br />\n\n<a name=\"2e769a75\"></a>\n### 缺点\n\n\n1. 如果一个客户端订阅了频道，但自己读取消息的速度却不够快的话，那么不断积压的消息会使redis输出缓冲区的体积变得越来越大，这可能使得redis本身的速度变慢，甚至直接崩溃。\n2. 这和数据传输可靠性有关，如果在订阅方断线，那么他将会丢失所有在短线期间发布者发布的消息。\n\n\n\n<a name=\"5b0520a9\"></a>\n### 应用\n\n\n1. 消息订阅：公众号订阅，微博关注等等（起始更多是使用消息队列来进行实现）\n2. 多人在线聊天室。\n\n\n<br />稍微复杂的场景，我们就会使用消息中间件MQ处理。<br />\n\n<a name=\"ca07c665\"></a>\n## 十四、Redis主从复制\n\n\n<a name=\"b59c9e0f\"></a>\n### 概念\n\n<br />主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点（Master/Leader）,后者称为从节点（Slave/Follower）， 数据的复制是单向的！只能由主节点复制到从节点（主节点以写为主、从节点以读为主）。<br />\n<br />默认情况下，每台Redis服务器都是主节点，一个主节点可以有0个或者多个从节点，但每个从节点只能由一个主节点。<br />\n\n<a name=\"69fa3701\"></a>\n### 作用\n\n\n1. 数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余的方式。\n2. 故障恢复：当主节点故障时，从节点可以暂时替代主节点提供服务，是一种服务冗余的方式\n3. 负载均衡：在主从复制的基础上，配合读写分离，由主节点进行写操作，从节点进行读操作，分担服务器的负载；尤其是在多读少写的场景下，通过多个从节点分担负载，提高并发量。\n4. 高可用基石：主从复制还是哨兵和集群能够实施的基础。\n\n\n\n<a name=\"7f831a7b\"></a>\n### 为什么使用集群\n\n\n1. 单台服务器难以负载大量的请求\n2. 单台服务器故障率高，系统崩坏概率大\n3. 单台服务器内存容量有限。\n\n\n\n<a name=\"a69f6882\"></a>\n### 环境配置\n\n<br />我们在讲解配置文件的时候，注意到有一个`replication`模块 (见Redis.conf中第8条)<br />\n<br />查看当前库的信息：`info replication`<br />\n\n```bash\n127.0.0.1:6379> info replication\n# Replication\nrole:master # 角色\nconnected_slaves:0 # 从机数量\nmaster_replid:3b54deef5b7b7b7f7dd8acefa23be48879b4fcff\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0\n```\n\n<br />既然需要启动多个服务，就需要多个配置文件。每个配置文件对应修改以下信息：<br />\n\n- 端口号\n- pid文件名\n- 日志文件名\n- rdb文件名\n\n\n<br />启动单机多服务集群：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215610163.png#align=left&display=inline&height=108&id=m6Aax&margin=%5Bobject%20Object%5D&originHeight=108&originWidth=993&status=done&style=none&width=993)<br />\n\n<a name=\"391961da\"></a>\n### 一主二从配置\n\n<br />==默认情况下，每台Redis服务器都是主节点；==我们一般情况下只用配置从机就好了！<br />\n<br />认老大！一主（79）二从（80，81）<br />\n<br />使用`SLAVEOF host port`就可以为从机配置主机了。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215637483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=410&id=ciaCd&margin=%5Bobject%20Object%5D&originHeight=410&originWidth=1226&status=done&style=none&width=1226)<br />\n<br />然后主机上也能看到从机的状态：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215645778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=378&id=Z1x5f&margin=%5Bobject%20Object%5D&originHeight=378&originWidth=818&status=done&style=none&width=818)<br />\n<br />我们这里是使用命令搭建，是暂时的，==真实开发中应该在从机的配置文件中进行配置，==这样的话是永久的。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215654634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=253&id=uO75y&margin=%5Bobject%20Object%5D&originHeight=253&originWidth=912&status=done&style=none&width=912)<br />\n\n<a name=\"1ebbd644\"></a>\n### 使用规则\n\n\n1.  从机只能读，不能写，主机可读可写但是多用于写。  \n```bash\n 127.0.0.1:6381> set name sakura # 从机6381写入失败\n(error) READONLY You can't write against a read only replica.\n\n127.0.0.1:6380> set name sakura # 从机6380写入失败\n(error) READONLY You can't write against a read only replica.\n\n127.0.0.1:6379> set name sakura\nOK\n127.0.0.1:6379> get name\n\"sakura\"\n```\n\n2.  当主机断电宕机后，默认情况下从机的角色不会发生变化 ，集群中只是失去了写操作，当主机恢复以后，又会连接上从机恢复原状。 \n3.  当从机断电宕机后，若不是使用配置文件配置的从机，再次启动后作为主机是无法获取之前主机的数据的，若此时重新配置称为从机，又可以获取到主机的所有数据。这里就要提到一个同步原理。 \n4.  第二条中提到，默认情况下，主机故障后，不会出现新的主机，有两种方式可以产生新的主机： \n   - 从机手动执行命令`slaveof no one`,这样执行以后从机会独立出来成为一个主机\n   - 使用哨兵模式（自动选举）\n\n \n> 如果没有老大了，这个时候能不能选择出来一个老大呢？手动！\n\n\n<br />如果主机断开了连接，我们可以使用`SLAVEOF no one`让自己变成主机！其他的节点就可以手动连接到最新的主节点（手动）！如果这个时候老大修复了，那么久重新连接！<br />\n\n<a name=\"94816f45\"></a>\n## 十五、哨兵模式\n\n<br />更多信息参考博客：[https://www.jianshu.com/p/06ab9daf921d](https://www.jianshu.com/p/06ab9daf921d)<br />\n<br />**主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。**这不是一种推荐的方式，更多时候，我们优先考虑**哨兵模式**。<br />\n<br />单机单个哨兵<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2ENYVAPp-1597890996527)(狂神说 Redis.assets/image-20200818233231154.png)]<br />\n<br />哨兵的作用：<br />\n\n- 通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。\n- 当哨兵监测到master宕机，会自动将slave切换成master，然后通过**发布订阅模式**通知其他的从服务器，修改配置文件，让它们切换主机。\n\n\n<br />多哨兵模式<br />\n<br />[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Ga1RyfVc-1597890996528)(狂神说 Redis.assets/image-20200818233316478.png)]<br />\n<br />哨兵的核心配置<br />\n\n```\nsentinel monitor mymaster 127.0.0.1 6379 1\n```\n\n\n- 数字1表示 ：当一个哨兵主观认为主机断开，就可以客观认为主机故障，然后开始选举新的主机。\n\n\n\n> 测试\n\n\n\n```\nredis-sentinel xxx/sentinel.conf\n```\n\n<br />成功启动哨兵模式<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215752444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=582&id=CsjCy&margin=%5Bobject%20Object%5D&originHeight=582&originWidth=890&status=done&style=none&width=890)<br />\n<br />此时哨兵监视着我们的主机6379，当我们断开主机后：<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215806972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=736&id=rI5rm&margin=%5Bobject%20Object%5D&originHeight=736&originWidth=1255&status=done&style=none&width=1255)<br />\n\n> 哨兵模式优缺点\n\n\n<br />**优点：**<br />\n\n1. 哨兵集群，基于主从复制模式，所有主从复制的优点，它都有\n2. 主从可以切换，故障可以转移，系统的可用性更好\n3. 哨兵模式是主从模式的升级，手动到自动，更加健壮\n\n\n<br />**缺点：**<br />\n\n1. Redis不好在线扩容，集群容量一旦达到上限，在线扩容就十分麻烦\n2. 实现哨兵模式的配置其实是很麻烦的，里面有很多配置项\n\n\n\n> 哨兵模式的全部配置\n\n\n<br />完整的哨兵模式配置文件 sentinel.conf<br />\n\n```bash\n# Example sentinel.conf\n \n# 哨兵sentinel实例运行的端口 默认26379\nport 26379\n \n# 哨兵sentinel的工作目录\ndir /tmp\n \n# 哨兵sentinel监控的redis主节点的 ip port \n# master-name  可以自己命名的主节点名字 只能由字母A-z、数字0-9 、这三个字符\".-_\"组成。\n# quorum 当这些quorum个数sentinel哨兵认为master主节点失联 那么这时 客观上认为主节点失联了\n# sentinel monitor <master-name> <ip> <redis-port> <quorum>\nsentinel monitor mymaster 127.0.0.1 6379 1\n \n# 当在Redis实例中开启了requirepass foobared 授权密码 这样所有连接Redis实例的客户端都要提供密码\n# 设置哨兵sentinel 连接主从的密码 注意必须为主从设置一样的验证密码\n# sentinel auth-pass <master-name> <password>\nsentinel auth-pass mymaster MySUPER--secret-0123passw0rd\n \n \n# 指定多少毫秒之后 主节点没有应答哨兵sentinel 此时 哨兵主观上认为主节点下线 默认30秒\n# sentinel down-after-milliseconds <master-name> <milliseconds>\nsentinel down-after-milliseconds mymaster 30000\n \n# 这个配置项指定了在发生failover主备切换时最多可以有多少个slave同时对新的master进行 同步，\n这个数字越小，完成failover所需的时间就越长，\n但是如果这个数字越大，就意味着越 多的slave因为replication而不可用。\n可以通过将这个值设为 1 来保证每次只有一个slave 处于不能处理命令请求的状态。\n# sentinel parallel-syncs <master-name> <numslaves>\nsentinel parallel-syncs mymaster 1\n \n \n \n# 故障转移的超时时间 failover-timeout 可以用在以下这些方面： \n#1. 同一个sentinel对同一个master两次failover之间的间隔时间。\n#2. 当一个slave从一个错误的master那里同步数据开始计算时间。直到slave被纠正为向正确的master那里同步数据时。\n#3.当想要取消一个正在进行的failover所需要的时间。  \n#4.当进行failover时，配置所有slaves指向新的master所需的最大时间。不过，即使过了这个超时，slaves依然会被正确配置为指向master，但是就不按parallel-syncs所配置的规则来了\n# 默认三分钟\n# sentinel failover-timeout <master-name> <milliseconds>\nsentinel failover-timeout mymaster 180000\n \n# SCRIPTS EXECUTION\n \n#配置当某一事件发生时所需要执行的脚本，可以通过脚本来通知管理员，例如当系统运行不正常时发邮件通知相关人员。\n#对于脚本的运行结果有以下规则：\n#若脚本执行后返回1，那么该脚本稍后将会被再次执行，重复次数目前默认为10\n#若脚本执行后返回2，或者比2更高的一个返回值，脚本将不会重复执行。\n#如果脚本在执行过程中由于收到系统中断信号被终止了，则同返回值为1时的行为相同。\n#一个脚本的最大执行时间为60s，如果超过这个时间，脚本将会被一个SIGKILL信号终止，之后重新执行。\n \n#通知型脚本:当sentinel有任何警告级别的事件发生时（比如说redis实例的主观失效和客观失效等等），将会去调用这个脚本，\n#这时这个脚本应该通过邮件，SMS等方式去通知系统管理员关于系统不正常运行的信息。调用该脚本时，将传给脚本两个参数，\n#一个是事件的类型，\n#一个是事件的描述。\n#如果sentinel.conf配置文件中配置了这个脚本路径，那么必须保证这个脚本存在于这个路径，并且是可执行的，否则sentinel无法正常启动成功。\n#通知脚本\n# sentinel notification-script <master-name> <script-path>\n  sentinel notification-script mymaster /var/redis/notify.sh\n \n# 客户端重新配置主节点参数脚本\n# 当一个master由于failover而发生改变时，这个脚本将会被调用，通知相关的客户端关于master地址已经发生改变的信息。\n# 以下参数将会在调用脚本时传给脚本:\n# <master-name> <role> <state> <from-ip> <from-port> <to-ip> <to-port>\n# 目前<state>总是“failover”,\n# <role>是“leader”或者“observer”中的一个。 \n# 参数 from-ip, from-port, to-ip, to-port是用来和旧的master和新的master(即旧的slave)通信的\n# 这个脚本应该是通用的，能被多次调用，不是针对性的。\n# sentinel client-reconfig-script <master-name> <script-path>\nsentinel client-reconfig-script mymaster /var/redis/reconfig.sh\n```\n\n\n<a name=\"1b8920bd\"></a>\n## 十六、缓存穿透与雪崩\n\n\n<a name=\"d9526f37\"></a>\n### 缓存穿透（查不到）\n\n\n> 概念\n\n\n<br />在默认情况下，用户请求数据时，会先在缓存(Redis)中查找，若没找到即缓存未命中，再在数据库中进行查找，数量少可能问题不大，可是一旦大量的请求数据（例如秒杀场景）缓存都没有命中的话，就会全部转移到数据库上，造成数据库极大的压力，就有可能导致数据库崩溃。网络安全中也有人恶意使用这种手段进行攻击被称为洪水攻击。<br />\n\n> 解决方案\n\n\n<br />**布隆过滤器**<br />\n<br />对所有可能查询的参数以Hash的形式存储，以便快速确定是否存在这个值，在控制层先进行拦截校验，校验不通过直接打回，减轻了存储系统的压力。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215824722.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=416&id=UaX6n&margin=%5Bobject%20Object%5D&originHeight=416&originWidth=342&status=done&style=none&width=342)<br />\n<br />**缓存空对象**<br />\n<br />一次请求若在缓存和数据库中都没找到，就在缓存中方一个空对象用于处理后续这个请求。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215836317.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=610&id=kwSAl&margin=%5Bobject%20Object%5D&originHeight=610&originWidth=573&status=done&style=none&width=573)<br />\n<br />这样做有一个缺陷：存储空对象也需要空间，大量的空对象会耗费一定的空间，存储效率并不高。解决这个缺陷的方式就是设置较短过期时间<br />\n<br />即使对空值设置了过期时间，还是会存在缓存层和存储层的数据会有一段时间窗口的不一致，这对于需要保持一致性的业务会有影响。<br />\n\n<a name=\"1f3d8099\"></a>\n### 缓存击穿（量太大，缓存过期）\n\n\n> 概念\n\n\n<br />相较于缓存穿透，缓存击穿的目的性更强，一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB，造成瞬时DB请求量大、压力骤增。这就是缓存被击穿，只是针对其中某个key的缓存不可用而导致击穿，但是其他的key依然可以使用缓存响应。<br />\n<br />比如热搜排行上，一个热点新闻被同时大量访问就可能导致缓存击穿。<br />\n\n> 解决方案\n\n\n\n1.  **设置热点数据永不过期**<br />这样就不会出现热点数据过期的情况，但是当Redis内存空间满的时候也会清理部分数据，而且此种方案会占用空间，一旦热点数据多了起来，就会占用部分空间。 \n2.  **加互斥锁(分布式锁)**<br />在访问key之前，采用SETNX（set if not exists）来设置另一个短期key来锁住当前key的访问，访问结束再删除该短期key。保证同时刻只有一个线程访问。这样对锁的要求就十分高。 \n\n\n\n<a name=\"b901facc\"></a>\n### 缓存雪崩\n\n\n> 概念\n\n\n<br />大量的key设置了相同的过期时间，导致在缓存在同一时刻全部失效，造成瞬时DB请求量大、压力骤增，引起雪崩。<br />\n<br />![](https://img-blog.csdnimg.cn/20200513215850428.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70#align=left&display=inline&height=385&id=m7I1r&margin=%5Bobject%20Object%5D&originHeight=385&originWidth=636&status=done&style=none&width=636)<br />\n\n> 解决方案\n\n\n\n-  redis高可用<br />这个思想的含义是，既然redis有可能挂掉，那我多增设几台redis，这样一台挂掉之后其他的还可以继续工作，其实就是搭建的集群 \n-  限流降级<br />这个解决方案的思想是，在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。 \n-  数据预热<br />数据加热的含义就是在正式部署之前，我先把可能的数据先预先访问一遍，这样部分可能大量访问的数据就会加载到缓存中。在即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。 \n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"traditional\"><h2 id=\"aee055fc\"><span class=\"ne-text\">一、Nosql概述</span></h2><p id=\"ufc762879\" class=\"ne-p\"><br></p><h3 id=\"ab7557ae\"><span class=\"ne-text\">为什么使用Nosql</span></h3><p id=\"uc7910abd\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ud69a2b9d\" class=\"ne-p\"><span class=\"ne-text\">1、单机Mysql时代</span></p></div><p id=\"ue4e6e220\" class=\"ne-p\"><br></p><p id=\"ub9edc24e\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/2020082010365930.png#pic_center\" width=\"611\" id=\"wIDA6\" class=\"ne-image\"></p><p id=\"ue3d6fefd\" class=\"ne-p\"><br></p><p id=\"u33668320\" class=\"ne-p\"><span class=\"ne-text\">90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题</span></p><p id=\"ub9b0a1f2\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u869d731c\"><span class=\"ne-text\">数据量增加到一定程度，单机数据库就放不下了</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"uf924ec51\"><span class=\"ne-text\">数据的索引（B+ Tree）,一个机器内存也存放不下</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"ue547cc31\"><span class=\"ne-text\">访问量变大后（读写混合），一台服务器承受不住。</span></li></ol><p id=\"u4f7edfcd\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ue01849cc\" class=\"ne-p\"><span class=\"ne-text\">2、Memcached(缓存) + Mysql + 垂直拆分（读写分离）</span></p></div><p id=\"u83ce31df\" class=\"ne-p\"><br></p><p id=\"u42a11bd4\" class=\"ne-p\"><span class=\"ne-text\">网站80%的情况都是在读，每次都要去查询数据库的话就十分的麻烦！所以说我们希望减轻数据库的压力，我们可以使用缓存来保证效率！</span></p><p id=\"udc7c65cc\" class=\"ne-p\"><br></p><p id=\"ueeb701f7\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820103713734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"614\" id=\"EYshd\" class=\"ne-image\"></p><p id=\"u874754be\" class=\"ne-p\"><br></p><p id=\"u3beb5390\" class=\"ne-p\"><span class=\"ne-text\">优化过程经历了以下几个过程：</span></p><p id=\"u4230b10f\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"uba0ce3e1\"><span class=\"ne-text\">优化数据库的数据结构和索引(难度大)</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ufb9b82c0\"><span class=\"ne-text\">文件缓存，通过IO流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO流也承受不了</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u8bb3a62a\"><span class=\"ne-text\">MemCache,当时最热门的技术，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升。</span></li></ol><p id=\"u073b0e2e\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"uc5913d12\" class=\"ne-p\"><span class=\"ne-text\">3、分库分表 + 水平拆分 + Mysql集群</span></p></div><p id=\"uddb0465e\" class=\"ne-p\"><br></p><p id=\"u5108c477\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820103739584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"622\" id=\"IV2zO\" class=\"ne-image\"></p><p id=\"u517b6139\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u283dfc3d\" class=\"ne-p\"><span class=\"ne-text\">4、如今最近的年代</span></p></div><p id=\"ubc391ac6\" class=\"ne-p\"><br></p><p id=\"ue4c23468\" class=\"ne-p\"><span class=\"ne-text\">如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等），大数据的背景下关系型数据库（RDBMS）无法满足大量数据要求。Nosql数据库就能轻松解决这些问题。</span></p><p id=\"ucb6f9db8\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u70f7455e\" class=\"ne-p\"><span class=\"ne-text\">目前一个基本的互联网项目</span></p></div><p id=\"u96103502\" class=\"ne-p\"><br></p><p id=\"uf8feea12\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820103804572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1131\" id=\"dByAg\" class=\"ne-image\"></p><p id=\"ud9efa6f2\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u89bb61b9\" class=\"ne-p\"><span class=\"ne-text\">为什么要用NoSQL ？</span></p></div><p id=\"uc7de1f77\" class=\"ne-p\"><br></p><p id=\"ud40ae2ab\" class=\"ne-p\"><span class=\"ne-text\">用户的个人信息，社交网络，地理位置。用户自己产生的数据，用户日志等等爆发式增长！<br /></span><span class=\"ne-text\">这时候我们就需要使用NoSQL数据库的，Nosql可以很好的处理以上的情况！</span></p><p id=\"u73204d9a\" class=\"ne-p\"><br></p><h3 id=\"c94eeebb\"><span class=\"ne-text\">什么是Nosql</span></h3><p id=\"u30b415a3\" class=\"ne-p\"><br></p><p id=\"u6f18bbee\" class=\"ne-p\"><strong><span class=\"ne-text\">NoSQL = Not Only SQL（不仅仅是SQL）</span></strong></p><p id=\"u5cde3b89\" class=\"ne-p\"><br></p><p id=\"u0c75beca\" class=\"ne-p\"><span class=\"ne-text\">Not Only Structured Query Language</span></p><p id=\"u6cef4086\" class=\"ne-p\"><br></p><p id=\"u4b3f061a\" class=\"ne-p\"><span class=\"ne-text\">关系型数据库：列+行，同一个表下数据的结构是一样的。</span></p><p id=\"uceaee55a\" class=\"ne-p\"><br></p><p id=\"uac7aef2e\" class=\"ne-p\"><span class=\"ne-text\">非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展。</span></p><p id=\"ufc5adf7d\" class=\"ne-p\"><br></p><p id=\"u1d7cfa8e\" class=\"ne-p\"><span class=\"ne-text\">NoSQL泛指非关系型数据库，随着web2.0互联网的诞生，传统的关系型数据库很难对付web2.0时代！尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，Redis是发展最快的。</span></p><p id=\"ud9018e90\" class=\"ne-p\"><br></p><h3 id=\"9b16b018\"><span class=\"ne-text\">Nosql特点</span></h3><p id=\"ue1cbff5a\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u8eccc406\"><span class=\"ne-text\"> 方便扩展（数据之间没有关系，很好扩展！） </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ub9ed5b1c\"><span class=\"ne-text\"> 大数据量高性能（Redis一秒可以写8万次，读11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能会比较高！） </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u6c7523ae\"><span class=\"ne-text\"> 数据类型是多样型的！（不需要事先设计数据库，随取随用） </span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u3ff4709c\"><span class=\"ne-text\"> 传统的 RDBMS 和 NoSQL </span><span class=\"ne-text\"> </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"plain\" id=\"41183cda\" class=\"ne-codeblock\">传统的 RDBMS(关系型数据库)\n- 结构化组织\n- SQL\n- 数据和关系都存在单独的表中 row col\n- 操作，数据定义语言\n- 严格的一致性\n- 基础的事务\n- ...</pre><pre data-language=\"plain\" id=\"47a2217b\" class=\"ne-codeblock\">Nosql\n- 不仅仅是数据\n- 没有固定的查询语言\n- 键值对存储，列存储，文档存储，图形数据库（社交关系）\n- 最终一致性\n- CAP定理和BASE\n- 高性能，高可用，高扩展\n- ...</pre><p id=\"ue411b3a2\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u4bc7fbc5\" class=\"ne-p\"><span class=\"ne-text\">了解：3V + 3高</span></p></div><p id=\"u143f9c0e\" class=\"ne-p\"><br></p><p id=\"u0162bc1e\" class=\"ne-p\"><span class=\"ne-text\">大数据时代的3V ：主要是</span><strong><span class=\"ne-text\">描述问题</span></strong><span class=\"ne-text\">的</span></p><p id=\"u3c85604c\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u38e1e49e\"><span class=\"ne-text\">海量Velume</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"udff651ae\"><span class=\"ne-text\">多样Variety</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u18f43379\"><span class=\"ne-text\">实时Velocity</span></li></ol><p id=\"ua5f38aae\" class=\"ne-p\"><br></p><p id=\"u5c7372f9\" class=\"ne-p\"><span class=\"ne-text\">大数据时代的3高 ： 主要是</span><strong><span class=\"ne-text\">对程序的要求</span></strong></p><p id=\"ucaa592ff\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"udbd63f52\"><span class=\"ne-text\">高并发</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u360b7e44\"><span class=\"ne-text\">高可扩</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u79cb03a2\"><span class=\"ne-text\">高性能</span></li></ol><p id=\"uaca131e1\" class=\"ne-p\"><br></p><p id=\"ub1f785e3\" class=\"ne-p\"><span class=\"ne-text\">真正在公司中的实践：NoSQL + RDBMS 一起使用才是最强的。</span></p><p id=\"u3eb6f426\" class=\"ne-p\"><br></p><h3 id=\"e8a7ba20\"><span class=\"ne-text\">阿里巴巴演进分析</span></h3><p id=\"u3736cd87\" class=\"ne-p\"><br></p><p id=\"u09bd35d6\" class=\"ne-p\"><span class=\"ne-text\">推荐阅读：阿里云的这群疯子https://yq.aliyun.com/articles/653511</span></p><p id=\"u01d16eee\" class=\"ne-p\"><br></p><p id=\"u881199f6\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820103829446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1056\" id=\"MeOWA\" class=\"ne-image\"></p><p id=\"u9620ef4a\" class=\"ne-p\"><br></p><p id=\"u2fe06a4f\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820103851613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1130\" id=\"H4zN8\" class=\"ne-image\"></p><p id=\"u44df0f0f\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"9232d2c8\" class=\"ne-codeblock\"># 商品信息\n- 一般存放在关系型数据库：Mysql,阿里巴巴使用的Mysql都是经过内部改动的。\n\n# 商品描述、评论(文字居多)\n- 文档型数据库：MongoDB\n\n# 图片\n- 分布式文件系统 FastDFS\n- 淘宝：TFS\n- Google: GFS\n- Hadoop: HDFS\n- 阿里云: oss\n\n# 商品关键字 用于搜索\n- 搜索引擎：solr,elasticsearch\n- 阿里：Isearch 多隆\n\n# 商品热门的波段信息\n- 内存数据库：Redis，Memcache\n\n# 商品交易，外部支付接口\n- 第三方应用</pre><p id=\"u70b96800\" class=\"ne-p\"><br></p><h3 id=\"8c18f413\"><span class=\"ne-text\">Nosql的四大分类</span></h3><p id=\"uc6bb498f\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u16fb29cb\" class=\"ne-p\"><strong><span class=\"ne-text\">KV键值对</span></strong></p></div><p id=\"u5511306d\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u1229e1d7\"><span class=\"ne-text\">新浪：</span><strong><span class=\"ne-text\">Redis</span></strong></li></ul><ul class=\"ne-ul\"><li id=\"uec68efb9\"><span class=\"ne-text\">美团：Redis + Tair</span></li></ul><ul class=\"ne-ul\"><li id=\"u2c6ae6a7\"><span class=\"ne-text\">阿里、百度：Redis + Memcache</span></li></ul><p id=\"ub539f25b\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ub0ed1f73\" class=\"ne-p\"><strong><span class=\"ne-text\">文档型数据库（bson数据格式）：</span></strong></p></div><p id=\"ue825dcec\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u5abe3024\"><strong><span class=\"ne-text\">MongoDB</span></strong><span class=\"ne-text\">(掌握) </span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"ued2609bc\"><span class=\"ne-text\">基于分布式文件存储的数据库。C++编写，用于处理大量文档。</span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"uf305bcae\"><span class=\"ne-text\">MongoDB是RDBMS和NoSQL的中间产品。MongoDB是非关系型数据库中功能最丰富的，NoSQL中最像关系型数据库的数据库。</span></li></ul><p id=\"uf65add23\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ul class=\"ne-ul\"><li id=\"ubc9e4146\"><span class=\"ne-text\">ConthDB</span></li></ul><p id=\"ud8e1667b\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ubff3e71f\" class=\"ne-p\"><strong><span class=\"ne-text\">列存储数据库</span></strong></p></div><p id=\"u5424d28b\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ubef725ce\"><strong><span class=\"ne-text\">HBase</span></strong><span class=\"ne-text\">(大数据必学)</span></li></ul><ul class=\"ne-ul\"><li id=\"u26562bb0\"><span class=\"ne-text\">分布式文件系统</span></li></ul><p id=\"u9706319e\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u3fd52251\" class=\"ne-p\"><strong><span class=\"ne-text\">图关系数据库</span></strong></p></div><p id=\"uc853f812\" class=\"ne-p\"><br></p><p id=\"u9d1a2e16\" class=\"ne-p\"><span class=\"ne-text\">用于广告推荐，社交网络</span></p><p id=\"u241e139a\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u1cf352a9\"><strong><span class=\"ne-text\">Neo4j</span></strong><span class=\"ne-text\">、InfoGrid</span></li></ul><table id=\"3b67c98f\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"125\"><p id=\"u949ae71e\" class=\"ne-p\"><strong><span class=\"ne-text\">分类</span></strong></p></td><td width=\"125\"><p id=\"u3fcda376\" class=\"ne-p\"><strong><span class=\"ne-text\">Examples举例</span></strong></p></td><td width=\"125\"><p id=\"u0fb1e4d5\" class=\"ne-p\"><strong><span class=\"ne-text\">典型应用场景</span></strong></p></td><td width=\"125\"><p id=\"u4b92fec3\" class=\"ne-p\"><strong><span class=\"ne-text\">数据模型</span></strong></p></td><td width=\"125\"><p id=\"u1b5e014f\" class=\"ne-p\"><strong><span class=\"ne-text\">优点</span></strong></p></td><td width=\"125\"><p id=\"u7ef2af75\" class=\"ne-p\"><strong><span class=\"ne-text\">缺点</span></strong></p></td></tr><tr style=\"height: 33px\"><td width=\"125\"><p id=\"u5c0dd67d\" class=\"ne-p\"><strong><span class=\"ne-text\">键值对（key-value）</span></strong></p></td><td width=\"125\"><p id=\"ud1a5d06c\" class=\"ne-p\"><span class=\"ne-text\">Tokyo Cabinet/Tyrant, Redis, Voldemort, Oracle BDB</span></p></td><td width=\"125\"><p id=\"u7ead5768\" class=\"ne-p\"><span class=\"ne-text\">内容缓存，主要用于处理大量数据的高访问负载，也用于一些日志系统等等。</span></p></td><td width=\"125\"><p id=\"uae3675cb\" class=\"ne-p\"><span class=\"ne-text\">Key 指向 Value 的键值对，通常用hash table来实现</span></p></td><td width=\"125\"><p id=\"u12cd05f6\" class=\"ne-p\"><span class=\"ne-text\">查找速度快</span></p></td><td width=\"125\"><p id=\"u1507ae6c\" class=\"ne-p\"><span class=\"ne-text\">数据无结构化，通常只被当作字符串或者二进制数据</span></p></td></tr><tr style=\"height: 33px\"><td width=\"125\"><p id=\"u9dbf0a40\" class=\"ne-p\"><strong><span class=\"ne-text\">列存储数据库</span></strong></p></td><td width=\"125\"><p id=\"u43006d70\" class=\"ne-p\"><span class=\"ne-text\">Cassandra, HBase, Riak</span></p></td><td width=\"125\"><p id=\"u7d15fae8\" class=\"ne-p\"><span class=\"ne-text\">分布式的文件系统</span></p></td><td width=\"125\"><p id=\"u7804c8c6\" class=\"ne-p\"><span class=\"ne-text\">以列簇式存储，将同一列数据存在一起</span></p></td><td width=\"125\"><p id=\"u13fe1587\" class=\"ne-p\"><span class=\"ne-text\">查找速度快，可扩展性强，更容易进行分布式扩展</span></p></td><td width=\"125\"><p id=\"u87e99df4\" class=\"ne-p\"><span class=\"ne-text\">功能相对局限</span></p></td></tr><tr style=\"height: 33px\"><td width=\"125\"><p id=\"u3c480aa3\" class=\"ne-p\"><strong><span class=\"ne-text\">文档型数据库</span></strong></p></td><td width=\"125\"><p id=\"u50a27754\" class=\"ne-p\"><span class=\"ne-text\">CouchDB, MongoDb</span></p></td><td width=\"125\"><p id=\"ud19638bb\" class=\"ne-p\"><span class=\"ne-text\">Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容）</span></p></td><td width=\"125\"><p id=\"u3c75bb05\" class=\"ne-p\"><span class=\"ne-text\">Key-Value对应的键值对，Value为结构化数据</span></p></td><td width=\"125\"><p id=\"u4c28cdaa\" class=\"ne-p\"><span class=\"ne-text\">数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构</span></p></td><td width=\"125\"><p id=\"uda5860e6\" class=\"ne-p\"><span class=\"ne-text\">查询性能不高，而且缺乏统一的查询语法。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"125\"><p id=\"u43fab7dd\" class=\"ne-p\"><strong><span class=\"ne-text\">图形(Graph)数据库</span></strong></p></td><td width=\"125\"><p id=\"ue685ef38\" class=\"ne-p\"><span class=\"ne-text\">Neo4J, InfoGrid, Infinite Graph</span></p></td><td width=\"125\"><p id=\"u5be5702e\" class=\"ne-p\"><span class=\"ne-text\">社交网络，推荐系统等。专注于构建关系图谱</span></p></td><td width=\"125\"><p id=\"u36b391b5\" class=\"ne-p\"><span class=\"ne-text\">图结构</span></p></td><td width=\"125\"><p id=\"u5e001d17\" class=\"ne-p\"><span class=\"ne-text\">利用图结构相关算法。比如最短路径寻址，N度关系查找等</span></p></td><td width=\"125\"><p id=\"ucf19a2ac\" class=\"ne-p\"><span class=\"ne-text\">很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群</span></p></td></tr></tbody></table><p id=\"u57b13679\" class=\"ne-p\"><br></p><h2 id=\"98812eda\"><span class=\"ne-text\">二、Redis入门</span></h2><p id=\"u87ca3f9c\" class=\"ne-p\"><br></p><h3 id=\"a4d3b02a\"><span class=\"ne-text\">概述</span></h3><p id=\"u4278b7b4\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u20d77b8d\" class=\"ne-p\"><span class=\"ne-text\">Redis是什么？</span></p></div><p id=\"u22f0bb01\" class=\"ne-p\"><br></p><p id=\"u3d1467c7\" class=\"ne-p\"><span class=\"ne-text\">Redis（Remote Dictionary Server )，即远程字典服务。</span></p><p id=\"ua1e102d7\" class=\"ne-p\"><br></p><p id=\"ub352ec73\" class=\"ne-p\"><span class=\"ne-text\">是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、</span><strong><span class=\"ne-text\">Key-Value数据库</span></strong><span class=\"ne-text\">，并提供多种语言的API。</span></p><p id=\"u177ec9c3\" class=\"ne-p\"><br></p><p id=\"u561fe470\" class=\"ne-p\"><span class=\"ne-text\">与memcached一样，为了保证效率，</span><strong><span class=\"ne-text\">数据都是缓存在内存中</span></strong><span class=\"ne-text\">。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。</span></p><p id=\"ufaee7b60\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u4be0160f\" class=\"ne-p\"><span class=\"ne-text\">Redis能该干什么？</span></p></div><p id=\"uf7bff61c\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"uf61edfae\"><span class=\"ne-text\">内存存储、持久化，内存是断电即失的，所以需要持久化（RDB、AOF）</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u91900b9e\"><span class=\"ne-text\">高效率、用于高速缓冲</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u52a5f3ce\"><span class=\"ne-text\">发布订阅系统</span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u9f22323c\"><span class=\"ne-text\">地图信息分析</span></li></ol><ol start=\"5\" class=\"ne-ol\"><li id=\"u96dc6481\"><span class=\"ne-text\">计时器、计数器(eg：浏览量)</span></li></ol><ol start=\"6\" class=\"ne-ol\"><li id=\"uea77a4a7\"><span class=\"ne-text\">。。。</span></li></ol><p id=\"ud2d54944\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ucef8c448\" class=\"ne-p\"><span class=\"ne-text\">特性</span></p></div><p id=\"u39ff0fc8\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ue8b63332\"><span class=\"ne-text\"> 多样的数据类型 </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u8423fc81\"><span class=\"ne-text\"> 持久化 </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u4cc1344b\"><span class=\"ne-text\"> 集群 </span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"uc9fd1ee5\"><span class=\"ne-text\"> 事务<br /></span><span class=\"ne-text\">… </span></li></ol><p id=\"ub731ec3e\" class=\"ne-p\"><br></p><h3 id=\"8a887b45\"><span class=\"ne-text\">环境搭建</span></h3><p id=\"u3e018972\" class=\"ne-p\"><br></p><p id=\"u1741812b\" class=\"ne-p\"><span class=\"ne-text\">官网：</span><a href=\"https://redis.io/\" data-href=\"https://redis.io/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://redis.io/</span></a></p><p id=\"u968fc810\" class=\"ne-p\"><br></p><p id=\"u12c40ee2\" class=\"ne-p\"><span class=\"ne-text\">推荐使用Linux服务器学习。</span></p><p id=\"u7ca81501\" class=\"ne-p\"><br></p><p id=\"ub05fa62c\" class=\"ne-p\"><span class=\"ne-text\">windows版本的Redis已经停更很久了…</span></p><p id=\"ua532686e\" class=\"ne-p\"><br></p><h3 id=\"7d834b8c\"><span class=\"ne-text\">Windows安装</span></h3><p id=\"u0fe06c6b\" class=\"ne-p\"><br></p><p id=\"u3e34957f\" class=\"ne-p\"><a href=\"https://github.com/dmajkic/redis\" data-href=\"https://github.com/dmajkic/redis\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://github.com/dmajkic/redis</span></a></p><p id=\"u88ed3eb2\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u14404b4b\"><span class=\"ne-text\">解压安装包<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820103922318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1103\" id=\"qRico\" class=\"ne-image\"></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u8398d6d5\"><span class=\"ne-text\">开启redis-server.exe</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u9dec3236\"><span class=\"ne-text\">启动redis-cli.exe测试</span><img src=\"https://img-blog.csdnimg.cn/20200820103950934.png#pic_center\" width=\"1062\" id=\"KF0w6\" class=\"ne-image\"></li></ol><p id=\"u340c68e3\" class=\"ne-p\"><br></p><h3 id=\"f1a36f58\"><span class=\"ne-text\">Linux安装</span></h3><p id=\"u95aa0fef\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ued17ec6a\"><span class=\"ne-text\"> 下载安装包！</span><code class=\"ne-code\"><span class=\"ne-text\">redis-5.0.8.tar.gz</span></code><span class=\"ne-text\"> </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u423edd3c\"><span class=\"ne-text\"> 解压Redis的安装包！程序一般放在 </span><code class=\"ne-code\"><span class=\"ne-text\">/opt</span></code><span class=\"ne-text\"> 目录下<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104016426.png#pic_center\" width=\"1006\" id=\"GiTUS\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u5f70a66a\"><span class=\"ne-text\"> 基本环境安装 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"bash\" id=\"658355f4\" class=\"ne-codeblock\">yum install gcc-c++\n# 然后进入redis目录下执行\nmake\n# 然后执行\nmake install</pre><p id=\"u51ac3c68\" class=\"ne-p\"><br></p><p id=\"uad3d4989\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820104048327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1085\" id=\"DfA3r\" class=\"ne-image\"></p><p id=\"u1a3c9160\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ud1974bc4\"><span class=\"ne-text\"> redis默认安装路径 </span><code class=\"ne-code\"><span class=\"ne-text\">/usr/local/bin</span></code><img src=\"https://img-blog.csdnimg.cn/20200820104140692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1098\" id=\"Fjg8x\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ueb5d3550\"><span class=\"ne-text\"> 将redis的配置文件复制到 程序安装目录 </span><code class=\"ne-code\"><span class=\"ne-text\">/usr/local/bin/kconfig</span></code><span class=\"ne-text\">下<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104157817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1102\" id=\"tn1ls\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u5f5343fc\"><span class=\"ne-text\"> redis默认不是后台启动的，需要修改配置文件！<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104213706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1088\" id=\"bjxOb\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u219aca3b\"><span class=\"ne-text\"> 通过制定的配置文件启动redis服务<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104228556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1101\" id=\"Cyr4o\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"5\" class=\"ne-ol\"><li id=\"u6e18c6d8\"><span class=\"ne-text\"> 使用redis-cli连接指定的端口号测试，Redis的默认端口6379<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104243223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"986\" id=\"Xywd7\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"6\" class=\"ne-ol\"><li id=\"u88aca35b\"><span class=\"ne-text\"> 查看redis进程是否开启<br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104300532.png#pic_center\" width=\"1102\" id=\"FHs8K\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"7\" class=\"ne-ol\"><li id=\"u2fdaa0c1\"><span class=\"ne-text\"> 关闭Redis服务 </span><code class=\"ne-code\"><span class=\"ne-text\">shutdown</span></code><span class=\"ne-text\"><br /></span><img src=\"https://img-blog.csdnimg.cn/20200820104314297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1102\" id=\"m0hEK\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ol><ol start=\"8\" class=\"ne-ol\"><li id=\"u2d9897ea\"><span class=\"ne-text\"> 再次查看进程是否存在 </span></li></ol><ol start=\"9\" class=\"ne-ol\"><li id=\"uf6c494ec\"><span class=\"ne-text\"> 后面我们会使用单机多Redis启动集群测试 </span></li></ol><p id=\"ub0f99241\" class=\"ne-p\"><br></p><h3 id=\"cb1df365\"><span class=\"ne-text\">测试性能</span></h3><p id=\"u04ba2e5d\" class=\"ne-p\"><br></p><p id=\"u3fd267e2\" class=\"ne-p\"><strong><span class=\"ne-text\">redis-benchmark：</span></strong><span class=\"ne-text\">Redis官方提供的性能测试工具，参数选项如下：</span></p><p id=\"u1b7f943c\" class=\"ne-p\"><br></p><p id=\"ueabe3ae1\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214125892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"746\" id=\"p6S7R\" class=\"ne-image\"></p><p id=\"ua065ba56\" class=\"ne-p\"><br></p><p id=\"u99ba7756\" class=\"ne-p\"><strong><span class=\"ne-text\">简单测试：</span></strong></p><p id=\"u91e2632a\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"e3998293\" class=\"ne-codeblock\"># 测试：100个并发连接 100000请求\nredis-benchmark -h localhost -p 6379 -c 100 -n 100000\n12</pre><p id=\"u323fef01\" class=\"ne-p\"><br></p><p id=\"u9b1e5492\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820104343472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1124\" id=\"gSOzi\" class=\"ne-image\"></p><p id=\"u5054efa1\" class=\"ne-p\"><br></p><h3 id=\"8453e91e\"><span class=\"ne-text\">基础知识</span></h3><p id=\"ub4a73e03\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ubf5626ed\" class=\"ne-p\"><span class=\"ne-text\">redis默认有16个数据库</span></p></div><p id=\"uef1c825e\" class=\"ne-p\"><br></p><p id=\"ue3e14e94\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820104357466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1116\" id=\"OtCTa\" class=\"ne-image\"></p><p id=\"u4742fe8e\" class=\"ne-p\"><br></p><p id=\"u2261644c\" class=\"ne-p\"><span class=\"ne-text\">默认使用的第0个;</span></p><p id=\"u87607efe\" class=\"ne-p\"><br></p><p id=\"u4bd7243f\" class=\"ne-p\"><span class=\"ne-text\">16个数据库为：DB 0~DB 15<br /></span><span class=\"ne-text\">默认使用DB 0 ，可以使用</span><code class=\"ne-code\"><span class=\"ne-text\">select n</span></code><span class=\"ne-text\">切换到DB n，</span><code class=\"ne-code\"><span class=\"ne-text\">dbsize</span></code><span class=\"ne-text\">可以查看当前数据库的大小，与key数量相关。</span></p><p id=\"u78ad8786\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"03762fd4\" class=\"ne-codeblock\">127.0.0.1:6379&gt; config get databases # 命令行查看数据库数量databases\n1) &quot;databases&quot;\n2) &quot;16&quot;\n\n127.0.0.1:6379&gt; select 8 # 切换数据库 DB 8\nOK\n127.0.0.1:6379[8]&gt; dbsize # 查看数据库大小\n(integer) 0\n\n# 不同数据库之间 数据是不能互通的，并且dbsize 是根据库中key的个数。\n127.0.0.1:6379&gt; set name sakura \nOK\n127.0.0.1:6379&gt; SELECT 8\nOK\n127.0.0.1:6379[8]&gt; get name # db8中并不能获取db0中的键值对。\n(nil)\n127.0.0.1:6379[8]&gt; DBSIZE\n(integer) 0\n127.0.0.1:6379[8]&gt; SELECT 0\nOK\n127.0.0.1:6379&gt; keys *\n1) &quot;counter:__rand_int__&quot;\n2) &quot;mylist&quot;\n3) &quot;name&quot;\n4) &quot;key:__rand_int__&quot;\n5) &quot;myset:__rand_int__&quot;\n127.0.0.1:6379&gt; DBSIZE # size和key个数相关\n(integer) 5</pre><p id=\"u84fcfa6d\" class=\"ne-p\"><br></p><p id=\"u950011fc\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">keys *</span></code><span class=\"ne-text\"> ：查看当前数据库中所有的key。</span></p><p id=\"u475ed287\" class=\"ne-p\"><br></p><p id=\"ue70a3f5e\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">flushdb</span></code><span class=\"ne-text\">：清空当前数据库中的键值对。</span></p><p id=\"uaa644572\" class=\"ne-p\"><br></p><p id=\"u3bf50492\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">flushall</span></code><span class=\"ne-text\">：清空所有数据库的键值对。</span></p><p id=\"uf1a4a5da\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u2c6b42dc\" class=\"ne-p\"><strong><span class=\"ne-text\">Redis是单线程的，Redis是基于内存操作的。</span></strong></p></div><p id=\"ua3eca479\" class=\"ne-p\"><br></p><p id=\"uf214bf6a\" class=\"ne-p\"><span class=\"ne-text\">所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。</span></p><p id=\"u9e8bb3d2\" class=\"ne-p\"><br></p><p id=\"ua3b136a4\" class=\"ne-p\"><span class=\"ne-text\">那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+</span></p><p id=\"u259a977e\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ua9554450\" class=\"ne-p\"><strong><span class=\"ne-text\">Redis为什么单线程还这么快？</span></strong></p></div><p id=\"u9aee254c\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u4943518f\"><span class=\"ne-text\">误区1：高性能的服务器一定是多线程的？</span></li></ul><ul class=\"ne-ul\"><li id=\"u803505cf\"><span class=\"ne-text\">误区2：多线程（CPU上下文会切换！）一定比单线程效率高！</span></li></ul><p id=\"u4ce5f5d9\" class=\"ne-p\"><br></p><p id=\"u3c75a39a\" class=\"ne-p\"><span class=\"ne-text\">核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。</span></p><p id=\"uaabfbc4b\" class=\"ne-p\"><br></p><h2 id=\"b9ae2c5c\"><span class=\"ne-text\">三、五大数据类型</span></h2><p id=\"u60950739\" class=\"ne-p\"><br></p><p id=\"u743deb77\" class=\"ne-p\"><span class=\"ne-text\">Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作</span><strong><span class=\"ne-text\">数据库</span></strong><span class=\"ne-text\">，</span><strong><span class=\"ne-text\">高速缓存</span></strong><span class=\"ne-text\">和</span><strong><span class=\"ne-text\">消息队列代理</span></strong><span class=\"ne-text\">。它支持</span><a href=\"https://www.redis.net.cn/tutorial/3508.html\" data-href=\"https://www.redis.net.cn/tutorial/3508.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">字符串</span></a><span class=\"ne-text\">、</span><a href=\"https://www.redis.net.cn/tutorial/3509.html\" data-href=\"https://www.redis.net.cn/tutorial/3509.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">哈希表</span></a><span class=\"ne-text\">、</span><a href=\"https://www.redis.net.cn/tutorial/3510.html\" data-href=\"https://www.redis.net.cn/tutorial/3510.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">列表</span></a><span class=\"ne-text\">、</span><a href=\"https://www.redis.net.cn/tutorial/3511.html\" data-href=\"https://www.redis.net.cn/tutorial/3511.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">集合</span></a><span class=\"ne-text\">、</span><a href=\"https://www.redis.net.cn/tutorial/3512.html\" data-href=\"https://www.redis.net.cn/tutorial/3512.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">有序集合</span></a><span class=\"ne-text\">，</span><a href=\"https://www.redis.net.cn/tutorial/3508.html\" data-href=\"https://www.redis.net.cn/tutorial/3508.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">位图</span></a><span class=\"ne-text\">，</span><a href=\"https://www.redis.net.cn/tutorial/3513.html\" data-href=\"https://www.redis.net.cn/tutorial/3513.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hyperloglogs</span></a><span class=\"ne-text\">等数据类型。内置复制、</span><a href=\"https://www.redis.net.cn/tutorial/3516.html\" data-href=\"https://www.redis.net.cn/tutorial/3516.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Lua脚本</span></a><span class=\"ne-text\">、LRU收回、</span><a href=\"https://www.redis.net.cn/tutorial/3515.html\" data-href=\"https://www.redis.net.cn/tutorial/3515.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">事务</span></a><span class=\"ne-text\">以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动</span><a href=\"https://www.redis.net.cn/tutorial/3524.html\" data-href=\"https://www.redis.net.cn/tutorial/3524.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">分区</span></a><span class=\"ne-text\">。</span></p><p id=\"u618a801e\" class=\"ne-p\"><br></p><h3 id=\"Redis-key\"><span class=\"ne-text\">Redis-key</span></h3><p id=\"u2695c639\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u637ea431\" class=\"ne-p\"><span class=\"ne-text\">在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。</span></p></div><p id=\"ue585befd\" class=\"ne-p\"><br></p><p id=\"uba3e1185\" class=\"ne-p\"><span class=\"ne-text\">下面学习的命令：</span></p><p id=\"u85860796\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"uaa89027d\"><code class=\"ne-code\"><span class=\"ne-text\">exists key</span></code><span class=\"ne-text\">：判断键是否存在</span></li></ul><ul class=\"ne-ul\"><li id=\"uc98112f1\"><code class=\"ne-code\"><span class=\"ne-text\">del key</span></code><span class=\"ne-text\">：删除键值对</span></li></ul><ul class=\"ne-ul\"><li id=\"uc274c140\"><code class=\"ne-code\"><span class=\"ne-text\">move key db</span></code><span class=\"ne-text\">：将键值对移动到指定数据库</span></li></ul><ul class=\"ne-ul\"><li id=\"u321d4bc0\"><code class=\"ne-code\"><span class=\"ne-text\">expire key second</span></code><span class=\"ne-text\">：设置键值对的过期时间</span></li></ul><ul class=\"ne-ul\"><li id=\"u3a37addc\"><code class=\"ne-code\"><span class=\"ne-text\">type key</span></code><span class=\"ne-text\">：查看value的数据类型</span></li></ul><p id=\"ue26ea4e4\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"0d5f8b59\" class=\"ne-codeblock\">127.0.0.1:6379&gt; keys * # 查看当前数据库所有key\n(empty list or set)\n127.0.0.1:6379&gt; set name qinjiang # set key\nOK\n127.0.0.1:6379&gt; set age 20\nOK\n127.0.0.1:6379&gt; keys *\n1) &quot;age&quot;\n2) &quot;name&quot;\n127.0.0.1:6379&gt; move age 1 # 将键值对移动到指定数据库\n(integer) 1\n127.0.0.1:6379&gt; EXISTS age # 判断键是否存在\n(integer) 0 # 不存在\n127.0.0.1:6379&gt; EXISTS name\n(integer) 1 # 存在\n127.0.0.1:6379&gt; SELECT 1\nOK\n127.0.0.1:6379[1]&gt; keys *\n1) &quot;age&quot;\n127.0.0.1:6379[1]&gt; del age # 删除键值对\n(integer) 1 # 删除个数\n\n\n127.0.0.1:6379&gt; set age 20\nOK\n127.0.0.1:6379&gt; EXPIRE age 15 # 设置键值对的过期时间\n\n(integer) 1 # 设置成功 开始计数\n127.0.0.1:6379&gt; ttl age # 查看key的过期剩余时间\n(integer) 13\n127.0.0.1:6379&gt; ttl age\n(integer) 11\n127.0.0.1:6379&gt; ttl age\n(integer) 9\n127.0.0.1:6379&gt; ttl age\n(integer) -2 # -2 表示key过期，-1表示key未设置过期时间\n\n127.0.0.1:6379&gt; get age # 过期的key 会被自动delete\n(nil)\n127.0.0.1:6379&gt; keys *\n1) &quot;name&quot;\n\n127.0.0.1:6379&gt; type name # 查看value的数据类型\nstring</pre><p id=\"u988060db\" class=\"ne-p\"><br></p><p id=\"ub895d76d\" class=\"ne-p\"><span class=\"ne-text\">关于</span><code class=\"ne-code\"><span class=\"ne-text\">TTL</span></code><span class=\"ne-text\">命令</span></p><p id=\"u9d6b52d4\" class=\"ne-p\"><br></p><p id=\"u957881df\" class=\"ne-p\"><span class=\"ne-text\">Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：</span></p><p id=\"u121d5f6b\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u3fa1738a\"><span class=\"ne-text\">当前key没有设置过期时间，所以会返回-1.</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ub52e31c0\"><span class=\"ne-text\">当前key有设置过期时间，而且key已经过期，所以会返回-2.</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u5413222a\"><span class=\"ne-text\">当前key有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.</span></li></ol><p id=\"ue0f59f14\" class=\"ne-p\"><br></p><p id=\"ue4a7132d\" class=\"ne-p\"><span class=\"ne-text\">关于重命名</span><code class=\"ne-code\"><span class=\"ne-text\">RENAME</span></code><span class=\"ne-text\">和</span><code class=\"ne-code\"><span class=\"ne-text\">RENAMENX</span></code></p><p id=\"uc9dfde40\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ud80cb9dc\"><code class=\"ne-code\"><span class=\"ne-text\">RENAME key newkey</span></code><span class=\"ne-text\">修改 key 的名称</span></li></ul><ul class=\"ne-ul\"><li id=\"u5efd04b0\"><code class=\"ne-code\"><span class=\"ne-text\">RENAMENX key newkey</span></code><span class=\"ne-text\">仅当 newkey 不存在时，将 key 改名为 newkey 。</span></li></ul><p id=\"ua90cf51c\" class=\"ne-p\"><br></p><p id=\"u81aefddd\" class=\"ne-p\"><span class=\"ne-text\">更多命令学习：</span><a href=\"https://www.redis.net.cn/order/\" data-href=\"https://www.redis.net.cn/order/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.redis.net.cn/order/</span></a></p><p id=\"u0f3baea7\" class=\"ne-p\"><br></p><p id=\"u0d5c6875\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wBVZtGVm-1597890996517)(狂神说 Redis.assets/image-20200813114228439.png)]</span></p><p id=\"u2b98a643\" class=\"ne-p\"><br></p><h3 id=\"dab38aa6\"><span class=\"ne-text\">String(字符串)</span></h3><p id=\"u23bea802\" class=\"ne-p\"><br></p><p id=\"uf1805803\" class=\"ne-p\"><span class=\"ne-text\">普通的set、get直接略过。</span></p><table id=\"309c9fd2\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u411d3c1e\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"250\"><p id=\"ud09e2abd\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td><td width=\"250\"><p id=\"u2fdb66d0\" class=\"ne-p\"><span class=\"ne-text\">示例</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u852774b8\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">APPEND key value</span></code></p></td><td width=\"250\"><p id=\"uebb6193c\" class=\"ne-p\"><span class=\"ne-text\">向指定的key的value后追加字符串</span></p></td><td width=\"250\"><p id=\"u80618177\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; set msg hello OK 127.0.0.1:6379&gt; append msg &quot; world&quot; (integer) 11 127.0.0.1:6379&gt; get msg “hello world”</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u159c23ae\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">DECR/INCR key</span></code></p></td><td width=\"250\"><p id=\"ue094986e\" class=\"ne-p\"><span class=\"ne-text\">将指定key的value数值进行+1/-1(仅对于数字)</span></p></td><td width=\"250\"><p id=\"u208d3fc0\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; set age 20 OK 127.0.0.1:6379&gt; incr age (integer) 21 127.0.0.1:6379&gt; decr age (integer) 20</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u43754a12\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">INCRBY/DECRBY key n</span></code></p></td><td width=\"250\"><p id=\"u477458ea\" class=\"ne-p\"><span class=\"ne-text\">按指定的步长对数值进行加减</span></p></td><td width=\"250\"><p id=\"ufb7c5e1a\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; INCRBY age 5 (integer) 25 127.0.0.1:6379&gt; DECRBY age 10 (integer) 15</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ua5ac0846\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">INCRBYFLOAT key n</span></code></p></td><td width=\"250\"><p id=\"ue0d9b7f8\" class=\"ne-p\"><span class=\"ne-text\">为数值加上浮点型数值</span></p></td><td width=\"250\"><p id=\"u2fb350b4\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; INCRBYFLOAT age 5.2 “20.2”</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u89e75a70\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">STRLEN key</span></code></p></td><td width=\"250\"><p id=\"u09de9791\" class=\"ne-p\"><span class=\"ne-text\">获取key保存值的字符串长度</span></p></td><td width=\"250\"><p id=\"u1cc7f3dd\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; get msg “hello world” 127.0.0.1:6379&gt; STRLEN msg (integer) 11</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"uf26d9921\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">GETRANGE key start end</span></code></p></td><td width=\"250\"><p id=\"ub89a9140\" class=\"ne-p\"><span class=\"ne-text\">按起止位置获取字符串（闭区间，起止位置都取）</span></p></td><td width=\"250\"><p id=\"ua158110b\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; get msg “hello world” 127.0.0.1:6379&gt; GETRANGE msg 3 9 “lo worl”</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ufa9ce376\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SETRANGE key offset value</span></code></p></td><td width=\"250\"><p id=\"ub611f246\" class=\"ne-p\"><span class=\"ne-text\">用指定的value 替换key中 offset开始的值</span></p></td><td width=\"250\"><p id=\"u15de01dd\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; SETRANGE msg 2 hello (integer) 7 127.0.0.1:6379&gt; get msg “tehello”</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u25d3dee6\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">GETSET key value</span></code></p></td><td width=\"250\"><p id=\"ud22afc45\" class=\"ne-p\"><span class=\"ne-text\">将给定 key 的值设为 value ，并返回 key 的旧值(old value)。</span></p></td><td width=\"250\"><p id=\"u51840d44\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; GETSET msg test “hello world”</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u6f1f9884\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SETNX key value</span></code></p></td><td width=\"250\"><p id=\"ub73b3923\" class=\"ne-p\"><span class=\"ne-text\">仅当key不存在时进行set</span></p></td><td width=\"250\"><p id=\"ua13503f0\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; SETNX msg test (integer) 0 127.0.0.1:6379&gt; SETNX name sakura (integer) 1</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"uba9f9eba\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SETEX key seconds value</span></code></p></td><td width=\"250\"><p id=\"u804e89f7\" class=\"ne-p\"><span class=\"ne-text\">set 键值对并设置过期时间</span></p></td><td width=\"250\"><p id=\"u7efbc420\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; setex name 10 root OK 127.0.0.1:6379&gt; get name (nil)</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u603173f0\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">MSET key1 value1 [key2 value2..]</span></code></p></td><td width=\"250\"><p id=\"u412778fd\" class=\"ne-p\"><span class=\"ne-text\">批量set键值对</span></p></td><td width=\"250\"><p id=\"ub14566e6\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3 OK</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ua42497fa\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">MSETNX key1 value1 [key2 value2..]</span></code></p></td><td width=\"250\"><p id=\"u700ad718\" class=\"ne-p\"><span class=\"ne-text\">批量设置键值对，仅当参数中所有的key都不存在时执行</span></p></td><td width=\"250\"><p id=\"ue5d511c5\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; MSETNX k1 v1 k4 v4 (integer) 0</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u7dd654d6\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">MGET key1 [key2..]</span></code></p></td><td width=\"250\"><p id=\"ud5acd8ca\" class=\"ne-p\"><span class=\"ne-text\">批量获取多个key保存的值</span></p></td><td width=\"250\"><p id=\"u22a35176\" class=\"ne-p\"><span class=\"ne-text\">127.0.0.1:6379&gt; MGET k1 k2 k3 1) “v1” 2) “v2” 3) “v3”</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u26ecf13f\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PSETEX key milliseconds value</span></code></p></td><td width=\"250\"><p id=\"u458c1f6d\" class=\"ne-p\"><span class=\"ne-text\">和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间，</span></p></td><td width=\"250\"></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u89aefe04\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">getset key value</span></code></p></td><td width=\"250\"><p id=\"uf02d8d70\" class=\"ne-p\"><span class=\"ne-text\">如果不存在值，则返回nil，如果存在值，获取原来的值，并设置新的值</span></p></td><td width=\"250\"></td></tr></tbody></table><p id=\"ua2b03380\" class=\"ne-p\"><br></p><p id=\"u87c2845c\" class=\"ne-p\"><span class=\"ne-text\">String类似的使用场景：value除了是字符串还可以是数字，用途举例：</span></p><p id=\"ubc234437\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u22a00199\"><span class=\"ne-text\">计数器</span></li></ul><ul class=\"ne-ul\"><li id=\"u33665230\"><span class=\"ne-text\">统计多单位的数量：uid:123666：follow 0</span></li></ul><ul class=\"ne-ul\"><li id=\"u0cf26094\"><span class=\"ne-text\">粉丝数</span></li></ul><ul class=\"ne-ul\"><li id=\"ufe8bc5fe\"><span class=\"ne-text\">对象存储缓存</span></li></ul><p id=\"ua1376801\" class=\"ne-p\"><br></p><h3 id=\"285a2314\"><span class=\"ne-text\">List(列表)</span></h3><p id=\"u33feec6f\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u9c17813e\" class=\"ne-p\"><span class=\"ne-text\">Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）</span></p><p id=\"u99414b02\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u12c4caca\" class=\"ne-p\"><span class=\"ne-text\">一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。</span></p></div><p id=\"u876d5a3c\" class=\"ne-p\"><br></p><p id=\"uacb7cc02\" class=\"ne-p\"><span class=\"ne-text\">首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等</span></p><p id=\"uefeca742\" class=\"ne-p\"><br></p><p id=\"ud1ffa4df\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200820104440398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center\" width=\"1119\" id=\"XKZ67\" class=\"ne-image\"></p><p id=\"uef8e4664\" class=\"ne-p\"><br></p><p id=\"u7cf5d68c\" class=\"ne-p\"><span class=\"ne-text\">正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN</span></p><table id=\"c6775235\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u579ff057\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"u8777a6de\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u14021529\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LPUSH/RPUSH key value1[value2..]</span></code></p></td><td width=\"375\"><p id=\"ub578c060\" class=\"ne-p\"><span class=\"ne-text\">从左边/右边向列表中PUSH值(一个或者多个)。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u98b78de9\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LRANGE key start end</span></code></p></td><td width=\"375\"><p id=\"ubab79559\" class=\"ne-p\"><span class=\"ne-text\">获取list 起止元素==（索引从左往右 递增）==</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u98bb3993\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LPUSHX/RPUSHX key value</span></code></p></td><td width=\"375\"><p id=\"u390c8c7f\" class=\"ne-p\"><span class=\"ne-text\">向已存在的列名中push值（一个或者多个）</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u9b2d0518\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LINSERT key BEFORE|AFTER pivot value</span></code></p></td><td width=\"375\"><p id=\"u6f4e9fa9\" class=\"ne-p\"><span class=\"ne-text\">在指定列表元素的前/后 插入value</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ub0898aa7\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LLEN key</span></code></p></td><td width=\"375\"><p id=\"u0f10f728\" class=\"ne-p\"><span class=\"ne-text\">查看列表长度</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u3adae3d4\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LINDEX key index</span></code></p></td><td width=\"375\"><p id=\"ua3aa30f1\" class=\"ne-p\"><span class=\"ne-text\">通过索引获取列表元素</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u16ff6edf\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LSET key index value</span></code></p></td><td width=\"375\"><p id=\"u22703cd8\" class=\"ne-p\"><span class=\"ne-text\">通过索引为元素设值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uc49c2dc8\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LPOP/RPOP key</span></code></p></td><td width=\"375\"><p id=\"u1f0d2256\" class=\"ne-p\"><span class=\"ne-text\">从最左边/最右边移除值 并返回</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u0ab6339f\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">RPOPLPUSH source destination</span></code></p></td><td width=\"375\"><p id=\"u20f9d554\" class=\"ne-p\"><span class=\"ne-text\">将列表的尾部(右)最后一个值弹出，并返回，然后加到另一个列表的头部</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u29d8920b\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LTRIM key start end</span></code></p></td><td width=\"375\"><p id=\"u643651e2\" class=\"ne-p\"><span class=\"ne-text\">通过下标截取指定范围内的列表</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uf4356e27\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">LREM key count value</span></code></p></td><td width=\"375\"><p id=\"u6e9bf7f4\" class=\"ne-p\"><span class=\"ne-text\">List中是允许value重复的 </span><code class=\"ne-code\"><span class=\"ne-text\">count &gt; 0</span></code></p><p id=\"u7fbd322b\" class=\"ne-p\"><span class=\"ne-text\">：从头部开始搜索 然后删除指定的value 至多删除count个 </span><code class=\"ne-code\"><span class=\"ne-text\">count &lt; 0</span></code></p><p id=\"u01ed02b8\" class=\"ne-p\"><span class=\"ne-text\">：从尾部开始搜索… </span><code class=\"ne-code\"><span class=\"ne-text\">count = 0</span></code></p><p id=\"u26fe1a6d\" class=\"ne-p\"><span class=\"ne-text\">：删除列表中所有的指定value。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u3076acba\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">BLPOP/BRPOP key1[key2] timout</span></code></p></td><td width=\"375\"><p id=\"u7be0e761\" class=\"ne-p\"><span class=\"ne-text\">移出并获取列表的第一个/最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u0de2d6ae\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">BRPOPLPUSH source destination timeout</span></code></p></td><td width=\"375\"><p id=\"u1382e477\" class=\"ne-p\"><span class=\"ne-text\">和</span><code class=\"ne-code\"><span class=\"ne-text\">RPOPLPUSH</span></code></p><p id=\"ue2b731d8\" class=\"ne-p\"><span class=\"ne-text\">功能相同，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</span></p></td></tr></tbody></table><p id=\"ufffa222a\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"c50dde70\" class=\"ne-codeblock\">---------------------------LPUSH---RPUSH---LRANGE--------------------------------\n\n127.0.0.1:6379&gt; LPUSH mylist k1 # LPUSH mylist=&gt;{1}\n(integer) 1\n127.0.0.1:6379&gt; LPUSH mylist k2 # LPUSH mylist=&gt;{2,1}\n(integer) 2\n127.0.0.1:6379&gt; RPUSH mylist k3 # RPUSH mylist=&gt;{2,1,3}\n(integer) 3\n127.0.0.1:6379&gt; get mylist # 普通的get是无法获取list值的\n(error) WRONGTYPE Operation against a key holding the wrong kind of value\n127.0.0.1:6379&gt; LRANGE mylist 0 4 # LRANGE 获取起止位置范围内的元素\n1) &quot;k2&quot;\n2) &quot;k1&quot;\n3) &quot;k3&quot;\n127.0.0.1:6379&gt; LRANGE mylist 0 2\n1) &quot;k2&quot;\n2) &quot;k1&quot;\n3) &quot;k3&quot;\n127.0.0.1:6379&gt; LRANGE mylist 0 1\n1) &quot;k2&quot;\n2) &quot;k1&quot;\n127.0.0.1:6379&gt; LRANGE mylist 0 -1 # 获取全部元素\n1) &quot;k2&quot;\n2) &quot;k1&quot;\n3) &quot;k3&quot;\n\n---------------------------LPUSHX---RPUSHX-----------------------------------\n\n127.0.0.1:6379&gt; LPUSHX list v1 # list不存在 LPUSHX失败\n(integer) 0\n127.0.0.1:6379&gt; LPUSHX list v1 v2  \n(integer) 0\n127.0.0.1:6379&gt; LPUSHX mylist k4 k5 # 向mylist中 左边 PUSH k4 k5\n(integer) 5\n127.0.0.1:6379&gt; LRANGE mylist 0 -1\n1) &quot;k5&quot;\n2) &quot;k4&quot;\n3) &quot;k2&quot;\n4) &quot;k1&quot;\n5) &quot;k3&quot;\n\n---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------\n\n127.0.0.1:6379&gt; LINSERT mylist after k2 ins_key1 # 在k2元素后 插入ins_key1\n(integer) 6\n127.0.0.1:6379&gt; LRANGE mylist 0 -1\n1) &quot;k5&quot;\n2) &quot;k4&quot;\n3) &quot;k2&quot;\n4) &quot;ins_key1&quot;\n5) &quot;k1&quot;\n6) &quot;k3&quot;\n127.0.0.1:6379&gt; LLEN mylist # 查看mylist的长度\n(integer) 6\n127.0.0.1:6379&gt; LINDEX mylist 3 # 获取下标为3的元素\n&quot;ins_key1&quot;\n127.0.0.1:6379&gt; LINDEX mylist 0\n&quot;k5&quot;\n127.0.0.1:6379&gt; LSET mylist 3 k6 # 将下标3的元素 set值为k6\nOK\n127.0.0.1:6379&gt; LRANGE mylist 0 -1\n1) &quot;k5&quot;\n2) &quot;k4&quot;\n3) &quot;k2&quot;\n4) &quot;k6&quot;\n5) &quot;k1&quot;\n6) &quot;k3&quot;\n\n---------------------------LPOP--RPOP--------------------------\n\n127.0.0.1:6379&gt; LPOP mylist # 左侧(头部)弹出\n&quot;k5&quot;\n127.0.0.1:6379&gt; RPOP mylist # 右侧(尾部)弹出\n&quot;k3&quot;\n\n---------------------------RPOPLPUSH--------------------------\n\n127.0.0.1:6379&gt; LRANGE mylist 0 -1\n1) &quot;k4&quot;\n2) &quot;k2&quot;\n3) &quot;k6&quot;\n4) &quot;k1&quot;\n127.0.0.1:6379&gt; RPOPLPUSH mylist newlist # 将mylist的最后一个值(k1)弹出，加入到newlist的头部\n&quot;k1&quot;\n127.0.0.1:6379&gt; LRANGE newlist 0 -1\n1) &quot;k1&quot;\n127.0.0.1:6379&gt; LRANGE mylist 0 -1\n1) &quot;k4&quot;\n2) &quot;k2&quot;\n3) &quot;k6&quot;\n\n---------------------------LTRIM--------------------------\n\n127.0.0.1:6379&gt; LTRIM mylist 0 1 # 截取mylist中的 0~1部分\nOK\n127.0.0.1:6379&gt; LRANGE mylist 0 -1\n1) &quot;k4&quot;\n2) &quot;k2&quot;\n\n# 初始 mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2\n---------------------------LREM--------------------------\n\n127.0.0.1:6379&gt; LREM mylist 3 k2 # 从头部开始搜索 至多删除3个 k2\n(integer) 3\n# 删除后：mylist: k2,k2,k2,k4,k2,k2,k2,k2\n\n127.0.0.1:6379&gt; LREM mylist -2 k2 #从尾部开始搜索 至多删除2个 k2\n(integer) 2\n# 删除后：mylist: k2,k2,k2,k4,k2,k2\n\n\n---------------------------BLPOP--BRPOP--------------------------\n\nmylist: k2,k2,k2,k4,k2,k2\nnewlist: k1\n\n127.0.0.1:6379&gt; BLPOP newlist mylist 30 # 从newlist中弹出第一个值，mylist作为候选\n1) &quot;newlist&quot; # 弹出\n2) &quot;k1&quot;\n127.0.0.1:6379&gt; BLPOP newlist mylist 30\n1) &quot;mylist&quot; # 由于newlist空了 从mylist中弹出\n2) &quot;k2&quot;\n127.0.0.1:6379&gt; BLPOP newlist 30\n(30.10s) # 超时了\n\n127.0.0.1:6379&gt; BLPOP newlist 30 # 我们连接另一个客户端向newlist中push了test, 阻塞被解决。\n1) &quot;newlist&quot;\n2) &quot;test&quot;\n(12.54s)</pre><p id=\"u7d3e12e2\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u06f638e8\" class=\"ne-p\"><span class=\"ne-text\">小结</span></p></div><p id=\"u23f6b20f\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u6db9c14b\"><span class=\"ne-text\">list实际上是一个链表，before Node after , left, right 都可以插入值</span></li></ul><ul class=\"ne-ul\"><li id=\"ua3cbae37\"><strong><span class=\"ne-text\">如果key不存在，则创建新的链表</span></strong></li></ul><ul class=\"ne-ul\"><li id=\"ue8d192a5\"><span class=\"ne-text\">如果key存在，新增内容</span></li></ul><ul class=\"ne-ul\"><li id=\"u774266c2\"><span class=\"ne-text\">如果移除了所有值，空链表，也代表不存在</span></li></ul><ul class=\"ne-ul\"><li id=\"u5828e052\"><span class=\"ne-text\">在两边插入或者改动值，效率最高！修改中间元素，效率相对较低</span></li></ul><p id=\"u9425675f\" class=\"ne-p\"><br></p><p id=\"u3e1b9a01\" class=\"ne-p\"><strong><span class=\"ne-text\">应用：</span></strong></p><p id=\"ua70bda1a\" class=\"ne-p\"><br></p><p id=\"u87fa2679\" class=\"ne-p\"><strong><span class=\"ne-text\">消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）</span></strong></p><p id=\"u224ce1a2\" class=\"ne-p\"><br></p><h3 id=\"5b4368f5\"><span class=\"ne-text\">Set(集合)</span></h3><p id=\"u7262d122\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u21d5d787\" class=\"ne-p\"><span class=\"ne-text\">Redis的Set是</span><strong><span class=\"ne-text\">string类型</span></strong><span class=\"ne-text\">的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</span></p><p id=\"u63a87464\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"uab07d79e\" class=\"ne-p\"><span class=\"ne-text\">Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。</span></p><p id=\"u9137a576\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u2fb4498c\" class=\"ne-p\"><span class=\"ne-text\">集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</span></p></div><table id=\"bcb771db\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u24673a25\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"ub8f61af5\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u3b07cb29\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SADD key member1[member2..]</span></code></p></td><td width=\"375\"><p id=\"u9c03f173\" class=\"ne-p\"><span class=\"ne-text\">向集合中无序增加一个/多个成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u25bf9a7a\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SCARD key</span></code></p></td><td width=\"375\"><p id=\"ued67a42d\" class=\"ne-p\"><span class=\"ne-text\">获取集合的成员数</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ubfe2ae51\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SMEMBERS key</span></code></p></td><td width=\"375\"><p id=\"u0b1bf44d\" class=\"ne-p\"><span class=\"ne-text\">返回集合中所有的成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u0bfc111a\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SISMEMBER key member</span></code></p></td><td width=\"375\"><p id=\"u3025fe9a\" class=\"ne-p\"><span class=\"ne-text\">查询member元素是否是集合的成员,结果是无序的</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u24e82721\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SRANDMEMBER key [count]</span></code></p></td><td width=\"375\"><p id=\"u61bff5f3\" class=\"ne-p\"><span class=\"ne-text\">随机返回集合中count个成员，count缺省值为1</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u67bfe8c6\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SPOP key [count]</span></code></p></td><td width=\"375\"><p id=\"udfb124a5\" class=\"ne-p\"><span class=\"ne-text\">随机移除并返回集合中count个成员，count缺省值为1</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u25c58c86\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SMOVE source destination member</span></code></p></td><td width=\"375\"><p id=\"ub8dc7f11\" class=\"ne-p\"><span class=\"ne-text\">将source集合的成员member移动到destination集合</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u085dbc12\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SREM key member1[member2..]</span></code></p></td><td width=\"375\"><p id=\"uf8abf963\" class=\"ne-p\"><span class=\"ne-text\">移除集合中一个/多个成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u0f735f0e\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SDIFF key1[key2..]</span></code></p></td><td width=\"375\"><p id=\"uf8de6409\" class=\"ne-p\"><span class=\"ne-text\">返回所有集合的差集 key1- key2 - …</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u8d4d2977\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SDIFFSTORE destination key1[key2..]</span></code></p></td><td width=\"375\"><p id=\"uc22ca6b6\" class=\"ne-p\"><span class=\"ne-text\">在SDIFF的基础上，将结果保存到集合中==(覆盖)==。不能保存到其他类型key噢！</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u1ff9fbc2\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SINTER key1 [key2..]</span></code></p></td><td width=\"375\"><p id=\"uf76fe8a8\" class=\"ne-p\"><span class=\"ne-text\">返回所有集合的交集</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u5e4b3315\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SINTERSTORE destination key1[key2..]</span></code></p></td><td width=\"375\"><p id=\"uceeeb07d\" class=\"ne-p\"><span class=\"ne-text\">在SINTER的基础上，存储结果到集合中。覆盖</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u9563240a\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SUNION key1 [key2..]</span></code></p></td><td width=\"375\"><p id=\"u21404a87\" class=\"ne-p\"><span class=\"ne-text\">返回所有集合的并集</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u34886729\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SUNIONSTORE destination key1 [key2..]</span></code></p></td><td width=\"375\"><p id=\"u4f8464ff\" class=\"ne-p\"><span class=\"ne-text\">在SUNION的基础上，存储结果到及和张。覆盖</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uf35349ec\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SSCAN KEY [MATCH pattern] [COUNT count]</span></code></p></td><td width=\"375\"><p id=\"u062206c8\" class=\"ne-p\"><span class=\"ne-text\">在大量数据环境下，使用此命令遍历集合中元素，每次遍历部分</span></p></td></tr></tbody></table><p id=\"uc6041227\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"e4179110\" class=\"ne-codeblock\">---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------\n\n127.0.0.1:6379&gt; SADD myset m1 m2 m3 m4 # 向myset中增加成员 m1~m4\n(integer) 4\n127.0.0.1:6379&gt; SCARD myset # 获取集合的成员数目\n(integer) 4\n127.0.0.1:6379&gt; smembers myset # 获取集合中所有成员\n1) &quot;m4&quot;\n2) &quot;m3&quot;\n3) &quot;m2&quot;\n4) &quot;m1&quot;\n127.0.0.1:6379&gt; SISMEMBER myset m5 # 查询m5是否是myset的成员\n(integer) 0 # 不是，返回0\n127.0.0.1:6379&gt; SISMEMBER myset m2\n(integer) 1 # 是，返回1\n127.0.0.1:6379&gt; SISMEMBER myset m3\n(integer) 1\n\n---------------------SRANDMEMBER--SPOP----------------------------------\n\n127.0.0.1:6379&gt; SRANDMEMBER myset 3 # 随机返回3个成员\n1) &quot;m2&quot;\n2) &quot;m3&quot;\n3) &quot;m4&quot;\n127.0.0.1:6379&gt; SRANDMEMBER myset # 随机返回1个成员\n&quot;m3&quot;\n127.0.0.1:6379&gt; SPOP myset 2 # 随机移除并返回2个成员\n1) &quot;m1&quot;\n2) &quot;m4&quot;\n# 将set还原到{m1,m2,m3,m4}\n\n---------------------SMOVE--SREM----------------------------------------\n\n127.0.0.1:6379&gt; SMOVE myset newset m3 # 将myset中m3成员移动到newset集合\n(integer) 1\n127.0.0.1:6379&gt; SMEMBERS myset\n1) &quot;m4&quot;\n2) &quot;m2&quot;\n3) &quot;m1&quot;\n127.0.0.1:6379&gt; SMEMBERS newset\n1) &quot;m3&quot;\n127.0.0.1:6379&gt; SREM newset m3 # 从newset中移除m3元素\n(integer) 1\n127.0.0.1:6379&gt; SMEMBERS newset\n(empty list or set)\n\n# 下面开始是多集合操作,多集合操作中若只有一个参数默认和自身进行运算\n# setx=&gt;{m1,m2,m4,m6}, sety=&gt;{m2,m5,m6}, setz=&gt;{m1,m3,m6}\n\n-----------------------------SDIFF------------------------------------\n\n127.0.0.1:6379&gt; SDIFF setx sety setz # 等价于setx-sety-setz\n1) &quot;m4&quot;\n127.0.0.1:6379&gt; SDIFF setx sety # setx - sety\n1) &quot;m4&quot;\n2) &quot;m1&quot;\n127.0.0.1:6379&gt; SDIFF sety setx # sety - setx\n1) &quot;m5&quot;\n\n\n-------------------------SINTER---------------------------------------\n# 共同关注（交集）\n\n127.0.0.1:6379&gt; SINTER setx sety setz # 求 setx、sety、setx的交集\n1) &quot;m6&quot;\n127.0.0.1:6379&gt; SINTER setx sety # 求setx sety的交集\n1) &quot;m2&quot;\n2) &quot;m6&quot;\n\n-------------------------SUNION---------------------------------------\n\n127.0.0.1:6379&gt; SUNION setx sety setz # setx sety setz的并集\n1) &quot;m4&quot;\n2) &quot;m6&quot;\n3) &quot;m3&quot;\n4) &quot;m2&quot;\n5) &quot;m1&quot;\n6) &quot;m5&quot;\n127.0.0.1:6379&gt; SUNION setx sety # setx sety 并集\n1) &quot;m4&quot;\n2) &quot;m6&quot;\n3) &quot;m2&quot;\n4) &quot;m1&quot;\n5) &quot;m5&quot;</pre><p id=\"u49e56c8f\" class=\"ne-p\"><br></p><h3 id=\"4f1ea94e\"><span class=\"ne-text\">Hash（哈希）</span></h3><p id=\"uabc930c6\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u20b0d5b3\" class=\"ne-p\"><span class=\"ne-text\">Redis hash 是一个string类型的field和value的映射表，hash特别适合用于存储对象。</span></p><p id=\"u188bb88b\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u8514ffe6\" class=\"ne-p\"><span class=\"ne-text\">Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。</span></p></div><table id=\"e05be875\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ua519a851\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"u54eaa3bf\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u4808be76\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HSET key field value</span></code></p></td><td width=\"375\"><p id=\"u16166ca7\" class=\"ne-p\"><span class=\"ne-text\">将哈希表 key 中的字段 field 的值设为 value 。重复设置同一个field会覆盖,返回0</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u19516be6\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HMSET key field1 value1 [field2 value2..]</span></code></p></td><td width=\"375\"><p id=\"ue8cf1de9\" class=\"ne-p\"><span class=\"ne-text\">同时将多个 field-value (域-值)对设置到哈希表 key 中。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ue6b74265\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HSETNX key field value</span></code></p></td><td width=\"375\"><p id=\"ua01d2588\" class=\"ne-p\"><span class=\"ne-text\">只有在字段 field 不存在时，设置哈希表字段的值。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u2aad5807\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HEXISTS key field</span></code></p></td><td width=\"375\"><p id=\"u7f3f0f48\" class=\"ne-p\"><span class=\"ne-text\">查看哈希表 key 中，指定的字段是否存在。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u33322f2e\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HGET key field value</span></code></p></td><td width=\"375\"><p id=\"u0f7d490c\" class=\"ne-p\"><span class=\"ne-text\">获取存储在哈希表中指定字段的值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uea4c8632\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HMGET key field1 [field2..]</span></code></p></td><td width=\"375\"><p id=\"u5b3dd864\" class=\"ne-p\"><span class=\"ne-text\">获取所有给定字段的值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u2ee24764\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HGETALL key</span></code></p></td><td width=\"375\"><p id=\"u705086c9\" class=\"ne-p\"><span class=\"ne-text\">获取在哈希表key 的所有字段和值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u6b8d84bc\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HKEYS key</span></code></p></td><td width=\"375\"><p id=\"ua59dec50\" class=\"ne-p\"><span class=\"ne-text\">获取哈希表key中所有的字段</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u619e2c3e\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HLEN key</span></code></p></td><td width=\"375\"><p id=\"u16a0d014\" class=\"ne-p\"><span class=\"ne-text\">获取哈希表中字段的数量</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ua13c580b\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HVALS key</span></code></p></td><td width=\"375\"><p id=\"uc59ada5b\" class=\"ne-p\"><span class=\"ne-text\">获取哈希表中所有值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ue0e92dbf\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HDEL key field1 [field2..]</span></code></p></td><td width=\"375\"><p id=\"u2bf6ade4\" class=\"ne-p\"><span class=\"ne-text\">删除哈希表key中一个/多个field字段</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u2ceae5ff\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HINCRBY key field n</span></code></p></td><td width=\"375\"><p id=\"u33766788\" class=\"ne-p\"><span class=\"ne-text\">为哈希表 key 中的指定字段的整数值加上增量n，并返回增量后结果 一样只适用于整数型字段</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u466a9dba\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HINCRBYFLOAT key field n</span></code></p></td><td width=\"375\"><p id=\"ua244296a\" class=\"ne-p\"><span class=\"ne-text\">为哈希表 key 中的指定字段的浮点数值加上增量 n。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uce45b9e3\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">HSCAN key cursor [MATCH pattern] [COUNT count]</span></code></p></td><td width=\"375\"><p id=\"udb7044fe\" class=\"ne-p\"><span class=\"ne-text\">迭代哈希表中的键值对。</span></p></td></tr></tbody></table><p id=\"ud6f7e4c6\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"a9ecca1e\" class=\"ne-codeblock\">------------------------HSET--HMSET--HSETNX----------------\n127.0.0.1:6379&gt; HSET studentx name sakura # 将studentx哈希表作为一个对象，设置name为sakura\n(integer) 1\n127.0.0.1:6379&gt; HSET studentx name gyc # 重复设置field进行覆盖，并返回0\n(integer) 0\n127.0.0.1:6379&gt; HSET studentx age 20 # 设置studentx的age为20\n(integer) 1\n127.0.0.1:6379&gt; HMSET studentx sex 1 tel 15623667886 # 设置sex为1，tel为15623667886\nOK\n127.0.0.1:6379&gt; HSETNX studentx name gyc # HSETNX 设置已存在的field\n(integer) 0 # 失败\n127.0.0.1:6379&gt; HSETNX studentx email 12345@qq.com\n(integer) 1 # 成功\n\n----------------------HEXISTS--------------------------------\n127.0.0.1:6379&gt; HEXISTS studentx name # name字段在studentx中是否存在\n(integer) 1 # 存在\n127.0.0.1:6379&gt; HEXISTS studentx addr\n(integer) 0 # 不存在\n\n-------------------HGET--HMGET--HGETALL-----------\n127.0.0.1:6379&gt; HGET studentx name # 获取studentx中name字段的value\n&quot;gyc&quot;\n127.0.0.1:6379&gt; HMGET studentx name age tel # 获取studentx中name、age、tel字段的value\n1) &quot;gyc&quot;\n2) &quot;20&quot;\n3) &quot;15623667886&quot;\n127.0.0.1:6379&gt; HGETALL studentx # 获取studentx中所有的field及其value\n 1) &quot;name&quot;\n 2) &quot;gyc&quot;\n 3) &quot;age&quot;\n 4) &quot;20&quot;\n 5) &quot;sex&quot;\n 6) &quot;1&quot;\n 7) &quot;tel&quot;\n 8) &quot;15623667886&quot;\n 9) &quot;email&quot;\n10) &quot;12345@qq.com&quot;\n\n\n--------------------HKEYS--HLEN--HVALS--------------\n127.0.0.1:6379&gt; HKEYS studentx # 查看studentx中所有的field\n1) &quot;name&quot;\n2) &quot;age&quot;\n3) &quot;sex&quot;\n4) &quot;tel&quot;\n5) &quot;email&quot;\n127.0.0.1:6379&gt; HLEN studentx # 查看studentx中的字段数量\n(integer) 5\n127.0.0.1:6379&gt; HVALS studentx # 查看studentx中所有的value\n1) &quot;gyc&quot;\n2) &quot;20&quot;\n3) &quot;1&quot;\n4) &quot;15623667886&quot;\n5) &quot;12345@qq.com&quot;\n\n-------------------------HDEL--------------------------\n127.0.0.1:6379&gt; HDEL studentx sex tel # 删除studentx 中的sex、tel字段\n(integer) 2\n127.0.0.1:6379&gt; HKEYS studentx\n1) &quot;name&quot;\n2) &quot;age&quot;\n3) &quot;email&quot;\n\n-------------HINCRBY--HINCRBYFLOAT------------------------\n127.0.0.1:6379&gt; HINCRBY studentx age 1 # studentx的age字段数值+1\n(integer) 21\n127.0.0.1:6379&gt; HINCRBY studentx name 1 # 非整数字型字段不可用\n(error) ERR hash value is not an integer\n127.0.0.1:6379&gt; HINCRBYFLOAT studentx weight 0.6 # weight字段增加0.6\n&quot;90.8&quot;</pre><p id=\"uc5d896c5\" class=\"ne-p\"><br></p><p id=\"ua4b61029\" class=\"ne-p\"><span class=\"ne-text\">Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！</span><strong><span class=\"ne-text\">Hash更适合于对象的存储，Sring更加适合字符串存储！</span></strong></p><p id=\"ua0ab7af1\" class=\"ne-p\"><br></p><h3 id=\"414c7e5f\"><span class=\"ne-text\">Zset（有序集合）</span></h3><p id=\"u56aba7ef\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"uc32e030b\" class=\"ne-p\"><span class=\"ne-text\">不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。</span></p><p id=\"u403a951b\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u3a7d5c17\" class=\"ne-p\"><span class=\"ne-text\">score相同：按字典顺序排序</span></p><p id=\"udcc34b5c\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"ubc4eb4f1\" class=\"ne-p\"><span class=\"ne-text\">有序集合的成员是唯一的,但分数(score)却可以重复。</span></p></div><table id=\"4f791c6a\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u804b825d\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"u18908c4f\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u7064c569\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZADD key score member1 [score2 member2]</span></code></p></td><td width=\"375\"><p id=\"ufe66bcc4\" class=\"ne-p\"><span class=\"ne-text\">向有序集合添加一个或多个成员，或者更新已存在成员的分数</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u350e8085\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZCARD key</span></code></p></td><td width=\"375\"><p id=\"uda5fbee7\" class=\"ne-p\"><span class=\"ne-text\">获取有序集合的成员数</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ub698eeac\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZCOUNT key min max</span></code></p></td><td width=\"375\"><p id=\"u324f49db\" class=\"ne-p\"><span class=\"ne-text\">计算在有序集合中指定区间score的成员数</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u65e4855c\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZINCRBY key n member</span></code></p></td><td width=\"375\"><p id=\"ubcfec00a\" class=\"ne-p\"><span class=\"ne-text\">有序集合中对指定成员的分数加上增量 n</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u791004c3\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZSCORE key member</span></code></p></td><td width=\"375\"><p id=\"u2ec0010a\" class=\"ne-p\"><span class=\"ne-text\">返回有序集中，成员的分数值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ud4fcf2ba\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZRANK key member</span></code></p></td><td width=\"375\"><p id=\"uf053f49b\" class=\"ne-p\"><span class=\"ne-text\">返回有序集合中指定成员的索引</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ub6f95369\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZRANGE key start end</span></code></p></td><td width=\"375\"><p id=\"u949096bf\" class=\"ne-p\"><span class=\"ne-text\">通过索引区间返回有序集合成指定区间内的成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u0779a7dd\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZRANGEBYLEX key min max</span></code></p></td><td width=\"375\"><p id=\"ub226d42d\" class=\"ne-p\"><span class=\"ne-text\">通过字典区间返回有序集合的成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ucc877612\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZRANGEBYSCORE key min max</span></code></p></td><td width=\"375\"><p id=\"u7da4832f\" class=\"ne-p\"><span class=\"ne-text\">通过分数返回有序集合指定区间内的成员==-inf 和 +inf分别表示最小最大值，只支持开区间()==</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u50248b2c\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZLEXCOUNT key min max</span></code></p></td><td width=\"375\"><p id=\"ua38c6b21\" class=\"ne-p\"><span class=\"ne-text\">在有序集合中计算指定字典区间内成员数量</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u3ec051e4\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREM key member1 [member2..]</span></code></p></td><td width=\"375\"><p id=\"uc94cbd29\" class=\"ne-p\"><span class=\"ne-text\">移除有序集合中一个/多个成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u89aec8e4\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREMRANGEBYLEX key min max</span></code></p></td><td width=\"375\"><p id=\"u3346ccf1\" class=\"ne-p\"><span class=\"ne-text\">移除有序集合中给定的字典区间的所有成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uf6eaef36\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREMRANGEBYRANK key start stop</span></code></p></td><td width=\"375\"><p id=\"u17cf6602\" class=\"ne-p\"><span class=\"ne-text\">移除有序集合中给定的排名区间的所有成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ubb240a3d\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREMRANGEBYSCORE key min max</span></code></p></td><td width=\"375\"><p id=\"ue4239c18\" class=\"ne-p\"><span class=\"ne-text\">移除有序集合中给定的分数区间的所有成员</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u5e07a2ba\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREVRANGE key start end</span></code></p></td><td width=\"375\"><p id=\"u0511d2d0\" class=\"ne-p\"><span class=\"ne-text\">返回有序集中指定区间内的成员，通过索引，分数从高到底</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ubf6a8cbe\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREVRANGEBYSCORRE key max min</span></code></p></td><td width=\"375\"><p id=\"uaa44a3f7\" class=\"ne-p\"><span class=\"ne-text\">返回有序集中指定分数区间内的成员，分数从高到低排序</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u1dcd5d04\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREVRANGEBYLEX key max min</span></code></p></td><td width=\"375\"><p id=\"u7bd8df87\" class=\"ne-p\"><span class=\"ne-text\">返回有序集中指定字典区间内的成员，按字典顺序倒序</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ud9f5da55\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZREVRANK key member</span></code></p></td><td width=\"375\"><p id=\"u8bb20b75\" class=\"ne-p\"><span class=\"ne-text\">返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u2d1813ef\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZINTERSTORE destination numkeys key1 [key2 ..]</span></code></p></td><td width=\"375\"><p id=\"u27a0db49\" class=\"ne-p\"><span class=\"ne-text\">计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中，numkeys：表示参与运算的集合数，将score相加作为结果的score</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u9c0dc242\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZUNIONSTORE destination numkeys key1 [key2..]</span></code></p></td><td width=\"375\"><p id=\"u2f7067e5\" class=\"ne-p\"><span class=\"ne-text\">计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u098ead73\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">ZSCAN key cursor [MATCH pattern\\] [COUNT count]</span></code></p></td><td width=\"375\"><p id=\"ud8845047\" class=\"ne-p\"><span class=\"ne-text\">迭代有序集合中的元素（包括元素成员和元素分值）</span></p></td></tr></tbody></table><p id=\"u82969c61\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"ef28dc6f\" class=\"ne-codeblock\">-------------------ZADD--ZCARD--ZCOUNT--------------\n127.0.0.1:6379&gt; ZADD myzset 1 m1 2 m2 3 m3 # 向有序集合myzset中添加成员m1 score=1 以及成员m2 score=2..\n(integer) 2\n127.0.0.1:6379&gt; ZCARD myzset # 获取有序集合的成员数\n(integer) 2\n127.0.0.1:6379&gt; ZCOUNT myzset 0 1 # 获取score在 [0,1]区间的成员数量\n(integer) 1\n127.0.0.1:6379&gt; ZCOUNT myzset 0 2\n(integer) 2\n\n----------------ZINCRBY--ZSCORE--------------------------\n127.0.0.1:6379&gt; ZINCRBY myzset 5 m2 # 将成员m2的score +5\n&quot;7&quot;\n127.0.0.1:6379&gt; ZSCORE myzset m1 # 获取成员m1的score\n&quot;1&quot;\n127.0.0.1:6379&gt; ZSCORE myzset m2\n&quot;7&quot;\n\n--------------ZRANK--ZRANGE-----------------------------------\n127.0.0.1:6379&gt; ZRANK myzset m1 # 获取成员m1的索引，索引按照score排序，score相同索引值按字典顺序顺序增加\n(integer) 0\n127.0.0.1:6379&gt; ZRANK myzset m2\n(integer) 2\n127.0.0.1:6379&gt; ZRANGE myzset 0 1 # 获取索引在 0~1的成员\n1) &quot;m1&quot;\n2) &quot;m3&quot;\n127.0.0.1:6379&gt; ZRANGE myzset 0 -1 # 获取全部成员\n1) &quot;m1&quot;\n2) &quot;m3&quot;\n3) &quot;m2&quot;\n\n#testset=&gt;{abc,add,amaze,apple,back,java,redis} score均为0\n------------------ZRANGEBYLEX---------------------------------\n127.0.0.1:6379&gt; ZRANGEBYLEX testset - + # 返回所有成员\n1) &quot;abc&quot;\n2) &quot;add&quot;\n3) &quot;amaze&quot;\n4) &quot;apple&quot;\n5) &quot;back&quot;\n6) &quot;java&quot;\n7) &quot;redis&quot;\n127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 0 3 # 分页 按索引显示查询结果的 0,1,2条记录\n1) &quot;abc&quot;\n2) &quot;add&quot;\n3) &quot;amaze&quot;\n127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 3 3 # 显示 3,4,5条记录\n1) &quot;apple&quot;\n2) &quot;back&quot;\n3) &quot;java&quot;\n127.0.0.1:6379&gt; ZRANGEBYLEX testset (- [apple # 显示 (-,apple] 区间内的成员\n1) &quot;abc&quot;\n2) &quot;add&quot;\n3) &quot;amaze&quot;\n4) &quot;apple&quot;\n127.0.0.1:6379&gt; ZRANGEBYLEX testset [apple [java # 显示 [apple,java]字典区间的成员\n1) &quot;apple&quot;\n2) &quot;back&quot;\n3) &quot;java&quot;\n\n-----------------------ZRANGEBYSCORE---------------------\n127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 10 # 返回score在 [1,10]之间的的成员\n1) &quot;m1&quot;\n2) &quot;m3&quot;\n3) &quot;m2&quot;\n127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 5\n1) &quot;m1&quot;\n2) &quot;m3&quot;\n\n--------------------ZLEXCOUNT-----------------------------\n127.0.0.1:6379&gt; ZLEXCOUNT testset - +\n(integer) 7\n127.0.0.1:6379&gt; ZLEXCOUNT testset [apple [java\n(integer) 3\n\n------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------\n127.0.0.1:6379&gt; ZREM testset abc # 移除成员abc\n(integer) 1\n127.0.0.1:6379&gt; ZREMRANGEBYLEX testset [apple [java # 移除字典区间[apple,java]中的所有成员\n(integer) 3\n127.0.0.1:6379&gt; ZREMRANGEBYRANK testset 0 1 # 移除排名0~1的所有成员\n(integer) 2\n127.0.0.1:6379&gt; ZREMRANGEBYSCORE myzset 0 3 # 移除score在 [0,3]的成员\n(integer) 2\n\n\n# testset=&gt; {abc,add,apple,amaze,back,java,redis} score均为0\n# myzset=&gt; {(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)}\n----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------\n127.0.0.1:6379&gt; ZREVRANGE myzset 0 3 # 按score递减排序，然后按索引，返回结果的 0~3\n1) &quot;m9&quot;\n2) &quot;m7&quot;\n3) &quot;m4&quot;\n4) &quot;m3&quot;\n127.0.0.1:6379&gt; ZREVRANGE myzset 2 4 # 返回排序结果的 索引的2~4\n1) &quot;m4&quot;\n2) &quot;m3&quot;\n3) &quot;m2&quot;\n127.0.0.1:6379&gt; ZREVRANGEBYSCORE myzset 6 2 # 按score递减顺序 返回集合中分数在[2,6]之间的成员\n1) &quot;m4&quot;\n2) &quot;m3&quot;\n3) &quot;m2&quot;\n127.0.0.1:6379&gt; ZREVRANGEBYLEX testset [java (add # 按字典倒序 返回集合中(add,java]字典区间的成员\n1) &quot;java&quot;\n2) &quot;back&quot;\n3) &quot;apple&quot;\n4) &quot;amaze&quot;\n\n-------------------------ZREVRANK------------------------------\n127.0.0.1:6379&gt; ZREVRANK myzset m7 # 按score递减顺序，返回成员m7索引\n(integer) 1\n127.0.0.1:6379&gt; ZREVRANK myzset m2\n(integer) 4\n\n\n# mathscore=&gt;{(xm,90),(xh,95),(xg,87)} 小明、小红、小刚的数学成绩\n# enscore=&gt;{(xm,70),(xh,93),(xg,90)} 小明、小红、小刚的英语成绩\n-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------\n127.0.0.1:6379&gt; ZINTERSTORE sumscore 2 mathscore enscore # 将mathscore enscore进行合并 结果存放到sumscore\n(integer) 3\n127.0.0.1:6379&gt; ZRANGE sumscore 0 -1 withscores # 合并后的score是之前集合中所有score的和\n1) &quot;xm&quot;\n2) &quot;160&quot;\n3) &quot;xg&quot;\n4) &quot;177&quot;\n5) &quot;xh&quot;\n6) &quot;188&quot;\n\n127.0.0.1:6379&gt; ZUNIONSTORE lowestscore 2 mathscore enscore AGGREGATE MIN # 取两个集合的成员score最小值作为结果的\n(integer) 3\n127.0.0.1:6379&gt; ZRANGE lowestscore 0 -1 withscores\n1) &quot;xm&quot;\n2) &quot;70&quot;\n3) &quot;xg&quot;\n4) &quot;87&quot;\n5) &quot;xh&quot;\n6) &quot;93&quot;</pre><p id=\"ubc9bde0d\" class=\"ne-p\"><br></p><p id=\"u725bcbc9\" class=\"ne-p\"><span class=\"ne-text\">应用案例：</span></p><p id=\"u6ec0e293\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u5621ebc7\"><span class=\"ne-text\">set排序 存储班级成绩表 工资表排序！</span></li></ul><ul class=\"ne-ul\"><li id=\"u03e2ee4e\"><span class=\"ne-text\">普通消息，1.重要消息 2.带权重进行判断</span></li></ul><ul class=\"ne-ul\"><li id=\"u13f4ce11\"><span class=\"ne-text\">排行榜应用实现，取Top N测试</span></li></ul><p id=\"ud79f5f54\" class=\"ne-p\"><br></p><h2 id=\"d56625c6\"><span class=\"ne-text\">四、三种特殊数据类型</span></h2><p id=\"u076f4a0a\" class=\"ne-p\"><br></p><h3 id=\"57d73dd8\"><span class=\"ne-text\">Geospatial(地理位置)</span></h3><p id=\"u04a612bb\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"uea2be178\" class=\"ne-p\"><span class=\"ne-text\">使用经纬度定位地理坐标并用一个</span><strong><span class=\"ne-text\">有序集合zset保存</span></strong><span class=\"ne-text\">，所以zset命令也可以使用</span></p></div><table id=\"02f10621\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ub6fcb126\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"uded8a3eb\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ucbeaa914\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">geoadd key longitud(经度) latitude(纬度) member [..]</span></code></p></td><td width=\"375\"><p id=\"u1531b59d\" class=\"ne-p\"><span class=\"ne-text\">将具体经纬度的坐标存入一个有序集合</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u8ffac378\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">geopos key member [member..]</span></code></p></td><td width=\"375\"><p id=\"uf0b50681\" class=\"ne-p\"><span class=\"ne-text\">获取集合中的一个/多个成员坐标</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u5485fcd1\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">geodist key member1 member2 [unit]</span></code></p></td><td width=\"375\"><p id=\"u2d875aca\" class=\"ne-p\"><span class=\"ne-text\">返回两个给定位置之间的距离。默认以米作为单位。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u96fb8ef5\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">georadius key longitude latitude radius m|km|mi|ft [WITHCOORD][WITHDIST] [WITHHASH] [COUNT count]</span></code></p></td><td width=\"375\"><p id=\"u126d2a35\" class=\"ne-p\"><span class=\"ne-text\">以给定的经纬度为中心， 返回集合包含的位置元素当中， 与中心的距离不超过给定最大距离的所有位置元素。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u403c1e59\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">GEORADIUSBYMEMBER key member radius...</span></code></p></td><td width=\"375\"><p id=\"u1ea45088\" class=\"ne-p\"><span class=\"ne-text\">功能与GEORADIUS相同，只是中心位置不是具体的经纬度，而是使用结合中已有的成员作为中心点。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ueb951acb\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">geohash key member1 [member2..]</span></code></p></td><td width=\"375\"><p id=\"u264c21d1\" class=\"ne-p\"><span class=\"ne-text\">返回一个或多个位置元素的Geohash表示。使用Geohash位置52点整数编码。</span></p></td></tr></tbody></table><p id=\"u90ad687d\" class=\"ne-p\"><br></p><p id=\"u89210ddb\" class=\"ne-p\"><strong><span class=\"ne-text\">有效经纬度</span></strong></p><p id=\"u6e8bfde5\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u189e45a0\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ul class=\"ne-ul\"><li id=\"u58bb2218\"><span class=\"ne-text\">有效的经度从-180度到180度。</span></li></ul><ul class=\"ne-ul\"><li id=\"u5f0ef31c\"><span class=\"ne-text\">有效的纬度从-85.05112878度到85.05112878度。</span></li></ul><p id=\"u7fa69b79\" class=\"ne-p\"><span class=\"ne-text\"> </span></p></div><p id=\"u228357c5\" class=\"ne-p\"><br></p><p id=\"ua0daf27f\" class=\"ne-p\"><span class=\"ne-text\">指定单位的参数 </span><strong><span class=\"ne-text\">unit</span></strong><span class=\"ne-text\"> 必须是以下单位的其中一个：</span></p><p id=\"u1d910e65\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u19606259\"><strong><span class=\"ne-text\">m</span></strong><span class=\"ne-text\"> 表示单位为米。</span></li></ul><ul class=\"ne-ul\"><li id=\"u144ad1c7\"><strong><span class=\"ne-text\">km</span></strong><span class=\"ne-text\"> 表示单位为千米。</span></li></ul><ul class=\"ne-ul\"><li id=\"u22934df8\"><strong><span class=\"ne-text\">mi</span></strong><span class=\"ne-text\"> 表示单位为英里。</span></li></ul><ul class=\"ne-ul\"><li id=\"u03401b4a\"><strong><span class=\"ne-text\">ft</span></strong><span class=\"ne-text\"> 表示单位为英尺。</span></li></ul><p id=\"u678d0515\" class=\"ne-p\"><br></p><p id=\"u0ac76f1b\" class=\"ne-p\"><strong><span class=\"ne-text\">关于GEORADIUS的参数</span></strong></p><p id=\"u4d31fc16\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u980e1c82\" class=\"ne-p\"><span class=\"ne-text\">通过</span><code class=\"ne-code\"><span class=\"ne-text\">georadius</span></code><span class=\"ne-text\">就可以完成 </span><strong><span class=\"ne-text\">附近的人</span></strong><span class=\"ne-text\">功能</span></p><p id=\"ub93c0b7f\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"ubee402d6\" class=\"ne-p\"><span class=\"ne-text\">withcoord:带上坐标</span></p><p id=\"u2fac12bc\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u61d463be\" class=\"ne-p\"><span class=\"ne-text\">withdist:带上距离，单位与半径单位相同</span></p><p id=\"ua3695ea8\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"ue735ff1b\" class=\"ne-p\"><span class=\"ne-text\">COUNT n : 只显示前n个(按距离递增排序)</span></p></div><p id=\"uc13a9f70\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"21b82748\" class=\"ne-codeblock\">----------------georadius---------------------\n127.0.0.1:6379&gt; GEORADIUS china:city 120 30 500 km withcoord withdist # 查询经纬度(120,30)坐标500km半径内的成员\n1) 1) &quot;hangzhou&quot;\n   2) &quot;29.4151&quot;\n   3) 1) &quot;120.20000249147415&quot;\n      2) &quot;30.199999888333501&quot;\n2) 1) &quot;shanghai&quot;\n   2) &quot;205.3611&quot;\n   3) 1) &quot;121.40000134706497&quot;\n      2) &quot;31.400000253193539&quot;\n     \n------------geohash---------------------------\n127.0.0.1:6379&gt; geohash china:city yichang shanghai # 获取成员经纬坐标的geohash表示\n1) &quot;wmrjwbr5250&quot;\n2) &quot;wtw6ds0y300&quot;</pre><p id=\"ueeceecd4\" class=\"ne-p\"><br></p><h3 id=\"08968f7e\"><span class=\"ne-text\">Hyperloglog(基数统计)</span></h3><p id=\"u1b748afc\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u4d6a2e4d\" class=\"ne-p\"><span class=\"ne-text\">Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。</span></p><p id=\"ud7038590\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u49f9a075\" class=\"ne-p\"><span class=\"ne-text\">花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。</span></p><p id=\"u390cd0be\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u6fe175ee\" class=\"ne-p\"><span class=\"ne-text\">因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。</span></p><p id=\"u4b829004\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"uee02779e\" class=\"ne-p\"><span class=\"ne-text\">其底层使用string数据类型</span></p></div><p id=\"u2cde94e4\" class=\"ne-p\"><br></p><p id=\"u359f8aab\" class=\"ne-p\"><strong><span class=\"ne-text\">什么是基数？</span></strong></p><p id=\"u6f9d2e2d\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u9dbf9c60\" class=\"ne-p\"><span class=\"ne-text\">数据集中不重复的元素的个数。</span></p></div><p id=\"u58577774\" class=\"ne-p\"><br></p><p id=\"u9cd29706\" class=\"ne-p\"><strong><span class=\"ne-text\">应用场景：</span></strong></p><p id=\"uab89ac62\" class=\"ne-p\"><br></p><p id=\"u3f46b64a\" class=\"ne-p\"><span class=\"ne-text\">网页的访问量（UV）：一个用户多次访问，也只能算作一个人。</span></p><p id=\"u859a8832\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u57499926\" class=\"ne-p\"><span class=\"ne-text\">传统实现，存储用户的id,然后每次进行比较。当用户变多之后这种方式及其浪费空间，而我们的目的只是</span><strong><span class=\"ne-text\">计数</span></strong><span class=\"ne-text\">，Hyperloglog就能帮助我们利用最小的空间完成。</span></p></div><table id=\"a8b2d832\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ua6ee7f33\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"u981f6cd5\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u6dfb6439\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PFADD key element1 [elememt2..]</span></code></p></td><td width=\"375\"><p id=\"ub155547e\" class=\"ne-p\"><span class=\"ne-text\">添加指定元素到 HyperLogLog 中</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u64deb24b\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PFCOUNT key [key]</span></code></p></td><td width=\"375\"><p id=\"u73940def\" class=\"ne-p\"><span class=\"ne-text\">返回给定 HyperLogLog 的基数估算值。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u3dc69af0\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PFMERGE destkey sourcekey [sourcekey..]</span></code></p></td><td width=\"375\"><p id=\"u6539d20e\" class=\"ne-p\"><span class=\"ne-text\">将多个 HyperLogLog 合并为一个 HyperLogLog</span></p></td></tr></tbody></table><p id=\"u27207a29\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"6f78f4c6\" class=\"ne-codeblock\">----------PFADD--PFCOUNT---------------------\n127.0.0.1:6379&gt; PFADD myelemx a b c d e f g h i j k # 添加元素\n(integer) 1\n127.0.0.1:6379&gt; type myelemx # hyperloglog底层使用String\nstring\n127.0.0.1:6379&gt; PFCOUNT myelemx # 估算myelemx的基数\n(integer) 11\n127.0.0.1:6379&gt; PFADD myelemy i j k z m c b v p q s\n(integer) 1\n127.0.0.1:6379&gt; PFCOUNT myelemy\n(integer) 11\n\n----------------PFMERGE-----------------------\n127.0.0.1:6379&gt; PFMERGE myelemz myelemx myelemy # 合并myelemx和myelemy 成为myelemz\nOK\n127.0.0.1:6379&gt; PFCOUNT myelemz # 估算基数\n(integer) 17</pre><p id=\"uc51a7276\" class=\"ne-p\"><br></p><p id=\"ue40fffcd\" class=\"ne-p\"><span class=\"ne-text\">如果允许容错，那么一定可以使用Hyperloglog !</span></p><p id=\"u74158491\" class=\"ne-p\"><br></p><p id=\"u33d7d6c9\" class=\"ne-p\"><span class=\"ne-text\">如果不允许容错，就使用set或者自己的数据类型即可 ！</span></p><p id=\"ua29e12c4\" class=\"ne-p\"><br></p><h3 id=\"419a74c3\"><span class=\"ne-text\">BitMaps(位图)</span></h3><p id=\"uf168ebe0\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u3ef16793\" class=\"ne-p\"><span class=\"ne-text\">使用位存储，信息状态只有 0 和 1</span></p><p id=\"u7ec8679a\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u01bd046b\" class=\"ne-p\"><span class=\"ne-text\">Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)，在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。</span></p></div><p id=\"u8c8ae09d\" class=\"ne-p\"><br></p><p id=\"ua7e30477\" class=\"ne-p\"><strong><span class=\"ne-text\">应用场景</span></strong></p><p id=\"uce44943b\" class=\"ne-p\"><br></p><p id=\"uae76075f\" class=\"ne-p\"><span class=\"ne-text\">签到统计、状态统计</span></p><table id=\"1b5638fb\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u6eba74b6\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"ua6c0e655\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u85f91305\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">setbit key offset value</span></code></p></td><td width=\"375\"><p id=\"u16c406c6\" class=\"ne-p\"><span class=\"ne-text\">为指定key的offset位设置值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"udd0c78df\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">getbit key offset</span></code></p></td><td width=\"375\"><p id=\"u0cf1eb1f\" class=\"ne-p\"><span class=\"ne-text\">获取offset位的值</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u0dc7ece3\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">bitcount key [start end]</span></code></p></td><td width=\"375\"><p id=\"u2dc7e612\" class=\"ne-p\"><span class=\"ne-text\">统计字符串被设置为1的bit数，也可以指定统计范围按字节</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u14c96261\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">bitop operration destkey key[key..]</span></code></p></td><td width=\"375\"><p id=\"ubf4ff336\" class=\"ne-p\"><span class=\"ne-text\">对一个或多个保存二进制位的字符串 key 进行位元操作，并将结果保存到 destkey 上。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u6bc4ec52\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">BITPOS key bit [start] [end]</span></code></p></td><td width=\"375\"><p id=\"u18ae1719\" class=\"ne-p\"><span class=\"ne-text\">返回字符串里面第一个被设置为1或者0的bit位。start和end只能按字节,不能按位</span></p></td></tr></tbody></table><p id=\"ua33372d8\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"1fb5f5a6\" class=\"ne-codeblock\">------------setbit--getbit--------------\n127.0.0.1:6379&gt; setbit sign 0 1 # 设置sign的第0位为 1 \n(integer) 0\n127.0.0.1:6379&gt; setbit sign 2 1 # 设置sign的第2位为 1  不设置默认 是0\n(integer) 0\n127.0.0.1:6379&gt; setbit sign 3 1\n(integer) 0\n127.0.0.1:6379&gt; setbit sign 5 1\n(integer) 0\n127.0.0.1:6379&gt; type sign\nstring\n\n127.0.0.1:6379&gt; getbit sign 2 # 获取第2位的数值\n(integer) 1\n127.0.0.1:6379&gt; getbit sign 3\n(integer) 1\n127.0.0.1:6379&gt; getbit sign 4 # 未设置默认是0\n(integer) 0\n\n-----------bitcount----------------------------\n127.0.0.1:6379&gt; BITCOUNT sign # 统计sign中为1的位数\n(integer) 4</pre><p id=\"ud7c82795\" class=\"ne-p\"><br></p><p id=\"u4e589c13\" class=\"ne-p\"><strong><span class=\"ne-text\">bitmaps的底层</span></strong></p><p id=\"u0bfe08c9\" class=\"ne-p\"><br></p><p id=\"u9b9ae645\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PlszjhS-1597890996519)(D:\\我\\MyBlog\\狂神说 Redis.assets\\image-20200803234336175.png)]</span></p><p id=\"u09d3b7fe\" class=\"ne-p\"><br></p><p id=\"u21be4638\" class=\"ne-p\"><span class=\"ne-text\">这样设置以后你能get到的值是：</span><strong><span class=\"ne-text\">\\xA2\\x80</span></strong><span class=\"ne-text\">，所以bitmaps是一串从左到右的二进制串</span></p><p id=\"u70e06fe8\" class=\"ne-p\"><br></p><h2 id=\"ea4899e5\"><span class=\"ne-text\">五、事务</span></h2><p id=\"ubc8e0bb6\" class=\"ne-p\"><br></p><p id=\"ud13310d0\" class=\"ne-p\"><span class=\"ne-text\">Redis的单条命令是保证原子性的，但是redis事务不能保证原子性</span></p><p id=\"ude24e264\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u8e137d55\" class=\"ne-p\"><span class=\"ne-text\">Redis事务本质：一组命令的集合。</span></p><p id=\"u58ba88df\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u2981c0cb\" class=\"ne-p\"><span class=\"ne-text\">----------------- 队列 set set set 执行 -------------------</span></p><p id=\"u00e1351d\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u86c43a2f\" class=\"ne-p\"><span class=\"ne-text\">事务中每条命令都会被序列化，执行过程中按顺序执行，不允许其他命令进行干扰。</span></p><p id=\"u167f2e78\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ul class=\"ne-ul\"><li id=\"ud0b283bc\"><span class=\"ne-text\">一次性</span></li></ul><ul class=\"ne-ul\"><li id=\"ua4c8cdb7\"><span class=\"ne-text\">顺序性</span></li></ul><ul class=\"ne-ul\"><li id=\"uc68a1452\"><span class=\"ne-text\">排他性</span></li></ul><ol class=\"ne-ol\"><li id=\"u33275b68\"><span class=\"ne-text\">Redis事务没有隔离级别的概念</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"uaff4b3fc\"><span class=\"ne-text\">Redis单条命令是保证原子性的，但是事务不保证原子性！</span></li></ol><p id=\"u2a1489f3\" class=\"ne-p\"><span class=\"ne-text\"> </span></p></div><hr id=\"the33\" class=\"ne-hr\"><p id=\"u39f604a1\" class=\"ne-p\"><br></p><h3 id=\"7ce98419\"><span class=\"ne-text\">Redis事务操作过程</span></h3><p id=\"u0b8f70bf\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u6f7782a5\"><span class=\"ne-text\">开启事务（</span><code class=\"ne-code\"><span class=\"ne-text\">multi</span></code><span class=\"ne-text\">）</span></li></ul><ul class=\"ne-ul\"><li id=\"u4f38c807\"><span class=\"ne-text\">命令入队</span></li></ul><ul class=\"ne-ul\"><li id=\"u3305e33a\"><span class=\"ne-text\">执行事务（</span><code class=\"ne-code\"><span class=\"ne-text\">exec</span></code><span class=\"ne-text\">）</span></li></ul><p id=\"udac51676\" class=\"ne-p\"><br></p><p id=\"uad0711d4\" class=\"ne-p\"><span class=\"ne-text\">所以事务中的命令在加入时都没有被执行，直到提交时才会开始执行(Exec)一次性完成。</span></p><p id=\"u1957dfd8\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"8e02bc3a\" class=\"ne-codeblock\">127.0.0.1:6379&gt; multi # 开启事务\nOK\n127.0.0.1:6379&gt; set k1 v1 # 命令入队\nQUEUED\n127.0.0.1:6379&gt; set k2 v2 # ..\nQUEUED\n127.0.0.1:6379&gt; get k1\nQUEUED\n127.0.0.1:6379&gt; set k3 v3\nQUEUED\n127.0.0.1:6379&gt; keys *\nQUEUED\n127.0.0.1:6379&gt; exec # 事务执行\n1) OK\n2) OK\n3) &quot;v1&quot;\n4) OK\n5) 1) &quot;k3&quot;\n   2) &quot;k2&quot;\n   3) &quot;k1&quot;</pre><p id=\"ubcd66fff\" class=\"ne-p\"><br></p><p id=\"ubb2cd759\" class=\"ne-p\"><strong><span class=\"ne-text\">取消事务(</span></strong><code class=\"ne-code\"><strong><span class=\"ne-text\">discurd</span></strong></code><strong><span class=\"ne-text\">)</span></strong></p><p id=\"ue73ecbac\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"017b9973\" class=\"ne-codeblock\">127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; set k1 v1\nQUEUED\n127.0.0.1:6379&gt; set k2 v2\nQUEUED\n127.0.0.1:6379&gt; DISCARD # 放弃事务\nOK\n127.0.0.1:6379&gt; EXEC \n(error) ERR EXEC without MULTI # 当前未开启事务\n127.0.0.1:6379&gt; get k1 # 被放弃事务中命令并未执行\n(nil)</pre><p id=\"ua14a68bb\" class=\"ne-p\"><br></p><h3 id=\"5bfc1a01\"><span class=\"ne-text\">事务错误</span></h3><p id=\"uf69a66ef\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u2d5e42b4\" class=\"ne-p\"><span class=\"ne-text\">代码语法错误（编译时异常）所有的命令都不执行</span></p></div><p id=\"u3ef34681\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"3472e647\" class=\"ne-codeblock\">127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; set k1 v1\nQUEUED\n127.0.0.1:6379&gt; set k2 v2\nQUEUED\n127.0.0.1:6379&gt; error k1 # 这是一条语法错误命令\n(error) ERR unknown command `error`, with args beginning with: `k1`, # 会报错但是不影响后续命令入队 \n127.0.0.1:6379&gt; get k2\nQUEUED\n127.0.0.1:6379&gt; EXEC\n(error) EXECABORT Transaction discarded because of previous errors. # 执行报错\n127.0.0.1:6379&gt; get k1 \n(nil) # 其他命令并没有被执行</pre><p id=\"ud898c33a\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u2f95d9c0\" class=\"ne-p\"><span class=\"ne-text\">代码逻辑错误 (运行时异常) </span><strong><span class=\"ne-text\">其他命令可以正常执行 </span></strong><span class=\"ne-text\"> &gt;&gt;&gt; 所以不保证事务原子性</span></p></div><p id=\"u78a34228\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"3d3d9126\" class=\"ne-codeblock\">127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; set k1 v1\nQUEUED\n127.0.0.1:6379&gt; set k2 v2\nQUEUED\n127.0.0.1:6379&gt; INCR k1 # 这条命令逻辑错误（对字符串进行增量）\nQUEUED\n127.0.0.1:6379&gt; get k2\nQUEUED\n127.0.0.1:6379&gt; exec\n1) OK\n2) OK\n3) (error) ERR value is not an integer or out of range # 运行时报错\n4) &quot;v2&quot; # 其他命令正常执行\n\n# 虽然中间有一条命令报错了，但是后面的指令依旧正常执行成功了。\n# 所以说Redis单条指令保证原子性，但是Redis事务不能保证原子性。</pre><p id=\"u74adb395\" class=\"ne-p\"><br></p><h3 id=\"9aff6241\"><span class=\"ne-text\">监控</span></h3><p id=\"ub0ddd756\" class=\"ne-p\"><br></p><p id=\"ub1ab6d2a\" class=\"ne-p\"><strong><span class=\"ne-text\">悲观锁：</span></strong></p><p id=\"uab14cab1\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u3aca9110\"><span class=\"ne-text\">很悲观，认为什么时候都会出现问题，无论做什么都会加锁</span></li></ul><p id=\"u247a38f2\" class=\"ne-p\"><br></p><p id=\"u9b7c3e2e\" class=\"ne-p\"><strong><span class=\"ne-text\">乐观锁：</span></strong></p><p id=\"u2c7b6d8a\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u562f70b2\"><span class=\"ne-text\">很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据</span></li></ul><ul class=\"ne-ul\"><li id=\"u04a9d064\"><span class=\"ne-text\">获取version</span></li></ul><ul class=\"ne-ul\"><li id=\"u1d6800e7\"><span class=\"ne-text\">更新的时候比较version</span></li></ul><p id=\"u937f077a\" class=\"ne-p\"><br></p><p id=\"u9f1a5f4d\" class=\"ne-p\"><span class=\"ne-text\">使用</span><code class=\"ne-code\"><span class=\"ne-text\">watch key</span></code><span class=\"ne-text\">监控指定数据，相当于乐观锁加锁。</span></p><p id=\"u41dc1b8f\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u9c113fa2\" class=\"ne-p\"><span class=\"ne-text\">正常执行</span></p></div><p id=\"u7c064553\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"ef8600b2\" class=\"ne-codeblock\">127.0.0.1:6379&gt; set money 100 # 设置余额:100\nOK\n127.0.0.1:6379&gt; set use 0 # 支出使用:0\nOK\n127.0.0.1:6379&gt; watch money # 监视money (上锁)\nOK\n127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; DECRBY money 20\nQUEUED\n127.0.0.1:6379&gt; INCRBY use 20\nQUEUED\n127.0.0.1:6379&gt; exec # 监视值没有被中途修改，事务正常执行\n1) (integer) 80\n2) (integer) 20</pre><p id=\"uf36ede29\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u78bd959f\" class=\"ne-p\"><span class=\"ne-text\">测试多线程修改值，使用watch可以当做redis的乐观锁操作（相当于getversion）</span></p></div><p id=\"ub65fa507\" class=\"ne-p\"><br></p><p id=\"u15b6b62f\" class=\"ne-p\"><span class=\"ne-text\">我们启动另外一个客户端模拟插队线程。</span></p><p id=\"u23015e3b\" class=\"ne-p\"><br></p><p id=\"u1c156ade\" class=\"ne-p\"><span class=\"ne-text\">线程1：</span></p><p id=\"u501fc62d\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"15b45c9d\" class=\"ne-codeblock\">127.0.0.1:6379&gt; watch money # money上锁\nOK\n127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; DECRBY money 20\nQUEUED\n127.0.0.1:6379&gt; INCRBY use 20\nQUEUED\n127.0.0.1:6379&gt; \t# 此时事务并没有执行</pre><p id=\"u7ef504af\" class=\"ne-p\"><br></p><p id=\"u975b4723\" class=\"ne-p\"><span class=\"ne-text\">模拟线程插队，线程2：</span></p><p id=\"uf4d9d6b7\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"80165ada\" class=\"ne-codeblock\">127.0.0.1:6379&gt; INCRBY money 500 # 修改了线程一中监视的money\n(integer) 600\n12</pre><p id=\"u66191b44\" class=\"ne-p\"><br></p><p id=\"uf191a67e\" class=\"ne-p\"><span class=\"ne-text\">回到线程1，执行事务：</span></p><p id=\"u996333d5\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"e230f298\" class=\"ne-codeblock\">127.0.0.1:6379&gt; EXEC # 执行之前，另一个线程修改了我们的值，这个时候就会导致事务执行失败\n(nil) # 没有结果，说明事务执行失败\n\n127.0.0.1:6379&gt; get money # 线程2 修改生效\n&quot;600&quot;\n127.0.0.1:6379&gt; get use # 线程1事务执行失败，数值没有被修改\n&quot;0&quot;</pre><p id=\"uba2dc439\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u6e9ce09d\" class=\"ne-p\"><span class=\"ne-text\">解锁获取最新值，然后再加锁进行事务。</span></p><p id=\"u4dec3d4f\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"ub56dffc7\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">unwatch</span></code><span class=\"ne-text\">进行解锁。</span></p></div><p id=\"u3213e7af\" class=\"ne-p\"><br></p><p id=\"ueb9c9beb\" class=\"ne-p\"><span class=\"ne-text\">注意：每次提交执行exec后都会自动释放锁，不管是否成功</span></p><p id=\"u41cfd52e\" class=\"ne-p\"><br></p><h2 id=\"c79e2752\"><span class=\"ne-text\">六、Jedis</span></h2><p id=\"u6fac8135\" class=\"ne-p\"><br></p><p id=\"uf5f9cd26\" class=\"ne-p\"><span class=\"ne-text\">使用Java来操作Redis，Jedis是Redis官方推荐使用的Java连接redis的客户端。</span></p><p id=\"u963ac227\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ubb20f274\"><span class=\"ne-text\"> 导入依赖 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"xml\" id=\"6d473879\" class=\"ne-codeblock\">&lt;!--导入jredis的包--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--fastjson--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n    &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n    &lt;version&gt;1.2.70&lt;/version&gt;\n&lt;/dependency&gt;</pre><ol start=\"2\" class=\"ne-ol\"><li id=\"u4c394df7\"><span class=\"ne-text\"> 编码测试 </span></li></ol><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u104ec940\"><span class=\"ne-text\"> 连接数据库 </span></li></ul><ol ne-level=\"2\" class=\"ne-ol\"><li id=\"u14e399d5\"><span class=\"ne-text\"> 修改redis的配置文件 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"bash\" id=\"4ed3b6cf\" class=\"ne-codeblock\">vim /usr/local/bin/myconfig/redis.conf\n1</pre><ol ne-level=\"3\" class=\"ne-ol\"><li id=\"u048a4212\"><span class=\"ne-text\"> 将只绑定本地注释<br /></span><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-4IRUFJ95-1597890996520)(狂神说 Redis.assets/image-20200813161921480.png)] </span></li><li id=\"ub25c42c0\"><span class=\"ne-text\"> 保护模式改为 no<br /></span><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oKjIVapw-1597890996521)(狂神说 Redis.assets/image-20200813161939847.png)] </span></li></ol><ol start=\"3\" ne-level=\"3\" class=\"ne-ol\"><li id=\"uc9983c93\"><span class=\"ne-text\"> 允许后台运行<br /></span><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c2IMvpZL-1597890996522)(狂神说 Redis.assets/image-20200813161954567.png)] </span></li></ol><p id=\"ua55b8a0d\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ol start=\"3\" class=\"ne-ol\"><li id=\"u90b22862\"><span class=\"ne-text\"> 开放端口6379 </span><span class=\"ne-text\"><br /></span><span class=\"ne-text\">重启防火墙服务 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"bash\" id=\"2f07c43a\" class=\"ne-codeblock\">firewall-cmd --zone=public --add-port=6379/tcp --permanet\n1</pre><pre data-language=\"bash\" id=\"3a04abb1\" class=\"ne-codeblock\">systemctl restart firewalld.service\n1</pre><ol ne-level=\"1\" class=\"ne-ol\"><li id=\"u01eeb010\"><span class=\"ne-text\"> 阿里云服务器控制台配置安全组 </span></li><li id=\"uc575901e\"><span class=\"ne-text\"> 重启redis-server </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"bash\" id=\"fa1c45f9\" class=\"ne-codeblock\">[root@AlibabaECS bin]# redis-server myconfig/redis.conf \n1</pre><p id=\"u7e061464\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ul class=\"ne-ul\"><li id=\"u81f05702\"><span class=\"ne-text\"> 操作命令<br /></span><strong><span class=\"ne-text\">TestPing.java</span></strong><span class=\"ne-text\"> </span><span class=\"ne-text\"> </span></li></ul><pre data-language=\"java\" id=\"4b1705e9\" class=\"ne-codeblock\">public class TestPing {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis(&quot;192.168.xx.xxx&quot;, 6379);\n        String response = jedis.ping();\n        System.out.println(response); // PONG\n    }\n}</pre><ul class=\"ne-ul\"><li id=\"udeae81bf\"><span class=\"ne-text\"> 断开连接 </span></li></ul><p id=\"u468631e1\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"uebe6bd9e\"><span class=\"ne-text\"> </span><strong><span class=\"ne-text\">事务</span></strong><span class=\"ne-text\"> </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"java\" id=\"b0590c08\" class=\"ne-codeblock\">public class TestTX {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis(&quot;39.99.xxx.xx&quot;, 6379);\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;hello&quot;, &quot;world&quot;);\n        jsonObject.put(&quot;name&quot;, &quot;kuangshen&quot;);\n        // 开启事务\n        Transaction multi = jedis.multi();\n        String result = jsonObject.toJSONString();\n        // jedis.watch(result)\n        try {\n            multi.set(&quot;user1&quot;, result);\n            multi.set(&quot;user2&quot;, result);\n            // 执行事务\n            multi.exec();\n        }catch (Exception e){\n            // 放弃事务\n            multi.discard();\n        } finally {\n            // 关闭连接\n            System.out.println(jedis.get(&quot;user1&quot;));\n            System.out.println(jedis.get(&quot;user2&quot;));\n            jedis.close();\n        }\n    }\n}</pre><p id=\"u63cdf4f2\" class=\"ne-p\"><br></p><h2 id=\"dbb1052f\"><span class=\"ne-text\">七、SpringBoot整合</span></h2><p id=\"uc57572aa\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u5cc6fd59\"><span class=\"ne-text\">导入依赖</span></li></ol><p id=\"uef0160ed\" class=\"ne-p\"><br></p><pre data-language=\"xml\" id=\"6e291667\" class=\"ne-codeblock\">&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;</pre><p id=\"u76342334\" class=\"ne-p\"><br></p><p id=\"ua14fa8c0\" class=\"ne-p\"><span class=\"ne-text\">springboot 2.x后 ，原来使用的 Jedis 被 lettuce 替换。</span></p><p id=\"u65ed1496\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u64e7ea3d\" class=\"ne-p\"><span class=\"ne-text\">jedis：采用的直连，多个线程操作的话，是不安全的。如果要避免不安全，使用jedis pool连接池！更像BIO模式</span></p><p id=\"u00065eb5\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u7ec5a661\" class=\"ne-p\"><span class=\"ne-text\">lettuce：采用netty，实例可以在多个线程中共享，不存在线程不安全的情况！可以减少线程数据了，更像NIO模式</span></p></div><p id=\"u4b2f5759\" class=\"ne-p\"><br></p><p id=\"ub4cf4286\" class=\"ne-p\"><span class=\"ne-text\">我们在学习SpringBoot自动配置的原理时，整合一个组件并进行配置一定会有一个自动配置类xxxAutoConfiguration,并且在spring.factories中也一定能找到这个类的完全限定名。Redis也不例外。</span></p><p id=\"ud963a7ad\" class=\"ne-p\"><br></p><p id=\"u74b24581\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214531573.png\" width=\"1147\" id=\"afEED\" class=\"ne-image\"></p><p id=\"ub4a25e08\" class=\"ne-p\"><br></p><p id=\"uf3932b7a\" class=\"ne-p\"><span class=\"ne-text\">那么就一定还存在一个RedisProperties类</span></p><p id=\"uc672aefd\" class=\"ne-p\"><br></p><p id=\"u49da5a07\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214554661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1159\" id=\"S17vK\" class=\"ne-image\"></p><p id=\"u456359cd\" class=\"ne-p\"><br></p><p id=\"u40f655f6\" class=\"ne-p\"><span class=\"ne-text\">之前我们说SpringBoot2.x后默认使用Lettuce来替换Jedis，现在我们就能来验证了。</span></p><p id=\"ub3c154ee\" class=\"ne-p\"><br></p><p id=\"u58c3694e\" class=\"ne-p\"><span class=\"ne-text\">先看Jedis:</span></p><p id=\"u651cf34b\" class=\"ne-p\"><br></p><p id=\"u8e6c9c86\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214607475.png\" width=\"1117\" id=\"kGLhv\" class=\"ne-image\"></p><p id=\"ubd48b2aa\" class=\"ne-p\"><br></p><p id=\"u41728bce\" class=\"ne-p\"><span class=\"ne-text\">@ConditionalOnClass注解中有两个类是默认不存在的，所以Jedis是无法生效的</span></p><p id=\"u11e4df9a\" class=\"ne-p\"><br></p><p id=\"u5df44947\" class=\"ne-p\"><span class=\"ne-text\">然后再看Lettuce：</span></p><p id=\"ub63434ed\" class=\"ne-p\"><br></p><p id=\"u0fede534\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214618179.png\" width=\"1009\" id=\"qWNTA\" class=\"ne-image\"></p><p id=\"u28fd3a0a\" class=\"ne-p\"><br></p><p id=\"u2ccf167d\" class=\"ne-p\"><span class=\"ne-text\">完美生效。</span></p><p id=\"uc7682537\" class=\"ne-p\"><br></p><p id=\"u53a8cf89\" class=\"ne-p\"><span class=\"ne-text\">现在我们回到RedisAutoConfiguratio</span></p><p id=\"u7098ca30\" class=\"ne-p\"><br></p><p id=\"u59b627f6\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/2020051321462777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1256\" id=\"DKVT5\" class=\"ne-image\"></p><p id=\"u2f154228\" class=\"ne-p\"><br></p><p id=\"uc2a33f20\" class=\"ne-p\"><span class=\"ne-text\">只有两个简单的Bean</span></p><p id=\"u4b7ad2b1\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u88705071\"><strong><span class=\"ne-text\">RedisTemplate</span></strong></li></ul><ul class=\"ne-ul\"><li id=\"u907fa145\"><strong><span class=\"ne-text\">StringRedisTemplate</span></strong></li></ul><p id=\"u3df4ada3\" class=\"ne-p\"><br></p><p id=\"u461412f5\" class=\"ne-p\"><span class=\"ne-text\">当看到xxTemplate时可以对比RestTemplat、SqlSessionTemplate,通过使用这些Template来间接操作组件。那么这俩也不会例外。分别用于操作Redis和Redis中的String数据类型。</span></p><p id=\"u16b36888\" class=\"ne-p\"><br></p><p id=\"uc2afbf19\" class=\"ne-p\"><span class=\"ne-text\">在RedisTemplate上也有一个条件注解，说明我们是可以对其进行定制化的</span></p><p id=\"u8ca69cc2\" class=\"ne-p\"><br></p><p id=\"ue943c85e\" class=\"ne-p\"><span class=\"ne-text\">说完这些，我们需要知道如何编写配置文件然后连接Redis，就需要阅读RedisProperties</span></p><p id=\"ue1021c48\" class=\"ne-p\"><br></p><p id=\"ue7be1122\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214638238.png\" width=\"763\" id=\"aWu5H\" class=\"ne-image\"></p><p id=\"u746ce527\" class=\"ne-p\"><br></p><p id=\"uea3ed292\" class=\"ne-p\"><span class=\"ne-text\">这是一些基本的配置属性。</span></p><p id=\"u62d20ea9\" class=\"ne-p\"><br></p><p id=\"ua7158aaa\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214649380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"359\" id=\"i0wNu\" class=\"ne-image\"></p><p id=\"u0f246527\" class=\"ne-p\"><br></p><p id=\"u9609576c\" class=\"ne-p\"><span class=\"ne-text\">还有一些连接池相关的配置。注意使用时一定使用Lettuce的连接池。</span></p><p id=\"u2ec73511\" class=\"ne-p\"><br></p><p id=\"u6722df64\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214700372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"432\" id=\"cG4ZA\" class=\"ne-image\"></p><p id=\"uc26aba9b\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u64ced2ee\"><span class=\"ne-text\"> 编写配置文件 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"properties\" id=\"c4b03e2e\" class=\"ne-codeblock\"># 配置redis\nspring.redis.host=39.99.xxx.xx\nspring.redis.port=6379</pre><ol start=\"2\" class=\"ne-ol\"><li id=\"u681025a2\"><span class=\"ne-text\"> 使用RedisTemplate </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"java\" id=\"0108a3e6\" class=\"ne-codeblock\">@SpringBootTest\nclass Redis02SpringbootApplicationTests {\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Test\n    void contextLoads() {\n\n        // redisTemplate 操作不同的数据类型，api和我们的指令是一样的\n        // opsForValue 操作字符串 类似String\n        // opsForList 操作List 类似List\n        // opsForHah\n\n        // 除了基本的操作，我们常用的方法都可以直接通过redisTemplate操作，比如事务和基本的CRUD\n\n        // 获取连接对象\n        //RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();\n        //connection.flushDb();\n        //connection.flushAll();\n\n        redisTemplate.opsForValue().set(&quot;mykey&quot;,&quot;kuangshen&quot;);\n        System.out.println(redisTemplate.opsForValue().get(&quot;mykey&quot;));\n    }\n}</pre><ol start=\"3\" class=\"ne-ol\"><li id=\"uf2fb7e44\"><span class=\"ne-text\"> 测试结果<br /></span><strong><span class=\"ne-text\">此时我们回到Redis查看数据时候，惊奇发现全是乱码，可是程序中可以正常输出：</span></strong><span class=\"ne-text\"><br /></span><img src=\"https://img-blog.csdnimg.cn/20200513214734520.png\" width=\"525\" id=\"l9ss1\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><span class=\"ne-text\">这时候就关系到存储对象的序列化问题，在网络中传输的对象也是一样需要序列化，否者就全是乱码。<br /></span><span class=\"ne-text\">我们转到看那个默认的RedisTemplate内部什么样子：<br /></span><img src=\"https://img-blog.csdnimg.cn/20200513214746506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1193\" id=\"rZDN6\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><span class=\"ne-text\">在最开始就能看到几个关于序列化的参数。<br /></span><span class=\"ne-text\">默认的序列化器是采用JDK序列化器<br /></span><img src=\"https://img-blog.csdnimg.cn/20200513214757247.png\" width=\"816\" id=\"CbTP8\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><span class=\"ne-text\">而默认的RedisTemplate中的所有序列化器都是使用这个序列化器：<br /></span><img src=\"https://img-blog.csdnimg.cn/20200513214809494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"799\" id=\"AzzAU\" class=\"ne-image\"><span class=\"ne-text\"><br /></span><span class=\"ne-text\">后续我们定制RedisTemplate就可以对其进行修改。<br /></span><code class=\"ne-code\"><span class=\"ne-text\">RedisSerializer</span></code><span class=\"ne-text\">提供了多种序列化方案： </span></li></ol><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u7c9add29\"><span class=\"ne-text\"> 直接调用RedisSerializer的静态方法来返回序列化器，然后set<br /></span><img src=\"https://img-blog.csdnimg.cn/20200513214818682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"457\" id=\"MOE1T\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u2b7c0209\"><span class=\"ne-text\"> 自己new 相应的实现类，然后set<br /></span><img src=\"https://img-blog.csdnimg.cn/20200513214827233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"602\" id=\"R3cPV\" class=\"ne-image\"><span class=\"ne-text\"> </span></li></ul><p id=\"uf370af3c\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ol start=\"4\" class=\"ne-ol\"><li id=\"uaf1d0610\"><span class=\"ne-text\"> </span><strong><span class=\"ne-text\">定制RedisTemplate的模板：</span></strong><span class=\"ne-text\"><br /></span><span class=\"ne-text\">我们创建一个Bean加入容器，就会触发RedisTemplate上的条件注解使默认的RedisTemplate失效。 </span><span class=\"ne-text\"><br /></span><span class=\"ne-text\">这样一来，只要实体类进行了序列化，我们存什么都不会有乱码的担忧了。<br /></span><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oc8kJP08-1597890996523)(狂神说 Redis.assets/image-20200817175638086.png)] </span></li></ol><pre data-language=\"java\" id=\"e79cc4ab\" class=\"ne-codeblock\">@Configuration\npublic class RedisConfig {\n\n   @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException {\n        // 将template 泛型设置为 &lt;String, Object&gt;\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate();\n        // 连接工厂，不必修改\n        template.setConnectionFactory(redisConnectionFactory);\n        /*\n         * 序列化设置\n         */\n        // key、hash的key 采用 String序列化方式\n        template.setKeySerializer(RedisSerializer.string());\n        template.setHashKeySerializer(RedisSerializer.string());\n        // value、hash的value 采用 Jackson 序列化方式\n        template.setValueSerializer(RedisSerializer.json());\n        template.setHashValueSerializer(RedisSerializer.json());\n        template.afterPropertiesSet();\n        \n        return template;\n    }\n}</pre><p id=\"u090a86f8\" class=\"ne-p\"><br></p><h2 id=\"c3e4416a\"><span class=\"ne-text\">八、自定义Redis工具类</span></h2><p id=\"u7c3d481c\" class=\"ne-p\"><br></p><p id=\"uadb8c77d\" class=\"ne-p\"><span class=\"ne-text\">使用RedisTemplate需要频繁调用</span><code class=\"ne-code\"><span class=\"ne-text\">.opForxxx</span></code><span class=\"ne-text\">然后才能进行对应的操作，这样使用起来代码效率低下，工作中一般不会这样使用，而是将这些常用的公共API抽取出来封装成为一个工具类，然后直接使用工具类来间接操作Redis,不但效率高并且易用。</span></p><p id=\"uc11b0cb9\" class=\"ne-p\"><br></p><p id=\"u1e8b749f\" class=\"ne-p\"><span class=\"ne-text\">工具类参考博客：</span></p><p id=\"uf07bfa10\" class=\"ne-p\"><br></p><p id=\"ube51776e\" class=\"ne-p\"><a href=\"https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html\" data-href=\"https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html</span></a></p><p id=\"ub13f4cfd\" class=\"ne-p\"><br></p><p id=\"ud5e7aa08\" class=\"ne-p\"><a href=\"https://www.cnblogs.com/zhzhlong/p/11434284.html\" data-href=\"https://www.cnblogs.com/zhzhlong/p/11434284.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.cnblogs.com/zhzhlong/p/11434284.html</span></a></p><p id=\"ua1387997\" class=\"ne-p\"><br></p><h2 id=\"8f0c6da4\"><span class=\"ne-text\">九、Redis.conf</span></h2><p id=\"uc602d993\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u47f97a46\" class=\"ne-p\"><span class=\"ne-text\">容量单位不区分大小写，G和GB有区别</span></p></div><p id=\"u8b64abea\" class=\"ne-p\"><br></p><p id=\"u7c2ca540\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/2020051321485460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1008\" id=\"yG8r0\" class=\"ne-image\"></p><p id=\"ube5767f0\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ub6582592\" class=\"ne-p\"><span class=\"ne-text\">可以使用 include 组合多个配置问题</span></p></div><p id=\"u6719ddda\" class=\"ne-p\"><br></p><p id=\"u20e6ce0e\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214902552.png\" width=\"604\" id=\"jQb9i\" class=\"ne-image\"></p><p id=\"u76565c26\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u7c1f9ea4\" class=\"ne-p\"><span class=\"ne-text\">网络配置</span></p></div><p id=\"u7693dfdf\" class=\"ne-p\"><br></p><p id=\"u1e7dd80a\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214912813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1193\" id=\"YZOg5\" class=\"ne-image\"></p><p id=\"u76a49ace\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u9f9a5fe6\" class=\"ne-p\"><span class=\"ne-text\">日志输出级别</span></p></div><p id=\"ue7f8ecb4\" class=\"ne-p\"><br></p><p id=\"uf934ee99\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214923678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"970\" id=\"mZ4Hy\" class=\"ne-image\"></p><p id=\"u42174639\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"udbae85eb\" class=\"ne-p\"><span class=\"ne-text\">日志输出文件</span></p></div><p id=\"u00a254f2\" class=\"ne-p\"><br></p><p id=\"u4ca54867\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214933713.png\" width=\"847\" id=\"c28ja\" class=\"ne-image\"></p><p id=\"ua8b2c0f3\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u170c5b0f\" class=\"ne-p\"><span class=\"ne-text\">持久化规则</span></p></div><p id=\"u9a75019b\" class=\"ne-p\"><br></p><p id=\"u0b11c061\" class=\"ne-p\"><span class=\"ne-text\">由于Redis是基于内存的数据库，需要将数据由内存持久化到文件中</span></p><p id=\"uaffc43c9\" class=\"ne-p\"><br></p><p id=\"u2f287fc2\" class=\"ne-p\"><span class=\"ne-text\">持久化方式：</span></p><p id=\"u8fadb186\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ud6689058\"><span class=\"ne-text\">RDB</span></li></ul><ul class=\"ne-ul\"><li id=\"u08041462\"><span class=\"ne-text\">AOF</span></li></ul><p id=\"u05bc924a\" class=\"ne-p\"><br></p><p id=\"ue0434343\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214944964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"668\" id=\"DYGFT\" class=\"ne-image\"></p><p id=\"ue643965c\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u6c37378c\" class=\"ne-p\"><span class=\"ne-text\">RDB文件相关</span></p></div><p id=\"uf5921402\" class=\"ne-p\"><br></p><p id=\"ua2e2cb1e\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513214955679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1115\" id=\"MXxbw\" class=\"ne-image\"></p><p id=\"u5dc7b793\" class=\"ne-p\"><br></p><p id=\"ud7c71444\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215006207.png\" width=\"656\" id=\"oBhgq\" class=\"ne-image\"></p><p id=\"ua3ec7929\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u4c3ccb71\" class=\"ne-p\"><span class=\"ne-text\">主从复制</span></p></div><p id=\"u3e01d9d4\" class=\"ne-p\"><br></p><p id=\"u53ce12fc\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215016371.png\" width=\"1033\" id=\"FUUTH\" class=\"ne-image\"></p><p id=\"u1e50436b\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u4920904b\" class=\"ne-p\"><span class=\"ne-text\">Security模块中进行密码设置</span></p></div><p id=\"uead5d736\" class=\"ne-p\"><br></p><p id=\"u46a45fca\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215026143.png\" width=\"777\" id=\"TeOFZ\" class=\"ne-image\"></p><p id=\"uc33f5a14\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ub616e832\" class=\"ne-p\"><span class=\"ne-text\">客户端连接相关</span></p></div><p id=\"u379dcbfd\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"aba4effa\" class=\"ne-codeblock\">maxclients 10000  最大客户端数量\nmaxmemory &lt;bytes&gt; 最大内存限制\nmaxmemory-policy noeviction # 内存达到限制值的处理策略</pre><p id=\"uec881814\" class=\"ne-p\"><br></p><p id=\"u23270475\" class=\"ne-p\"><span class=\"ne-text\">redis 中的</span><strong><span class=\"ne-text\">默认</span></strong><span class=\"ne-text\">的过期策略是 </span><strong><span class=\"ne-text\">volatile-lru</span></strong><span class=\"ne-text\"> 。</span></p><p id=\"u7d998f34\" class=\"ne-p\"><br></p><p id=\"ue5238ec4\" class=\"ne-p\"><strong><span class=\"ne-text\">设置方式</span></strong></p><p id=\"ue1abc440\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"ba757f23\" class=\"ne-codeblock\">config set maxmemory-policy volatile-lru \n1</pre><p id=\"ue590e105\" class=\"ne-p\"><br></p><h4 id=\"2c0ecb4b\"><strong><span class=\"ne-text\">maxmemory-policy 六种方式</span></strong></h4><p id=\"uc53629ec\" class=\"ne-p\"><br></p><p id=\"u644df074\" class=\"ne-p\"><strong><span class=\"ne-text\">1、volatile-lru：</span></strong><span class=\"ne-text\">只对设置了过期时间的key进行LRU（默认值）</span></p><p id=\"ubffcf6c7\" class=\"ne-p\"><br></p><p id=\"uc4044e8b\" class=\"ne-p\"><strong><span class=\"ne-text\">2、allkeys-lru ：</span></strong><span class=\"ne-text\"> 删除lru算法的key</span></p><p id=\"u29ebe660\" class=\"ne-p\"><br></p><p id=\"uba57087d\" class=\"ne-p\"><strong><span class=\"ne-text\">3、volatile-random：</span></strong><span class=\"ne-text\">随机删除即将过期key</span></p><p id=\"u6aa21fb9\" class=\"ne-p\"><br></p><p id=\"u85733ca5\" class=\"ne-p\"><strong><span class=\"ne-text\">4、allkeys-random：</span></strong><span class=\"ne-text\">随机删除</span></p><p id=\"u9c55e500\" class=\"ne-p\"><br></p><p id=\"ud33bc804\" class=\"ne-p\"><strong><span class=\"ne-text\">5、volatile-ttl ：</span></strong><span class=\"ne-text\"> 删除即将过期的</span></p><p id=\"uf2e57554\" class=\"ne-p\"><br></p><p id=\"u8d393040\" class=\"ne-p\"><strong><span class=\"ne-text\">6、noeviction ：</span></strong><span class=\"ne-text\"> 永不过期，返回错误</span></p><p id=\"u856ae119\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u393ba2f2\" class=\"ne-p\"><span class=\"ne-text\">AOF相关部分</span></p></div><p id=\"u67afae48\" class=\"ne-p\"><br></p><p id=\"u69f9c919\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215037918.png\" width=\"1040\" id=\"gu6Y1\" class=\"ne-image\"></p><p id=\"ud2ef98a0\" class=\"ne-p\"><br></p><p id=\"uaae61804\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215047999.png\" width=\"1014\" id=\"Jsq9r\" class=\"ne-image\"></p><p id=\"u1db2091e\" class=\"ne-p\"><br></p><h2 id=\"5bcafd56\"><span class=\"ne-text\">十、持久化—RDB</span></h2><p id=\"ud3b020c8\" class=\"ne-p\"><br></p><p id=\"u79b2ae5b\" class=\"ne-p\"><span class=\"ne-text\">RDB：Redis Databases</span></p><p id=\"u70d93943\" class=\"ne-p\"><br></p><p id=\"uba8b9e44\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-C0mm1D4A-1597890996524)(狂神说 Redis.assets/image-20200818122236614.png)]</span></p><p id=\"ucdc46481\" class=\"ne-p\"><br></p><h3 id=\"46096430\"><span class=\"ne-text\">什么是RDB</span></h3><hr id=\"zj2Jj\" class=\"ne-hr\"><p id=\"u3d665765\" class=\"ne-p\"><span class=\"ne-text\">在指定时间间隔后，将内存中的数据集快照写入数据库 ；在恢复时候，直接读取快照文件，进行数据的恢复 ；</span></p><p id=\"u2d4736fc\" class=\"ne-p\"><br></p><p id=\"uad0c6a74\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215126515.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"443\" id=\"WjrQk\" class=\"ne-image\"></p><p id=\"u48862748\" class=\"ne-p\"><br></p><p id=\"u14c9be62\" class=\"ne-p\"><span class=\"ne-text\">默认情况下， Redis 将数据库快照保存在名字为 dump.rdb的二进制文件中。文件名可以在配置文件中进行自定义。</span></p><p id=\"u371207c3\" class=\"ne-p\"><br></p><h3 id=\"b3fbd195\"><span class=\"ne-text\">工作原理</span></h3><hr id=\"vI8y5\" class=\"ne-hr\"><p id=\"u80c2f7d7\" class=\"ne-p\"><span class=\"ne-text\">在进行 </span><code class=\"ne-code\"><strong><span class=\"ne-text\">RDB</span></strong></code><span class=\"ne-text\"> 的时候，</span><code class=\"ne-code\"><strong><span class=\"ne-text\">redis</span></strong></code><span class=\"ne-text\"> 的主线程是不会做 </span><code class=\"ne-code\"><strong><span class=\"ne-text\">io</span></strong></code><span class=\"ne-text\"> 操作的，主线程会 </span><code class=\"ne-code\"><strong><span class=\"ne-text\">fork</span></strong></code><span class=\"ne-text\"> 一个子线程来完成该操作；</span></p><p id=\"ubc3822e1\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u0bfb3bbe\"><span class=\"ne-text\">Redis 调用forks。同时拥有父进程和子进程。</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u5969f44b\"><span class=\"ne-text\">子进程将数据集写入到一个临时 RDB 文件中。</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"ue4c6ef38\"><span class=\"ne-text\">当子进程完成对新 RDB 文件的写入时，Redis 用新 RDB 文件替换原来的 RDB 文件，并删除旧的 RDB 文件。</span></li></ol><p id=\"ua08da69c\" class=\"ne-p\"><br></p><p id=\"u1f09d46e\" class=\"ne-p\"><span class=\"ne-text\">这种工作方式使得 Redis 可以从写时复制（copy-on-write）机制中获益(因为是使用子进程进行写操作，而父进程依然可以接收来自客户端的请求。)</span></p><p id=\"u765edd62\" class=\"ne-p\"><br></p><p id=\"u85c5a0a7\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215141519.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"592\" id=\"w9GKz\" class=\"ne-image\"></p><p id=\"udc2463ea\" class=\"ne-p\"><br></p><h3 id=\"5e1a77c8\"><span class=\"ne-text\">触发机制</span></h3><hr id=\"va58H\" class=\"ne-hr\"><ol class=\"ne-ol\"><li id=\"u379f1399\"><span class=\"ne-text\">save的规则满足的情况下，会自动触发rdb原则</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ufe0062b2\"><span class=\"ne-text\">执行flushall命令，也会触发我们的rdb原则</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"ubd10a341\"><span class=\"ne-text\">退出redis，也会自动产生rdb文件</span></li></ol><p id=\"u2039d8b5\" class=\"ne-p\"><br></p><h4 id=\"save\"><span class=\"ne-text\">save</span></h4><p id=\"u0276b6c7\" class=\"ne-p\"><br></p><p id=\"u159c3407\" class=\"ne-p\"><span class=\"ne-text\">使用 </span><code class=\"ne-code\"><span class=\"ne-text\">save</span></code><span class=\"ne-text\"> 命令，会立刻对当前内存中的数据进行持久化 ,但是会阻塞，也就是不接受其他操作了；</span></p><p id=\"u3e1839de\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ua8efabb8\" class=\"ne-p\"><span class=\"ne-text\">由于 </span><code class=\"ne-code\"><span class=\"ne-text\">save</span></code><span class=\"ne-text\"> 命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，</span><code class=\"ne-code\"><span class=\"ne-text\">save</span></code><span class=\"ne-text\">命令执行速度会非常慢，阻塞所有客户端的请求。</span></p></div><p id=\"ub335285e\" class=\"ne-p\"><br></p><p id=\"u6fa9d7a0\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215150892.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"783\" id=\"FG28P\" class=\"ne-image\"></p><p id=\"uc3a07273\" class=\"ne-p\"><br></p><h4 id=\"d23a92c1\"><span class=\"ne-text\">flushall命令</span></h4><p id=\"u3084a557\" class=\"ne-p\"><br></p><p id=\"u35f17802\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">flushall</span></code><span class=\"ne-text\"> 命令也会触发持久化 ；</span></p><p id=\"u7b5285ba\" class=\"ne-p\"><br></p><h4 id=\"9fa8119d\"><span class=\"ne-text\">触发持久化规则</span></h4><p id=\"u423a484f\" class=\"ne-p\"><br></p><p id=\"ud64843a7\" class=\"ne-p\"><span class=\"ne-text\">满足配置条件中的触发条件 ；</span></p><p id=\"ub1a7ebab\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u0524d539\" class=\"ne-p\"><span class=\"ne-text\">可以通过配置文件对 Redis 进行设置， 让它在“ N 秒内数据集至少有 M 个改动”这一条件被满足时， 自动进行数据集保存操作。</span></p><p id=\"uba8f8498\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u214894bf\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215205970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"668\" id=\"z1eHe\" class=\"ne-image\"></p></div><p id=\"ue1dd8bc4\" class=\"ne-p\"><br></p><p id=\"ud7149052\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215220858.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"611\" id=\"i6khx\" class=\"ne-image\"></p><p id=\"ubca5b921\" class=\"ne-p\"><br></p><h4 id=\"bgsave\"><span class=\"ne-text\">bgsave</span></h4><p id=\"u49b326e6\" class=\"ne-p\"><br></p><p id=\"u17a8e57f\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">bgsave</span></code><span class=\"ne-text\"> 是异步进行，进行持久化的时候，</span><code class=\"ne-code\"><span class=\"ne-text\">redis</span></code><span class=\"ne-text\"> 还可以将继续响应客户端请求 ；</span></p><p id=\"u79dd8bc9\" class=\"ne-p\"><br></p><p id=\"ue4d668be\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/2020051321523151.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"592\" id=\"AaUif\" class=\"ne-image\"></p><p id=\"u5aa7cde0\" class=\"ne-p\"><br></p><p id=\"u21e01cae\" class=\"ne-p\"><strong><span class=\"ne-text\">bgsave和save对比</span></strong></p><table id=\"6c9f0c4a\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u25aa148b\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"250\"><p id=\"u8248d37e\" class=\"ne-p\"><span class=\"ne-text\">save</span></p></td><td width=\"250\"><p id=\"uc1dae374\" class=\"ne-p\"><span class=\"ne-text\">bgsave</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u80cd5196\" class=\"ne-p\"><span class=\"ne-text\">IO类型</span></p></td><td width=\"250\"><p id=\"u32204119\" class=\"ne-p\"><span class=\"ne-text\">同步</span></p></td><td width=\"250\"><p id=\"ua1fe6840\" class=\"ne-p\"><span class=\"ne-text\">异步</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u549ef95e\" class=\"ne-p\"><span class=\"ne-text\">阻塞？</span></p></td><td width=\"250\"><p id=\"u2a4d1a68\" class=\"ne-p\"><span class=\"ne-text\">是</span></p></td><td width=\"250\"><p id=\"uae7de3ee\" class=\"ne-p\"><span class=\"ne-text\">是（阻塞发生在fock()，通常非常快）</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u18250b28\" class=\"ne-p\"><span class=\"ne-text\">复杂度</span></p></td><td width=\"250\"><p id=\"u1fbf78b0\" class=\"ne-p\"><span class=\"ne-text\">O(n)</span></p></td><td width=\"250\"><p id=\"udf210631\" class=\"ne-p\"><span class=\"ne-text\">O(n)</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u432f5d27\" class=\"ne-p\"><span class=\"ne-text\">优点</span></p></td><td width=\"250\"><p id=\"u12fa15e2\" class=\"ne-p\"><span class=\"ne-text\">不会消耗额外的内存</span></p></td><td width=\"250\"><p id=\"udf03c0f6\" class=\"ne-p\"><span class=\"ne-text\">不阻塞客户端命令</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u3e2c3c10\" class=\"ne-p\"><span class=\"ne-text\">缺点</span></p></td><td width=\"250\"><p id=\"u1841b246\" class=\"ne-p\"><span class=\"ne-text\">阻塞客户端命令</span></p></td><td width=\"250\"><p id=\"ue3205852\" class=\"ne-p\"><span class=\"ne-text\">需要fock子进程，消耗内存</span></p></td></tr></tbody></table><p id=\"u6f3199ad\" class=\"ne-p\"><br></p><h3 id=\"78102351\"><span class=\"ne-text\">优缺点</span></h3><p id=\"u64d4b61d\" class=\"ne-p\"><br></p><p id=\"u0dbc0350\" class=\"ne-p\"><strong><span class=\"ne-text\">优点：</span></strong></p><p id=\"u90cfd46f\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u0927821d\"><span class=\"ne-text\">适合大规模的数据恢复</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"uf973cddb\"><span class=\"ne-text\">对数据的完整性要求不高</span></li></ol><p id=\"uc0e06e5e\" class=\"ne-p\"><br></p><p id=\"u95bef7da\" class=\"ne-p\"><strong><span class=\"ne-text\">缺点：</span></strong></p><p id=\"u13be3985\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u094c4acf\"><span class=\"ne-text\">需要一定的时间间隔进行操作，如果redis意外宕机了，这个最后一次修改的数据就没有了。</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u894b6ad9\"><span class=\"ne-text\">fork进程的时候，会占用一定的内容空间。</span></li></ol><p id=\"u6abb57f7\" class=\"ne-p\"><br></p><h2 id=\"17472ea0\"><span class=\"ne-text\">十一、持久化AOF</span></h2><p id=\"u5f93aa86\" class=\"ne-p\"><br></p><p id=\"u64ed7268\" class=\"ne-p\"><strong><span class=\"ne-text\">Append Only File</span></strong></p><p id=\"u0390e6f0\" class=\"ne-p\"><br></p><p id=\"ucbae4a1c\" class=\"ne-p\"><span class=\"ne-text\">将我们所有的命令都记录下来，history，恢复的时候就把这个文件全部再执行一遍</span></p><p id=\"u53380480\" class=\"ne-p\"><br></p><p id=\"u9fb67f0b\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z8wr9lBW-1597890996525)(狂神说 Redis.assets/image-20200818123711375.png)]</span></p><p id=\"ue84c2475\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u38d5e9c6\" class=\"ne-p\"><span class=\"ne-text\">以日志的形式来记录每个写的操作，将Redis执行过的所有指令记录下来（读操作不记录），只许追加文件但不可以改写文件，redis启动之初会读取该文件重新构建数据，换言之，redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作。</span></p></div><p id=\"u92f2ccdd\" class=\"ne-p\"><br></p><h3 id=\"95180d71\"><span class=\"ne-text\">什么是AOF</span></h3><p id=\"uf58a3a5a\" class=\"ne-p\"><br></p><p id=\"ubf7e8d8d\" class=\"ne-p\"><span class=\"ne-text\">快照功能（RDB）并不是非常耐久（durable）： 如果 Redis 因为某些原因而造成故障停机， 那么服务器将丢失最近写入、以及未保存到快照中的那些数据。 从 1.1 版本开始， Redis 增加了一种完全耐久的持久化方式： AOF 持久化。</span></p><p id=\"uc8cee376\" class=\"ne-p\"><br></p><p id=\"ud3c3ea5e\" class=\"ne-p\"><span class=\"ne-text\">如果要使用AOF，需要修改配置文件：</span></p><p id=\"u68a9bf32\" class=\"ne-p\"><br></p><p id=\"u95938011\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215247113.png\" width=\"1040\" id=\"eDPNZ\" class=\"ne-image\"></p><p id=\"u35cf7438\" class=\"ne-p\"><br></p><p id=\"u27824fa6\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">appendonly no yes</span></code><span class=\"ne-text\">则表示启用AOF</span></p><p id=\"u8024b757\" class=\"ne-p\"><br></p><p id=\"u715a17de\" class=\"ne-p\"><span class=\"ne-text\">默认是不开启的，我们需要手动配置，然后重启redis，就可以生效了！</span></p><p id=\"u9186c9dd\" class=\"ne-p\"><br></p><p id=\"u13d82eb8\" class=\"ne-p\"><span class=\"ne-text\">如果这个aof文件有错位，这时候redis是启动不起来的，我需要修改这个aof文件</span></p><p id=\"u3fe023d3\" class=\"ne-p\"><br></p><p id=\"u77a02f44\" class=\"ne-p\"><span class=\"ne-text\">redis给我们提供了一个工具</span><code class=\"ne-code\"><span class=\"ne-text\">redis-check-aof --fix</span></code></p><p id=\"u41adc97a\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u267246f3\" class=\"ne-p\"><span class=\"ne-text\">优点和缺点</span></p></div><p id=\"ua35e2b85\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"83a59208\" class=\"ne-codeblock\">appendonly yes  # 默认是不开启aof模式的，默认是使用rdb方式持久化的，在大部分的情况下，rdb完全够用\nappendfilename &quot;appendonly.aof&quot;\n\n# appendfsync always # 每次修改都会sync 消耗性能\nappendfsync everysec # 每秒执行一次 sync 可能会丢失这一秒的数据\n# appendfsync no # 不执行 sync ,这时候操作系统自己同步数据，速度最快</pre><p id=\"u7ba9ac4e\" class=\"ne-p\"><br></p><p id=\"u125250aa\" class=\"ne-p\"><strong><span class=\"ne-text\">优点</span></strong></p><p id=\"u0fc9e68e\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u266f5620\"><span class=\"ne-text\">每一次修改都会同步，文件的完整性会更加好</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ue88cbae1\"><span class=\"ne-text\">没秒同步一次，可能会丢失一秒的数据</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u85aa6b5a\"><span class=\"ne-text\">从不同步，效率最高</span></li></ol><p id=\"ue0639350\" class=\"ne-p\"><br></p><p id=\"u29eb120a\" class=\"ne-p\"><strong><span class=\"ne-text\">缺点</span></strong></p><p id=\"ua2010e49\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u5f272555\"><span class=\"ne-text\">相对于数据文件来说，aof远远大于rdb，修复速度比rdb慢！</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u9e27a723\"><span class=\"ne-text\">Aof运行效率也要比rdb慢，所以我们redis默认的配置就是rdb持久化</span></li></ol><p id=\"u57d0cb83\" class=\"ne-p\"><br></p><h2 id=\"7ee877b2\"><span class=\"ne-text\">十二、RDB和AOP选择</span></h2><p id=\"u21c34dea\" class=\"ne-p\"><br></p><h3 id=\"9a4822ca\"><span class=\"ne-text\">RDB 和 AOF 对比</span></h3><table id=\"4717e3a8\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u7ae1aa36\" class=\"ne-p\"><span class=\"ne-text\">RDB</span></p></td><td width=\"250\"><p id=\"u175b3640\" class=\"ne-p\"><span class=\"ne-text\">AOF</span></p></td><td width=\"250\"></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"udae43293\" class=\"ne-p\"><span class=\"ne-text\">启动优先级</span></p></td><td width=\"250\"><p id=\"u3cd651b6\" class=\"ne-p\"><span class=\"ne-text\">低</span></p></td><td width=\"250\"><p id=\"u937d67e2\" class=\"ne-p\"><span class=\"ne-text\">高</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ubaa159ec\" class=\"ne-p\"><span class=\"ne-text\">体积</span></p></td><td width=\"250\"><p id=\"ue408dadb\" class=\"ne-p\"><span class=\"ne-text\">小</span></p></td><td width=\"250\"><p id=\"ub1cc3ea9\" class=\"ne-p\"><span class=\"ne-text\">大</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u31ad7bc5\" class=\"ne-p\"><span class=\"ne-text\">恢复速度</span></p></td><td width=\"250\"><p id=\"u754fe2ae\" class=\"ne-p\"><span class=\"ne-text\">快</span></p></td><td width=\"250\"><p id=\"u15415a63\" class=\"ne-p\"><span class=\"ne-text\">慢</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ub5d8ad07\" class=\"ne-p\"><span class=\"ne-text\">数据安全性</span></p></td><td width=\"250\"><p id=\"u4306dbf7\" class=\"ne-p\"><span class=\"ne-text\">丢数据</span></p></td><td width=\"250\"><p id=\"u0ff2542d\" class=\"ne-p\"><span class=\"ne-text\">根据策略决定</span></p></td></tr></tbody></table><p id=\"ufcf1656b\" class=\"ne-p\"><br></p><h3 id=\"5e50f972\"><span class=\"ne-text\">如何选择使用哪种持久化方式？</span></h3><p id=\"u50bb43f0\" class=\"ne-p\"><br></p><p id=\"uc8304421\" class=\"ne-p\"><span class=\"ne-text\">一般来说， 如果想达到足以媲美 PostgreSQL 的数据安全性， 你应该同时使用两种持久化功能。</span></p><p id=\"u0f982d37\" class=\"ne-p\"><br></p><p id=\"uefa264c2\" class=\"ne-p\"><span class=\"ne-text\">如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失， 那么你可以只使用 RDB 持久化。</span></p><p id=\"u58c5be35\" class=\"ne-p\"><br></p><p id=\"u701ee6d1\" class=\"ne-p\"><span class=\"ne-text\">有很多用户都只使用 AOF 持久化， 但并不推荐这种方式： 因为定时生成 RDB 快照（snapshot）非常便于进行数据库备份， 并且 RDB 恢复数据集的速度也要比 AOF 恢复的速度要快。</span></p><p id=\"ue64f3841\" class=\"ne-p\"><br></p><h2 id=\"c71a560d\"><span class=\"ne-text\">十三、Redis发布与订阅</span></h2><p id=\"u2199de74\" class=\"ne-p\"><br></p><p id=\"ubf152794\" class=\"ne-p\"><span class=\"ne-text\">Redis 发布订阅(pub/sub)是一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。</span></p><p id=\"u71d4e789\" class=\"ne-p\"><br></p><p id=\"ueee98c36\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IBT2pjCa-1597890996526)(狂神说 Redis.assets/image-20200818162849693.png)]</span></p><p id=\"ub52e45f4\" class=\"ne-p\"><br></p><p id=\"u6341515b\" class=\"ne-p\"><span class=\"ne-text\">下图展示了频道 channel1 ， 以及订阅这个频道的三个客户端 —— client2 、 client5 和 client1 之间的关系：</span></p><p id=\"ub09f7213\" class=\"ne-p\"><br></p><p id=\"u4aea72c9\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215523258.png\" width=\"319\" id=\"phjVM\" class=\"ne-image\"></p><p id=\"u79646f84\" class=\"ne-p\"><br></p><p id=\"ubdfe0957\" class=\"ne-p\"><span class=\"ne-text\">当有新消息通过 PUBLISH 命令发送给频道 channel1 时， 这个消息就会被发送给订阅它的三个客户端：</span></p><p id=\"u8cd02b5d\" class=\"ne-p\"><br></p><p id=\"ucb491835\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/2020051321553483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"315\" id=\"l5gyr\" class=\"ne-image\"></p><p id=\"u0dda797a\" class=\"ne-p\"><br></p><h3 id=\"ddf7d2a5\"><span class=\"ne-text\">命令</span></h3><table id=\"7e9bbfbf\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u2a2519df\" class=\"ne-p\"><span class=\"ne-text\">命令</span></p></td><td width=\"375\"><p id=\"u50650742\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ua3e99603\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PSUBSCRIBE pattern [pattern..]</span></code></p></td><td width=\"375\"><p id=\"u055e85af\" class=\"ne-p\"><span class=\"ne-text\">订阅一个或多个符合给定模式的频道。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"uf1db206c\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PUNSUBSCRIBE pattern [pattern..]</span></code></p></td><td width=\"375\"><p id=\"uff95b1a4\" class=\"ne-p\"><span class=\"ne-text\">退订一个或多个符合给定模式的频道。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u50fcebdf\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PUBSUB subcommand [argument[argument]]</span></code></p></td><td width=\"375\"><p id=\"ud9aca228\" class=\"ne-p\"><span class=\"ne-text\">查看订阅与发布系统状态。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u78de27a5\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">PUBLISH channel message</span></code></p></td><td width=\"375\"><p id=\"u490901f9\" class=\"ne-p\"><span class=\"ne-text\">向指定频道发布消息</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"u30b98691\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SUBSCRIBE channel [channel..]</span></code></p></td><td width=\"375\"><p id=\"ub2750fd9\" class=\"ne-p\"><span class=\"ne-text\">订阅给定的一个或多个频道。</span></p></td></tr><tr style=\"height: 33px\"><td width=\"375\"><p id=\"ub3d2acde\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">SUBSCRIBE channel [channel..]</span></code></p></td><td width=\"375\"><p id=\"u7d2071d9\" class=\"ne-p\"><span class=\"ne-text\">退订一个或多个频道</span></p></td></tr></tbody></table><p id=\"u4e74ca57\" class=\"ne-p\"><br></p><h3 id=\"1a63ac23\"><span class=\"ne-text\">示例</span></h3><p id=\"ucc83b6c3\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"3692820d\" class=\"ne-codeblock\">------------订阅端----------------------\n127.0.0.1:6379&gt; SUBSCRIBE sakura # 订阅sakura频道\nReading messages... (press Ctrl-C to quit) # 等待接收消息\n1) &quot;subscribe&quot; # 订阅成功的消息\n2) &quot;sakura&quot;\n3) (integer) 1\n1) &quot;message&quot; # 接收到来自sakura频道的消息 &quot;hello world&quot;\n2) &quot;sakura&quot;\n3) &quot;hello world&quot;\n1) &quot;message&quot; # 接收到来自sakura频道的消息 &quot;hello i am sakura&quot;\n2) &quot;sakura&quot;\n3) &quot;hello i am sakura&quot;\n\n--------------消息发布端-------------------\n127.0.0.1:6379&gt; PUBLISH sakura &quot;hello world&quot; # 发布消息到sakura频道\n(integer) 1\n127.0.0.1:6379&gt; PUBLISH sakura &quot;hello i am sakura&quot; # 发布消息\n(integer) 1\n\n-----------------查看活跃的频道------------\n127.0.0.1:6379&gt; PUBSUB channels\n1) &quot;sakura&quot;</pre><p id=\"u9d4457a9\" class=\"ne-p\"><br></p><h3 id=\"b6724cff\"><span class=\"ne-text\">原理</span></h3><p id=\"uff4df0d1\" class=\"ne-p\"><br></p><p id=\"u799af2ce\" class=\"ne-p\"><span class=\"ne-text\">每个 Redis 服务器进程都维持着一个表示服务器状态的 redis.h/redisServer 结构， 结构的 pubsub_channels 属性是一个字典， 这个字典就用于保存订阅频道的信息，其中，字典的键为正在被订阅的频道， 而字典的值则是一个链表， 链表中保存了所有订阅这个频道的客户端。</span></p><p id=\"udc95f87a\" class=\"ne-p\"><br></p><p id=\"u6ae22c72\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/2020051321554964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"709\" id=\"HaVKA\" class=\"ne-image\"></p><p id=\"uba500619\" class=\"ne-p\"><br></p><p id=\"udba3783c\" class=\"ne-p\"><span class=\"ne-text\">客户端订阅，就被链接到对应频道的链表的尾部，退订则就是将客户端节点从链表中移除。</span></p><p id=\"ud0117a9a\" class=\"ne-p\"><br></p><h3 id=\"2e769a75\"><span class=\"ne-text\">缺点</span></h3><p id=\"ud82d6dce\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u98f500f0\"><span class=\"ne-text\">如果一个客户端订阅了频道，但自己读取消息的速度却不够快的话，那么不断积压的消息会使redis输出缓冲区的体积变得越来越大，这可能使得redis本身的速度变慢，甚至直接崩溃。</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"uf6221adf\"><span class=\"ne-text\">这和数据传输可靠性有关，如果在订阅方断线，那么他将会丢失所有在短线期间发布者发布的消息。</span></li></ol><p id=\"u758389b8\" class=\"ne-p\"><br></p><h3 id=\"5b0520a9\"><span class=\"ne-text\">应用</span></h3><p id=\"u5ad91f65\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ub4005d05\"><span class=\"ne-text\">消息订阅：公众号订阅，微博关注等等（起始更多是使用消息队列来进行实现）</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"uc08a7965\"><span class=\"ne-text\">多人在线聊天室。</span></li></ol><p id=\"uf08ed8de\" class=\"ne-p\"><br></p><p id=\"ucd6d42c7\" class=\"ne-p\"><span class=\"ne-text\">稍微复杂的场景，我们就会使用消息中间件MQ处理。</span></p><p id=\"ud5caf0be\" class=\"ne-p\"><br></p><h2 id=\"ca07c665\"><span class=\"ne-text\">十四、Redis主从复制</span></h2><p id=\"u52397c88\" class=\"ne-p\"><br></p><h3 id=\"b59c9e0f\"><span class=\"ne-text\">概念</span></h3><p id=\"u33cb76b3\" class=\"ne-p\"><br></p><p id=\"u1441638b\" class=\"ne-p\"><span class=\"ne-text\">主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点（Master/Leader）,后者称为从节点（Slave/Follower）， 数据的复制是单向的！只能由主节点复制到从节点（主节点以写为主、从节点以读为主）。</span></p><p id=\"u8622da00\" class=\"ne-p\"><br></p><p id=\"u24872622\" class=\"ne-p\"><span class=\"ne-text\">默认情况下，每台Redis服务器都是主节点，一个主节点可以有0个或者多个从节点，但每个从节点只能由一个主节点。</span></p><p id=\"u8b229e0e\" class=\"ne-p\"><br></p><h3 id=\"69fa3701\"><span class=\"ne-text\">作用</span></h3><p id=\"uaf856e08\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ub3628ceb\"><span class=\"ne-text\">数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余的方式。</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"ue184f608\"><span class=\"ne-text\">故障恢复：当主节点故障时，从节点可以暂时替代主节点提供服务，是一种服务冗余的方式</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u7b27de33\"><span class=\"ne-text\">负载均衡：在主从复制的基础上，配合读写分离，由主节点进行写操作，从节点进行读操作，分担服务器的负载；尤其是在多读少写的场景下，通过多个从节点分担负载，提高并发量。</span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u0649d7cb\"><span class=\"ne-text\">高可用基石：主从复制还是哨兵和集群能够实施的基础。</span></li></ol><p id=\"u1e0b4acc\" class=\"ne-p\"><br></p><h3 id=\"7f831a7b\"><span class=\"ne-text\">为什么使用集群</span></h3><p id=\"ub1d147f5\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u047891a9\"><span class=\"ne-text\">单台服务器难以负载大量的请求</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"uaef353bd\"><span class=\"ne-text\">单台服务器故障率高，系统崩坏概率大</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u9f781224\"><span class=\"ne-text\">单台服务器内存容量有限。</span></li></ol><p id=\"u55927770\" class=\"ne-p\"><br></p><h3 id=\"a69f6882\"><span class=\"ne-text\">环境配置</span></h3><p id=\"u51d71321\" class=\"ne-p\"><br></p><p id=\"u349341a9\" class=\"ne-p\"><span class=\"ne-text\">我们在讲解配置文件的时候，注意到有一个</span><code class=\"ne-code\"><span class=\"ne-text\">replication</span></code><span class=\"ne-text\">模块 (见Redis.conf中第8条)</span></p><p id=\"u27d2da83\" class=\"ne-p\"><br></p><p id=\"uf68f7964\" class=\"ne-p\"><span class=\"ne-text\">查看当前库的信息：</span><code class=\"ne-code\"><span class=\"ne-text\">info replication</span></code></p><p id=\"ufaab808f\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"4d144627\" class=\"ne-codeblock\">127.0.0.1:6379&gt; info replication\n# Replication\nrole:master # 角色\nconnected_slaves:0 # 从机数量\nmaster_replid:3b54deef5b7b7b7f7dd8acefa23be48879b4fcff\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0</pre><p id=\"u5f644e02\" class=\"ne-p\"><br></p><p id=\"u4c1e3900\" class=\"ne-p\"><span class=\"ne-text\">既然需要启动多个服务，就需要多个配置文件。每个配置文件对应修改以下信息：</span></p><p id=\"ua4445a1b\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u8d6c52f5\"><span class=\"ne-text\">端口号</span></li></ul><ul class=\"ne-ul\"><li id=\"u8acc922d\"><span class=\"ne-text\">pid文件名</span></li></ul><ul class=\"ne-ul\"><li id=\"u2da5b755\"><span class=\"ne-text\">日志文件名</span></li></ul><ul class=\"ne-ul\"><li id=\"u5da73e7f\"><span class=\"ne-text\">rdb文件名</span></li></ul><p id=\"uecaea04b\" class=\"ne-p\"><br></p><p id=\"u44ccef12\" class=\"ne-p\"><span class=\"ne-text\">启动单机多服务集群：</span></p><p id=\"u3e6e5508\" class=\"ne-p\"><br></p><p id=\"u3a2b784b\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215610163.png\" width=\"993\" id=\"m6Aax\" class=\"ne-image\"></p><p id=\"uae73a5be\" class=\"ne-p\"><br></p><h3 id=\"391961da\"><span class=\"ne-text\">一主二从配置</span></h3><p id=\"u265d7d43\" class=\"ne-p\"><br></p><p id=\"ufbe85226\" class=\"ne-p\"><span class=\"ne-text\">==默认情况下，每台Redis服务器都是主节点；==我们一般情况下只用配置从机就好了！</span></p><p id=\"ua27f8360\" class=\"ne-p\"><br></p><p id=\"uf24408e0\" class=\"ne-p\"><span class=\"ne-text\">认老大！一主（79）二从（80，81）</span></p><p id=\"u0405f463\" class=\"ne-p\"><br></p><p id=\"uff4dca22\" class=\"ne-p\"><span class=\"ne-text\">使用</span><code class=\"ne-code\"><span class=\"ne-text\">SLAVEOF host port</span></code><span class=\"ne-text\">就可以为从机配置主机了。</span></p><p id=\"u681b8373\" class=\"ne-p\"><br></p><p id=\"u8c8d7692\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215637483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1226\" id=\"ciaCd\" class=\"ne-image\"></p><p id=\"u9e01b616\" class=\"ne-p\"><br></p><p id=\"u1ea08db5\" class=\"ne-p\"><span class=\"ne-text\">然后主机上也能看到从机的状态：</span></p><p id=\"u8bbd7339\" class=\"ne-p\"><br></p><p id=\"ubdd77076\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215645778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"818\" id=\"Z1x5f\" class=\"ne-image\"></p><p id=\"u399192f3\" class=\"ne-p\"><br></p><p id=\"u1f22fff2\" class=\"ne-p\"><span class=\"ne-text\">我们这里是使用命令搭建，是暂时的，==真实开发中应该在从机的配置文件中进行配置，==这样的话是永久的。</span></p><p id=\"u561fd948\" class=\"ne-p\"><br></p><p id=\"u9bdbf783\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215654634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"912\" id=\"uO75y\" class=\"ne-image\"></p><p id=\"u68d9413f\" class=\"ne-p\"><br></p><h3 id=\"1ebbd644\"><span class=\"ne-text\">使用规则</span></h3><p id=\"ub136a0b3\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u5036049f\"><span class=\"ne-text\"> 从机只能读，不能写，主机可读可写但是多用于写。 </span><span class=\"ne-text\"> </span></li></ol><pre data-language=\"bash\" id=\"2a0d2c36\" class=\"ne-codeblock\"> 127.0.0.1:6381&gt; set name sakura # 从机6381写入失败\n(error) READONLY You can't write against a read only replica.\n\n127.0.0.1:6380&gt; set name sakura # 从机6380写入失败\n(error) READONLY You can't write against a read only replica.\n\n127.0.0.1:6379&gt; set name sakura\nOK\n127.0.0.1:6379&gt; get name\n&quot;sakura&quot;</pre><ol start=\"2\" class=\"ne-ol\"><li id=\"uf8c8b134\"><span class=\"ne-text\"> 当主机断电宕机后，默认情况下从机的角色不会发生变化 ，集群中只是失去了写操作，当主机恢复以后，又会连接上从机恢复原状。 </span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u656c345c\"><span class=\"ne-text\"> 当从机断电宕机后，若不是使用配置文件配置的从机，再次启动后作为主机是无法获取之前主机的数据的，若此时重新配置称为从机，又可以获取到主机的所有数据。这里就要提到一个同步原理。 </span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"uc16646d9\"><span class=\"ne-text\"> 第二条中提到，默认情况下，主机故障后，不会出现新的主机，有两种方式可以产生新的主机： </span></li></ol><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"uc72b2824\"><span class=\"ne-text\">从机手动执行命令</span><code class=\"ne-code\"><span class=\"ne-text\">slaveof no one</span></code><span class=\"ne-text\">,这样执行以后从机会独立出来成为一个主机</span></li></ul><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u459ddabc\"><span class=\"ne-text\">使用哨兵模式（自动选举）</span></li></ul><p id=\"uc2743b55\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><div class=\"ne-quote\"><p id=\"u2341817c\" class=\"ne-p\"><span class=\"ne-text\">如果没有老大了，这个时候能不能选择出来一个老大呢？手动！</span></p></div><p id=\"u129d8758\" class=\"ne-p\"><br></p><p id=\"u95f93025\" class=\"ne-p\"><span class=\"ne-text\">如果主机断开了连接，我们可以使用</span><code class=\"ne-code\"><span class=\"ne-text\">SLAVEOF no one</span></code><span class=\"ne-text\">让自己变成主机！其他的节点就可以手动连接到最新的主节点（手动）！如果这个时候老大修复了，那么久重新连接！</span></p><p id=\"ue5535332\" class=\"ne-p\"><br></p><h2 id=\"94816f45\"><span class=\"ne-text\">十五、哨兵模式</span></h2><p id=\"u545f8342\" class=\"ne-p\"><br></p><p id=\"u1181e697\" class=\"ne-p\"><span class=\"ne-text\">更多信息参考博客：</span><a href=\"https://www.jianshu.com/p/06ab9daf921d\" data-href=\"https://www.jianshu.com/p/06ab9daf921d\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.jianshu.com/p/06ab9daf921d</span></a></p><p id=\"u0eb83bbf\" class=\"ne-p\"><br></p><p id=\"u057e868d\" class=\"ne-p\"><strong><span class=\"ne-text\">主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。</span></strong><span class=\"ne-text\">这不是一种推荐的方式，更多时候，我们优先考虑</span><strong><span class=\"ne-text\">哨兵模式</span></strong><span class=\"ne-text\">。</span></p><p id=\"ue8ac40dc\" class=\"ne-p\"><br></p><p id=\"u7516f7a3\" class=\"ne-p\"><span class=\"ne-text\">单机单个哨兵</span></p><p id=\"ucb143e93\" class=\"ne-p\"><br></p><p id=\"u9c9094f7\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2ENYVAPp-1597890996527)(狂神说 Redis.assets/image-20200818233231154.png)]</span></p><p id=\"u387bc8ea\" class=\"ne-p\"><br></p><p id=\"uba13124f\" class=\"ne-p\"><span class=\"ne-text\">哨兵的作用：</span></p><p id=\"u1e193a6a\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u9c4fb88b\"><span class=\"ne-text\">通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。</span></li></ul><ul class=\"ne-ul\"><li id=\"u3ffd2c3c\"><span class=\"ne-text\">当哨兵监测到master宕机，会自动将slave切换成master，然后通过</span><strong><span class=\"ne-text\">发布订阅模式</span></strong><span class=\"ne-text\">通知其他的从服务器，修改配置文件，让它们切换主机。</span></li></ul><p id=\"u84e4f8c2\" class=\"ne-p\"><br></p><p id=\"u67812ae6\" class=\"ne-p\"><span class=\"ne-text\">多哨兵模式</span></p><p id=\"u8d570377\" class=\"ne-p\"><br></p><p id=\"ucf6c3e8b\" class=\"ne-p\"><span class=\"ne-text\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Ga1RyfVc-1597890996528)(狂神说 Redis.assets/image-20200818233316478.png)]</span></p><p id=\"u9f286ff4\" class=\"ne-p\"><br></p><p id=\"u5469d503\" class=\"ne-p\"><span class=\"ne-text\">哨兵的核心配置</span></p><p id=\"u9b920194\" class=\"ne-p\"><br></p><pre data-language=\"plain\" id=\"0e977aad\" class=\"ne-codeblock\">sentinel monitor mymaster 127.0.0.1 6379 1</pre><p id=\"u1e5cd025\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ud42e7792\"><span class=\"ne-text\">数字1表示 ：当一个哨兵主观认为主机断开，就可以客观认为主机故障，然后开始选举新的主机。</span></li></ul><p id=\"ub2b0b2c9\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u2d9ee991\" class=\"ne-p\"><span class=\"ne-text\">测试</span></p></div><p id=\"u73864a3e\" class=\"ne-p\"><br></p><pre data-language=\"plain\" id=\"292caa93\" class=\"ne-codeblock\">redis-sentinel xxx/sentinel.conf</pre><p id=\"uc90c9410\" class=\"ne-p\"><br></p><p id=\"u70e30c59\" class=\"ne-p\"><span class=\"ne-text\">成功启动哨兵模式</span></p><p id=\"u8de67442\" class=\"ne-p\"><br></p><p id=\"u3f394502\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215752444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"890\" id=\"CsjCy\" class=\"ne-image\"></p><p id=\"udee2a647\" class=\"ne-p\"><br></p><p id=\"u16e233ad\" class=\"ne-p\"><span class=\"ne-text\">此时哨兵监视着我们的主机6379，当我们断开主机后：</span></p><p id=\"uc509d12f\" class=\"ne-p\"><br></p><p id=\"u82fc113d\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215806972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"1255\" id=\"rI5rm\" class=\"ne-image\"></p><p id=\"u76fa8b26\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ude3b7f7d\" class=\"ne-p\"><span class=\"ne-text\">哨兵模式优缺点</span></p></div><p id=\"uc2a2e25a\" class=\"ne-p\"><br></p><p id=\"u71356679\" class=\"ne-p\"><strong><span class=\"ne-text\">优点：</span></strong></p><p id=\"u0219fd1f\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"uce242cc5\"><span class=\"ne-text\">哨兵集群，基于主从复制模式，所有主从复制的优点，它都有</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u9a058d44\"><span class=\"ne-text\">主从可以切换，故障可以转移，系统的可用性更好</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u7f64c0e9\"><span class=\"ne-text\">哨兵模式是主从模式的升级，手动到自动，更加健壮</span></li></ol><p id=\"u31b0b3f6\" class=\"ne-p\"><br></p><p id=\"ufef22543\" class=\"ne-p\"><strong><span class=\"ne-text\">缺点：</span></strong></p><p id=\"u03f26180\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u23aed9ed\"><span class=\"ne-text\">Redis不好在线扩容，集群容量一旦达到上限，在线扩容就十分麻烦</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u5630cf68\"><span class=\"ne-text\">实现哨兵模式的配置其实是很麻烦的，里面有很多配置项</span></li></ol><p id=\"u0ec4b165\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u5384b4a4\" class=\"ne-p\"><span class=\"ne-text\">哨兵模式的全部配置</span></p></div><p id=\"u5b47f021\" class=\"ne-p\"><br></p><p id=\"ue93d9763\" class=\"ne-p\"><span class=\"ne-text\">完整的哨兵模式配置文件 sentinel.conf</span></p><p id=\"ued247184\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"3a53dda0\" class=\"ne-codeblock\"># Example sentinel.conf\n \n# 哨兵sentinel实例运行的端口 默认26379\nport 26379\n \n# 哨兵sentinel的工作目录\ndir /tmp\n \n# 哨兵sentinel监控的redis主节点的 ip port \n# master-name  可以自己命名的主节点名字 只能由字母A-z、数字0-9 、这三个字符&quot;.-_&quot;组成。\n# quorum 当这些quorum个数sentinel哨兵认为master主节点失联 那么这时 客观上认为主节点失联了\n# sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt;\nsentinel monitor mymaster 127.0.0.1 6379 1\n \n# 当在Redis实例中开启了requirepass foobared 授权密码 这样所有连接Redis实例的客户端都要提供密码\n# 设置哨兵sentinel 连接主从的密码 注意必须为主从设置一样的验证密码\n# sentinel auth-pass &lt;master-name&gt; &lt;password&gt;\nsentinel auth-pass mymaster MySUPER--secret-0123passw0rd\n \n \n# 指定多少毫秒之后 主节点没有应答哨兵sentinel 此时 哨兵主观上认为主节点下线 默认30秒\n# sentinel down-after-milliseconds &lt;master-name&gt; &lt;milliseconds&gt;\nsentinel down-after-milliseconds mymaster 30000\n \n# 这个配置项指定了在发生failover主备切换时最多可以有多少个slave同时对新的master进行 同步，\n这个数字越小，完成failover所需的时间就越长，\n但是如果这个数字越大，就意味着越 多的slave因为replication而不可用。\n可以通过将这个值设为 1 来保证每次只有一个slave 处于不能处理命令请求的状态。\n# sentinel parallel-syncs &lt;master-name&gt; &lt;numslaves&gt;\nsentinel parallel-syncs mymaster 1\n \n \n \n# 故障转移的超时时间 failover-timeout 可以用在以下这些方面： \n#1. 同一个sentinel对同一个master两次failover之间的间隔时间。\n#2. 当一个slave从一个错误的master那里同步数据开始计算时间。直到slave被纠正为向正确的master那里同步数据时。\n#3.当想要取消一个正在进行的failover所需要的时间。  \n#4.当进行failover时，配置所有slaves指向新的master所需的最大时间。不过，即使过了这个超时，slaves依然会被正确配置为指向master，但是就不按parallel-syncs所配置的规则来了\n# 默认三分钟\n# sentinel failover-timeout &lt;master-name&gt; &lt;milliseconds&gt;\nsentinel failover-timeout mymaster 180000\n \n# SCRIPTS EXECUTION\n \n#配置当某一事件发生时所需要执行的脚本，可以通过脚本来通知管理员，例如当系统运行不正常时发邮件通知相关人员。\n#对于脚本的运行结果有以下规则：\n#若脚本执行后返回1，那么该脚本稍后将会被再次执行，重复次数目前默认为10\n#若脚本执行后返回2，或者比2更高的一个返回值，脚本将不会重复执行。\n#如果脚本在执行过程中由于收到系统中断信号被终止了，则同返回值为1时的行为相同。\n#一个脚本的最大执行时间为60s，如果超过这个时间，脚本将会被一个SIGKILL信号终止，之后重新执行。\n \n#通知型脚本:当sentinel有任何警告级别的事件发生时（比如说redis实例的主观失效和客观失效等等），将会去调用这个脚本，\n#这时这个脚本应该通过邮件，SMS等方式去通知系统管理员关于系统不正常运行的信息。调用该脚本时，将传给脚本两个参数，\n#一个是事件的类型，\n#一个是事件的描述。\n#如果sentinel.conf配置文件中配置了这个脚本路径，那么必须保证这个脚本存在于这个路径，并且是可执行的，否则sentinel无法正常启动成功。\n#通知脚本\n# sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;\n  sentinel notification-script mymaster /var/redis/notify.sh\n \n# 客户端重新配置主节点参数脚本\n# 当一个master由于failover而发生改变时，这个脚本将会被调用，通知相关的客户端关于master地址已经发生改变的信息。\n# 以下参数将会在调用脚本时传给脚本:\n# &lt;master-name&gt; &lt;role&gt; &lt;state&gt; &lt;from-ip&gt; &lt;from-port&gt; &lt;to-ip&gt; &lt;to-port&gt;\n# 目前&lt;state&gt;总是“failover”,\n# &lt;role&gt;是“leader”或者“observer”中的一个。 \n# 参数 from-ip, from-port, to-ip, to-port是用来和旧的master和新的master(即旧的slave)通信的\n# 这个脚本应该是通用的，能被多次调用，不是针对性的。\n# sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;\nsentinel client-reconfig-script mymaster /var/redis/reconfig.sh</pre><p id=\"u0aee0aff\" class=\"ne-p\"><br></p><h2 id=\"1b8920bd\"><span class=\"ne-text\">十六、缓存穿透与雪崩</span></h2><p id=\"u51c66912\" class=\"ne-p\"><br></p><h3 id=\"d9526f37\"><span class=\"ne-text\">缓存穿透（查不到）</span></h3><p id=\"u3e2a5037\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ua12b80eb\" class=\"ne-p\"><span class=\"ne-text\">概念</span></p></div><p id=\"ue6757b12\" class=\"ne-p\"><br></p><p id=\"u33f59470\" class=\"ne-p\"><span class=\"ne-text\">在默认情况下，用户请求数据时，会先在缓存(Redis)中查找，若没找到即缓存未命中，再在数据库中进行查找，数量少可能问题不大，可是一旦大量的请求数据（例如秒杀场景）缓存都没有命中的话，就会全部转移到数据库上，造成数据库极大的压力，就有可能导致数据库崩溃。网络安全中也有人恶意使用这种手段进行攻击被称为洪水攻击。</span></p><p id=\"u4150b2a6\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ucf08adb3\" class=\"ne-p\"><span class=\"ne-text\">解决方案</span></p></div><p id=\"u09957e43\" class=\"ne-p\"><br></p><p id=\"ud8953def\" class=\"ne-p\"><strong><span class=\"ne-text\">布隆过滤器</span></strong></p><p id=\"u507e7d8d\" class=\"ne-p\"><br></p><p id=\"u3c5077da\" class=\"ne-p\"><span class=\"ne-text\">对所有可能查询的参数以Hash的形式存储，以便快速确定是否存在这个值，在控制层先进行拦截校验，校验不通过直接打回，减轻了存储系统的压力。</span></p><p id=\"ud990adc6\" class=\"ne-p\"><br></p><p id=\"u75940f27\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215824722.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"342\" id=\"UaX6n\" class=\"ne-image\"></p><p id=\"u7f377301\" class=\"ne-p\"><br></p><p id=\"uc625ddba\" class=\"ne-p\"><strong><span class=\"ne-text\">缓存空对象</span></strong></p><p id=\"ue0c7a86c\" class=\"ne-p\"><br></p><p id=\"u491099d5\" class=\"ne-p\"><span class=\"ne-text\">一次请求若在缓存和数据库中都没找到，就在缓存中方一个空对象用于处理后续这个请求。</span></p><p id=\"u21269232\" class=\"ne-p\"><br></p><p id=\"ua7d2698f\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215836317.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"573\" id=\"kwSAl\" class=\"ne-image\"></p><p id=\"ucedc4e12\" class=\"ne-p\"><br></p><p id=\"u777cda25\" class=\"ne-p\"><span class=\"ne-text\">这样做有一个缺陷：存储空对象也需要空间，大量的空对象会耗费一定的空间，存储效率并不高。解决这个缺陷的方式就是设置较短过期时间</span></p><p id=\"u43db2415\" class=\"ne-p\"><br></p><p id=\"ub195224b\" class=\"ne-p\"><span class=\"ne-text\">即使对空值设置了过期时间，还是会存在缓存层和存储层的数据会有一段时间窗口的不一致，这对于需要保持一致性的业务会有影响。</span></p><p id=\"ub1be3e83\" class=\"ne-p\"><br></p><h3 id=\"1f3d8099\"><span class=\"ne-text\">缓存击穿（量太大，缓存过期）</span></h3><p id=\"u6ee63687\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"uc6f6174a\" class=\"ne-p\"><span class=\"ne-text\">概念</span></p></div><p id=\"u2a76b38d\" class=\"ne-p\"><br></p><p id=\"ub86262fb\" class=\"ne-p\"><span class=\"ne-text\">相较于缓存穿透，缓存击穿的目的性更强，一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB，造成瞬时DB请求量大、压力骤增。这就是缓存被击穿，只是针对其中某个key的缓存不可用而导致击穿，但是其他的key依然可以使用缓存响应。</span></p><p id=\"ufb993a14\" class=\"ne-p\"><br></p><p id=\"u3e272cca\" class=\"ne-p\"><span class=\"ne-text\">比如热搜排行上，一个热点新闻被同时大量访问就可能导致缓存击穿。</span></p><p id=\"u1c3baf46\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u03b559d7\" class=\"ne-p\"><span class=\"ne-text\">解决方案</span></p></div><p id=\"ua1244afa\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"u43cccf4f\"><span class=\"ne-text\"> </span><strong><span class=\"ne-text\">设置热点数据永不过期</span></strong><span class=\"ne-text\"><br /></span><span class=\"ne-text\">这样就不会出现热点数据过期的情况，但是当Redis内存空间满的时候也会清理部分数据，而且此种方案会占用空间，一旦热点数据多了起来，就会占用部分空间。 </span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"udb7f5a3c\"><span class=\"ne-text\"> </span><strong><span class=\"ne-text\">加互斥锁(分布式锁)</span></strong><span class=\"ne-text\"><br /></span><span class=\"ne-text\">在访问key之前，采用SETNX（set if not exists）来设置另一个短期key来锁住当前key的访问，访问结束再删除该短期key。保证同时刻只有一个线程访问。这样对锁的要求就十分高。 </span></li></ol><p id=\"u1fa6f6fe\" class=\"ne-p\"><br></p><h3 id=\"b901facc\"><span class=\"ne-text\">缓存雪崩</span></h3><p id=\"u9ba8ac75\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"uab7f7cab\" class=\"ne-p\"><span class=\"ne-text\">概念</span></p></div><p id=\"u8a62b626\" class=\"ne-p\"><br></p><p id=\"u60a70d7e\" class=\"ne-p\"><span class=\"ne-text\">大量的key设置了相同的过期时间，导致在缓存在同一时刻全部失效，造成瞬时DB请求量大、压力骤增，引起雪崩。</span></p><p id=\"uc7d535d6\" class=\"ne-p\"><br></p><p id=\"uee1b79dd\" class=\"ne-p\"><img src=\"https://img-blog.csdnimg.cn/20200513215850428.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70\" width=\"636\" id=\"m7I1r\" class=\"ne-image\"></p><p id=\"u10bf0441\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u1f07b76a\" class=\"ne-p\"><span class=\"ne-text\">解决方案</span></p></div><p id=\"u7f0cd8c0\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u14106fdf\"><span class=\"ne-text\"> redis高可用<br /></span><span class=\"ne-text\">这个思想的含义是，既然redis有可能挂掉，那我多增设几台redis，这样一台挂掉之后其他的还可以继续工作，其实就是搭建的集群 </span></li></ul><ul class=\"ne-ul\"><li id=\"ucf86e4d5\"><span class=\"ne-text\"> 限流降级<br /></span><span class=\"ne-text\">这个解决方案的思想是，在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。 </span></li></ul><ul class=\"ne-ul\"><li id=\"u5c4bb6e2\"><span class=\"ne-text\"> 数据预热<br /></span><span class=\"ne-text\">数据加热的含义就是在正式部署之前，我先把可能的数据先预先访问一遍，这样部分可能大量访问的数据就会加载到缓存中。在即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。 </span></li></ul></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"traditional\" /><meta name=\"viewport\" content=\"fixed\" /><h2 data-lake-id=\"aee055fc\" id=\"aee055fc\"><span data-lake-id=\"u8601aa20\" id=\"u8601aa20\">一、Nosql概述</span></h2><p data-lake-id=\"ufc762879\" id=\"ufc762879\"><br></p><h3 data-lake-id=\"ab7557ae\" id=\"ab7557ae\"><span data-lake-id=\"ue314c4ff\" id=\"ue314c4ff\">为什么使用Nosql</span></h3><p data-lake-id=\"uc7910abd\" id=\"uc7910abd\"><br></p><blockquote data-lake-id=\"u232c58cd\" id=\"u232c58cd\"><p data-lake-id=\"ud69a2b9d\" id=\"ud69a2b9d\"><span data-lake-id=\"u1d7d141d\" id=\"u1d7d141d\">1、单机Mysql时代</span></p></blockquote><p data-lake-id=\"ue4e6e220\" id=\"ue4e6e220\"><br></p><p data-lake-id=\"ub9edc24e\" id=\"ub9edc24e\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020082010365930.png%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A611%2C%22originHeight%22%3A113%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22wIDA6%22%7D\"></card></p><p data-lake-id=\"ue3d6fefd\" id=\"ue3d6fefd\"><br></p><p data-lake-id=\"u33668320\" id=\"u33668320\"><span data-lake-id=\"u7fb86fa9\" id=\"u7fb86fa9\">90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题</span></p><p data-lake-id=\"ub9b0a1f2\" id=\"ub9b0a1f2\"><br></p><ol list=\"u5a267c4c\"><li fid=\"u768ea847\" data-lake-id=\"u869d731c\" id=\"u869d731c\"><span data-lake-id=\"ube1c1153\" id=\"ube1c1153\">数据量增加到一定程度，单机数据库就放不下了</span></li></ol><ol list=\"u8d7038a3\" start=\"2\"><li fid=\"u4b8e6537\" data-lake-id=\"uf924ec51\" id=\"uf924ec51\"><span data-lake-id=\"uedb12c9a\" id=\"uedb12c9a\">数据的索引（B+ Tree）,一个机器内存也存放不下</span></li></ol><ol list=\"ud50d6400\" start=\"3\"><li fid=\"u44bec3ee\" data-lake-id=\"ue547cc31\" id=\"ue547cc31\"><span data-lake-id=\"u1f045691\" id=\"u1f045691\">访问量变大后（读写混合），一台服务器承受不住。</span></li></ol><p data-lake-id=\"u4f7edfcd\" id=\"u4f7edfcd\"><br></p><blockquote data-lake-id=\"u6338cfac\" id=\"u6338cfac\"><p data-lake-id=\"ue01849cc\" id=\"ue01849cc\"><span data-lake-id=\"ue483105b\" id=\"ue483105b\">2、Memcached(缓存) + Mysql + 垂直拆分（读写分离）</span></p></blockquote><p data-lake-id=\"u83ce31df\" id=\"u83ce31df\"><br></p><p data-lake-id=\"u42a11bd4\" id=\"u42a11bd4\"><span data-lake-id=\"udbff7e06\" id=\"udbff7e06\">网站80%的情况都是在读，每次都要去查询数据库的话就十分的麻烦！所以说我们希望减轻数据库的压力，我们可以使用缓存来保证效率！</span></p><p data-lake-id=\"udc7c65cc\" id=\"udc7c65cc\"><br></p><p data-lake-id=\"ueeb701f7\" id=\"ueeb701f7\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103713734.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A614%2C%22originHeight%22%3A313%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22EYshd%22%7D\"></card></p><p data-lake-id=\"u874754be\" id=\"u874754be\"><br></p><p data-lake-id=\"u3beb5390\" id=\"u3beb5390\"><span data-lake-id=\"u3652eea0\" id=\"u3652eea0\">优化过程经历了以下几个过程：</span></p><p data-lake-id=\"u4230b10f\" id=\"u4230b10f\"><br></p><ol list=\"u38d3c940\"><li fid=\"u7caf58a1\" data-lake-id=\"uba0ce3e1\" id=\"uba0ce3e1\"><span data-lake-id=\"u231fc1dc\" id=\"u231fc1dc\">优化数据库的数据结构和索引(难度大)</span></li></ol><ol list=\"u411ed808\" start=\"2\"><li fid=\"u9f78ecd4\" data-lake-id=\"ufb9b82c0\" id=\"ufb9b82c0\"><span data-lake-id=\"u866b197c\" id=\"u866b197c\">文件缓存，通过IO流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO流也承受不了</span></li></ol><ol list=\"ucaf66b12\" start=\"3\"><li fid=\"uc547804b\" data-lake-id=\"u8bb3a62a\" id=\"u8bb3a62a\"><span data-lake-id=\"u22581df6\" id=\"u22581df6\">MemCache,当时最热门的技术，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升。</span></li></ol><p data-lake-id=\"u073b0e2e\" id=\"u073b0e2e\"><br></p><blockquote data-lake-id=\"ue1d43ddb\" id=\"ue1d43ddb\"><p data-lake-id=\"uc5913d12\" id=\"uc5913d12\"><span data-lake-id=\"u0ae776d6\" id=\"u0ae776d6\">3、分库分表 + 水平拆分 + Mysql集群</span></p></blockquote><p data-lake-id=\"uddb0465e\" id=\"uddb0465e\"><br></p><p data-lake-id=\"u5108c477\" id=\"u5108c477\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103739584.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A622%2C%22originHeight%22%3A503%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22IV2zO%22%7D\"></card></p><p data-lake-id=\"u517b6139\" id=\"u517b6139\"><br></p><blockquote data-lake-id=\"u35fde38e\" id=\"u35fde38e\"><p data-lake-id=\"u283dfc3d\" id=\"u283dfc3d\"><span data-lake-id=\"u0356aed3\" id=\"u0356aed3\">4、如今最近的年代</span></p></blockquote><p data-lake-id=\"ubc391ac6\" id=\"ubc391ac6\"><br></p><p data-lake-id=\"ue4c23468\" id=\"ue4c23468\"><span data-lake-id=\"ue4b81ac5\" id=\"ue4b81ac5\">如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等），大数据的背景下关系型数据库（RDBMS）无法满足大量数据要求。Nosql数据库就能轻松解决这些问题。</span></p><p data-lake-id=\"ucb6f9db8\" id=\"ucb6f9db8\"><br></p><blockquote data-lake-id=\"u7ee28c31\" id=\"u7ee28c31\"><p data-lake-id=\"u70f7455e\" id=\"u70f7455e\"><span data-lake-id=\"u09fd1472\" id=\"u09fd1472\">目前一个基本的互联网项目</span></p></blockquote><p data-lake-id=\"u96103502\" id=\"u96103502\"><br></p><p data-lake-id=\"uf8feea12\" id=\"uf8feea12\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103804572.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1131%2C%22originHeight%22%3A516%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22dByAg%22%7D\"></card></p><p data-lake-id=\"ud9efa6f2\" id=\"ud9efa6f2\"><br></p><blockquote data-lake-id=\"uf69d429c\" id=\"uf69d429c\"><p data-lake-id=\"u89bb61b9\" id=\"u89bb61b9\"><span data-lake-id=\"u408331ff\" id=\"u408331ff\">为什么要用NoSQL ？</span></p></blockquote><p data-lake-id=\"uc7de1f77\" id=\"uc7de1f77\"><br></p><p data-lake-id=\"ud40ae2ab\" id=\"ud40ae2ab\"><span data-lake-id=\"u86d2f467\" id=\"u86d2f467\">用户的个人信息，社交网络，地理位置。用户自己产生的数据，用户日志等等爆发式增长！<br /></span><span data-lake-id=\"u9b0a9295\" id=\"u9b0a9295\">这时候我们就需要使用NoSQL数据库的，Nosql可以很好的处理以上的情况！</span></p><p data-lake-id=\"u73204d9a\" id=\"u73204d9a\"><br></p><h3 data-lake-id=\"c94eeebb\" id=\"c94eeebb\"><span data-lake-id=\"u8c274bd1\" id=\"u8c274bd1\">什么是Nosql</span></h3><p data-lake-id=\"u30b415a3\" id=\"u30b415a3\"><br></p><p data-lake-id=\"u6f18bbee\" id=\"u6f18bbee\"><strong><span data-lake-id=\"ufa8bbcfe\" id=\"ufa8bbcfe\">NoSQL = Not Only SQL（不仅仅是SQL）</span></strong></p><p data-lake-id=\"u5cde3b89\" id=\"u5cde3b89\"><br></p><p data-lake-id=\"u0c75beca\" id=\"u0c75beca\"><span data-lake-id=\"u53f67ec4\" id=\"u53f67ec4\">Not Only Structured Query Language</span></p><p data-lake-id=\"u6cef4086\" id=\"u6cef4086\"><br></p><p data-lake-id=\"u4b3f061a\" id=\"u4b3f061a\"><span data-lake-id=\"u477f7d2a\" id=\"u477f7d2a\">关系型数据库：列+行，同一个表下数据的结构是一样的。</span></p><p data-lake-id=\"uceaee55a\" id=\"uceaee55a\"><br></p><p data-lake-id=\"uac7aef2e\" id=\"uac7aef2e\"><span data-lake-id=\"u57db1a15\" id=\"u57db1a15\">非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展。</span></p><p data-lake-id=\"ufc5adf7d\" id=\"ufc5adf7d\"><br></p><p data-lake-id=\"u1d7cfa8e\" id=\"u1d7cfa8e\"><span data-lake-id=\"u5e1b6fac\" id=\"u5e1b6fac\">NoSQL泛指非关系型数据库，随着web2.0互联网的诞生，传统的关系型数据库很难对付web2.0时代！尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，Redis是发展最快的。</span></p><p data-lake-id=\"ud9018e90\" id=\"ud9018e90\"><br></p><h3 data-lake-id=\"9b16b018\" id=\"9b16b018\"><span data-lake-id=\"u1f1c6235\" id=\"u1f1c6235\">Nosql特点</span></h3><p data-lake-id=\"ue1cbff5a\" id=\"ue1cbff5a\"><br></p><ol list=\"ubff3a58d\"><li fid=\"ube021f68\" data-lake-id=\"u8eccc406\" id=\"u8eccc406\"><span data-lake-id=\"u1b97fd12\" id=\"u1b97fd12\"> 方便扩展（数据之间没有关系，很好扩展！） </span></li></ol><ol list=\"uea889465\" start=\"2\"><li fid=\"u78257d2b\" data-lake-id=\"ub9ed5b1c\" id=\"ub9ed5b1c\"><span data-lake-id=\"u60a5cf78\" id=\"u60a5cf78\"> 大数据量高性能（Redis一秒可以写8万次，读11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能会比较高！） </span></li></ol><ol list=\"udc9b6ecd\" start=\"3\"><li fid=\"ubc4ad6bc\" data-lake-id=\"u6c7523ae\" id=\"u6c7523ae\"><span data-lake-id=\"uf8ef0331\" id=\"uf8ef0331\"> 数据类型是多样型的！（不需要事先设计数据库，随取随用） </span></li></ol><ol list=\"u76655ed6\" start=\"4\"><li fid=\"u87f3203b\" data-lake-id=\"u3ff4709c\" id=\"u3ff4709c\"><span data-lake-id=\"ub89b7274\" id=\"ub89b7274\"> 传统的 RDBMS 和 NoSQL </span><span data-lake-id=\"u3a4cc784\" id=\"u3a4cc784\"> </span><span data-lake-id=\"u5f640d5a\" id=\"u5f640d5a\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BC%A0%E7%BB%9F%E7%9A%84%20RDBMS(%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93)%5Cn-%20%E7%BB%93%E6%9E%84%E5%8C%96%E7%BB%84%E7%BB%87%5Cn-%20SQL%5Cn-%20%E6%95%B0%E6%8D%AE%E5%92%8C%E5%85%B3%E7%B3%BB%E9%83%BD%E5%AD%98%E5%9C%A8%E5%8D%95%E7%8B%AC%E7%9A%84%E8%A1%A8%E4%B8%AD%20row%20col%5Cn-%20%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%5Cn-%20%E4%B8%A5%E6%A0%BC%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%5Cn-%20%E5%9F%BA%E7%A1%80%E7%9A%84%E4%BA%8B%E5%8A%A1%5Cn-%20...%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2241183cda%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Nosql%5Cn-%20%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E6%95%B0%E6%8D%AE%5Cn-%20%E6%B2%A1%E6%9C%89%E5%9B%BA%E5%AE%9A%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%5Cn-%20%E9%94%AE%E5%80%BC%E5%AF%B9%E5%AD%98%E5%82%A8%EF%BC%8C%E5%88%97%E5%AD%98%E5%82%A8%EF%BC%8C%E6%96%87%E6%A1%A3%E5%AD%98%E5%82%A8%EF%BC%8C%E5%9B%BE%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E7%A4%BE%E4%BA%A4%E5%85%B3%E7%B3%BB%EF%BC%89%5Cn-%20%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7%5Cn-%20CAP%E5%AE%9A%E7%90%86%E5%92%8CBASE%5Cn-%20%E9%AB%98%E6%80%A7%E8%83%BD%EF%BC%8C%E9%AB%98%E5%8F%AF%E7%94%A8%EF%BC%8C%E9%AB%98%E6%89%A9%E5%B1%95%5Cn-%20...%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2247a2217b%22%7D\"></card><p data-lake-id=\"ue411b3a2\" id=\"ue411b3a2\"><br></p><blockquote data-lake-id=\"u39ccba97\" id=\"u39ccba97\"><p data-lake-id=\"u4bc7fbc5\" id=\"u4bc7fbc5\"><span data-lake-id=\"u45d0c157\" id=\"u45d0c157\">了解：3V + 3高</span></p></blockquote><p data-lake-id=\"u143f9c0e\" id=\"u143f9c0e\"><br></p><p data-lake-id=\"u0162bc1e\" id=\"u0162bc1e\"><span data-lake-id=\"u28ee8d57\" id=\"u28ee8d57\">大数据时代的3V ：主要是</span><strong><span data-lake-id=\"u9fb067f4\" id=\"u9fb067f4\">描述问题</span></strong><span data-lake-id=\"uf22f1c28\" id=\"uf22f1c28\">的</span></p><p data-lake-id=\"u3c85604c\" id=\"u3c85604c\"><br></p><ol list=\"u279a51fc\"><li fid=\"u497a8f88\" data-lake-id=\"u38e1e49e\" id=\"u38e1e49e\"><span data-lake-id=\"u994de716\" id=\"u994de716\">海量Velume</span></li></ol><ol list=\"u30cf2627\" start=\"2\"><li fid=\"ude11a975\" data-lake-id=\"udff651ae\" id=\"udff651ae\"><span data-lake-id=\"u1e9aa0f6\" id=\"u1e9aa0f6\">多样Variety</span></li></ol><ol list=\"u86a0c585\" start=\"3\"><li fid=\"u57e07eb2\" data-lake-id=\"u18f43379\" id=\"u18f43379\"><span data-lake-id=\"udce08b0a\" id=\"udce08b0a\">实时Velocity</span></li></ol><p data-lake-id=\"ua5f38aae\" id=\"ua5f38aae\"><br></p><p data-lake-id=\"u5c7372f9\" id=\"u5c7372f9\"><span data-lake-id=\"u984b8bbc\" id=\"u984b8bbc\">大数据时代的3高 ： 主要是</span><strong><span data-lake-id=\"uf3344163\" id=\"uf3344163\">对程序的要求</span></strong></p><p data-lake-id=\"ucaa592ff\" id=\"ucaa592ff\"><br></p><ol list=\"ube39009a\"><li fid=\"u1a32016c\" data-lake-id=\"udbd63f52\" id=\"udbd63f52\"><span data-lake-id=\"u40a6c222\" id=\"u40a6c222\">高并发</span></li></ol><ol list=\"u34befb52\" start=\"2\"><li fid=\"u7167eb93\" data-lake-id=\"u360b7e44\" id=\"u360b7e44\"><span data-lake-id=\"u9b69a416\" id=\"u9b69a416\">高可扩</span></li></ol><ol list=\"ub10ecc0b\" start=\"3\"><li fid=\"u4871cdb1\" data-lake-id=\"u79cb03a2\" id=\"u79cb03a2\"><span data-lake-id=\"ue8dfad55\" id=\"ue8dfad55\">高性能</span></li></ol><p data-lake-id=\"uaca131e1\" id=\"uaca131e1\"><br></p><p data-lake-id=\"ub1f785e3\" id=\"ub1f785e3\"><span data-lake-id=\"uc3c0b960\" id=\"uc3c0b960\">真正在公司中的实践：NoSQL + RDBMS 一起使用才是最强的。</span></p><p data-lake-id=\"u3eb6f426\" id=\"u3eb6f426\"><br></p><h3 data-lake-id=\"e8a7ba20\" id=\"e8a7ba20\"><span data-lake-id=\"u81cf85e0\" id=\"u81cf85e0\">阿里巴巴演进分析</span></h3><p data-lake-id=\"u3736cd87\" id=\"u3736cd87\"><br></p><p data-lake-id=\"u09bd35d6\" id=\"u09bd35d6\"><span data-lake-id=\"u56b1b06c\" id=\"u56b1b06c\">推荐阅读：阿里云的这群疯子https://yq.aliyun.com/articles/653511</span></p><p data-lake-id=\"u01d16eee\" id=\"u01d16eee\"><br></p><p data-lake-id=\"u881199f6\" id=\"u881199f6\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103829446.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1056%2C%22originHeight%22%3A813%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22MeOWA%22%7D\"></card></p><p data-lake-id=\"u9620ef4a\" id=\"u9620ef4a\"><br></p><p data-lake-id=\"u2fe06a4f\" id=\"u2fe06a4f\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103851613.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1130%2C%22originHeight%22%3A836%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22H4zN8%22%7D\"></card></p><p data-lake-id=\"u44df0f0f\" id=\"u44df0f0f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E5%95%86%E5%93%81%E4%BF%A1%E6%81%AF%5Cn-%20%E4%B8%80%E8%88%AC%E5%AD%98%E6%94%BE%E5%9C%A8%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9AMysql%2C%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E4%BD%BF%E7%94%A8%E7%9A%84Mysql%E9%83%BD%E6%98%AF%E7%BB%8F%E8%BF%87%E5%86%85%E9%83%A8%E6%94%B9%E5%8A%A8%E7%9A%84%E3%80%82%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E6%8F%8F%E8%BF%B0%E3%80%81%E8%AF%84%E8%AE%BA(%E6%96%87%E5%AD%97%E5%B1%85%E5%A4%9A)%5Cn-%20%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9AMongoDB%5Cn%5Cn%23%20%E5%9B%BE%E7%89%87%5Cn-%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%20FastDFS%5Cn-%20%E6%B7%98%E5%AE%9D%EF%BC%9ATFS%5Cn-%20Google%3A%20GFS%5Cn-%20Hadoop%3A%20HDFS%5Cn-%20%E9%98%BF%E9%87%8C%E4%BA%91%3A%20oss%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E5%85%B3%E9%94%AE%E5%AD%97%20%E7%94%A8%E4%BA%8E%E6%90%9C%E7%B4%A2%5Cn-%20%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%EF%BC%9Asolr%2Celasticsearch%5Cn-%20%E9%98%BF%E9%87%8C%EF%BC%9AIsearch%20%E5%A4%9A%E9%9A%86%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E7%83%AD%E9%97%A8%E7%9A%84%E6%B3%A2%E6%AE%B5%E4%BF%A1%E6%81%AF%5Cn-%20%E5%86%85%E5%AD%98%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9ARedis%EF%BC%8CMemcache%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E4%BA%A4%E6%98%93%EF%BC%8C%E5%A4%96%E9%83%A8%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3%5Cn-%20%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%94%E7%94%A8%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229232d2c8%22%7D\"></card><p data-lake-id=\"u70b96800\" id=\"u70b96800\"><br></p><h3 data-lake-id=\"8c18f413\" id=\"8c18f413\"><span data-lake-id=\"u6fb1929f\" id=\"u6fb1929f\">Nosql的四大分类</span></h3><p data-lake-id=\"uc6bb498f\" id=\"uc6bb498f\"><br></p><blockquote data-lake-id=\"ubba7d24b\" id=\"ubba7d24b\"><p data-lake-id=\"u16fb29cb\" id=\"u16fb29cb\"><strong><span data-lake-id=\"u0a77c871\" id=\"u0a77c871\">KV键值对</span></strong></p></blockquote><p data-lake-id=\"u5511306d\" id=\"u5511306d\"><br></p><ul list=\"u1dacf7f8\"><li fid=\"u60acd0f3\" data-lake-id=\"u1229e1d7\" id=\"u1229e1d7\"><span data-lake-id=\"uc49d2273\" id=\"uc49d2273\">新浪：</span><strong><span data-lake-id=\"u84793c12\" id=\"u84793c12\">Redis</span></strong></li></ul><ul list=\"uf636c832\"><li fid=\"u54d2e5b9\" data-lake-id=\"uec68efb9\" id=\"uec68efb9\"><span data-lake-id=\"u1f6a3d04\" id=\"u1f6a3d04\">美团：Redis + Tair</span></li></ul><ul list=\"u9c218d5e\"><li fid=\"uf8a71980\" data-lake-id=\"u2c6ae6a7\" id=\"u2c6ae6a7\"><span data-lake-id=\"u4f955369\" id=\"u4f955369\">阿里、百度：Redis + Memcache</span></li></ul><p data-lake-id=\"ub539f25b\" id=\"ub539f25b\"><br></p><blockquote data-lake-id=\"ubca34052\" id=\"ubca34052\"><p data-lake-id=\"ub0ed1f73\" id=\"ub0ed1f73\"><strong><span data-lake-id=\"ucabb0a4e\" id=\"ucabb0a4e\">文档型数据库（bson数据格式）：</span></strong></p></blockquote><p data-lake-id=\"ue825dcec\" id=\"ue825dcec\"><br></p><ul list=\"ue6feeae8\"><li fid=\"u4915e43f\" data-lake-id=\"u5abe3024\" id=\"u5abe3024\"><strong><span data-lake-id=\"u506ed3b1\" id=\"u506ed3b1\">MongoDB</span></strong><span data-lake-id=\"ua2529932\" id=\"ua2529932\">(掌握) </span></li></ul><ul list=\"uca80f89c\" data-lake-indent=\"1\"><li fid=\"u1754215a\" data-lake-id=\"ued2609bc\" id=\"ued2609bc\"><span data-lake-id=\"u997c0ed7\" id=\"u997c0ed7\">基于分布式文件存储的数据库。C++编写，用于处理大量文档。</span></li></ul><ul list=\"u9422016b\" data-lake-indent=\"1\"><li fid=\"ucb3098fd\" data-lake-id=\"uf305bcae\" id=\"uf305bcae\"><span data-lake-id=\"uee232ae6\" id=\"uee232ae6\">MongoDB是RDBMS和NoSQL的中间产品。MongoDB是非关系型数据库中功能最丰富的，NoSQL中最像关系型数据库的数据库。</span></li></ul><p data-lake-id=\"uf65add23\" id=\"uf65add23\"><span data-lake-id=\"u60224125\" id=\"u60224125\"> </span></p><ul list=\"u93853ee8\"><li fid=\"ua6f67162\" data-lake-id=\"ubc9e4146\" id=\"ubc9e4146\"><span data-lake-id=\"u8d74be7c\" id=\"u8d74be7c\">ConthDB</span></li></ul><p data-lake-id=\"ud8e1667b\" id=\"ud8e1667b\"><br></p><blockquote data-lake-id=\"ue91f68f9\" id=\"ue91f68f9\"><p data-lake-id=\"ubff3e71f\" id=\"ubff3e71f\"><strong><span data-lake-id=\"ub58a6e42\" id=\"ub58a6e42\">列存储数据库</span></strong></p></blockquote><p data-lake-id=\"u5424d28b\" id=\"u5424d28b\"><br></p><ul list=\"u3cf9b586\"><li fid=\"u28453dee\" data-lake-id=\"ubef725ce\" id=\"ubef725ce\"><strong><span data-lake-id=\"ueea95d52\" id=\"ueea95d52\">HBase</span></strong><span data-lake-id=\"u95616a89\" id=\"u95616a89\">(大数据必学)</span></li></ul><ul list=\"u25da49df\"><li fid=\"ucb3a3f7e\" data-lake-id=\"u26562bb0\" id=\"u26562bb0\"><span data-lake-id=\"ueb7bd683\" id=\"ueb7bd683\">分布式文件系统</span></li></ul><p data-lake-id=\"u9706319e\" id=\"u9706319e\"><br></p><blockquote data-lake-id=\"u36f3e34b\" id=\"u36f3e34b\"><p data-lake-id=\"u3fd52251\" id=\"u3fd52251\"><strong><span data-lake-id=\"u629b1ee3\" id=\"u629b1ee3\">图关系数据库</span></strong></p></blockquote><p data-lake-id=\"uc853f812\" id=\"uc853f812\"><br></p><p data-lake-id=\"u9d1a2e16\" id=\"u9d1a2e16\"><span data-lake-id=\"u06e4ec61\" id=\"u06e4ec61\">用于广告推荐，社交网络</span></p><p data-lake-id=\"u241e139a\" id=\"u241e139a\"><br></p><ul list=\"u3030505a\"><li fid=\"ud34740c7\" data-lake-id=\"u1cf352a9\" id=\"u1cf352a9\"><strong><span data-lake-id=\"u94eab728\" id=\"u94eab728\">Neo4j</span></strong><span data-lake-id=\"u2a378138\" id=\"u2a378138\">、InfoGrid</span></li></ul><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%223b67c98f%22%2C%22rows%22%3A5%2C%22cols%22%3A6%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%223b67c98f%5C%22%20id%3D%5C%223b67c98f%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uf187d49b%5C%22%20id%3D%5C%22uf187d49b%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5d7fff20%5C%22%20id%3D%5C%22u5d7fff20%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u949ae71e%5C%22%20id%3D%5C%22u949ae71e%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u02898530%5C%22%20id%3D%5C%22u02898530%5C%22%3E%E5%88%86%E7%B1%BB%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub9c6e34e%5C%22%20id%3D%5C%22ub9c6e34e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3fcda376%5C%22%20id%3D%5C%22u3fcda376%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u5b9fd730%5C%22%20id%3D%5C%22u5b9fd730%5C%22%3EExamples%E4%B8%BE%E4%BE%8B%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud8b66989%5C%22%20id%3D%5C%22ud8b66989%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0fb1e4d5%5C%22%20id%3D%5C%22u0fb1e4d5%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22uf452c853%5C%22%20id%3D%5C%22uf452c853%5C%22%3E%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5bf0f33e%5C%22%20id%3D%5C%22u5bf0f33e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4b92fec3%5C%22%20id%3D%5C%22u4b92fec3%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u97eb8980%5C%22%20id%3D%5C%22u97eb8980%5C%22%3E%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9177edf8%5C%22%20id%3D%5C%22u9177edf8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1b5e014f%5C%22%20id%3D%5C%22u1b5e014f%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u5515aaa1%5C%22%20id%3D%5C%22u5515aaa1%5C%22%3E%E4%BC%98%E7%82%B9%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub1c273de%5C%22%20id%3D%5C%22ub1c273de%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7ef2af75%5C%22%20id%3D%5C%22u7ef2af75%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u085baa01%5C%22%20id%3D%5C%22u085baa01%5C%22%3E%E7%BC%BA%E7%82%B9%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ufcdea754%5C%22%20id%3D%5C%22ufcdea754%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua9f43753%5C%22%20id%3D%5C%22ua9f43753%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5c0dd67d%5C%22%20id%3D%5C%22u5c0dd67d%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u5fbffb11%5C%22%20id%3D%5C%22u5fbffb11%5C%22%3E%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%88key-value%EF%BC%89%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u19e8482c%5C%22%20id%3D%5C%22u19e8482c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud1a5d06c%5C%22%20id%3D%5C%22ud1a5d06c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uead77edf%5C%22%20id%3D%5C%22uead77edf%5C%22%3ETokyo%20Cabinet%2FTyrant%2C%20Redis%2C%20Voldemort%2C%20Oracle%20BDB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u0dc6a864%5C%22%20id%3D%5C%22u0dc6a864%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7ead5768%5C%22%20id%3D%5C%22u7ead5768%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ueb2aa742%5C%22%20id%3D%5C%22ueb2aa742%5C%22%3E%E5%86%85%E5%AE%B9%E7%BC%93%E5%AD%98%EF%BC%8C%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E5%A4%84%E7%90%86%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E9%AB%98%E8%AE%BF%E9%97%AE%E8%B4%9F%E8%BD%BD%EF%BC%8C%E4%B9%9F%E7%94%A8%E4%BA%8E%E4%B8%80%E4%BA%9B%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E7%AD%89%E7%AD%89%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uaa28446c%5C%22%20id%3D%5C%22uaa28446c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uae3675cb%5C%22%20id%3D%5C%22uae3675cb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda671e75%5C%22%20id%3D%5C%22uda671e75%5C%22%3EKey%20%E6%8C%87%E5%90%91%20Value%20%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%8C%E9%80%9A%E5%B8%B8%E7%94%A8hash%20table%E6%9D%A5%E5%AE%9E%E7%8E%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u31b6c887%5C%22%20id%3D%5C%22u31b6c887%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u12cd05f6%5C%22%20id%3D%5C%22u12cd05f6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubed30c29%5C%22%20id%3D%5C%22ubed30c29%5C%22%3E%E6%9F%A5%E6%89%BE%E9%80%9F%E5%BA%A6%E5%BF%AB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u313ab38f%5C%22%20id%3D%5C%22u313ab38f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1507ae6c%5C%22%20id%3D%5C%22u1507ae6c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u46b4425e%5C%22%20id%3D%5C%22u46b4425e%5C%22%3E%E6%95%B0%E6%8D%AE%E6%97%A0%E7%BB%93%E6%9E%84%E5%8C%96%EF%BC%8C%E9%80%9A%E5%B8%B8%E5%8F%AA%E8%A2%AB%E5%BD%93%E4%BD%9C%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E8%80%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7196c01e%5C%22%20id%3D%5C%22u7196c01e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uf5cab040%5C%22%20id%3D%5C%22uf5cab040%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9dbf0a40%5C%22%20id%3D%5C%22u9dbf0a40%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u6f79fb31%5C%22%20id%3D%5C%22u6f79fb31%5C%22%3E%E5%88%97%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E5%BA%93%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uec0c864d%5C%22%20id%3D%5C%22uec0c864d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u43006d70%5C%22%20id%3D%5C%22u43006d70%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uea9bf2ea%5C%22%20id%3D%5C%22uea9bf2ea%5C%22%3ECassandra%2C%20HBase%2C%20Riak%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uad0f721d%5C%22%20id%3D%5C%22uad0f721d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7d15fae8%5C%22%20id%3D%5C%22u7d15fae8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9112f842%5C%22%20id%3D%5C%22u9112f842%5C%22%3E%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u79fe6077%5C%22%20id%3D%5C%22u79fe6077%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7804c8c6%5C%22%20id%3D%5C%22u7804c8c6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u81ed7cae%5C%22%20id%3D%5C%22u81ed7cae%5C%22%3E%E4%BB%A5%E5%88%97%E7%B0%87%E5%BC%8F%E5%AD%98%E5%82%A8%EF%BC%8C%E5%B0%86%E5%90%8C%E4%B8%80%E5%88%97%E6%95%B0%E6%8D%AE%E5%AD%98%E5%9C%A8%E4%B8%80%E8%B5%B7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u22b12d9c%5C%22%20id%3D%5C%22u22b12d9c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u13fe1587%5C%22%20id%3D%5C%22u13fe1587%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua190d0fc%5C%22%20id%3D%5C%22ua190d0fc%5C%22%3E%E6%9F%A5%E6%89%BE%E9%80%9F%E5%BA%A6%E5%BF%AB%EF%BC%8C%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7%E5%BC%BA%EF%BC%8C%E6%9B%B4%E5%AE%B9%E6%98%93%E8%BF%9B%E8%A1%8C%E5%88%86%E5%B8%83%E5%BC%8F%E6%89%A9%E5%B1%95%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u08c35f91%5C%22%20id%3D%5C%22u08c35f91%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u87e99df4%5C%22%20id%3D%5C%22u87e99df4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u53fac4af%5C%22%20id%3D%5C%22u53fac4af%5C%22%3E%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%AF%B9%E5%B1%80%E9%99%90%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u62e13098%5C%22%20id%3D%5C%22u62e13098%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0516428b%5C%22%20id%3D%5C%22u0516428b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3c480aa3%5C%22%20id%3D%5C%22u3c480aa3%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u3fc626e6%5C%22%20id%3D%5C%22u3fc626e6%5C%22%3E%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22udb08da5e%5C%22%20id%3D%5C%22udb08da5e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50a27754%5C%22%20id%3D%5C%22u50a27754%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue8086a88%5C%22%20id%3D%5C%22ue8086a88%5C%22%3ECouchDB%2C%20MongoDb%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ude9d6ef6%5C%22%20id%3D%5C%22ude9d6ef6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud19638bb%5C%22%20id%3D%5C%22ud19638bb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u050a5b59%5C%22%20id%3D%5C%22u050a5b59%5C%22%3EWeb%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%8EKey-Value%E7%B1%BB%E4%BC%BC%EF%BC%8CValue%E6%98%AF%E7%BB%93%E6%9E%84%E5%8C%96%E7%9A%84%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E8%83%BD%E5%A4%9F%E4%BA%86%E8%A7%A3Value%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6835a22d%5C%22%20id%3D%5C%22u6835a22d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3c75bb05%5C%22%20id%3D%5C%22u3c75bb05%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf729f804%5C%22%20id%3D%5C%22uf729f804%5C%22%3EKey-Value%E5%AF%B9%E5%BA%94%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%8CValue%E4%B8%BA%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9614149c%5C%22%20id%3D%5C%22u9614149c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4c28cdaa%5C%22%20id%3D%5C%22u4c28cdaa%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uad234f20%5C%22%20id%3D%5C%22uad234f20%5C%22%3E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%A6%81%E6%B1%82%E4%B8%8D%E4%B8%A5%E6%A0%BC%EF%BC%8C%E8%A1%A8%E7%BB%93%E6%9E%84%E5%8F%AF%E5%8F%98%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E5%83%8F%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E6%A0%B7%E9%9C%80%E8%A6%81%E9%A2%84%E5%85%88%E5%AE%9A%E4%B9%89%E8%A1%A8%E7%BB%93%E6%9E%84%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8c36eca8%5C%22%20id%3D%5C%22u8c36eca8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uda5860e6%5C%22%20id%3D%5C%22uda5860e6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udd8dcac4%5C%22%20id%3D%5C%22udd8dcac4%5C%22%3E%E6%9F%A5%E8%AF%A2%E6%80%A7%E8%83%BD%E4%B8%8D%E9%AB%98%EF%BC%8C%E8%80%8C%E4%B8%94%E7%BC%BA%E4%B9%8F%E7%BB%9F%E4%B8%80%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub60fb578%5C%22%20id%3D%5C%22ub60fb578%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub3f5222d%5C%22%20id%3D%5C%22ub3f5222d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u43fab7dd%5C%22%20id%3D%5C%22u43fab7dd%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22ucc9259d3%5C%22%20id%3D%5C%22ucc9259d3%5C%22%3E%E5%9B%BE%E5%BD%A2(Graph)%E6%95%B0%E6%8D%AE%E5%BA%93%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud189ef56%5C%22%20id%3D%5C%22ud189ef56%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue685ef38%5C%22%20id%3D%5C%22ue685ef38%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5a53a5a1%5C%22%20id%3D%5C%22u5a53a5a1%5C%22%3ENeo4J%2C%20InfoGrid%2C%20Infinite%20Graph%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uba3ea966%5C%22%20id%3D%5C%22uba3ea966%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5be5702e%5C%22%20id%3D%5C%22u5be5702e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u308ee2de%5C%22%20id%3D%5C%22u308ee2de%5C%22%3E%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%EF%BC%8C%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E7%AD%89%E3%80%82%E4%B8%93%E6%B3%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%85%B3%E7%B3%BB%E5%9B%BE%E8%B0%B1%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc7738325%5C%22%20id%3D%5C%22uc7738325%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u36b391b5%5C%22%20id%3D%5C%22u36b391b5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u10103d38%5C%22%20id%3D%5C%22u10103d38%5C%22%3E%E5%9B%BE%E7%BB%93%E6%9E%84%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u85134bc0%5C%22%20id%3D%5C%22u85134bc0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5e001d17%5C%22%20id%3D%5C%22u5e001d17%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u42eaf071%5C%22%20id%3D%5C%22u42eaf071%5C%22%3E%E5%88%A9%E7%94%A8%E5%9B%BE%E7%BB%93%E6%9E%84%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95%E3%80%82%E6%AF%94%E5%A6%82%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E5%AF%BB%E5%9D%80%EF%BC%8CN%E5%BA%A6%E5%85%B3%E7%B3%BB%E6%9F%A5%E6%89%BE%E7%AD%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9a7d33f5%5C%22%20id%3D%5C%22u9a7d33f5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ucf19a2ac%5C%22%20id%3D%5C%22ucf19a2ac%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3dd1b605%5C%22%20id%3D%5C%22u3dd1b605%5C%22%3E%E5%BE%88%E5%A4%9A%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E5%AF%B9%E6%95%B4%E4%B8%AA%E5%9B%BE%E5%81%9A%E8%AE%A1%E7%AE%97%E6%89%8D%E8%83%BD%E5%BE%97%E5%87%BA%E9%9C%80%E8%A6%81%E7%9A%84%E4%BF%A1%E6%81%AF%EF%BC%8C%E8%80%8C%E4%B8%94%E8%BF%99%E7%A7%8D%E7%BB%93%E6%9E%84%E4%B8%8D%E5%A4%AA%E5%A5%BD%E5%81%9A%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E9%9B%86%E7%BE%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u57b13679\" id=\"u57b13679\"><br></p><h2 data-lake-id=\"98812eda\" id=\"98812eda\"><span data-lake-id=\"u649eba28\" id=\"u649eba28\">二、Redis入门</span></h2><p data-lake-id=\"u87ca3f9c\" id=\"u87ca3f9c\"><br></p><h3 data-lake-id=\"a4d3b02a\" id=\"a4d3b02a\"><span data-lake-id=\"uc6d301f3\" id=\"uc6d301f3\">概述</span></h3><p data-lake-id=\"u4278b7b4\" id=\"u4278b7b4\"><br></p><blockquote data-lake-id=\"u48619019\" id=\"u48619019\"><p data-lake-id=\"u20d77b8d\" id=\"u20d77b8d\"><span data-lake-id=\"u4cf433d3\" id=\"u4cf433d3\">Redis是什么？</span></p></blockquote><p data-lake-id=\"u22f0bb01\" id=\"u22f0bb01\"><br></p><p data-lake-id=\"u3d1467c7\" id=\"u3d1467c7\"><span data-lake-id=\"ub40d36d3\" id=\"ub40d36d3\">Redis（Remote Dictionary Server )，即远程字典服务。</span></p><p data-lake-id=\"ua1e102d7\" id=\"ua1e102d7\"><br></p><p data-lake-id=\"ub352ec73\" id=\"ub352ec73\"><span data-lake-id=\"u77e2b53d\" id=\"u77e2b53d\">是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、</span><strong><span data-lake-id=\"uf1e11ac7\" id=\"uf1e11ac7\">Key-Value数据库</span></strong><span data-lake-id=\"udfeb4904\" id=\"udfeb4904\">，并提供多种语言的API。</span></p><p data-lake-id=\"u177ec9c3\" id=\"u177ec9c3\"><br></p><p data-lake-id=\"u561fe470\" id=\"u561fe470\"><span data-lake-id=\"uceb0003e\" id=\"uceb0003e\">与memcached一样，为了保证效率，</span><strong><span data-lake-id=\"ud03244b3\" id=\"ud03244b3\">数据都是缓存在内存中</span></strong><span data-lake-id=\"u4dfe4be9\" id=\"u4dfe4be9\">。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。</span></p><p data-lake-id=\"ufaee7b60\" id=\"ufaee7b60\"><br></p><blockquote data-lake-id=\"u69e787a0\" id=\"u69e787a0\"><p data-lake-id=\"u4be0160f\" id=\"u4be0160f\"><span data-lake-id=\"ubfa4c60b\" id=\"ubfa4c60b\">Redis能该干什么？</span></p></blockquote><p data-lake-id=\"uf7bff61c\" id=\"uf7bff61c\"><br></p><ol list=\"u2f55be76\"><li fid=\"u6f9ce21b\" data-lake-id=\"uf61edfae\" id=\"uf61edfae\"><span data-lake-id=\"ud920bb34\" id=\"ud920bb34\">内存存储、持久化，内存是断电即失的，所以需要持久化（RDB、AOF）</span></li></ol><ol list=\"u4df7a92d\" start=\"2\"><li fid=\"u8c3cffa3\" data-lake-id=\"u91900b9e\" id=\"u91900b9e\"><span data-lake-id=\"u46bae56d\" id=\"u46bae56d\">高效率、用于高速缓冲</span></li></ol><ol list=\"u0d0e62cb\" start=\"3\"><li fid=\"uaa882956\" data-lake-id=\"u52a5f3ce\" id=\"u52a5f3ce\"><span data-lake-id=\"u7e7d1ede\" id=\"u7e7d1ede\">发布订阅系统</span></li></ol><ol list=\"u4a52f213\" start=\"4\"><li fid=\"u69c60740\" data-lake-id=\"u9f22323c\" id=\"u9f22323c\"><span data-lake-id=\"u80d0955b\" id=\"u80d0955b\">地图信息分析</span></li></ol><ol list=\"u627d7a19\" start=\"5\"><li fid=\"u68568aa6\" data-lake-id=\"u96dc6481\" id=\"u96dc6481\"><span data-lake-id=\"u584792ea\" id=\"u584792ea\">计时器、计数器(eg：浏览量)</span></li></ol><ol list=\"u85279ecb\" start=\"6\"><li fid=\"u479e1bd7\" data-lake-id=\"uea77a4a7\" id=\"uea77a4a7\"><span data-lake-id=\"u5e7f9bad\" id=\"u5e7f9bad\">。。。</span></li></ol><p data-lake-id=\"ud2d54944\" id=\"ud2d54944\"><br></p><blockquote data-lake-id=\"uedb9d463\" id=\"uedb9d463\"><p data-lake-id=\"ucef8c448\" id=\"ucef8c448\"><span data-lake-id=\"u716e9085\" id=\"u716e9085\">特性</span></p></blockquote><p data-lake-id=\"u39ff0fc8\" id=\"u39ff0fc8\"><br></p><ol list=\"u58853256\"><li fid=\"u8fca4a80\" data-lake-id=\"ue8b63332\" id=\"ue8b63332\"><span data-lake-id=\"ubf9f90ca\" id=\"ubf9f90ca\"> 多样的数据类型 </span></li></ol><ol list=\"u8dbbf2fc\" start=\"2\"><li fid=\"uae361a6d\" data-lake-id=\"u8423fc81\" id=\"u8423fc81\"><span data-lake-id=\"u8d4a2170\" id=\"u8d4a2170\"> 持久化 </span></li></ol><ol list=\"ua0763ffa\" start=\"3\"><li fid=\"uee24fe14\" data-lake-id=\"u4cc1344b\" id=\"u4cc1344b\"><span data-lake-id=\"ueba492e2\" id=\"ueba492e2\"> 集群 </span></li></ol><ol list=\"uadd9bc5e\" start=\"4\"><li fid=\"u146a8c91\" data-lake-id=\"uc9fd1ee5\" id=\"uc9fd1ee5\"><span data-lake-id=\"u376e2601\" id=\"u376e2601\"> 事务<br /></span><span data-lake-id=\"ud1b78d33\" id=\"ud1b78d33\">… </span></li></ol><p data-lake-id=\"ub731ec3e\" id=\"ub731ec3e\"><br></p><h3 data-lake-id=\"8a887b45\" id=\"8a887b45\"><span data-lake-id=\"u0ee1cc88\" id=\"u0ee1cc88\">环境搭建</span></h3><p data-lake-id=\"u3e018972\" id=\"u3e018972\"><br></p><p data-lake-id=\"u1741812b\" id=\"u1741812b\"><span data-lake-id=\"ue23ebd4c\" id=\"ue23ebd4c\">官网：</span><a href=\"https://redis.io/\" target=\"_blank\" data-lake-id=\"u0467a6f3\" id=\"u0467a6f3\"><span data-lake-id=\"u7dc56598\" id=\"u7dc56598\">https://redis.io/</span></a></p><p data-lake-id=\"u968fc810\" id=\"u968fc810\"><br></p><p data-lake-id=\"u12c40ee2\" id=\"u12c40ee2\"><span data-lake-id=\"u4ba29ad0\" id=\"u4ba29ad0\">推荐使用Linux服务器学习。</span></p><p data-lake-id=\"u7ca81501\" id=\"u7ca81501\"><br></p><p data-lake-id=\"ub05fa62c\" id=\"ub05fa62c\"><span data-lake-id=\"u098e0863\" id=\"u098e0863\">windows版本的Redis已经停更很久了…</span></p><p data-lake-id=\"ua532686e\" id=\"ua532686e\"><br></p><h3 data-lake-id=\"7d834b8c\" id=\"7d834b8c\"><span data-lake-id=\"u991a09e0\" id=\"u991a09e0\">Windows安装</span></h3><p data-lake-id=\"u0fe06c6b\" id=\"u0fe06c6b\"><br></p><p data-lake-id=\"u3e34957f\" id=\"u3e34957f\"><a href=\"https://github.com/dmajkic/redis\" target=\"_blank\" data-lake-id=\"u017816eb\" id=\"u017816eb\"><span data-lake-id=\"u84fb630d\" id=\"u84fb630d\">https://github.com/dmajkic/redis</span></a></p><p data-lake-id=\"u88ed3eb2\" id=\"u88ed3eb2\"><br></p><ol list=\"u179bd471\"><li fid=\"u7c2223b1\" data-lake-id=\"u14404b4b\" id=\"u14404b4b\"><span data-lake-id=\"uba3440b4\" id=\"uba3440b4\">解压安装包<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103922318.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1103%2C%22originHeight%22%3A637%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22qRico%22%7D\"></card></li></ol><ol list=\"u009fc4e1\" start=\"2\"><li fid=\"ud58780ef\" data-lake-id=\"u8398d6d5\" id=\"u8398d6d5\"><span data-lake-id=\"u9b0c3ee1\" id=\"u9b0c3ee1\">开启redis-server.exe</span></li></ol><ol list=\"u42f9aedb\" start=\"3\"><li fid=\"u5bf7b048\" data-lake-id=\"u9dec3236\" id=\"u9dec3236\"><span data-lake-id=\"ud99179d9\" id=\"ud99179d9\">启动redis-cli.exe测试</span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103950934.png%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1062%2C%22originHeight%22%3A198%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22KF0w6%22%7D\"></card></li></ol><p data-lake-id=\"u340c68e3\" id=\"u340c68e3\"><br></p><h3 data-lake-id=\"f1a36f58\" id=\"f1a36f58\"><span data-lake-id=\"ua504a888\" id=\"ua504a888\">Linux安装</span></h3><p data-lake-id=\"u95aa0fef\" id=\"u95aa0fef\"><br></p><ol list=\"u99bbb330\"><li fid=\"u75d5848f\" data-lake-id=\"ued17ec6a\" id=\"ued17ec6a\"><span data-lake-id=\"ua79c27db\" id=\"ua79c27db\"> 下载安装包！</span><code data-lake-id=\"u052684af\" id=\"u052684af\"><span data-lake-id=\"u84f87920\" id=\"u84f87920\">redis-5.0.8.tar.gz</span></code><span data-lake-id=\"ua12ab86d\" id=\"ua12ab86d\"> </span></li></ol><ol list=\"uc1c905fe\" start=\"2\"><li fid=\"u6ee23b55\" data-lake-id=\"u423edd3c\" id=\"u423edd3c\"><span data-lake-id=\"u6e7e8116\" id=\"u6e7e8116\"> 解压Redis的安装包！程序一般放在 </span><code data-lake-id=\"u8f0d4e34\" id=\"u8f0d4e34\"><span data-lake-id=\"u9d9167ab\" id=\"u9d9167ab\">/opt</span></code><span data-lake-id=\"ufce5178a\" id=\"ufce5178a\"> 目录下<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104016426.png%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1006%2C%22originHeight%22%3A155%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22GiTUS%22%7D\"></card><span data-lake-id=\"u9a6f5d0f\" id=\"u9a6f5d0f\"> </span></li></ol><ol list=\"u5ad6b5b1\" start=\"3\"><li fid=\"u3a28e777\" data-lake-id=\"u5f70a66a\" id=\"u5f70a66a\"><span data-lake-id=\"u01114dcf\" id=\"u01114dcf\"> 基本环境安装 </span><span data-lake-id=\"u23c4c7ba\" id=\"u23c4c7ba\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22yum%20install%20gcc-c%2B%2B%5Cn%23%20%E7%84%B6%E5%90%8E%E8%BF%9B%E5%85%A5redis%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%A7%E8%A1%8C%5Cnmake%5Cn%23%20%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%5Cnmake%20install%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22658355f4%22%7D\"></card><p data-lake-id=\"u51ac3c68\" id=\"u51ac3c68\"><br></p><p data-lake-id=\"uad3d4989\" id=\"uad3d4989\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104048327.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1085%2C%22originHeight%22%3A579%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22DfA3r%22%7D\"></card></p><p data-lake-id=\"u1a3c9160\" id=\"u1a3c9160\"><br></p><ol list=\"u18257b35\"><li fid=\"ufc0aca3a\" data-lake-id=\"ud1974bc4\" id=\"ud1974bc4\"><span data-lake-id=\"u1eb0256d\" id=\"u1eb0256d\"> redis默认安装路径 </span><code data-lake-id=\"u3e106d16\" id=\"u3e106d16\"><span data-lake-id=\"ud11ef757\" id=\"ud11ef757\">/usr/local/bin</span></code><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104140692.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1098%2C%22originHeight%22%3A315%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Fjg8x%22%7D\"></card><span data-lake-id=\"u3648c2dc\" id=\"u3648c2dc\"> </span></li></ol><ol list=\"u3953ed8c\" start=\"2\"><li fid=\"u3525cd53\" data-lake-id=\"ueb5d3550\" id=\"ueb5d3550\"><span data-lake-id=\"u5acd2f3f\" id=\"u5acd2f3f\"> 将redis的配置文件复制到 程序安装目录 </span><code data-lake-id=\"u083466a4\" id=\"u083466a4\"><span data-lake-id=\"ua8f7ea34\" id=\"ua8f7ea34\">/usr/local/bin/kconfig</span></code><span data-lake-id=\"u93660eb2\" id=\"u93660eb2\">下<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104157817.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1102%2C%22originHeight%22%3A223%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22tn1ls%22%7D\"></card><span data-lake-id=\"uaf6f0f84\" id=\"uaf6f0f84\"> </span></li></ol><ol list=\"u3c5cec66\" start=\"3\"><li fid=\"ucc19aae5\" data-lake-id=\"u5f5343fc\" id=\"u5f5343fc\"><span data-lake-id=\"uc3c5ba83\" id=\"uc3c5ba83\"> redis默认不是后台启动的，需要修改配置文件！<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104213706.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1088%2C%22originHeight%22%3A354%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22bjxOb%22%7D\"></card><span data-lake-id=\"ua25532ae\" id=\"ua25532ae\"> </span></li></ol><ol list=\"ua0cb3e2a\" start=\"4\"><li fid=\"ubc7940de\" data-lake-id=\"u219aca3b\" id=\"u219aca3b\"><span data-lake-id=\"u3c028fd0\" id=\"u3c028fd0\"> 通过制定的配置文件启动redis服务<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104228556.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1101%2C%22originHeight%22%3A255%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Cyr4o%22%7D\"></card><span data-lake-id=\"u738cf7a2\" id=\"u738cf7a2\"> </span></li></ol><ol list=\"u207d4642\" start=\"5\"><li fid=\"u379afa82\" data-lake-id=\"u6e18c6d8\" id=\"u6e18c6d8\"><span data-lake-id=\"u119c036d\" id=\"u119c036d\"> 使用redis-cli连接指定的端口号测试，Redis的默认端口6379<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104243223.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A986%2C%22originHeight%22%3A421%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Xywd7%22%7D\"></card><span data-lake-id=\"u6685d543\" id=\"u6685d543\"> </span></li></ol><ol list=\"udeb7ecb8\" start=\"6\"><li fid=\"u6e234f60\" data-lake-id=\"u88aca35b\" id=\"u88aca35b\"><span data-lake-id=\"u703a91a7\" id=\"u703a91a7\"> 查看redis进程是否开启<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104300532.png%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1102%2C%22originHeight%22%3A176%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22FHs8K%22%7D\"></card><span data-lake-id=\"u6e1d026e\" id=\"u6e1d026e\"> </span></li></ol><ol list=\"uded4f444\" start=\"7\"><li fid=\"u97260551\" data-lake-id=\"u2fdaa0c1\" id=\"u2fdaa0c1\"><span data-lake-id=\"u5eef2efa\" id=\"u5eef2efa\"> 关闭Redis服务 </span><code data-lake-id=\"u3b7bd94d\" id=\"u3b7bd94d\"><span data-lake-id=\"ueaf47bb6\" id=\"ueaf47bb6\">shutdown</span></code><span data-lake-id=\"u014e32ea\" id=\"u014e32ea\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104314297.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1102%2C%22originHeight%22%3A207%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22m0hEK%22%7D\"></card><span data-lake-id=\"u69aceec6\" id=\"u69aceec6\"> </span></li></ol><ol list=\"u3aedcb28\" start=\"8\"><li fid=\"u77bcb538\" data-lake-id=\"u2d9897ea\" id=\"u2d9897ea\"><span data-lake-id=\"uda71e58c\" id=\"uda71e58c\"> 再次查看进程是否存在 </span></li></ol><ol list=\"u44ef0a11\" start=\"9\"><li fid=\"uff02ba01\" data-lake-id=\"uf6c494ec\" id=\"uf6c494ec\"><span data-lake-id=\"ufe004f37\" id=\"ufe004f37\"> 后面我们会使用单机多Redis启动集群测试 </span></li></ol><p data-lake-id=\"ub0f99241\" id=\"ub0f99241\"><br></p><h3 data-lake-id=\"cb1df365\" id=\"cb1df365\"><span data-lake-id=\"uf0e6e492\" id=\"uf0e6e492\">测试性能</span></h3><p data-lake-id=\"u04ba2e5d\" id=\"u04ba2e5d\"><br></p><p data-lake-id=\"u3fd267e2\" id=\"u3fd267e2\"><strong><span data-lake-id=\"u08f0511a\" id=\"u08f0511a\">redis-benchmark：</span></strong><span data-lake-id=\"u894bf247\" id=\"u894bf247\">Redis官方提供的性能测试工具，参数选项如下：</span></p><p data-lake-id=\"u1b7f943c\" id=\"u1b7f943c\"><br></p><p data-lake-id=\"ueabe3ae1\" id=\"ueabe3ae1\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214125892.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A746%2C%22originHeight%22%3A641%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22p6S7R%22%7D\"></card></p><p data-lake-id=\"ua065ba56\" id=\"ua065ba56\"><br></p><p data-lake-id=\"u99ba7756\" id=\"u99ba7756\"><strong><span data-lake-id=\"u18b36f7d\" id=\"u18b36f7d\">简单测试：</span></strong></p><p data-lake-id=\"u91e2632a\" id=\"u91e2632a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E6%B5%8B%E8%AF%95%EF%BC%9A100%E4%B8%AA%E5%B9%B6%E5%8F%91%E8%BF%9E%E6%8E%A5%20100000%E8%AF%B7%E6%B1%82%5Cnredis-benchmark%20-h%20localhost%20-p%206379%20-c%20100%20-n%20100000%5Cn12%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e3998293%22%7D\"></card><p data-lake-id=\"u323fef01\" id=\"u323fef01\"><br></p><p data-lake-id=\"u9b1e5492\" id=\"u9b1e5492\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104343472.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1124%2C%22originHeight%22%3A319%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22gSOzi%22%7D\"></card></p><p data-lake-id=\"u5054efa1\" id=\"u5054efa1\"><br></p><h3 data-lake-id=\"8453e91e\" id=\"8453e91e\"><span data-lake-id=\"uf948f198\" id=\"uf948f198\">基础知识</span></h3><p data-lake-id=\"ub4a73e03\" id=\"ub4a73e03\"><br></p><blockquote data-lake-id=\"u4c37fa78\" id=\"u4c37fa78\"><p data-lake-id=\"ubf5626ed\" id=\"ubf5626ed\"><span data-lake-id=\"ub93ed465\" id=\"ub93ed465\">redis默认有16个数据库</span></p></blockquote><p data-lake-id=\"uef1c825e\" id=\"uef1c825e\"><br></p><p data-lake-id=\"ue3e14e94\" id=\"ue3e14e94\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104357466.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1116%2C%22originHeight%22%3A282%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22OtCTa%22%7D\"></card></p><p data-lake-id=\"u4742fe8e\" id=\"u4742fe8e\"><br></p><p data-lake-id=\"u2261644c\" id=\"u2261644c\"><span data-lake-id=\"uc030e1c9\" id=\"uc030e1c9\">默认使用的第0个;</span></p><p data-lake-id=\"u87607efe\" id=\"u87607efe\"><br></p><p data-lake-id=\"u4bd7243f\" id=\"u4bd7243f\"><span data-lake-id=\"u61379b85\" id=\"u61379b85\">16个数据库为：DB 0~DB 15<br /></span><span data-lake-id=\"u574ce1a6\" id=\"u574ce1a6\">默认使用DB 0 ，可以使用</span><code data-lake-id=\"u3348a2c7\" id=\"u3348a2c7\"><span data-lake-id=\"u3dfe5d89\" id=\"u3dfe5d89\">select n</span></code><span data-lake-id=\"u73a556a0\" id=\"u73a556a0\">切换到DB n，</span><code data-lake-id=\"ud9cb91b5\" id=\"ud9cb91b5\"><span data-lake-id=\"u3153160d\" id=\"u3153160d\">dbsize</span></code><span data-lake-id=\"u31d01e22\" id=\"u31d01e22\">可以查看当前数据库的大小，与key数量相关。</span></p><p data-lake-id=\"u78ad8786\" id=\"u78ad8786\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20config%20get%20databases%20%23%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E6%95%B0%E9%87%8Fdatabases%5Cn1)%20%5C%22databases%5C%22%5Cn2)%20%5C%2216%5C%22%5Cn%5Cn127.0.0.1%3A6379%3E%20select%208%20%23%20%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93%20DB%208%5CnOK%5Cn127.0.0.1%3A6379%5B8%5D%3E%20dbsize%20%23%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%A7%E5%B0%8F%5Cn(integer)%200%5Cn%5Cn%23%20%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B9%8B%E9%97%B4%20%E6%95%B0%E6%8D%AE%E6%98%AF%E4%B8%8D%E8%83%BD%E4%BA%92%E9%80%9A%E7%9A%84%EF%BC%8C%E5%B9%B6%E4%B8%94dbsize%20%E6%98%AF%E6%A0%B9%E6%8D%AE%E5%BA%93%E4%B8%ADkey%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%5Cn127.0.0.1%3A6379%3E%20set%20name%20sakura%20%5CnOK%5Cn127.0.0.1%3A6379%3E%20SELECT%208%5CnOK%5Cn127.0.0.1%3A6379%5B8%5D%3E%20get%20name%20%23%20db8%E4%B8%AD%E5%B9%B6%E4%B8%8D%E8%83%BD%E8%8E%B7%E5%8F%96db0%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E3%80%82%5Cn(nil)%5Cn127.0.0.1%3A6379%5B8%5D%3E%20DBSIZE%5Cn(integer)%200%5Cn127.0.0.1%3A6379%5B8%5D%3E%20SELECT%200%5CnOK%5Cn127.0.0.1%3A6379%3E%20keys%20*%5Cn1)%20%5C%22counter%3A__rand_int__%5C%22%5Cn2)%20%5C%22mylist%5C%22%5Cn3)%20%5C%22name%5C%22%5Cn4)%20%5C%22key%3A__rand_int__%5C%22%5Cn5)%20%5C%22myset%3A__rand_int__%5C%22%5Cn127.0.0.1%3A6379%3E%20DBSIZE%20%23%20size%E5%92%8Ckey%E4%B8%AA%E6%95%B0%E7%9B%B8%E5%85%B3%5Cn(integer)%205%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2203762fd4%22%7D\"></card><p data-lake-id=\"u84fcfa6d\" id=\"u84fcfa6d\"><br></p><p data-lake-id=\"u950011fc\" id=\"u950011fc\"><code data-lake-id=\"u6b8a7c75\" id=\"u6b8a7c75\"><span data-lake-id=\"ub6d014c0\" id=\"ub6d014c0\">keys *</span></code><span data-lake-id=\"uc365ca78\" id=\"uc365ca78\"> ：查看当前数据库中所有的key。</span></p><p data-lake-id=\"u475ed287\" id=\"u475ed287\"><br></p><p data-lake-id=\"ue70a3f5e\" id=\"ue70a3f5e\"><code data-lake-id=\"u001467f4\" id=\"u001467f4\"><span data-lake-id=\"ubc541ef2\" id=\"ubc541ef2\">flushdb</span></code><span data-lake-id=\"u22783a1f\" id=\"u22783a1f\">：清空当前数据库中的键值对。</span></p><p data-lake-id=\"uaa644572\" id=\"uaa644572\"><br></p><p data-lake-id=\"u3bf50492\" id=\"u3bf50492\"><code data-lake-id=\"u1bce963c\" id=\"u1bce963c\"><span data-lake-id=\"u06d91936\" id=\"u06d91936\">flushall</span></code><span data-lake-id=\"ua3c0862b\" id=\"ua3c0862b\">：清空所有数据库的键值对。</span></p><p data-lake-id=\"uf1a4a5da\" id=\"uf1a4a5da\"><br></p><blockquote data-lake-id=\"ue6a34484\" id=\"ue6a34484\"><p data-lake-id=\"u2c6b42dc\" id=\"u2c6b42dc\"><strong><span data-lake-id=\"u2a013337\" id=\"u2a013337\">Redis是单线程的，Redis是基于内存操作的。</span></strong></p></blockquote><p data-lake-id=\"ua3eca479\" id=\"ua3eca479\"><br></p><p data-lake-id=\"uf214bf6a\" id=\"uf214bf6a\"><span data-lake-id=\"u0e898189\" id=\"u0e898189\">所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。</span></p><p data-lake-id=\"u9e8bb3d2\" id=\"u9e8bb3d2\"><br></p><p data-lake-id=\"ua3b136a4\" id=\"ua3b136a4\"><span data-lake-id=\"ucb528c5f\" id=\"ucb528c5f\">那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+</span></p><p data-lake-id=\"u259a977e\" id=\"u259a977e\"><br></p><blockquote data-lake-id=\"u56f92a32\" id=\"u56f92a32\"><p data-lake-id=\"ua9554450\" id=\"ua9554450\"><strong><span data-lake-id=\"ubc20754c\" id=\"ubc20754c\">Redis为什么单线程还这么快？</span></strong></p></blockquote><p data-lake-id=\"u9aee254c\" id=\"u9aee254c\"><br></p><ul list=\"u3f74f825\"><li fid=\"u532fd8e4\" data-lake-id=\"u4943518f\" id=\"u4943518f\"><span data-lake-id=\"u925790b5\" id=\"u925790b5\">误区1：高性能的服务器一定是多线程的？</span></li></ul><ul list=\"u40d36242\"><li fid=\"u49592b92\" data-lake-id=\"u803505cf\" id=\"u803505cf\"><span data-lake-id=\"u11ce90c7\" id=\"u11ce90c7\">误区2：多线程（CPU上下文会切换！）一定比单线程效率高！</span></li></ul><p data-lake-id=\"u4ce5f5d9\" id=\"u4ce5f5d9\"><br></p><p data-lake-id=\"u3c75a39a\" id=\"u3c75a39a\"><span data-lake-id=\"ue0615bdd\" id=\"ue0615bdd\">核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。</span></p><p data-lake-id=\"uaabfbc4b\" id=\"uaabfbc4b\"><br></p><h2 data-lake-id=\"b9ae2c5c\" id=\"b9ae2c5c\"><span data-lake-id=\"uc7568744\" id=\"uc7568744\">三、五大数据类型</span></h2><p data-lake-id=\"u60950739\" id=\"u60950739\"><br></p><p data-lake-id=\"u743deb77\" id=\"u743deb77\"><span data-lake-id=\"u4117a832\" id=\"u4117a832\">Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作</span><strong><span data-lake-id=\"u4a57f622\" id=\"u4a57f622\">数据库</span></strong><span data-lake-id=\"u283eef0d\" id=\"u283eef0d\">，</span><strong><span data-lake-id=\"u8c89e0e9\" id=\"u8c89e0e9\">高速缓存</span></strong><span data-lake-id=\"u8a2e3ba9\" id=\"u8a2e3ba9\">和</span><strong><span data-lake-id=\"u7c00e29b\" id=\"u7c00e29b\">消息队列代理</span></strong><span data-lake-id=\"u1c7eb815\" id=\"u1c7eb815\">。它支持</span><a href=\"https://www.redis.net.cn/tutorial/3508.html\" target=\"_blank\" data-lake-id=\"u53f792b0\" id=\"u53f792b0\"><span data-lake-id=\"u633fa2b2\" id=\"u633fa2b2\">字符串</span></a><span data-lake-id=\"u0902a4f9\" id=\"u0902a4f9\">、</span><a href=\"https://www.redis.net.cn/tutorial/3509.html\" target=\"_blank\" data-lake-id=\"u1da4f4cb\" id=\"u1da4f4cb\"><span data-lake-id=\"u4a589fe7\" id=\"u4a589fe7\">哈希表</span></a><span data-lake-id=\"u6dc897b3\" id=\"u6dc897b3\">、</span><a href=\"https://www.redis.net.cn/tutorial/3510.html\" target=\"_blank\" data-lake-id=\"uaf517593\" id=\"uaf517593\"><span data-lake-id=\"u6b49f3dc\" id=\"u6b49f3dc\">列表</span></a><span data-lake-id=\"u6d81d8be\" id=\"u6d81d8be\">、</span><a href=\"https://www.redis.net.cn/tutorial/3511.html\" target=\"_blank\" data-lake-id=\"u5df26d66\" id=\"u5df26d66\"><span data-lake-id=\"u2f3d5f51\" id=\"u2f3d5f51\">集合</span></a><span data-lake-id=\"u163f11c8\" id=\"u163f11c8\">、</span><a href=\"https://www.redis.net.cn/tutorial/3512.html\" target=\"_blank\" data-lake-id=\"u3476fe23\" id=\"u3476fe23\"><span data-lake-id=\"ua45295e3\" id=\"ua45295e3\">有序集合</span></a><span data-lake-id=\"u2071149f\" id=\"u2071149f\">，</span><a href=\"https://www.redis.net.cn/tutorial/3508.html\" target=\"_blank\" data-lake-id=\"ue17f087d\" id=\"ue17f087d\"><span data-lake-id=\"u41371a88\" id=\"u41371a88\">位图</span></a><span data-lake-id=\"ue674e4e9\" id=\"ue674e4e9\">，</span><a href=\"https://www.redis.net.cn/tutorial/3513.html\" target=\"_blank\" data-lake-id=\"u4af04310\" id=\"u4af04310\"><span data-lake-id=\"uc184b22d\" id=\"uc184b22d\">hyperloglogs</span></a><span data-lake-id=\"u3a5dd7fc\" id=\"u3a5dd7fc\">等数据类型。内置复制、</span><a href=\"https://www.redis.net.cn/tutorial/3516.html\" target=\"_blank\" data-lake-id=\"ua0811cd4\" id=\"ua0811cd4\"><span data-lake-id=\"uaf1a4d8f\" id=\"uaf1a4d8f\">Lua脚本</span></a><span data-lake-id=\"u086d4249\" id=\"u086d4249\">、LRU收回、</span><a href=\"https://www.redis.net.cn/tutorial/3515.html\" target=\"_blank\" data-lake-id=\"ud072ed24\" id=\"ud072ed24\"><span data-lake-id=\"u4f9d4c1b\" id=\"u4f9d4c1b\">事务</span></a><span data-lake-id=\"u91c318f3\" id=\"u91c318f3\">以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动</span><a href=\"https://www.redis.net.cn/tutorial/3524.html\" target=\"_blank\" data-lake-id=\"u8efd0e77\" id=\"u8efd0e77\"><span data-lake-id=\"uff4ae4e5\" id=\"uff4ae4e5\">分区</span></a><span data-lake-id=\"u98a36e08\" id=\"u98a36e08\">。</span></p><p data-lake-id=\"u618a801e\" id=\"u618a801e\"><br></p><h3 data-lake-id=\"Redis-key\" id=\"Redis-key\"><span data-lake-id=\"u3c7b8f00\" id=\"u3c7b8f00\">Redis-key</span></h3><p data-lake-id=\"u2695c639\" id=\"u2695c639\"><br></p><blockquote data-lake-id=\"u4523de79\" id=\"u4523de79\"><p data-lake-id=\"u637ea431\" id=\"u637ea431\"><span data-lake-id=\"ua57cc2f0\" id=\"ua57cc2f0\">在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。</span></p></blockquote><p data-lake-id=\"ue585befd\" id=\"ue585befd\"><br></p><p data-lake-id=\"uba3e1185\" id=\"uba3e1185\"><span data-lake-id=\"u364e8f81\" id=\"u364e8f81\">下面学习的命令：</span></p><p data-lake-id=\"u85860796\" id=\"u85860796\"><br></p><ul list=\"ua17a4b31\"><li fid=\"u09d333cb\" data-lake-id=\"uaa89027d\" id=\"uaa89027d\"><code data-lake-id=\"udff03942\" id=\"udff03942\"><span data-lake-id=\"u8c58f1f9\" id=\"u8c58f1f9\">exists key</span></code><span data-lake-id=\"ub78e57e5\" id=\"ub78e57e5\">：判断键是否存在</span></li></ul><ul list=\"u3685259b\"><li fid=\"u5a8d7f0a\" data-lake-id=\"uc98112f1\" id=\"uc98112f1\"><code data-lake-id=\"ubf2034a7\" id=\"ubf2034a7\"><span data-lake-id=\"u51b9a12e\" id=\"u51b9a12e\">del key</span></code><span data-lake-id=\"ud0aab04c\" id=\"ud0aab04c\">：删除键值对</span></li></ul><ul list=\"uc25eeb6e\"><li fid=\"u468a8a6e\" data-lake-id=\"uc274c140\" id=\"uc274c140\"><code data-lake-id=\"u936fee48\" id=\"u936fee48\"><span data-lake-id=\"u303e12d6\" id=\"u303e12d6\">move key db</span></code><span data-lake-id=\"u848fe5e5\" id=\"u848fe5e5\">：将键值对移动到指定数据库</span></li></ul><ul list=\"udba3cd34\"><li fid=\"uf99594be\" data-lake-id=\"u321d4bc0\" id=\"u321d4bc0\"><code data-lake-id=\"uff7e8660\" id=\"uff7e8660\"><span data-lake-id=\"u73dc11f8\" id=\"u73dc11f8\">expire key second</span></code><span data-lake-id=\"u29c03586\" id=\"u29c03586\">：设置键值对的过期时间</span></li></ul><ul list=\"uf80cab87\"><li fid=\"udbffa857\" data-lake-id=\"u3a37addc\" id=\"u3a37addc\"><code data-lake-id=\"u4d86645c\" id=\"u4d86645c\"><span data-lake-id=\"uac472ebb\" id=\"uac472ebb\">type key</span></code><span data-lake-id=\"ud918611b\" id=\"ud918611b\">：查看value的数据类型</span></li></ul><p data-lake-id=\"ue26ea4e4\" id=\"ue26ea4e4\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20keys%20*%20%23%20%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89key%5Cn(empty%20list%20or%20set)%5Cn127.0.0.1%3A6379%3E%20set%20name%20qinjiang%20%23%20set%20key%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20age%2020%5CnOK%5Cn127.0.0.1%3A6379%3E%20keys%20*%5Cn1)%20%5C%22age%5C%22%5Cn2)%20%5C%22name%5C%22%5Cn127.0.0.1%3A6379%3E%20move%20age%201%20%23%20%E5%B0%86%E9%94%AE%E5%80%BC%E5%AF%B9%E7%A7%BB%E5%8A%A8%E5%88%B0%E6%8C%87%E5%AE%9A%E6%95%B0%E6%8D%AE%E5%BA%93%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20EXISTS%20age%20%23%20%E5%88%A4%E6%96%AD%E9%94%AE%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%5Cn(integer)%200%20%23%20%E4%B8%8D%E5%AD%98%E5%9C%A8%5Cn127.0.0.1%3A6379%3E%20EXISTS%20name%5Cn(integer)%201%20%23%20%E5%AD%98%E5%9C%A8%5Cn127.0.0.1%3A6379%3E%20SELECT%201%5CnOK%5Cn127.0.0.1%3A6379%5B1%5D%3E%20keys%20*%5Cn1)%20%5C%22age%5C%22%5Cn127.0.0.1%3A6379%5B1%5D%3E%20del%20age%20%23%20%E5%88%A0%E9%99%A4%E9%94%AE%E5%80%BC%E5%AF%B9%5Cn(integer)%201%20%23%20%E5%88%A0%E9%99%A4%E4%B8%AA%E6%95%B0%5Cn%5Cn%5Cn127.0.0.1%3A6379%3E%20set%20age%2020%5CnOK%5Cn127.0.0.1%3A6379%3E%20EXPIRE%20age%2015%20%23%20%E8%AE%BE%E7%BD%AE%E9%94%AE%E5%80%BC%E5%AF%B9%E7%9A%84%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%5Cn%5Cn(integer)%201%20%23%20%E8%AE%BE%E7%BD%AE%E6%88%90%E5%8A%9F%20%E5%BC%80%E5%A7%8B%E8%AE%A1%E6%95%B0%5Cn127.0.0.1%3A6379%3E%20ttl%20age%20%23%20%E6%9F%A5%E7%9C%8Bkey%E7%9A%84%E8%BF%87%E6%9C%9F%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%5Cn(integer)%2013%5Cn127.0.0.1%3A6379%3E%20ttl%20age%5Cn(integer)%2011%5Cn127.0.0.1%3A6379%3E%20ttl%20age%5Cn(integer)%209%5Cn127.0.0.1%3A6379%3E%20ttl%20age%5Cn(integer)%20-2%20%23%20-2%20%E8%A1%A8%E7%A4%BAkey%E8%BF%87%E6%9C%9F%EF%BC%8C-1%E8%A1%A8%E7%A4%BAkey%E6%9C%AA%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%5Cn%5Cn127.0.0.1%3A6379%3E%20get%20age%20%23%20%E8%BF%87%E6%9C%9F%E7%9A%84key%20%E4%BC%9A%E8%A2%AB%E8%87%AA%E5%8A%A8delete%5Cn(nil)%5Cn127.0.0.1%3A6379%3E%20keys%20*%5Cn1)%20%5C%22name%5C%22%5Cn%5Cn127.0.0.1%3A6379%3E%20type%20name%20%23%20%E6%9F%A5%E7%9C%8Bvalue%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%5Cnstring%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%220d5f8b59%22%7D\"></card><p data-lake-id=\"u988060db\" id=\"u988060db\"><br></p><p data-lake-id=\"ub895d76d\" id=\"ub895d76d\"><span data-lake-id=\"udb8277f5\" id=\"udb8277f5\">关于</span><code data-lake-id=\"ub7e2c19b\" id=\"ub7e2c19b\"><span data-lake-id=\"u41177c56\" id=\"u41177c56\">TTL</span></code><span data-lake-id=\"u9698666a\" id=\"u9698666a\">命令</span></p><p data-lake-id=\"u9d6b52d4\" id=\"u9d6b52d4\"><br></p><p data-lake-id=\"u957881df\" id=\"u957881df\"><span data-lake-id=\"u33f6e2a7\" id=\"u33f6e2a7\">Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：</span></p><p data-lake-id=\"u121d5f6b\" id=\"u121d5f6b\"><br></p><ol list=\"u1d39e42b\"><li fid=\"u3cb0611e\" data-lake-id=\"u3fa1738a\" id=\"u3fa1738a\"><span data-lake-id=\"ubc72f259\" id=\"ubc72f259\">当前key没有设置过期时间，所以会返回-1.</span></li></ol><ol list=\"u4c3af93f\" start=\"2\"><li fid=\"u90ed8bd9\" data-lake-id=\"ub52e31c0\" id=\"ub52e31c0\"><span data-lake-id=\"ueb64111e\" id=\"ueb64111e\">当前key有设置过期时间，而且key已经过期，所以会返回-2.</span></li></ol><ol list=\"ubf250063\" start=\"3\"><li fid=\"u98623091\" data-lake-id=\"u5413222a\" id=\"u5413222a\"><span data-lake-id=\"ua4024eed\" id=\"ua4024eed\">当前key有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.</span></li></ol><p data-lake-id=\"ue0f59f14\" id=\"ue0f59f14\"><br></p><p data-lake-id=\"ue4a7132d\" id=\"ue4a7132d\"><span data-lake-id=\"u5e4ff386\" id=\"u5e4ff386\">关于重命名</span><code data-lake-id=\"u3e4aded6\" id=\"u3e4aded6\"><span data-lake-id=\"uc59c34a8\" id=\"uc59c34a8\">RENAME</span></code><span data-lake-id=\"u323e9c65\" id=\"u323e9c65\">和</span><code data-lake-id=\"u45b99eba\" id=\"u45b99eba\"><span data-lake-id=\"u0b678f2a\" id=\"u0b678f2a\">RENAMENX</span></code></p><p data-lake-id=\"uc9dfde40\" id=\"uc9dfde40\"><br></p><ul list=\"ubde63ef9\"><li fid=\"u2600be32\" data-lake-id=\"ud80cb9dc\" id=\"ud80cb9dc\"><code data-lake-id=\"u260ab2c2\" id=\"u260ab2c2\"><span data-lake-id=\"ub06e6547\" id=\"ub06e6547\">RENAME key newkey</span></code><span data-lake-id=\"ufa21f9f7\" id=\"ufa21f9f7\">修改 key 的名称</span></li></ul><ul list=\"u2e44548a\"><li fid=\"u338d5342\" data-lake-id=\"u5efd04b0\" id=\"u5efd04b0\"><code data-lake-id=\"u3a6450ef\" id=\"u3a6450ef\"><span data-lake-id=\"u4ad1900a\" id=\"u4ad1900a\">RENAMENX key newkey</span></code><span data-lake-id=\"ue88ec9f9\" id=\"ue88ec9f9\">仅当 newkey 不存在时，将 key 改名为 newkey 。</span></li></ul><p data-lake-id=\"ua90cf51c\" id=\"ua90cf51c\"><br></p><p data-lake-id=\"u81aefddd\" id=\"u81aefddd\"><span data-lake-id=\"u1098a856\" id=\"u1098a856\">更多命令学习：</span><a href=\"https://www.redis.net.cn/order/\" target=\"_blank\" data-lake-id=\"u27b25303\" id=\"u27b25303\"><span data-lake-id=\"u3f2c8014\" id=\"u3f2c8014\">https://www.redis.net.cn/order/</span></a></p><p data-lake-id=\"u0f3baea7\" id=\"u0f3baea7\"><br></p><p data-lake-id=\"u0d5c6875\" id=\"u0d5c6875\"><span data-lake-id=\"ubd8e3974\" id=\"ubd8e3974\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wBVZtGVm-1597890996517)(狂神说 Redis.assets/image-20200813114228439.png)]</span></p><p data-lake-id=\"u2b98a643\" id=\"u2b98a643\"><br></p><h3 data-lake-id=\"dab38aa6\" id=\"dab38aa6\"><span data-lake-id=\"u4cce7d6c\" id=\"u4cce7d6c\">String(字符串)</span></h3><p data-lake-id=\"u23bea802\" id=\"u23bea802\"><br></p><p data-lake-id=\"uf1805803\" id=\"uf1805803\"><span data-lake-id=\"u13ab7327\" id=\"u13ab7327\">普通的set、get直接略过。</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22309c9fd2%22%2C%22rows%22%3A16%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22309c9fd2%5C%22%20id%3D%5C%22309c9fd2%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22ufd7d1149%5C%22%20id%3D%5C%22ufd7d1149%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9c1c2908%5C%22%20id%3D%5C%22u9c1c2908%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u411d3c1e%5C%22%20id%3D%5C%22u411d3c1e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0b399cbf%5C%22%20id%3D%5C%22u0b399cbf%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucdebfbe7%5C%22%20id%3D%5C%22ucdebfbe7%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud09e2abd%5C%22%20id%3D%5C%22ud09e2abd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6da5cf91%5C%22%20id%3D%5C%22u6da5cf91%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uecef48ae%5C%22%20id%3D%5C%22uecef48ae%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2fdb66d0%5C%22%20id%3D%5C%22u2fdb66d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u09d8f747%5C%22%20id%3D%5C%22u09d8f747%5C%22%3E%E7%A4%BA%E4%BE%8B%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uccabd9d9%5C%22%20id%3D%5C%22uccabd9d9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uaf4d7507%5C%22%20id%3D%5C%22uaf4d7507%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u852774b8%5C%22%20id%3D%5C%22u852774b8%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u45c3161f%5C%22%20id%3D%5C%22u45c3161f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8bba7594%5C%22%20id%3D%5C%22u8bba7594%5C%22%3EAPPEND%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u890e636c%5C%22%20id%3D%5C%22u890e636c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uebb6193c%5C%22%20id%3D%5C%22uebb6193c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufe86f3ff%5C%22%20id%3D%5C%22ufe86f3ff%5C%22%3E%E5%90%91%E6%8C%87%E5%AE%9A%E7%9A%84key%E7%9A%84value%E5%90%8E%E8%BF%BD%E5%8A%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u37610f6c%5C%22%20id%3D%5C%22u37610f6c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u80618177%5C%22%20id%3D%5C%22u80618177%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1c5dcbca%5C%22%20id%3D%5C%22u1c5dcbca%5C%22%3E127.0.0.1%3A6379%26gt%3B%20set%20msg%20hello%20OK%20127.0.0.1%3A6379%26gt%3B%20append%20msg%20%26quot%3B%20world%26quot%3B%20(integer)%2011%20127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Chello%20world%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ueb91a058%5C%22%20id%3D%5C%22ueb91a058%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u33d2e1f8%5C%22%20id%3D%5C%22u33d2e1f8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u159c23ae%5C%22%20id%3D%5C%22u159c23ae%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u593811c4%5C%22%20id%3D%5C%22u593811c4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8fa23402%5C%22%20id%3D%5C%22u8fa23402%5C%22%3EDECR%2FINCR%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u285402c4%5C%22%20id%3D%5C%22u285402c4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue094986e%5C%22%20id%3D%5C%22ue094986e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4cbbfec8%5C%22%20id%3D%5C%22u4cbbfec8%5C%22%3E%E5%B0%86%E6%8C%87%E5%AE%9Akey%E7%9A%84value%E6%95%B0%E5%80%BC%E8%BF%9B%E8%A1%8C%2B1%2F-1(%E4%BB%85%E5%AF%B9%E4%BA%8E%E6%95%B0%E5%AD%97)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ubae72f0a%5C%22%20id%3D%5C%22ubae72f0a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u208d3fc0%5C%22%20id%3D%5C%22u208d3fc0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u32daa2da%5C%22%20id%3D%5C%22u32daa2da%5C%22%3E127.0.0.1%3A6379%26gt%3B%20set%20age%2020%20OK%20127.0.0.1%3A6379%26gt%3B%20incr%20age%20(integer)%2021%20127.0.0.1%3A6379%26gt%3B%20decr%20age%20(integer)%2020%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub85c1154%5C%22%20id%3D%5C%22ub85c1154%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u73960ec6%5C%22%20id%3D%5C%22u73960ec6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u43754a12%5C%22%20id%3D%5C%22u43754a12%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud6a90a27%5C%22%20id%3D%5C%22ud6a90a27%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4bc239f0%5C%22%20id%3D%5C%22u4bc239f0%5C%22%3EINCRBY%2FDECRBY%20key%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2422f789%5C%22%20id%3D%5C%22u2422f789%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u477458ea%5C%22%20id%3D%5C%22u477458ea%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7090c7f5%5C%22%20id%3D%5C%22u7090c7f5%5C%22%3E%E6%8C%89%E6%8C%87%E5%AE%9A%E7%9A%84%E6%AD%A5%E9%95%BF%E5%AF%B9%E6%95%B0%E5%80%BC%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%87%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u384c7d7f%5C%22%20id%3D%5C%22u384c7d7f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufb7c5e1a%5C%22%20id%3D%5C%22ufb7c5e1a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc5d9bc60%5C%22%20id%3D%5C%22uc5d9bc60%5C%22%3E127.0.0.1%3A6379%26gt%3B%20INCRBY%20age%205%20(integer)%2025%20127.0.0.1%3A6379%26gt%3B%20DECRBY%20age%2010%20(integer)%2015%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue8df893f%5C%22%20id%3D%5C%22ue8df893f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u015d392a%5C%22%20id%3D%5C%22u015d392a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua5ac0846%5C%22%20id%3D%5C%22ua5ac0846%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u09643c77%5C%22%20id%3D%5C%22u09643c77%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u62575d2c%5C%22%20id%3D%5C%22u62575d2c%5C%22%3EINCRBYFLOAT%20key%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1e3c478c%5C%22%20id%3D%5C%22u1e3c478c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue0d9b7f8%5C%22%20id%3D%5C%22ue0d9b7f8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1550c263%5C%22%20id%3D%5C%22u1550c263%5C%22%3E%E4%B8%BA%E6%95%B0%E5%80%BC%E5%8A%A0%E4%B8%8A%E6%B5%AE%E7%82%B9%E5%9E%8B%E6%95%B0%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u3fa93aaf%5C%22%20id%3D%5C%22u3fa93aaf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2fb350b4%5C%22%20id%3D%5C%22u2fb350b4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5ce88ee2%5C%22%20id%3D%5C%22u5ce88ee2%5C%22%3E127.0.0.1%3A6379%26gt%3B%20INCRBYFLOAT%20age%205.2%20%E2%80%9C20.2%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4e293177%5C%22%20id%3D%5C%22u4e293177%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8989e453%5C%22%20id%3D%5C%22u8989e453%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u89e75a70%5C%22%20id%3D%5C%22u89e75a70%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ufb2ccb52%5C%22%20id%3D%5C%22ufb2ccb52%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud944aebe%5C%22%20id%3D%5C%22ud944aebe%5C%22%3ESTRLEN%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub0d61a8a%5C%22%20id%3D%5C%22ub0d61a8a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u09de9791%5C%22%20id%3D%5C%22u09de9791%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uccafecc5%5C%22%20id%3D%5C%22uccafecc5%5C%22%3E%E8%8E%B7%E5%8F%96key%E4%BF%9D%E5%AD%98%E5%80%BC%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u46c0fcec%5C%22%20id%3D%5C%22u46c0fcec%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1cc7f3dd%5C%22%20id%3D%5C%22u1cc7f3dd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7ca2c32a%5C%22%20id%3D%5C%22u7ca2c32a%5C%22%3E127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Chello%20world%E2%80%9D%20127.0.0.1%3A6379%26gt%3B%20STRLEN%20msg%20(integer)%2011%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8c71bd4e%5C%22%20id%3D%5C%22u8c71bd4e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ude38e865%5C%22%20id%3D%5C%22ude38e865%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf26d9921%5C%22%20id%3D%5C%22uf26d9921%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ufdde3fe0%5C%22%20id%3D%5C%22ufdde3fe0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u208d9bad%5C%22%20id%3D%5C%22u208d9bad%5C%22%3EGETRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud1d6352d%5C%22%20id%3D%5C%22ud1d6352d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub89a9140%5C%22%20id%3D%5C%22ub89a9140%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc6702dc1%5C%22%20id%3D%5C%22uc6702dc1%5C%22%3E%E6%8C%89%E8%B5%B7%E6%AD%A2%E4%BD%8D%E7%BD%AE%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88%E9%97%AD%E5%8C%BA%E9%97%B4%EF%BC%8C%E8%B5%B7%E6%AD%A2%E4%BD%8D%E7%BD%AE%E9%83%BD%E5%8F%96%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uff3a00ad%5C%22%20id%3D%5C%22uff3a00ad%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua158110b%5C%22%20id%3D%5C%22ua158110b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda68212b%5C%22%20id%3D%5C%22uda68212b%5C%22%3E127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Chello%20world%E2%80%9D%20127.0.0.1%3A6379%26gt%3B%20GETRANGE%20msg%203%209%20%E2%80%9Clo%20worl%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ua35f07db%5C%22%20id%3D%5C%22ua35f07db%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue520d20c%5C%22%20id%3D%5C%22ue520d20c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufa9ce376%5C%22%20id%3D%5C%22ufa9ce376%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u872eb488%5C%22%20id%3D%5C%22u872eb488%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda9ccccc%5C%22%20id%3D%5C%22uda9ccccc%5C%22%3ESETRANGE%20key%20offset%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue9e04dbc%5C%22%20id%3D%5C%22ue9e04dbc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub611f246%5C%22%20id%3D%5C%22ub611f246%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u25b6589d%5C%22%20id%3D%5C%22u25b6589d%5C%22%3E%E7%94%A8%E6%8C%87%E5%AE%9A%E7%9A%84value%20%E6%9B%BF%E6%8D%A2key%E4%B8%AD%20offset%E5%BC%80%E5%A7%8B%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1cf0b753%5C%22%20id%3D%5C%22u1cf0b753%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u15de01dd%5C%22%20id%3D%5C%22u15de01dd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc9d35d83%5C%22%20id%3D%5C%22uc9d35d83%5C%22%3E127.0.0.1%3A6379%26gt%3B%20SETRANGE%20msg%202%20hello%20(integer)%207%20127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Ctehello%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u34fcf449%5C%22%20id%3D%5C%22u34fcf449%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud3bdf4b6%5C%22%20id%3D%5C%22ud3bdf4b6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25d3dee6%5C%22%20id%3D%5C%22u25d3dee6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uc725922e%5C%22%20id%3D%5C%22uc725922e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubb68234f%5C%22%20id%3D%5C%22ubb68234f%5C%22%3EGETSET%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u84119756%5C%22%20id%3D%5C%22u84119756%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud22afc45%5C%22%20id%3D%5C%22ud22afc45%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua6b70896%5C%22%20id%3D%5C%22ua6b70896%5C%22%3E%E5%B0%86%E7%BB%99%E5%AE%9A%20key%20%E7%9A%84%E5%80%BC%E8%AE%BE%E4%B8%BA%20value%20%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%20key%20%E7%9A%84%E6%97%A7%E5%80%BC(old%20value)%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ueb34a412%5C%22%20id%3D%5C%22ueb34a412%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u51840d44%5C%22%20id%3D%5C%22u51840d44%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0eb4e5d2%5C%22%20id%3D%5C%22u0eb4e5d2%5C%22%3E127.0.0.1%3A6379%26gt%3B%20GETSET%20msg%20test%20%E2%80%9Chello%20world%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9055f229%5C%22%20id%3D%5C%22u9055f229%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3ca00d67%5C%22%20id%3D%5C%22u3ca00d67%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6f1f9884%5C%22%20id%3D%5C%22u6f1f9884%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub709655e%5C%22%20id%3D%5C%22ub709655e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5dffb8b2%5C%22%20id%3D%5C%22u5dffb8b2%5C%22%3ESETNX%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufff2176e%5C%22%20id%3D%5C%22ufff2176e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub73b3923%5C%22%20id%3D%5C%22ub73b3923%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1d183904%5C%22%20id%3D%5C%22u1d183904%5C%22%3E%E4%BB%85%E5%BD%93key%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%97%B6%E8%BF%9B%E8%A1%8Cset%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9537e69e%5C%22%20id%3D%5C%22u9537e69e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua13503f0%5C%22%20id%3D%5C%22ua13503f0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf406d965%5C%22%20id%3D%5C%22uf406d965%5C%22%3E127.0.0.1%3A6379%26gt%3B%20SETNX%20msg%20test%20(integer)%200%20127.0.0.1%3A6379%26gt%3B%20SETNX%20name%20sakura%20(integer)%201%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8f1f748c%5C%22%20id%3D%5C%22u8f1f748c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u37365b6e%5C%22%20id%3D%5C%22u37365b6e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uba9f9eba%5C%22%20id%3D%5C%22uba9f9eba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u92a963aa%5C%22%20id%3D%5C%22u92a963aa%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u236d7bb6%5C%22%20id%3D%5C%22u236d7bb6%5C%22%3ESETEX%20key%20seconds%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u47286dc5%5C%22%20id%3D%5C%22u47286dc5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u804e89f7%5C%22%20id%3D%5C%22u804e89f7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u155b1a0a%5C%22%20id%3D%5C%22u155b1a0a%5C%22%3Eset%20%E9%94%AE%E5%80%BC%E5%AF%B9%E5%B9%B6%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufdf2f314%5C%22%20id%3D%5C%22ufdf2f314%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7efbc420%5C%22%20id%3D%5C%22u7efbc420%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u70307078%5C%22%20id%3D%5C%22u70307078%5C%22%3E127.0.0.1%3A6379%26gt%3B%20setex%20name%2010%20root%20OK%20127.0.0.1%3A6379%26gt%3B%20get%20name%20(nil)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ua5d8d283%5C%22%20id%3D%5C%22ua5d8d283%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue76ea726%5C%22%20id%3D%5C%22ue76ea726%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u603173f0%5C%22%20id%3D%5C%22u603173f0%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u61068686%5C%22%20id%3D%5C%22u61068686%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0be790f9%5C%22%20id%3D%5C%22u0be790f9%5C%22%3EMSET%20key1%20value1%20%5Bkey2%20value2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u994bd34f%5C%22%20id%3D%5C%22u994bd34f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u412778fd%5C%22%20id%3D%5C%22u412778fd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8371c604%5C%22%20id%3D%5C%22u8371c604%5C%22%3E%E6%89%B9%E9%87%8Fset%E9%94%AE%E5%80%BC%E5%AF%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua25c6078%5C%22%20id%3D%5C%22ua25c6078%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub14566e6%5C%22%20id%3D%5C%22ub14566e6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5b1a9956%5C%22%20id%3D%5C%22u5b1a9956%5C%22%3E127.0.0.1%3A6379%26gt%3B%20MSET%20k1%20v1%20k2%20v2%20k3%20v3%20OK%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u296ef58f%5C%22%20id%3D%5C%22u296ef58f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubcb46d6f%5C%22%20id%3D%5C%22ubcb46d6f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua42497fa%5C%22%20id%3D%5C%22ua42497fa%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u691792f0%5C%22%20id%3D%5C%22u691792f0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue45536b8%5C%22%20id%3D%5C%22ue45536b8%5C%22%3EMSETNX%20key1%20value1%20%5Bkey2%20value2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue0de7c2a%5C%22%20id%3D%5C%22ue0de7c2a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u700ad718%5C%22%20id%3D%5C%22u700ad718%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9addc42d%5C%22%20id%3D%5C%22u9addc42d%5C%22%3E%E6%89%B9%E9%87%8F%E8%AE%BE%E7%BD%AE%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%8C%E4%BB%85%E5%BD%93%E5%8F%82%E6%95%B0%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84key%E9%83%BD%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%97%B6%E6%89%A7%E8%A1%8C%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8b1fc8ec%5C%22%20id%3D%5C%22u8b1fc8ec%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue5d511c5%5C%22%20id%3D%5C%22ue5d511c5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue1f1f50f%5C%22%20id%3D%5C%22ue1f1f50f%5C%22%3E127.0.0.1%3A6379%26gt%3B%20MSETNX%20k1%20v1%20k4%20v4%20(integer)%200%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u34ca3ad5%5C%22%20id%3D%5C%22u34ca3ad5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u39f52a5e%5C%22%20id%3D%5C%22u39f52a5e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7dd654d6%5C%22%20id%3D%5C%22u7dd654d6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucd29bd92%5C%22%20id%3D%5C%22ucd29bd92%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ueaf79fb0%5C%22%20id%3D%5C%22ueaf79fb0%5C%22%3EMGET%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub9f71dd2%5C%22%20id%3D%5C%22ub9f71dd2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud5acd8ca%5C%22%20id%3D%5C%22ud5acd8ca%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2d6e0e1f%5C%22%20id%3D%5C%22u2d6e0e1f%5C%22%3E%E6%89%B9%E9%87%8F%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AAkey%E4%BF%9D%E5%AD%98%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc00f4242%5C%22%20id%3D%5C%22uc00f4242%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u22a35176%5C%22%20id%3D%5C%22u22a35176%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u17c5b9a0%5C%22%20id%3D%5C%22u17c5b9a0%5C%22%3E127.0.0.1%3A6379%26gt%3B%20MGET%20k1%20k2%20k3%201)%20%E2%80%9Cv1%E2%80%9D%202)%20%E2%80%9Cv2%E2%80%9D%203)%20%E2%80%9Cv3%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub62116ad%5C%22%20id%3D%5C%22ub62116ad%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4331116d%5C%22%20id%3D%5C%22u4331116d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u26ecf13f%5C%22%20id%3D%5C%22u26ecf13f%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u596723ad%5C%22%20id%3D%5C%22u596723ad%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uba931177%5C%22%20id%3D%5C%22uba931177%5C%22%3EPSETEX%20key%20milliseconds%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u940a9875%5C%22%20id%3D%5C%22u940a9875%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u458c1f6d%5C%22%20id%3D%5C%22u458c1f6d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u91129ed7%5C%22%20id%3D%5C%22u91129ed7%5C%22%3E%E5%92%8C%20SETEX%20%E5%91%BD%E4%BB%A4%E7%9B%B8%E4%BC%BC%EF%BC%8C%E4%BD%86%E5%AE%83%E4%BB%A5%E6%AF%AB%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E8%AE%BE%E7%BD%AE%20key%20%E7%9A%84%E7%94%9F%E5%AD%98%E6%97%B6%E9%97%B4%EF%BC%8C%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u03efc6e6%5C%22%20id%3D%5C%22u03efc6e6%5C%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u96f45bad%5C%22%20id%3D%5C%22u96f45bad%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua785ab8b%5C%22%20id%3D%5C%22ua785ab8b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u89aefe04%5C%22%20id%3D%5C%22u89aefe04%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud9efe649%5C%22%20id%3D%5C%22ud9efe649%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u65c579b3%5C%22%20id%3D%5C%22u65c579b3%5C%22%3Egetset%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf662168c%5C%22%20id%3D%5C%22uf662168c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf02d8d70%5C%22%20id%3D%5C%22uf02d8d70%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ued2180cf%5C%22%20id%3D%5C%22ued2180cf%5C%22%3E%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%80%BC%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9Enil%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%AD%98%E5%9C%A8%E5%80%BC%EF%BC%8C%E8%8E%B7%E5%8F%96%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%80%BC%EF%BC%8C%E5%B9%B6%E8%AE%BE%E7%BD%AE%E6%96%B0%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u21e143ac%5C%22%20id%3D%5C%22u21e143ac%5C%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ua2b03380\" id=\"ua2b03380\"><br></p><p data-lake-id=\"u87c2845c\" id=\"u87c2845c\"><span data-lake-id=\"u8a461617\" id=\"u8a461617\">String类似的使用场景：value除了是字符串还可以是数字，用途举例：</span></p><p data-lake-id=\"ubc234437\" id=\"ubc234437\"><br></p><ul list=\"u8de4cff3\"><li fid=\"u67f88d3a\" data-lake-id=\"u22a00199\" id=\"u22a00199\"><span data-lake-id=\"uf4a5d70e\" id=\"uf4a5d70e\">计数器</span></li></ul><ul list=\"ud2da3c4c\"><li fid=\"u5ebf7843\" data-lake-id=\"u33665230\" id=\"u33665230\"><span data-lake-id=\"u7623e0ea\" id=\"u7623e0ea\">统计多单位的数量：uid:123666：follow 0</span></li></ul><ul list=\"u08624a53\"><li fid=\"u4b1bd4d3\" data-lake-id=\"u0cf26094\" id=\"u0cf26094\"><span data-lake-id=\"uca44c245\" id=\"uca44c245\">粉丝数</span></li></ul><ul list=\"u1abf380b\"><li fid=\"u297ab3fe\" data-lake-id=\"ufe8bc5fe\" id=\"ufe8bc5fe\"><span data-lake-id=\"uaa7c1d19\" id=\"uaa7c1d19\">对象存储缓存</span></li></ul><p data-lake-id=\"ua1376801\" id=\"ua1376801\"><br></p><h3 data-lake-id=\"285a2314\" id=\"285a2314\"><span data-lake-id=\"u7268d40d\" id=\"u7268d40d\">List(列表)</span></h3><p data-lake-id=\"u33feec6f\" id=\"u33feec6f\"><br></p><blockquote data-lake-id=\"ud44019df\" id=\"ud44019df\"><p data-lake-id=\"u9c17813e\" id=\"u9c17813e\"><span data-lake-id=\"u701d467f\" id=\"u701d467f\">Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）</span></p><p data-lake-id=\"u99414b02\" id=\"u99414b02\"><span data-lake-id=\"u56ed06e5\" id=\"u56ed06e5\"> </span></p><p data-lake-id=\"u12c4caca\" id=\"u12c4caca\"><span data-lake-id=\"u1723eaea\" id=\"u1723eaea\">一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。</span></p></blockquote><p data-lake-id=\"u876d5a3c\" id=\"u876d5a3c\"><br></p><p data-lake-id=\"uacb7cc02\" id=\"uacb7cc02\"><span data-lake-id=\"u4b3aef3b\" id=\"u4b3aef3b\">首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等</span></p><p data-lake-id=\"uefeca742\" id=\"uefeca742\"><br></p><p data-lake-id=\"ud1ffa4df\" id=\"ud1ffa4df\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104440398.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1119%2C%22originHeight%22%3A306%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22XKZ67%22%7D\"></card></p><p data-lake-id=\"uef8e4664\" id=\"uef8e4664\"><br></p><p data-lake-id=\"u7cf5d68c\" id=\"u7cf5d68c\"><span data-lake-id=\"u47178105\" id=\"u47178105\">正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22c6775235%22%2C%22rows%22%3A14%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22c6775235%5C%22%20id%3D%5C%22c6775235%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u383e29b7%5C%22%20id%3D%5C%22u383e29b7%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ude6c2bab%5C%22%20id%3D%5C%22ude6c2bab%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u579ff057%5C%22%20id%3D%5C%22u579ff057%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1356a296%5C%22%20id%3D%5C%22u1356a296%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u15820fb3%5C%22%20id%3D%5C%22u15820fb3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8777a6de%5C%22%20id%3D%5C%22u8777a6de%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u95ae5f7b%5C%22%20id%3D%5C%22u95ae5f7b%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u602d6d8f%5C%22%20id%3D%5C%22u602d6d8f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9e154dc7%5C%22%20id%3D%5C%22u9e154dc7%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u14021529%5C%22%20id%3D%5C%22u14021529%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uaf8f93b7%5C%22%20id%3D%5C%22uaf8f93b7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue129e8b7%5C%22%20id%3D%5C%22ue129e8b7%5C%22%3ELPUSH%2FRPUSH%20key%20value1%5Bvalue2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u400eacba%5C%22%20id%3D%5C%22u400eacba%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub578c060%5C%22%20id%3D%5C%22ub578c060%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u62d63041%5C%22%20id%3D%5C%22u62d63041%5C%22%3E%E4%BB%8E%E5%B7%A6%E8%BE%B9%2F%E5%8F%B3%E8%BE%B9%E5%90%91%E5%88%97%E8%A1%A8%E4%B8%ADPUSH%E5%80%BC(%E4%B8%80%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA)%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u86036bd5%5C%22%20id%3D%5C%22u86036bd5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua5af5a8b%5C%22%20id%3D%5C%22ua5af5a8b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u98b78de9%5C%22%20id%3D%5C%22u98b78de9%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u5dc7fd7f%5C%22%20id%3D%5C%22u5dc7fd7f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u59a879c4%5C%22%20id%3D%5C%22u59a879c4%5C%22%3ELRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u49316c45%5C%22%20id%3D%5C%22u49316c45%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubab79559%5C%22%20id%3D%5C%22ubab79559%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud8cb0ae5%5C%22%20id%3D%5C%22ud8cb0ae5%5C%22%3E%E8%8E%B7%E5%8F%96list%20%E8%B5%B7%E6%AD%A2%E5%85%83%E7%B4%A0%3D%3D%EF%BC%88%E7%B4%A2%E5%BC%95%E4%BB%8E%E5%B7%A6%E5%BE%80%E5%8F%B3%20%E9%80%92%E5%A2%9E%EF%BC%89%3D%3D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u73e2de0a%5C%22%20id%3D%5C%22u73e2de0a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6533c505%5C%22%20id%3D%5C%22u6533c505%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u98bb3993%5C%22%20id%3D%5C%22u98bb3993%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u89d7a705%5C%22%20id%3D%5C%22u89d7a705%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u24aae7f2%5C%22%20id%3D%5C%22u24aae7f2%5C%22%3ELPUSHX%2FRPUSHX%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9a9f876c%5C%22%20id%3D%5C%22u9a9f876c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u390c8c7f%5C%22%20id%3D%5C%22u390c8c7f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8676e3f7%5C%22%20id%3D%5C%22u8676e3f7%5C%22%3E%E5%90%91%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84%E5%88%97%E5%90%8D%E4%B8%ADpush%E5%80%BC%EF%BC%88%E4%B8%80%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5a19c7eb%5C%22%20id%3D%5C%22u5a19c7eb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2c376f81%5C%22%20id%3D%5C%22u2c376f81%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9b2d0518%5C%22%20id%3D%5C%22u9b2d0518%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u169857e0%5C%22%20id%3D%5C%22u169857e0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud799d752%5C%22%20id%3D%5C%22ud799d752%5C%22%3ELINSERT%20key%20BEFORE%7CAFTER%20pivot%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucace52bc%5C%22%20id%3D%5C%22ucace52bc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6f4e9fa9%5C%22%20id%3D%5C%22u6f4e9fa9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3ad7b8b8%5C%22%20id%3D%5C%22u3ad7b8b8%5C%22%3E%E5%9C%A8%E6%8C%87%E5%AE%9A%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%E7%9A%84%E5%89%8D%2F%E5%90%8E%20%E6%8F%92%E5%85%A5value%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u43cfe1b9%5C%22%20id%3D%5C%22u43cfe1b9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud49afe2d%5C%22%20id%3D%5C%22ud49afe2d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub0898aa7%5C%22%20id%3D%5C%22ub0898aa7%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uff2824a9%5C%22%20id%3D%5C%22uff2824a9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufd732b99%5C%22%20id%3D%5C%22ufd732b99%5C%22%3ELLEN%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8a3b4d37%5C%22%20id%3D%5C%22u8a3b4d37%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0f10f728%5C%22%20id%3D%5C%22u0f10f728%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc85a9766%5C%22%20id%3D%5C%22uc85a9766%5C%22%3E%E6%9F%A5%E7%9C%8B%E5%88%97%E8%A1%A8%E9%95%BF%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud1dfc6da%5C%22%20id%3D%5C%22ud1dfc6da%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2a410008%5C%22%20id%3D%5C%22u2a410008%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3adae3d4%5C%22%20id%3D%5C%22u3adae3d4%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud66fdeb2%5C%22%20id%3D%5C%22ud66fdeb2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2245aaeb%5C%22%20id%3D%5C%22u2245aaeb%5C%22%3ELINDEX%20key%20index%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u251ec5d1%5C%22%20id%3D%5C%22u251ec5d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua3aa30f1%5C%22%20id%3D%5C%22ua3aa30f1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc3ca8bb4%5C%22%20id%3D%5C%22uc3ca8bb4%5C%22%3E%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ufa4f9acc%5C%22%20id%3D%5C%22ufa4f9acc%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u92da0eb0%5C%22%20id%3D%5C%22u92da0eb0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16ff6edf%5C%22%20id%3D%5C%22u16ff6edf%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf6c9d4e2%5C%22%20id%3D%5C%22uf6c9d4e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6fef5b9a%5C%22%20id%3D%5C%22u6fef5b9a%5C%22%3ELSET%20key%20index%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u147b3c87%5C%22%20id%3D%5C%22u147b3c87%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u22703cd8%5C%22%20id%3D%5C%22u22703cd8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8e6c5b65%5C%22%20id%3D%5C%22u8e6c5b65%5C%22%3E%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E4%B8%BA%E5%85%83%E7%B4%A0%E8%AE%BE%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8cd95c8a%5C%22%20id%3D%5C%22u8cd95c8a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u677f1995%5C%22%20id%3D%5C%22u677f1995%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc49c2dc8%5C%22%20id%3D%5C%22uc49c2dc8%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u02c3cb1a%5C%22%20id%3D%5C%22u02c3cb1a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucf7ea7f8%5C%22%20id%3D%5C%22ucf7ea7f8%5C%22%3ELPOP%2FRPOP%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua5c4616d%5C%22%20id%3D%5C%22ua5c4616d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1f0d2256%5C%22%20id%3D%5C%22u1f0d2256%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud376993e%5C%22%20id%3D%5C%22ud376993e%5C%22%3E%E4%BB%8E%E6%9C%80%E5%B7%A6%E8%BE%B9%2F%E6%9C%80%E5%8F%B3%E8%BE%B9%E7%A7%BB%E9%99%A4%E5%80%BC%20%E5%B9%B6%E8%BF%94%E5%9B%9E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue6c3d050%5C%22%20id%3D%5C%22ue6c3d050%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6ddad8cf%5C%22%20id%3D%5C%22u6ddad8cf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0ab6339f%5C%22%20id%3D%5C%22u0ab6339f%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u57c17a57%5C%22%20id%3D%5C%22u57c17a57%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uceedb674%5C%22%20id%3D%5C%22uceedb674%5C%22%3ERPOPLPUSH%20source%20destination%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u13259e28%5C%22%20id%3D%5C%22u13259e28%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u20f9d554%5C%22%20id%3D%5C%22u20f9d554%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u06f03738%5C%22%20id%3D%5C%22u06f03738%5C%22%3E%E5%B0%86%E5%88%97%E8%A1%A8%E7%9A%84%E5%B0%BE%E9%83%A8(%E5%8F%B3)%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%80%BC%E5%BC%B9%E5%87%BA%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8A%A0%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8%E7%9A%84%E5%A4%B4%E9%83%A8%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u1572d834%5C%22%20id%3D%5C%22u1572d834%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9780aa14%5C%22%20id%3D%5C%22u9780aa14%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u29d8920b%5C%22%20id%3D%5C%22u29d8920b%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u9e392f48%5C%22%20id%3D%5C%22u9e392f48%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6c5f6dd2%5C%22%20id%3D%5C%22u6c5f6dd2%5C%22%3ELTRIM%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf452eebc%5C%22%20id%3D%5C%22uf452eebc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u643651e2%5C%22%20id%3D%5C%22u643651e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u187962da%5C%22%20id%3D%5C%22u187962da%5C%22%3E%E9%80%9A%E8%BF%87%E4%B8%8B%E6%A0%87%E6%88%AA%E5%8F%96%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E5%88%97%E8%A1%A8%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub0efe2d5%5C%22%20id%3D%5C%22ub0efe2d5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5104e085%5C%22%20id%3D%5C%22u5104e085%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf4356e27%5C%22%20id%3D%5C%22uf4356e27%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub52802e1%5C%22%20id%3D%5C%22ub52802e1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8573086f%5C%22%20id%3D%5C%22u8573086f%5C%22%3ELREM%20key%20count%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua0ff5b93%5C%22%20id%3D%5C%22ua0ff5b93%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6e9bf7f4%5C%22%20id%3D%5C%22u6e9bf7f4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6445116b%5C%22%20id%3D%5C%22u6445116b%5C%22%3EList%E4%B8%AD%E6%98%AF%E5%85%81%E8%AE%B8value%E9%87%8D%E5%A4%8D%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue000e2c6%5C%22%20id%3D%5C%22ue000e2c6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uca0f4eef%5C%22%20id%3D%5C%22uca0f4eef%5C%22%3Ecount%20%26gt%3B%200%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u7fbd322b%5C%22%20id%3D%5C%22u7fbd322b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue6e67518%5C%22%20id%3D%5C%22ue6e67518%5C%22%3E%EF%BC%9A%E4%BB%8E%E5%A4%B4%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%20%E7%84%B6%E5%90%8E%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E7%9A%84value%20%E8%87%B3%E5%A4%9A%E5%88%A0%E9%99%A4count%E4%B8%AA%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u460f2591%5C%22%20id%3D%5C%22u460f2591%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0bdde10a%5C%22%20id%3D%5C%22u0bdde10a%5C%22%3Ecount%20%26lt%3B%200%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u01ed02b8%5C%22%20id%3D%5C%22u01ed02b8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u246cfb9b%5C%22%20id%3D%5C%22u246cfb9b%5C%22%3E%EF%BC%9A%E4%BB%8E%E5%B0%BE%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%E2%80%A6%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue2264cbb%5C%22%20id%3D%5C%22ue2264cbb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9924265e%5C%22%20id%3D%5C%22u9924265e%5C%22%3Ecount%20%3D%200%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u26fe1a6d%5C%22%20id%3D%5C%22u26fe1a6d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua3b4e8fa%5C%22%20id%3D%5C%22ua3b4e8fa%5C%22%3E%EF%BC%9A%E5%88%A0%E9%99%A4%E5%88%97%E8%A1%A8%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E6%8C%87%E5%AE%9Avalue%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7d5cfaf1%5C%22%20id%3D%5C%22u7d5cfaf1%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub2967542%5C%22%20id%3D%5C%22ub2967542%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3076acba%5C%22%20id%3D%5C%22u3076acba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub275790e%5C%22%20id%3D%5C%22ub275790e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u57b75ae5%5C%22%20id%3D%5C%22u57b75ae5%5C%22%3EBLPOP%2FBRPOP%20key1%5Bkey2%5D%20timout%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2de5e36e%5C%22%20id%3D%5C%22u2de5e36e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7be0e761%5C%22%20id%3D%5C%22u7be0e761%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9c759c02%5C%22%20id%3D%5C%22u9c759c02%5C%22%3E%E7%A7%BB%E5%87%BA%E5%B9%B6%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%2F%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%8C%20%E5%A6%82%E6%9E%9C%E5%88%97%E8%A1%A8%E6%B2%A1%E6%9C%89%E5%85%83%E7%B4%A0%E4%BC%9A%E9%98%BB%E5%A1%9E%E5%88%97%E8%A1%A8%E7%9B%B4%E5%88%B0%E7%AD%89%E5%BE%85%E8%B6%85%E6%97%B6%E6%88%96%E5%8F%91%E7%8E%B0%E5%8F%AF%E5%BC%B9%E5%87%BA%E5%85%83%E7%B4%A0%E4%B8%BA%E6%AD%A2%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u3438ad47%5C%22%20id%3D%5C%22u3438ad47%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5c5442e2%5C%22%20id%3D%5C%22u5c5442e2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0de2d6ae%5C%22%20id%3D%5C%22u0de2d6ae%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u467d2e0c%5C%22%20id%3D%5C%22u467d2e0c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ude147387%5C%22%20id%3D%5C%22ude147387%5C%22%3EBRPOPLPUSH%20source%20destination%20timeout%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1e8dae28%5C%22%20id%3D%5C%22u1e8dae28%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1382e477%5C%22%20id%3D%5C%22u1382e477%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1cde535e%5C%22%20id%3D%5C%22u1cde535e%5C%22%3E%E5%92%8C%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u48e72555%5C%22%20id%3D%5C%22u48e72555%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u336be05b%5C%22%20id%3D%5C%22u336be05b%5C%22%3ERPOPLPUSH%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ue2b731d8%5C%22%20id%3D%5C%22ue2b731d8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1d7e7f4a%5C%22%20id%3D%5C%22u1d7e7f4a%5C%22%3E%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%90%8C%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%88%97%E8%A1%A8%E6%B2%A1%E6%9C%89%E5%85%83%E7%B4%A0%E4%BC%9A%E9%98%BB%E5%A1%9E%E5%88%97%E8%A1%A8%E7%9B%B4%E5%88%B0%E7%AD%89%E5%BE%85%E8%B6%85%E6%97%B6%E6%88%96%E5%8F%91%E7%8E%B0%E5%8F%AF%E5%BC%B9%E5%87%BA%E5%85%83%E7%B4%A0%E4%B8%BA%E6%AD%A2%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ufffa222a\" id=\"ufffa222a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22---------------------------LPUSH---RPUSH---LRANGE--------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LPUSH%20mylist%20k1%20%23%20LPUSH%20mylist%3D%3E%7B1%7D%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20LPUSH%20mylist%20k2%20%23%20LPUSH%20mylist%3D%3E%7B2%2C1%7D%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20RPUSH%20mylist%20k3%20%23%20RPUSH%20mylist%3D%3E%7B2%2C1%2C3%7D%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20get%20mylist%20%23%20%E6%99%AE%E9%80%9A%E7%9A%84get%E6%98%AF%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96list%E5%80%BC%E7%9A%84%5Cn(error)%20WRONGTYPE%20Operation%20against%20a%20key%20holding%20the%20wrong%20kind%20of%20value%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%204%20%23%20LRANGE%20%E8%8E%B7%E5%8F%96%E8%B5%B7%E6%AD%A2%E4%BD%8D%E7%BD%AE%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E5%85%83%E7%B4%A0%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn3)%20%5C%22k3%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%202%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn3)%20%5C%22k3%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%201%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%20%23%20%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E5%85%83%E7%B4%A0%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn3)%20%5C%22k3%5C%22%5Cn%5Cn---------------------------LPUSHX---RPUSHX-----------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LPUSHX%20list%20v1%20%23%20list%E4%B8%8D%E5%AD%98%E5%9C%A8%20LPUSHX%E5%A4%B1%E8%B4%A5%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20LPUSHX%20list%20v1%20v2%20%20%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20LPUSHX%20mylist%20k4%20k5%20%23%20%E5%90%91mylist%E4%B8%AD%20%E5%B7%A6%E8%BE%B9%20PUSH%20k4%20k5%5Cn(integer)%205%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k5%5C%22%5Cn2)%20%5C%22k4%5C%22%5Cn3)%20%5C%22k2%5C%22%5Cn4)%20%5C%22k1%5C%22%5Cn5)%20%5C%22k3%5C%22%5Cn%5Cn---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LINSERT%20mylist%20after%20k2%20ins_key1%20%23%20%E5%9C%A8k2%E5%85%83%E7%B4%A0%E5%90%8E%20%E6%8F%92%E5%85%A5ins_key1%5Cn(integer)%206%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k5%5C%22%5Cn2)%20%5C%22k4%5C%22%5Cn3)%20%5C%22k2%5C%22%5Cn4)%20%5C%22ins_key1%5C%22%5Cn5)%20%5C%22k1%5C%22%5Cn6)%20%5C%22k3%5C%22%5Cn127.0.0.1%3A6379%3E%20LLEN%20mylist%20%23%20%E6%9F%A5%E7%9C%8Bmylist%E7%9A%84%E9%95%BF%E5%BA%A6%5Cn(integer)%206%5Cn127.0.0.1%3A6379%3E%20LINDEX%20mylist%203%20%23%20%E8%8E%B7%E5%8F%96%E4%B8%8B%E6%A0%87%E4%B8%BA3%E7%9A%84%E5%85%83%E7%B4%A0%5Cn%5C%22ins_key1%5C%22%5Cn127.0.0.1%3A6379%3E%20LINDEX%20mylist%200%5Cn%5C%22k5%5C%22%5Cn127.0.0.1%3A6379%3E%20LSET%20mylist%203%20k6%20%23%20%E5%B0%86%E4%B8%8B%E6%A0%873%E7%9A%84%E5%85%83%E7%B4%A0%20set%E5%80%BC%E4%B8%BAk6%5CnOK%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k5%5C%22%5Cn2)%20%5C%22k4%5C%22%5Cn3)%20%5C%22k2%5C%22%5Cn4)%20%5C%22k6%5C%22%5Cn5)%20%5C%22k1%5C%22%5Cn6)%20%5C%22k3%5C%22%5Cn%5Cn---------------------------LPOP--RPOP--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LPOP%20mylist%20%23%20%E5%B7%A6%E4%BE%A7(%E5%A4%B4%E9%83%A8)%E5%BC%B9%E5%87%BA%5Cn%5C%22k5%5C%22%5Cn127.0.0.1%3A6379%3E%20RPOP%20mylist%20%23%20%E5%8F%B3%E4%BE%A7(%E5%B0%BE%E9%83%A8)%E5%BC%B9%E5%87%BA%5Cn%5C%22k3%5C%22%5Cn%5Cn---------------------------RPOPLPUSH--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k4%5C%22%5Cn2)%20%5C%22k2%5C%22%5Cn3)%20%5C%22k6%5C%22%5Cn4)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20RPOPLPUSH%20mylist%20newlist%20%23%20%E5%B0%86mylist%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%80%BC(k1)%E5%BC%B9%E5%87%BA%EF%BC%8C%E5%8A%A0%E5%85%A5%E5%88%B0newlist%E7%9A%84%E5%A4%B4%E9%83%A8%5Cn%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20newlist%200%20-1%5Cn1)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k4%5C%22%5Cn2)%20%5C%22k2%5C%22%5Cn3)%20%5C%22k6%5C%22%5Cn%5Cn---------------------------LTRIM--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LTRIM%20mylist%200%201%20%23%20%E6%88%AA%E5%8F%96mylist%E4%B8%AD%E7%9A%84%200~1%E9%83%A8%E5%88%86%5CnOK%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k4%5C%22%5Cn2)%20%5C%22k2%5C%22%5Cn%5Cn%23%20%E5%88%9D%E5%A7%8B%20mylist%3A%20k2%2Ck2%2Ck2%2Ck2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%2Ck2%2Ck2%5Cn---------------------------LREM--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LREM%20mylist%203%20k2%20%23%20%E4%BB%8E%E5%A4%B4%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%20%E8%87%B3%E5%A4%9A%E5%88%A0%E9%99%A43%E4%B8%AA%20k2%5Cn(integer)%203%5Cn%23%20%E5%88%A0%E9%99%A4%E5%90%8E%EF%BC%9Amylist%3A%20k2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%2Ck2%2Ck2%5Cn%5Cn127.0.0.1%3A6379%3E%20LREM%20mylist%20-2%20k2%20%23%E4%BB%8E%E5%B0%BE%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%20%E8%87%B3%E5%A4%9A%E5%88%A0%E9%99%A42%E4%B8%AA%20k2%5Cn(integer)%202%5Cn%23%20%E5%88%A0%E9%99%A4%E5%90%8E%EF%BC%9Amylist%3A%20k2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%5Cn%5Cn%5Cn---------------------------BLPOP--BRPOP--------------------------%5Cn%5Cnmylist%3A%20k2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%5Cnnewlist%3A%20k1%5Cn%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%20mylist%2030%20%23%20%E4%BB%8Enewlist%E4%B8%AD%E5%BC%B9%E5%87%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%80%BC%EF%BC%8Cmylist%E4%BD%9C%E4%B8%BA%E5%80%99%E9%80%89%5Cn1)%20%5C%22newlist%5C%22%20%23%20%E5%BC%B9%E5%87%BA%5Cn2)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%20mylist%2030%5Cn1)%20%5C%22mylist%5C%22%20%23%20%E7%94%B1%E4%BA%8Enewlist%E7%A9%BA%E4%BA%86%20%E4%BB%8Emylist%E4%B8%AD%E5%BC%B9%E5%87%BA%5Cn2)%20%5C%22k2%5C%22%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%2030%5Cn(30.10s)%20%23%20%E8%B6%85%E6%97%B6%E4%BA%86%5Cn%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%2030%20%23%20%E6%88%91%E4%BB%AC%E8%BF%9E%E6%8E%A5%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%91newlist%E4%B8%ADpush%E4%BA%86test%2C%20%E9%98%BB%E5%A1%9E%E8%A2%AB%E8%A7%A3%E5%86%B3%E3%80%82%5Cn1)%20%5C%22newlist%5C%22%5Cn2)%20%5C%22test%5C%22%5Cn(12.54s)%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c50dde70%22%7D\"></card><p data-lake-id=\"u7d3e12e2\" id=\"u7d3e12e2\"><br></p><blockquote data-lake-id=\"u238397be\" id=\"u238397be\"><p data-lake-id=\"u06f638e8\" id=\"u06f638e8\"><span data-lake-id=\"ua34456b1\" id=\"ua34456b1\">小结</span></p></blockquote><p data-lake-id=\"u23f6b20f\" id=\"u23f6b20f\"><br></p><ul list=\"ufaecdaa9\"><li fid=\"u6a7541b7\" data-lake-id=\"u6db9c14b\" id=\"u6db9c14b\"><span data-lake-id=\"u6e24ea27\" id=\"u6e24ea27\">list实际上是一个链表，before Node after , left, right 都可以插入值</span></li></ul><ul list=\"u1b51632d\"><li fid=\"u730255cb\" data-lake-id=\"ua3cbae37\" id=\"ua3cbae37\"><strong><span data-lake-id=\"u86cb4f6d\" id=\"u86cb4f6d\">如果key不存在，则创建新的链表</span></strong></li></ul><ul list=\"u83ecc9cc\"><li fid=\"ua3be84eb\" data-lake-id=\"ue8d192a5\" id=\"ue8d192a5\"><span data-lake-id=\"u8276cc95\" id=\"u8276cc95\">如果key存在，新增内容</span></li></ul><ul list=\"u3d9f5332\"><li fid=\"u97fc9ae5\" data-lake-id=\"u774266c2\" id=\"u774266c2\"><span data-lake-id=\"u86538a2a\" id=\"u86538a2a\">如果移除了所有值，空链表，也代表不存在</span></li></ul><ul list=\"u8f0fd3f3\"><li fid=\"uce0b0238\" data-lake-id=\"u5828e052\" id=\"u5828e052\"><span data-lake-id=\"u1e59e3e7\" id=\"u1e59e3e7\">在两边插入或者改动值，效率最高！修改中间元素，效率相对较低</span></li></ul><p data-lake-id=\"u9425675f\" id=\"u9425675f\"><br></p><p data-lake-id=\"u3e1b9a01\" id=\"u3e1b9a01\"><strong><span data-lake-id=\"ua0dd49f0\" id=\"ua0dd49f0\">应用：</span></strong></p><p data-lake-id=\"ua70bda1a\" id=\"ua70bda1a\"><br></p><p data-lake-id=\"u87fa2679\" id=\"u87fa2679\"><strong><span data-lake-id=\"u2056e6b4\" id=\"u2056e6b4\">消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）</span></strong></p><p data-lake-id=\"u224ce1a2\" id=\"u224ce1a2\"><br></p><h3 data-lake-id=\"5b4368f5\" id=\"5b4368f5\"><span data-lake-id=\"u11f3b1d7\" id=\"u11f3b1d7\">Set(集合)</span></h3><p data-lake-id=\"u7262d122\" id=\"u7262d122\"><br></p><blockquote data-lake-id=\"u5c9ce1ee\" id=\"u5c9ce1ee\"><p data-lake-id=\"u21d5d787\" id=\"u21d5d787\"><span data-lake-id=\"u5be79f47\" id=\"u5be79f47\">Redis的Set是</span><strong><span data-lake-id=\"u053b1167\" id=\"u053b1167\">string类型</span></strong><span data-lake-id=\"u90e1873d\" id=\"u90e1873d\">的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</span></p><p data-lake-id=\"u63a87464\" id=\"u63a87464\"><span data-lake-id=\"u03e51369\" id=\"u03e51369\"> </span></p><p data-lake-id=\"uab07d79e\" id=\"uab07d79e\"><span data-lake-id=\"u46c7bf6e\" id=\"u46c7bf6e\">Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。</span></p><p data-lake-id=\"u9137a576\" id=\"u9137a576\"><span data-lake-id=\"u8e00f7ad\" id=\"u8e00f7ad\"> </span></p><p data-lake-id=\"u2fb4498c\" id=\"u2fb4498c\"><span data-lake-id=\"u92186ec9\" id=\"u92186ec9\">集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22bcb771db%22%2C%22rows%22%3A16%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22bcb771db%5C%22%20id%3D%5C%22bcb771db%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u95967448%5C%22%20id%3D%5C%22u95967448%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud57e4008%5C%22%20id%3D%5C%22ud57e4008%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u24673a25%5C%22%20id%3D%5C%22u24673a25%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9555627d%5C%22%20id%3D%5C%22u9555627d%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue5512c70%5C%22%20id%3D%5C%22ue5512c70%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub8f61af5%5C%22%20id%3D%5C%22ub8f61af5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue764d1f1%5C%22%20id%3D%5C%22ue764d1f1%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u83ee9129%5C%22%20id%3D%5C%22u83ee9129%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u18cd11f8%5C%22%20id%3D%5C%22u18cd11f8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3b07cb29%5C%22%20id%3D%5C%22u3b07cb29%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud9e3f862%5C%22%20id%3D%5C%22ud9e3f862%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5f998eb4%5C%22%20id%3D%5C%22u5f998eb4%5C%22%3ESADD%20key%20member1%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u7da66cea%5C%22%20id%3D%5C%22u7da66cea%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9c03f173%5C%22%20id%3D%5C%22u9c03f173%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7ccd0e34%5C%22%20id%3D%5C%22u7ccd0e34%5C%22%3E%E5%90%91%E9%9B%86%E5%90%88%E4%B8%AD%E6%97%A0%E5%BA%8F%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ufdd48dfe%5C%22%20id%3D%5C%22ufdd48dfe%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u297c5dd1%5C%22%20id%3D%5C%22u297c5dd1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25bf9a7a%5C%22%20id%3D%5C%22u25bf9a7a%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u02d8e3d0%5C%22%20id%3D%5C%22u02d8e3d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4c2fc69f%5C%22%20id%3D%5C%22u4c2fc69f%5C%22%3ESCARD%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6ca4be16%5C%22%20id%3D%5C%22u6ca4be16%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ued67a42d%5C%22%20id%3D%5C%22ued67a42d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u21430021%5C%22%20id%3D%5C%22u21430021%5C%22%3E%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uaa7cb395%5C%22%20id%3D%5C%22uaa7cb395%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ude55545b%5C%22%20id%3D%5C%22ude55545b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubfe2ae51%5C%22%20id%3D%5C%22ubfe2ae51%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ubd47acd5%5C%22%20id%3D%5C%22ubd47acd5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u30a943f0%5C%22%20id%3D%5C%22u30a943f0%5C%22%3ESMEMBERS%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u0e7bd4bd%5C%22%20id%3D%5C%22u0e7bd4bd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0b1bf44d%5C%22%20id%3D%5C%22u0b1bf44d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u099a6d1f%5C%22%20id%3D%5C%22u099a6d1f%5C%22%3E%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u248664ef%5C%22%20id%3D%5C%22u248664ef%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2e321179%5C%22%20id%3D%5C%22u2e321179%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0bfc111a%5C%22%20id%3D%5C%22u0bfc111a%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uce711975%5C%22%20id%3D%5C%22uce711975%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u82a9d101%5C%22%20id%3D%5C%22u82a9d101%5C%22%3ESISMEMBER%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u91e3693e%5C%22%20id%3D%5C%22u91e3693e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3025fe9a%5C%22%20id%3D%5C%22u3025fe9a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud756bc25%5C%22%20id%3D%5C%22ud756bc25%5C%22%3E%E6%9F%A5%E8%AF%A2member%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E6%98%AF%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%2C%E7%BB%93%E6%9E%9C%E6%98%AF%E6%97%A0%E5%BA%8F%E7%9A%84%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ubfa1d236%5C%22%20id%3D%5C%22ubfa1d236%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub02aa14e%5C%22%20id%3D%5C%22ub02aa14e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u24e82721%5C%22%20id%3D%5C%22u24e82721%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u76c82bd5%5C%22%20id%3D%5C%22u76c82bd5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0de0eb5f%5C%22%20id%3D%5C%22u0de0eb5f%5C%22%3ESRANDMEMBER%20key%20%5Bcount%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud081f0ff%5C%22%20id%3D%5C%22ud081f0ff%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u61bff5f3%5C%22%20id%3D%5C%22u61bff5f3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5bb49bce%5C%22%20id%3D%5C%22u5bb49bce%5C%22%3E%E9%9A%8F%E6%9C%BA%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%ADcount%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%8Ccount%E7%BC%BA%E7%9C%81%E5%80%BC%E4%B8%BA1%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u988eced6%5C%22%20id%3D%5C%22u988eced6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ufe99c2ba%5C%22%20id%3D%5C%22ufe99c2ba%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u67bfe8c6%5C%22%20id%3D%5C%22u67bfe8c6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u01fdbdf8%5C%22%20id%3D%5C%22u01fdbdf8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3a563d2c%5C%22%20id%3D%5C%22u3a563d2c%5C%22%3ESPOP%20key%20%5Bcount%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u15d0cba3%5C%22%20id%3D%5C%22u15d0cba3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udfb124a5%5C%22%20id%3D%5C%22udfb124a5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u89066a28%5C%22%20id%3D%5C%22u89066a28%5C%22%3E%E9%9A%8F%E6%9C%BA%E7%A7%BB%E9%99%A4%E5%B9%B6%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%ADcount%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%8Ccount%E7%BC%BA%E7%9C%81%E5%80%BC%E4%B8%BA1%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue6071a63%5C%22%20id%3D%5C%22ue6071a63%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u29456c71%5C%22%20id%3D%5C%22u29456c71%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25c58c86%5C%22%20id%3D%5C%22u25c58c86%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u4e76336a%5C%22%20id%3D%5C%22u4e76336a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u552249fd%5C%22%20id%3D%5C%22u552249fd%5C%22%3ESMOVE%20source%20destination%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u882dbb38%5C%22%20id%3D%5C%22u882dbb38%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub8dc7f11%5C%22%20id%3D%5C%22ub8dc7f11%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf616d722%5C%22%20id%3D%5C%22uf616d722%5C%22%3E%E5%B0%86source%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98member%E7%A7%BB%E5%8A%A8%E5%88%B0destination%E9%9B%86%E5%90%88%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u81f39483%5C%22%20id%3D%5C%22u81f39483%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u236f3f5f%5C%22%20id%3D%5C%22u236f3f5f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u085dbc12%5C%22%20id%3D%5C%22u085dbc12%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ueee452c3%5C%22%20id%3D%5C%22ueee452c3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u750d9da6%5C%22%20id%3D%5C%22u750d9da6%5C%22%3ESREM%20key%20member1%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6e2846f0%5C%22%20id%3D%5C%22u6e2846f0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf8abf963%5C%22%20id%3D%5C%22uf8abf963%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u26f45bca%5C%22%20id%3D%5C%22u26f45bca%5C%22%3E%E7%A7%BB%E9%99%A4%E9%9B%86%E5%90%88%E4%B8%AD%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue8ca67a8%5C%22%20id%3D%5C%22ue8ca67a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8b2e0586%5C%22%20id%3D%5C%22u8b2e0586%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0f735f0e%5C%22%20id%3D%5C%22u0f735f0e%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u749f748c%5C%22%20id%3D%5C%22u749f748c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8c8ee7a6%5C%22%20id%3D%5C%22u8c8ee7a6%5C%22%3ESDIFF%20key1%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6524268b%5C%22%20id%3D%5C%22u6524268b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf8de6409%5C%22%20id%3D%5C%22uf8de6409%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u06b38a7a%5C%22%20id%3D%5C%22u06b38a7a%5C%22%3E%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%E7%9A%84%E5%B7%AE%E9%9B%86%20key1-%20key2%20-%20%E2%80%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ubbf930a8%5C%22%20id%3D%5C%22ubbf930a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u80d12c4a%5C%22%20id%3D%5C%22u80d12c4a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8d4d2977%5C%22%20id%3D%5C%22u8d4d2977%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua5aa6c47%5C%22%20id%3D%5C%22ua5aa6c47%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u87db8a24%5C%22%20id%3D%5C%22u87db8a24%5C%22%3ESDIFFSTORE%20destination%20key1%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue56e9430%5C%22%20id%3D%5C%22ue56e9430%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc22ca6b6%5C%22%20id%3D%5C%22uc22ca6b6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u68f74e5d%5C%22%20id%3D%5C%22u68f74e5d%5C%22%3E%E5%9C%A8SDIFF%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%B0%86%E7%BB%93%E6%9E%9C%E4%BF%9D%E5%AD%98%E5%88%B0%E9%9B%86%E5%90%88%E4%B8%AD%3D%3D(%E8%A6%86%E7%9B%96)%3D%3D%E3%80%82%E4%B8%8D%E8%83%BD%E4%BF%9D%E5%AD%98%E5%88%B0%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8Bkey%E5%99%A2%EF%BC%81%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u22dd2584%5C%22%20id%3D%5C%22u22dd2584%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u38abaf56%5C%22%20id%3D%5C%22u38abaf56%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1ff9fbc2%5C%22%20id%3D%5C%22u1ff9fbc2%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ubdf3307e%5C%22%20id%3D%5C%22ubdf3307e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8a0425be%5C%22%20id%3D%5C%22u8a0425be%5C%22%3ESINTER%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1c80dfea%5C%22%20id%3D%5C%22u1c80dfea%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf76fe8a8%5C%22%20id%3D%5C%22uf76fe8a8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u49730290%5C%22%20id%3D%5C%22u49730290%5C%22%3E%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%E7%9A%84%E4%BA%A4%E9%9B%86%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uc4b385e8%5C%22%20id%3D%5C%22uc4b385e8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6e783910%5C%22%20id%3D%5C%22u6e783910%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5e4b3315%5C%22%20id%3D%5C%22u5e4b3315%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u4efd97c8%5C%22%20id%3D%5C%22u4efd97c8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud2c156aa%5C%22%20id%3D%5C%22ud2c156aa%5C%22%3ESINTERSTORE%20destination%20key1%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u09d13ffa%5C%22%20id%3D%5C%22u09d13ffa%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uceeeb07d%5C%22%20id%3D%5C%22uceeeb07d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1cf3cd80%5C%22%20id%3D%5C%22u1cf3cd80%5C%22%3E%E5%9C%A8SINTER%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%9C%E5%88%B0%E9%9B%86%E5%90%88%E4%B8%AD%E3%80%82%E8%A6%86%E7%9B%96%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0264a73f%5C%22%20id%3D%5C%22u0264a73f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u487405f6%5C%22%20id%3D%5C%22u487405f6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9563240a%5C%22%20id%3D%5C%22u9563240a%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u16ca256d%5C%22%20id%3D%5C%22u16ca256d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u70b83136%5C%22%20id%3D%5C%22u70b83136%5C%22%3ESUNION%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u20a43833%5C%22%20id%3D%5C%22u20a43833%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u21404a87%5C%22%20id%3D%5C%22u21404a87%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u09212d1d%5C%22%20id%3D%5C%22u09212d1d%5C%22%3E%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%E7%9A%84%E5%B9%B6%E9%9B%86%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uc57c46af%5C%22%20id%3D%5C%22uc57c46af%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6dc2a0fd%5C%22%20id%3D%5C%22u6dc2a0fd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u34886729%5C%22%20id%3D%5C%22u34886729%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucfc85770%5C%22%20id%3D%5C%22ucfc85770%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u78c8a195%5C%22%20id%3D%5C%22u78c8a195%5C%22%3ESUNIONSTORE%20destination%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub8663ee5%5C%22%20id%3D%5C%22ub8663ee5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4f8464ff%5C%22%20id%3D%5C%22u4f8464ff%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7b92d44e%5C%22%20id%3D%5C%22u7b92d44e%5C%22%3E%E5%9C%A8SUNION%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%9C%E5%88%B0%E5%8F%8A%E5%92%8C%E5%BC%A0%E3%80%82%E8%A6%86%E7%9B%96%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9595f166%5C%22%20id%3D%5C%22u9595f166%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud1197dea%5C%22%20id%3D%5C%22ud1197dea%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf35349ec%5C%22%20id%3D%5C%22uf35349ec%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue5471f74%5C%22%20id%3D%5C%22ue5471f74%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue991ab16%5C%22%20id%3D%5C%22ue991ab16%5C%22%3ESSCAN%20KEY%20%5BMATCH%20pattern%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub5065947%5C%22%20id%3D%5C%22ub5065947%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u062206c8%5C%22%20id%3D%5C%22u062206c8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u010bc91b%5C%22%20id%3D%5C%22u010bc91b%5C%22%3E%E5%9C%A8%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%AD%A4%E5%91%BD%E4%BB%A4%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88%E4%B8%AD%E5%85%83%E7%B4%A0%EF%BC%8C%E6%AF%8F%E6%AC%A1%E9%81%8D%E5%8E%86%E9%83%A8%E5%88%86%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"uc6041227\" id=\"uc6041227\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SADD%20myset%20m1%20m2%20m3%20m4%20%23%20%E5%90%91myset%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%88%90%E5%91%98%20m1~m4%5Cn(integer)%204%5Cn127.0.0.1%3A6379%3E%20SCARD%20myset%20%23%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%E7%9B%AE%5Cn(integer)%204%5Cn127.0.0.1%3A6379%3E%20smembers%20myset%20%23%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E4%B8%AD%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn4)%20%5C%22m1%5C%22%5Cn127.0.0.1%3A6379%3E%20SISMEMBER%20myset%20m5%20%23%20%E6%9F%A5%E8%AF%A2m5%E6%98%AF%E5%90%A6%E6%98%AFmyset%E7%9A%84%E6%88%90%E5%91%98%5Cn(integer)%200%20%23%20%E4%B8%8D%E6%98%AF%EF%BC%8C%E8%BF%94%E5%9B%9E0%5Cn127.0.0.1%3A6379%3E%20SISMEMBER%20myset%20m2%5Cn(integer)%201%20%23%20%E6%98%AF%EF%BC%8C%E8%BF%94%E5%9B%9E1%5Cn127.0.0.1%3A6379%3E%20SISMEMBER%20myset%20m3%5Cn(integer)%201%5Cn%5Cn---------------------SRANDMEMBER--SPOP----------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SRANDMEMBER%20myset%203%20%23%20%E9%9A%8F%E6%9C%BA%E8%BF%94%E5%9B%9E3%E4%B8%AA%E6%88%90%E5%91%98%5Cn1)%20%5C%22m2%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m4%5C%22%5Cn127.0.0.1%3A6379%3E%20SRANDMEMBER%20myset%20%23%20%E9%9A%8F%E6%9C%BA%E8%BF%94%E5%9B%9E1%E4%B8%AA%E6%88%90%E5%91%98%5Cn%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20SPOP%20myset%202%20%23%20%E9%9A%8F%E6%9C%BA%E7%A7%BB%E9%99%A4%E5%B9%B6%E8%BF%94%E5%9B%9E2%E4%B8%AA%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m4%5C%22%5Cn%23%20%E5%B0%86set%E8%BF%98%E5%8E%9F%E5%88%B0%7Bm1%2Cm2%2Cm3%2Cm4%7D%5Cn%5Cn---------------------SMOVE--SREM----------------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SMOVE%20myset%20newset%20m3%20%23%20%E5%B0%86myset%E4%B8%ADm3%E6%88%90%E5%91%98%E7%A7%BB%E5%8A%A8%E5%88%B0newset%E9%9B%86%E5%90%88%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20SMEMBERS%20myset%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m2%5C%22%5Cn3)%20%5C%22m1%5C%22%5Cn127.0.0.1%3A6379%3E%20SMEMBERS%20newset%5Cn1)%20%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20SREM%20newset%20m3%20%23%20%E4%BB%8Enewset%E4%B8%AD%E7%A7%BB%E9%99%A4m3%E5%85%83%E7%B4%A0%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20SMEMBERS%20newset%5Cn(empty%20list%20or%20set)%5Cn%5Cn%23%20%E4%B8%8B%E9%9D%A2%E5%BC%80%E5%A7%8B%E6%98%AF%E5%A4%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%2C%E5%A4%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E4%B8%AD%E8%8B%A5%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%92%8C%E8%87%AA%E8%BA%AB%E8%BF%9B%E8%A1%8C%E8%BF%90%E7%AE%97%5Cn%23%20setx%3D%3E%7Bm1%2Cm2%2Cm4%2Cm6%7D%2C%20sety%3D%3E%7Bm2%2Cm5%2Cm6%7D%2C%20setz%3D%3E%7Bm1%2Cm3%2Cm6%7D%5Cn%5Cn-----------------------------SDIFF------------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SDIFF%20setx%20sety%20setz%20%23%20%E7%AD%89%E4%BB%B7%E4%BA%8Esetx-sety-setz%5Cn1)%20%5C%22m4%5C%22%5Cn127.0.0.1%3A6379%3E%20SDIFF%20setx%20sety%20%23%20setx%20-%20sety%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m1%5C%22%5Cn127.0.0.1%3A6379%3E%20SDIFF%20sety%20setx%20%23%20sety%20-%20setx%5Cn1)%20%5C%22m5%5C%22%5Cn%5Cn%5Cn-------------------------SINTER---------------------------------------%5Cn%23%20%E5%85%B1%E5%90%8C%E5%85%B3%E6%B3%A8%EF%BC%88%E4%BA%A4%E9%9B%86%EF%BC%89%5Cn%5Cn127.0.0.1%3A6379%3E%20SINTER%20setx%20sety%20setz%20%23%20%E6%B1%82%20setx%E3%80%81sety%E3%80%81setx%E7%9A%84%E4%BA%A4%E9%9B%86%5Cn1)%20%5C%22m6%5C%22%5Cn127.0.0.1%3A6379%3E%20SINTER%20setx%20sety%20%23%20%E6%B1%82setx%20sety%E7%9A%84%E4%BA%A4%E9%9B%86%5Cn1)%20%5C%22m2%5C%22%5Cn2)%20%5C%22m6%5C%22%5Cn%5Cn-------------------------SUNION---------------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SUNION%20setx%20sety%20setz%20%23%20setx%20sety%20setz%E7%9A%84%E5%B9%B6%E9%9B%86%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m6%5C%22%5Cn3)%20%5C%22m3%5C%22%5Cn4)%20%5C%22m2%5C%22%5Cn5)%20%5C%22m1%5C%22%5Cn6)%20%5C%22m5%5C%22%5Cn127.0.0.1%3A6379%3E%20SUNION%20setx%20sety%20%23%20setx%20sety%20%E5%B9%B6%E9%9B%86%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m6%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn4)%20%5C%22m1%5C%22%5Cn5)%20%5C%22m5%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e4179110%22%7D\"></card><p data-lake-id=\"u49e56c8f\" id=\"u49e56c8f\"><br></p><h3 data-lake-id=\"4f1ea94e\" id=\"4f1ea94e\"><span data-lake-id=\"u0c54c720\" id=\"u0c54c720\">Hash（哈希）</span></h3><p data-lake-id=\"uabc930c6\" id=\"uabc930c6\"><br></p><blockquote data-lake-id=\"ufd3102bb\" id=\"ufd3102bb\"><p data-lake-id=\"u20b0d5b3\" id=\"u20b0d5b3\"><span data-lake-id=\"uae6d6337\" id=\"uae6d6337\">Redis hash 是一个string类型的field和value的映射表，hash特别适合用于存储对象。</span></p><p data-lake-id=\"u188bb88b\" id=\"u188bb88b\"><span data-lake-id=\"ue04e719e\" id=\"ue04e719e\"> </span></p><p data-lake-id=\"u8514ffe6\" id=\"u8514ffe6\"><span data-lake-id=\"ue3e7c425\" id=\"ue3e7c425\">Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22e05be875%22%2C%22rows%22%3A15%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22e05be875%5C%22%20id%3D%5C%22e05be875%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u2e5dc54c%5C%22%20id%3D%5C%22u2e5dc54c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0e63e574%5C%22%20id%3D%5C%22u0e63e574%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua519a851%5C%22%20id%3D%5C%22ua519a851%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud830a322%5C%22%20id%3D%5C%22ud830a322%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u93da83df%5C%22%20id%3D%5C%22u93da83df%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u54eaa3bf%5C%22%20id%3D%5C%22u54eaa3bf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u681b8a0d%5C%22%20id%3D%5C%22u681b8a0d%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uf9a78c5c%5C%22%20id%3D%5C%22uf9a78c5c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u331d297b%5C%22%20id%3D%5C%22u331d297b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4808be76%5C%22%20id%3D%5C%22u4808be76%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u867a6c00%5C%22%20id%3D%5C%22u867a6c00%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u516cb465%5C%22%20id%3D%5C%22u516cb465%5C%22%3EHSET%20key%20field%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u707a082f%5C%22%20id%3D%5C%22u707a082f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16166ca7%5C%22%20id%3D%5C%22u16166ca7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3f1ab275%5C%22%20id%3D%5C%22u3f1ab275%5C%22%3E%E5%B0%86%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%20field%20%E7%9A%84%E5%80%BC%E8%AE%BE%E4%B8%BA%20value%20%E3%80%82%E9%87%8D%E5%A4%8D%E8%AE%BE%E7%BD%AE%E5%90%8C%E4%B8%80%E4%B8%AAfield%E4%BC%9A%E8%A6%86%E7%9B%96%2C%E8%BF%94%E5%9B%9E0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22udcd6066d%5C%22%20id%3D%5C%22udcd6066d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u60198a7e%5C%22%20id%3D%5C%22u60198a7e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u19516be6%5C%22%20id%3D%5C%22u19516be6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf254d8f8%5C%22%20id%3D%5C%22uf254d8f8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc42fca36%5C%22%20id%3D%5C%22uc42fca36%5C%22%3EHMSET%20key%20field1%20value1%20%5Bfield2%20value2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u25e288ed%5C%22%20id%3D%5C%22u25e288ed%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue8cf1de9%5C%22%20id%3D%5C%22ue8cf1de9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u75037629%5C%22%20id%3D%5C%22u75037629%5C%22%3E%E5%90%8C%E6%97%B6%E5%B0%86%E5%A4%9A%E4%B8%AA%20field-value%20(%E5%9F%9F-%E5%80%BC)%E5%AF%B9%E8%AE%BE%E7%BD%AE%E5%88%B0%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uab713b7e%5C%22%20id%3D%5C%22uab713b7e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ufbd4aa3d%5C%22%20id%3D%5C%22ufbd4aa3d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue6b74265%5C%22%20id%3D%5C%22ue6b74265%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u0dedf82b%5C%22%20id%3D%5C%22u0dedf82b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5c91ec96%5C%22%20id%3D%5C%22u5c91ec96%5C%22%3EHSETNX%20key%20field%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucef5791b%5C%22%20id%3D%5C%22ucef5791b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua01d2588%5C%22%20id%3D%5C%22ua01d2588%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf6c98e6a%5C%22%20id%3D%5C%22uf6c98e6a%5C%22%3E%E5%8F%AA%E6%9C%89%E5%9C%A8%E5%AD%97%E6%AE%B5%20field%20%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%97%B6%EF%BC%8C%E8%AE%BE%E7%BD%AE%E5%93%88%E5%B8%8C%E8%A1%A8%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u24ba39ab%5C%22%20id%3D%5C%22u24ba39ab%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud8d5e55e%5C%22%20id%3D%5C%22ud8d5e55e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2aad5807%5C%22%20id%3D%5C%22u2aad5807%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u92574351%5C%22%20id%3D%5C%22u92574351%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6f53d569%5C%22%20id%3D%5C%22u6f53d569%5C%22%3EHEXISTS%20key%20field%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u64fa3533%5C%22%20id%3D%5C%22u64fa3533%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7f3f0f48%5C%22%20id%3D%5C%22u7f3f0f48%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u30c759b9%5C%22%20id%3D%5C%22u30c759b9%5C%22%3E%E6%9F%A5%E7%9C%8B%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%EF%BC%8C%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AD%97%E6%AE%B5%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u532f1ca5%5C%22%20id%3D%5C%22u532f1ca5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u09cef62f%5C%22%20id%3D%5C%22u09cef62f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u33322f2e%5C%22%20id%3D%5C%22u33322f2e%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u981fc4bf%5C%22%20id%3D%5C%22u981fc4bf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u109c5204%5C%22%20id%3D%5C%22u109c5204%5C%22%3EHGET%20key%20field%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ubb584ed4%5C%22%20id%3D%5C%22ubb584ed4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0f7d490c%5C%22%20id%3D%5C%22u0f7d490c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u86469362%5C%22%20id%3D%5C%22u86469362%5C%22%3E%E8%8E%B7%E5%8F%96%E5%AD%98%E5%82%A8%E5%9C%A8%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u10948259%5C%22%20id%3D%5C%22u10948259%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue104aef5%5C%22%20id%3D%5C%22ue104aef5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uea4c8632%5C%22%20id%3D%5C%22uea4c8632%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf2446709%5C%22%20id%3D%5C%22uf2446709%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9f444951%5C%22%20id%3D%5C%22u9f444951%5C%22%3EHMGET%20key%20field1%20%5Bfield2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u151e14ef%5C%22%20id%3D%5C%22u151e14ef%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5b3dd864%5C%22%20id%3D%5C%22u5b3dd864%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc3bff016%5C%22%20id%3D%5C%22uc3bff016%5C%22%3E%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E7%BB%99%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0c6506f6%5C%22%20id%3D%5C%22u0c6506f6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud5bd3008%5C%22%20id%3D%5C%22ud5bd3008%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ee24764%5C%22%20id%3D%5C%22u2ee24764%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u4ef7141f%5C%22%20id%3D%5C%22u4ef7141f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udc61ade4%5C%22%20id%3D%5C%22udc61ade4%5C%22%3EHGETALL%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufc442438%5C%22%20id%3D%5C%22ufc442438%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u705086c9%5C%22%20id%3D%5C%22u705086c9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8e52f3fa%5C%22%20id%3D%5C%22u8e52f3fa%5C%22%3E%E8%8E%B7%E5%8F%96%E5%9C%A8%E5%93%88%E5%B8%8C%E8%A1%A8key%20%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E5%92%8C%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uba89c357%5C%22%20id%3D%5C%22uba89c357%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u1f677bb1%5C%22%20id%3D%5C%22u1f677bb1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6b8d84bc%5C%22%20id%3D%5C%22u6b8d84bc%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u55aae3ef%5C%22%20id%3D%5C%22u55aae3ef%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u368eca21%5C%22%20id%3D%5C%22u368eca21%5C%22%3EHKEYS%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uccc20398%5C%22%20id%3D%5C%22uccc20398%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua59dec50%5C%22%20id%3D%5C%22ua59dec50%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3da659bf%5C%22%20id%3D%5C%22u3da659bf%5C%22%3E%E8%8E%B7%E5%8F%96%E5%93%88%E5%B8%8C%E8%A1%A8key%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E5%AD%97%E6%AE%B5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ueca72a80%5C%22%20id%3D%5C%22ueca72a80%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u01513cf7%5C%22%20id%3D%5C%22u01513cf7%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u619e2c3e%5C%22%20id%3D%5C%22u619e2c3e%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua0ec514d%5C%22%20id%3D%5C%22ua0ec514d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u243edb48%5C%22%20id%3D%5C%22u243edb48%5C%22%3EHLEN%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5ba1254b%5C%22%20id%3D%5C%22u5ba1254b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16a0d014%5C%22%20id%3D%5C%22u16a0d014%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3340e456%5C%22%20id%3D%5C%22u3340e456%5C%22%3E%E8%8E%B7%E5%8F%96%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B0%E9%87%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5cdcce1a%5C%22%20id%3D%5C%22u5cdcce1a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u92b95b44%5C%22%20id%3D%5C%22u92b95b44%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua13c580b%5C%22%20id%3D%5C%22ua13c580b%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua32a96fd%5C%22%20id%3D%5C%22ua32a96fd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua0e3008c%5C%22%20id%3D%5C%22ua0e3008c%5C%22%3EHVALS%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u316a6800%5C%22%20id%3D%5C%22u316a6800%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc59ada5b%5C%22%20id%3D%5C%22uc59ada5b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2fdd4187%5C%22%20id%3D%5C%22u2fdd4187%5C%22%3E%E8%8E%B7%E5%8F%96%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E6%89%80%E6%9C%89%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub3874850%5C%22%20id%3D%5C%22ub3874850%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub45809b8%5C%22%20id%3D%5C%22ub45809b8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue0e92dbf%5C%22%20id%3D%5C%22ue0e92dbf%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u0ed05ea5%5C%22%20id%3D%5C%22u0ed05ea5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u85f0c957%5C%22%20id%3D%5C%22u85f0c957%5C%22%3EHDEL%20key%20field1%20%5Bfield2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u099b350c%5C%22%20id%3D%5C%22u099b350c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2bf6ade4%5C%22%20id%3D%5C%22u2bf6ade4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u717c22e2%5C%22%20id%3D%5C%22u717c22e2%5C%22%3E%E5%88%A0%E9%99%A4%E5%93%88%E5%B8%8C%E8%A1%A8key%E4%B8%AD%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AAfield%E5%AD%97%E6%AE%B5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u2fbb55fd%5C%22%20id%3D%5C%22u2fbb55fd%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3e77d044%5C%22%20id%3D%5C%22u3e77d044%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ceae5ff%5C%22%20id%3D%5C%22u2ceae5ff%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u5e3b44b7%5C%22%20id%3D%5C%22u5e3b44b7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uad63bcb1%5C%22%20id%3D%5C%22uad63bcb1%5C%22%3EHINCRBY%20key%20field%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8400b52a%5C%22%20id%3D%5C%22u8400b52a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u33766788%5C%22%20id%3D%5C%22u33766788%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u43975797%5C%22%20id%3D%5C%22u43975797%5C%22%3E%E4%B8%BA%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B4%E6%95%B0%E5%80%BC%E5%8A%A0%E4%B8%8A%E5%A2%9E%E9%87%8Fn%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%A2%9E%E9%87%8F%E5%90%8E%E7%BB%93%E6%9E%9C%20%E4%B8%80%E6%A0%B7%E5%8F%AA%E9%80%82%E7%94%A8%E4%BA%8E%E6%95%B4%E6%95%B0%E5%9E%8B%E5%AD%97%E6%AE%B5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4892c77d%5C%22%20id%3D%5C%22u4892c77d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4de7b236%5C%22%20id%3D%5C%22u4de7b236%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u466a9dba%5C%22%20id%3D%5C%22u466a9dba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uacd4f7a8%5C%22%20id%3D%5C%22uacd4f7a8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u662e843d%5C%22%20id%3D%5C%22u662e843d%5C%22%3EHINCRBYFLOAT%20key%20field%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uade5b5b4%5C%22%20id%3D%5C%22uade5b5b4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua244296a%5C%22%20id%3D%5C%22ua244296a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8847abf6%5C%22%20id%3D%5C%22u8847abf6%5C%22%3E%E4%B8%BA%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E6%B5%AE%E7%82%B9%E6%95%B0%E5%80%BC%E5%8A%A0%E4%B8%8A%E5%A2%9E%E9%87%8F%20n%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u33c3af45%5C%22%20id%3D%5C%22u33c3af45%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7606bdf4%5C%22%20id%3D%5C%22u7606bdf4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uce45b9e3%5C%22%20id%3D%5C%22uce45b9e3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u108678ac%5C%22%20id%3D%5C%22u108678ac%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uabee6a6e%5C%22%20id%3D%5C%22uabee6a6e%5C%22%3EHSCAN%20key%20cursor%20%5BMATCH%20pattern%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue1a3e539%5C%22%20id%3D%5C%22ue1a3e539%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udb7044fe%5C%22%20id%3D%5C%22udb7044fe%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u540de996%5C%22%20id%3D%5C%22u540de996%5C%22%3E%E8%BF%AD%E4%BB%A3%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ud6f7e4c6\" id=\"ud6f7e4c6\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22------------------------HSET--HMSET--HSETNX----------------%5Cn127.0.0.1%3A6379%3E%20HSET%20studentx%20name%20sakura%20%23%20%E5%B0%86studentx%E5%93%88%E5%B8%8C%E8%A1%A8%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%AE%BE%E7%BD%AEname%E4%B8%BAsakura%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20HSET%20studentx%20name%20gyc%20%23%20%E9%87%8D%E5%A4%8D%E8%AE%BE%E7%BD%AEfield%E8%BF%9B%E8%A1%8C%E8%A6%86%E7%9B%96%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E0%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20HSET%20studentx%20age%2020%20%23%20%E8%AE%BE%E7%BD%AEstudentx%E7%9A%84age%E4%B8%BA20%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20HMSET%20studentx%20sex%201%20tel%2015623667886%20%23%20%E8%AE%BE%E7%BD%AEsex%E4%B8%BA1%EF%BC%8Ctel%E4%B8%BA15623667886%5CnOK%5Cn127.0.0.1%3A6379%3E%20HSETNX%20studentx%20name%20gyc%20%23%20HSETNX%20%E8%AE%BE%E7%BD%AE%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84field%5Cn(integer)%200%20%23%20%E5%A4%B1%E8%B4%A5%5Cn127.0.0.1%3A6379%3E%20HSETNX%20studentx%20email%2012345%40qq.com%5Cn(integer)%201%20%23%20%E6%88%90%E5%8A%9F%5Cn%5Cn----------------------HEXISTS--------------------------------%5Cn127.0.0.1%3A6379%3E%20HEXISTS%20studentx%20name%20%23%20name%E5%AD%97%E6%AE%B5%E5%9C%A8studentx%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%5Cn(integer)%201%20%23%20%E5%AD%98%E5%9C%A8%5Cn127.0.0.1%3A6379%3E%20HEXISTS%20studentx%20addr%5Cn(integer)%200%20%23%20%E4%B8%8D%E5%AD%98%E5%9C%A8%5Cn%5Cn-------------------HGET--HMGET--HGETALL-----------%5Cn127.0.0.1%3A6379%3E%20HGET%20studentx%20name%20%23%20%E8%8E%B7%E5%8F%96studentx%E4%B8%ADname%E5%AD%97%E6%AE%B5%E7%9A%84value%5Cn%5C%22gyc%5C%22%5Cn127.0.0.1%3A6379%3E%20HMGET%20studentx%20name%20age%20tel%20%23%20%E8%8E%B7%E5%8F%96studentx%E4%B8%ADname%E3%80%81age%E3%80%81tel%E5%AD%97%E6%AE%B5%E7%9A%84value%5Cn1)%20%5C%22gyc%5C%22%5Cn2)%20%5C%2220%5C%22%5Cn3)%20%5C%2215623667886%5C%22%5Cn127.0.0.1%3A6379%3E%20HGETALL%20studentx%20%23%20%E8%8E%B7%E5%8F%96studentx%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84field%E5%8F%8A%E5%85%B6value%5Cn%201)%20%5C%22name%5C%22%5Cn%202)%20%5C%22gyc%5C%22%5Cn%203)%20%5C%22age%5C%22%5Cn%204)%20%5C%2220%5C%22%5Cn%205)%20%5C%22sex%5C%22%5Cn%206)%20%5C%221%5C%22%5Cn%207)%20%5C%22tel%5C%22%5Cn%208)%20%5C%2215623667886%5C%22%5Cn%209)%20%5C%22email%5C%22%5Cn10)%20%5C%2212345%40qq.com%5C%22%5Cn%5Cn%5Cn--------------------HKEYS--HLEN--HVALS--------------%5Cn127.0.0.1%3A6379%3E%20HKEYS%20studentx%20%23%20%E6%9F%A5%E7%9C%8Bstudentx%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84field%5Cn1)%20%5C%22name%5C%22%5Cn2)%20%5C%22age%5C%22%5Cn3)%20%5C%22sex%5C%22%5Cn4)%20%5C%22tel%5C%22%5Cn5)%20%5C%22email%5C%22%5Cn127.0.0.1%3A6379%3E%20HLEN%20studentx%20%23%20%E6%9F%A5%E7%9C%8Bstudentx%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%E6%95%B0%E9%87%8F%5Cn(integer)%205%5Cn127.0.0.1%3A6379%3E%20HVALS%20studentx%20%23%20%E6%9F%A5%E7%9C%8Bstudentx%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84value%5Cn1)%20%5C%22gyc%5C%22%5Cn2)%20%5C%2220%5C%22%5Cn3)%20%5C%221%5C%22%5Cn4)%20%5C%2215623667886%5C%22%5Cn5)%20%5C%2212345%40qq.com%5C%22%5Cn%5Cn-------------------------HDEL--------------------------%5Cn127.0.0.1%3A6379%3E%20HDEL%20studentx%20sex%20tel%20%23%20%E5%88%A0%E9%99%A4studentx%20%E4%B8%AD%E7%9A%84sex%E3%80%81tel%E5%AD%97%E6%AE%B5%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20HKEYS%20studentx%5Cn1)%20%5C%22name%5C%22%5Cn2)%20%5C%22age%5C%22%5Cn3)%20%5C%22email%5C%22%5Cn%5Cn-------------HINCRBY--HINCRBYFLOAT------------------------%5Cn127.0.0.1%3A6379%3E%20HINCRBY%20studentx%20age%201%20%23%20studentx%E7%9A%84age%E5%AD%97%E6%AE%B5%E6%95%B0%E5%80%BC%2B1%5Cn(integer)%2021%5Cn127.0.0.1%3A6379%3E%20HINCRBY%20studentx%20name%201%20%23%20%E9%9D%9E%E6%95%B4%E6%95%B0%E5%AD%97%E5%9E%8B%E5%AD%97%E6%AE%B5%E4%B8%8D%E5%8F%AF%E7%94%A8%5Cn(error)%20ERR%20hash%20value%20is%20not%20an%20integer%5Cn127.0.0.1%3A6379%3E%20HINCRBYFLOAT%20studentx%20weight%200.6%20%23%20weight%E5%AD%97%E6%AE%B5%E5%A2%9E%E5%8A%A00.6%5Cn%5C%2290.8%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a9ecca1e%22%7D\"></card><p data-lake-id=\"uc5d896c5\" id=\"uc5d896c5\"><br></p><p data-lake-id=\"ua4b61029\" id=\"ua4b61029\"><span data-lake-id=\"uab54f469\" id=\"uab54f469\">Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！</span><strong><span data-lake-id=\"u779f58cb\" id=\"u779f58cb\">Hash更适合于对象的存储，Sring更加适合字符串存储！</span></strong></p><p data-lake-id=\"ua0ab7af1\" id=\"ua0ab7af1\"><br></p><h3 data-lake-id=\"414c7e5f\" id=\"414c7e5f\"><span data-lake-id=\"u6249aeae\" id=\"u6249aeae\">Zset（有序集合）</span></h3><p data-lake-id=\"u56aba7ef\" id=\"u56aba7ef\"><br></p><blockquote data-lake-id=\"u93f69727\" id=\"u93f69727\"><p data-lake-id=\"uc32e030b\" id=\"uc32e030b\"><span data-lake-id=\"u84a82e4a\" id=\"u84a82e4a\">不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。</span></p><p data-lake-id=\"u403a951b\" id=\"u403a951b\"><span data-lake-id=\"u01c3f007\" id=\"u01c3f007\"> </span></p><p data-lake-id=\"u3a7d5c17\" id=\"u3a7d5c17\"><span data-lake-id=\"ua1a3578a\" id=\"ua1a3578a\">score相同：按字典顺序排序</span></p><p data-lake-id=\"udcc34b5c\" id=\"udcc34b5c\"><span data-lake-id=\"u168257e1\" id=\"u168257e1\"> </span></p><p data-lake-id=\"ubc4eb4f1\" id=\"ubc4eb4f1\"><span data-lake-id=\"udfe6abc9\" id=\"udfe6abc9\">有序集合的成员是唯一的,但分数(score)却可以重复。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%224f791c6a%22%2C%22rows%22%3A22%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%224f791c6a%5C%22%20id%3D%5C%224f791c6a%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u2e598e91%5C%22%20id%3D%5C%22u2e598e91%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua3a98dc2%5C%22%20id%3D%5C%22ua3a98dc2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u804b825d%5C%22%20id%3D%5C%22u804b825d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf70ea36f%5C%22%20id%3D%5C%22uf70ea36f%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u562086fc%5C%22%20id%3D%5C%22u562086fc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u18908c4f%5C%22%20id%3D%5C%22u18908c4f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucf07f409%5C%22%20id%3D%5C%22ucf07f409%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue8f5cb19%5C%22%20id%3D%5C%22ue8f5cb19%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u63fb6088%5C%22%20id%3D%5C%22u63fb6088%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7064c569%5C%22%20id%3D%5C%22u7064c569%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf8f43399%5C%22%20id%3D%5C%22uf8f43399%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u43962d53%5C%22%20id%3D%5C%22u43962d53%5C%22%3EZADD%20key%20score%20member1%20%5Bscore2%20member2%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u540a7cef%5C%22%20id%3D%5C%22u540a7cef%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufe66bcc4%5C%22%20id%3D%5C%22ufe66bcc4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u55bbaf0e%5C%22%20id%3D%5C%22u55bbaf0e%5C%22%3E%E5%90%91%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%8C%E6%88%96%E8%80%85%E6%9B%B4%E6%96%B0%E5%B7%B2%E5%AD%98%E5%9C%A8%E6%88%90%E5%91%98%E7%9A%84%E5%88%86%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9f82775c%5C%22%20id%3D%5C%22u9f82775c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud2b03df1%5C%22%20id%3D%5C%22ud2b03df1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u350e8085%5C%22%20id%3D%5C%22u350e8085%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucfd66f45%5C%22%20id%3D%5C%22ucfd66f45%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u959c96b2%5C%22%20id%3D%5C%22u959c96b2%5C%22%3EZCARD%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u319ad79a%5C%22%20id%3D%5C%22u319ad79a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uda5fbee7%5C%22%20id%3D%5C%22uda5fbee7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u65eaf5cc%5C%22%20id%3D%5C%22u65eaf5cc%5C%22%3E%E8%8E%B7%E5%8F%96%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u860bd571%5C%22%20id%3D%5C%22u860bd571%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u630aa96a%5C%22%20id%3D%5C%22u630aa96a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub698eeac%5C%22%20id%3D%5C%22ub698eeac%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue5916397%5C%22%20id%3D%5C%22ue5916397%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u950be269%5C%22%20id%3D%5C%22u950be269%5C%22%3EZCOUNT%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u619c7a3e%5C%22%20id%3D%5C%22u619c7a3e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u324f49db%5C%22%20id%3D%5C%22u324f49db%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9af2f25f%5C%22%20id%3D%5C%22u9af2f25f%5C%22%3E%E8%AE%A1%E7%AE%97%E5%9C%A8%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4score%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5c24a67f%5C%22%20id%3D%5C%22u5c24a67f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u1532c033%5C%22%20id%3D%5C%22u1532c033%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u65e4855c%5C%22%20id%3D%5C%22u65e4855c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue9ba2309%5C%22%20id%3D%5C%22ue9ba2309%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4ff97969%5C%22%20id%3D%5C%22u4ff97969%5C%22%3EZINCRBY%20key%20n%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u409730b8%5C%22%20id%3D%5C%22u409730b8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubcfec00a%5C%22%20id%3D%5C%22ubcfec00a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uede63c3d%5C%22%20id%3D%5C%22uede63c3d%5C%22%3E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E5%AF%B9%E6%8C%87%E5%AE%9A%E6%88%90%E5%91%98%E7%9A%84%E5%88%86%E6%95%B0%E5%8A%A0%E4%B8%8A%E5%A2%9E%E9%87%8F%20n%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uae7e3dfa%5C%22%20id%3D%5C%22uae7e3dfa%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5d5f6d57%5C%22%20id%3D%5C%22u5d5f6d57%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u791004c3%5C%22%20id%3D%5C%22u791004c3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf7505750%5C%22%20id%3D%5C%22uf7505750%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u04dc5673%5C%22%20id%3D%5C%22u04dc5673%5C%22%3EZSCORE%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u0b73d5ad%5C%22%20id%3D%5C%22u0b73d5ad%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ec0010a%5C%22%20id%3D%5C%22u2ec0010a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf4625941%5C%22%20id%3D%5C%22uf4625941%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%EF%BC%8C%E6%88%90%E5%91%98%E7%9A%84%E5%88%86%E6%95%B0%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue4a680aa%5C%22%20id%3D%5C%22ue4a680aa%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u144ff97d%5C%22%20id%3D%5C%22u144ff97d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud4fcf2ba%5C%22%20id%3D%5C%22ud4fcf2ba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u103912cb%5C%22%20id%3D%5C%22u103912cb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub777d96c%5C%22%20id%3D%5C%22ub777d96c%5C%22%3EZRANK%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u12aa098d%5C%22%20id%3D%5C%22u12aa098d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf053f49b%5C%22%20id%3D%5C%22uf053f49b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub530d440%5C%22%20id%3D%5C%22ub530d440%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%88%90%E5%91%98%E7%9A%84%E7%B4%A2%E5%BC%95%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u54c5a013%5C%22%20id%3D%5C%22u54c5a013%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uce3d26f9%5C%22%20id%3D%5C%22uce3d26f9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub6f95369%5C%22%20id%3D%5C%22ub6f95369%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uaca1fbae%5C%22%20id%3D%5C%22uaca1fbae%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u70738621%5C%22%20id%3D%5C%22u70738621%5C%22%3EZRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2a8d04a9%5C%22%20id%3D%5C%22u2a8d04a9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u949096bf%5C%22%20id%3D%5C%22u949096bf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf08231da%5C%22%20id%3D%5C%22uf08231da%5C%22%3E%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E5%8C%BA%E9%97%B4%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%88%90%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u15d6bb44%5C%22%20id%3D%5C%22u15d6bb44%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3e833873%5C%22%20id%3D%5C%22u3e833873%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0779a7dd%5C%22%20id%3D%5C%22u0779a7dd%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22udc754005%5C%22%20id%3D%5C%22udc754005%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud310550e%5C%22%20id%3D%5C%22ud310550e%5C%22%3EZRANGEBYLEX%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9ae506b5%5C%22%20id%3D%5C%22u9ae506b5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub226d42d%5C%22%20id%3D%5C%22ub226d42d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1e502051%5C%22%20id%3D%5C%22u1e502051%5C%22%3E%E9%80%9A%E8%BF%87%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u93f84dfb%5C%22%20id%3D%5C%22u93f84dfb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u750b6b24%5C%22%20id%3D%5C%22u750b6b24%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ucc877612%5C%22%20id%3D%5C%22ucc877612%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u8240217b%5C%22%20id%3D%5C%22u8240217b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2da63802%5C%22%20id%3D%5C%22u2da63802%5C%22%3EZRANGEBYSCORE%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u635622f5%5C%22%20id%3D%5C%22u635622f5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7da4832f%5C%22%20id%3D%5C%22u7da4832f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u79cac09e%5C%22%20id%3D%5C%22u79cac09e%5C%22%3E%E9%80%9A%E8%BF%87%E5%88%86%E6%95%B0%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%3D%3D-inf%20%E5%92%8C%20%2Binf%E5%88%86%E5%88%AB%E8%A1%A8%E7%A4%BA%E6%9C%80%E5%B0%8F%E6%9C%80%E5%A4%A7%E5%80%BC%EF%BC%8C%E5%8F%AA%E6%94%AF%E6%8C%81%E5%BC%80%E5%8C%BA%E9%97%B4()%3D%3D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue4e526a8%5C%22%20id%3D%5C%22ue4e526a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uea74bcc4%5C%22%20id%3D%5C%22uea74bcc4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50248b2c%5C%22%20id%3D%5C%22u50248b2c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u8d39ec94%5C%22%20id%3D%5C%22u8d39ec94%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3e772fab%5C%22%20id%3D%5C%22u3e772fab%5C%22%3EZLEXCOUNT%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u99f3869c%5C%22%20id%3D%5C%22u99f3869c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua38c6b21%5C%22%20id%3D%5C%22ua38c6b21%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6eac7040%5C%22%20id%3D%5C%22u6eac7040%5C%22%3E%E5%9C%A8%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E5%86%85%E6%88%90%E5%91%98%E6%95%B0%E9%87%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9437e313%5C%22%20id%3D%5C%22u9437e313%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9bcac821%5C%22%20id%3D%5C%22u9bcac821%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3ec051e4%5C%22%20id%3D%5C%22u3ec051e4%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u605bdf31%5C%22%20id%3D%5C%22u605bdf31%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufab8d701%5C%22%20id%3D%5C%22ufab8d701%5C%22%3EZREM%20key%20member1%20%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u02bc23ce%5C%22%20id%3D%5C%22u02bc23ce%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc94cbd29%5C%22%20id%3D%5C%22uc94cbd29%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucd2aca9b%5C%22%20id%3D%5C%22ucd2aca9b%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ubb63a420%5C%22%20id%3D%5C%22ubb63a420%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uccc7dbf4%5C%22%20id%3D%5C%22uccc7dbf4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u89aec8e4%5C%22%20id%3D%5C%22u89aec8e4%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u6fc7a645%5C%22%20id%3D%5C%22u6fc7a645%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc05449c7%5C%22%20id%3D%5C%22uc05449c7%5C%22%3EZREMRANGEBYLEX%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2eab3b40%5C%22%20id%3D%5C%22u2eab3b40%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3346ccf1%5C%22%20id%3D%5C%22u3346ccf1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u79ec35d0%5C%22%20id%3D%5C%22u79ec35d0%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%BB%99%E5%AE%9A%E7%9A%84%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9e584efb%5C%22%20id%3D%5C%22u9e584efb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0ad741b6%5C%22%20id%3D%5C%22u0ad741b6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf6eaef36%5C%22%20id%3D%5C%22uf6eaef36%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucfdda61d%5C%22%20id%3D%5C%22ucfdda61d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6ec0ed90%5C%22%20id%3D%5C%22u6ec0ed90%5C%22%3EZREMRANGEBYRANK%20key%20start%20stop%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uce04d257%5C%22%20id%3D%5C%22uce04d257%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u17cf6602%5C%22%20id%3D%5C%22u17cf6602%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u632083f1%5C%22%20id%3D%5C%22u632083f1%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%BB%99%E5%AE%9A%E7%9A%84%E6%8E%92%E5%90%8D%E5%8C%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub7d5febe%5C%22%20id%3D%5C%22ub7d5febe%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u23966d28%5C%22%20id%3D%5C%22u23966d28%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubb240a3d%5C%22%20id%3D%5C%22ubb240a3d%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u95615d39%5C%22%20id%3D%5C%22u95615d39%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u46266ea0%5C%22%20id%3D%5C%22u46266ea0%5C%22%3EZREMRANGEBYSCORE%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufde4325c%5C%22%20id%3D%5C%22ufde4325c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue4239c18%5C%22%20id%3D%5C%22ue4239c18%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3aefa9b5%5C%22%20id%3D%5C%22u3aefa9b5%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%BB%99%E5%AE%9A%E7%9A%84%E5%88%86%E6%95%B0%E5%8C%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8b6f3749%5C%22%20id%3D%5C%22u8b6f3749%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uc827814d%5C%22%20id%3D%5C%22uc827814d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5e07a2ba%5C%22%20id%3D%5C%22u5e07a2ba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue94bcb45%5C%22%20id%3D%5C%22ue94bcb45%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u35cc6815%5C%22%20id%3D%5C%22u35cc6815%5C%22%3EZREVRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud416923f%5C%22%20id%3D%5C%22ud416923f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0511d2d0%5C%22%20id%3D%5C%22u0511d2d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6ddf2e0a%5C%22%20id%3D%5C%22u6ddf2e0a%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%EF%BC%8C%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%88%86%E6%95%B0%E4%BB%8E%E9%AB%98%E5%88%B0%E5%BA%95%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uc282fbeb%5C%22%20id%3D%5C%22uc282fbeb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua4f50073%5C%22%20id%3D%5C%22ua4f50073%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubf6a8cbe%5C%22%20id%3D%5C%22ubf6a8cbe%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u38bd382b%5C%22%20id%3D%5C%22u38bd382b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0caddf22%5C%22%20id%3D%5C%22u0caddf22%5C%22%3EZREVRANGEBYSCORRE%20key%20max%20min%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufa860ca9%5C%22%20id%3D%5C%22ufa860ca9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uaa44a3f7%5C%22%20id%3D%5C%22uaa44a3f7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9126fada%5C%22%20id%3D%5C%22u9126fada%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%88%86%E6%95%B0%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%EF%BC%8C%E5%88%86%E6%95%B0%E4%BB%8E%E9%AB%98%E5%88%B0%E4%BD%8E%E6%8E%92%E5%BA%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud49b09c4%5C%22%20id%3D%5C%22ud49b09c4%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u58d15d37%5C%22%20id%3D%5C%22u58d15d37%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1dcd5d04%5C%22%20id%3D%5C%22u1dcd5d04%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u3ef8f92b%5C%22%20id%3D%5C%22u3ef8f92b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0f939d6b%5C%22%20id%3D%5C%22u0f939d6b%5C%22%3EZREVRANGEBYLEX%20key%20max%20min%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9dea4cd3%5C%22%20id%3D%5C%22u9dea4cd3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7bd8df87%5C%22%20id%3D%5C%22u7bd8df87%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua4bb9ee6%5C%22%20id%3D%5C%22ua4bb9ee6%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%EF%BC%8C%E6%8C%89%E5%AD%97%E5%85%B8%E9%A1%BA%E5%BA%8F%E5%80%92%E5%BA%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ucd9b21a8%5C%22%20id%3D%5C%22ucd9b21a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub792c73c%5C%22%20id%3D%5C%22ub792c73c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud9f5da55%5C%22%20id%3D%5C%22ud9f5da55%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u960e4e65%5C%22%20id%3D%5C%22u960e4e65%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4c65a54e%5C%22%20id%3D%5C%22u4c65a54e%5C%22%3EZREVRANK%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uebe7c511%5C%22%20id%3D%5C%22uebe7c511%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8bb20b75%5C%22%20id%3D%5C%22u8bb20b75%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u28b166eb%5C%22%20id%3D%5C%22u28b166eb%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%88%90%E5%91%98%E7%9A%84%E6%8E%92%E5%90%8D%EF%BC%8C%E6%9C%89%E5%BA%8F%E9%9B%86%E6%88%90%E5%91%98%E6%8C%89%E5%88%86%E6%95%B0%E5%80%BC%E9%80%92%E5%87%8F(%E4%BB%8E%E5%A4%A7%E5%88%B0%E5%B0%8F)%E6%8E%92%E5%BA%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4fd60584%5C%22%20id%3D%5C%22u4fd60584%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22udf6f98d9%5C%22%20id%3D%5C%22udf6f98d9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2d1813ef%5C%22%20id%3D%5C%22u2d1813ef%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua935f391%5C%22%20id%3D%5C%22ua935f391%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u31ee5bd7%5C%22%20id%3D%5C%22u31ee5bd7%5C%22%3EZINTERSTORE%20destination%20numkeys%20key1%20%5Bkey2%20..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2004a2d1%5C%22%20id%3D%5C%22u2004a2d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u27a0db49%5C%22%20id%3D%5C%22u27a0db49%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5cef8784%5C%22%20id%3D%5C%22u5cef8784%5C%22%3E%E8%AE%A1%E7%AE%97%E7%BB%99%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%9B%86%E7%9A%84%E4%BA%A4%E9%9B%86%E5%B9%B6%E5%B0%86%E7%BB%93%E6%9E%9C%E9%9B%86%E5%AD%98%E5%82%A8%E5%9C%A8%E6%96%B0%E7%9A%84%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%20key%20%E4%B8%AD%EF%BC%8Cnumkeys%EF%BC%9A%E8%A1%A8%E7%A4%BA%E5%8F%82%E4%B8%8E%E8%BF%90%E7%AE%97%E7%9A%84%E9%9B%86%E5%90%88%E6%95%B0%EF%BC%8C%E5%B0%86score%E7%9B%B8%E5%8A%A0%E4%BD%9C%E4%B8%BA%E7%BB%93%E6%9E%9C%E7%9A%84score%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u57bc4497%5C%22%20id%3D%5C%22u57bc4497%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubc31f509%5C%22%20id%3D%5C%22ubc31f509%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9c0dc242%5C%22%20id%3D%5C%22u9c0dc242%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub35d01a5%5C%22%20id%3D%5C%22ub35d01a5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5fa323c2%5C%22%20id%3D%5C%22u5fa323c2%5C%22%3EZUNIONSTORE%20destination%20numkeys%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ube8eb6fc%5C%22%20id%3D%5C%22ube8eb6fc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2f7067e5%5C%22%20id%3D%5C%22u2f7067e5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2c054d93%5C%22%20id%3D%5C%22u2c054d93%5C%22%3E%E8%AE%A1%E7%AE%97%E7%BB%99%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%9B%86%E7%9A%84%E4%BA%A4%E9%9B%86%E5%B9%B6%E5%B0%86%E7%BB%93%E6%9E%9C%E9%9B%86%E5%AD%98%E5%82%A8%E5%9C%A8%E6%96%B0%E7%9A%84%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%20key%20%E4%B8%AD%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ua5b45ad5%5C%22%20id%3D%5C%22ua5b45ad5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5488ab82%5C%22%20id%3D%5C%22u5488ab82%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u098ead73%5C%22%20id%3D%5C%22u098ead73%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u612c01d9%5C%22%20id%3D%5C%22u612c01d9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6827f079%5C%22%20id%3D%5C%22u6827f079%5C%22%3EZSCAN%20key%20cursor%20%5BMATCH%20pattern%5C%5C%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8a265b8f%5C%22%20id%3D%5C%22u8a265b8f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud8845047%5C%22%20id%3D%5C%22ud8845047%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5e2f9a4a%5C%22%20id%3D%5C%22u5e2f9a4a%5C%22%3E%E8%BF%AD%E4%BB%A3%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%88%E5%8C%85%E6%8B%AC%E5%85%83%E7%B4%A0%E6%88%90%E5%91%98%E5%92%8C%E5%85%83%E7%B4%A0%E5%88%86%E5%80%BC%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u82969c61\" id=\"u82969c61\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22-------------------ZADD--ZCARD--ZCOUNT--------------%5Cn127.0.0.1%3A6379%3E%20ZADD%20myzset%201%20m1%202%20m2%203%20m3%20%23%20%E5%90%91%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88myzset%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%88%90%E5%91%98m1%20score%3D1%20%E4%BB%A5%E5%8F%8A%E6%88%90%E5%91%98m2%20score%3D2..%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZCARD%20myzset%20%23%20%E8%8E%B7%E5%8F%96%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZCOUNT%20myzset%200%201%20%23%20%E8%8E%B7%E5%8F%96score%E5%9C%A8%20%5B0%2C1%5D%E5%8C%BA%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%E9%87%8F%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20ZCOUNT%20myzset%200%202%5Cn(integer)%202%5Cn%5Cn----------------ZINCRBY--ZSCORE--------------------------%5Cn127.0.0.1%3A6379%3E%20ZINCRBY%20myzset%205%20m2%20%23%20%E5%B0%86%E6%88%90%E5%91%98m2%E7%9A%84score%20%2B5%5Cn%5C%227%5C%22%5Cn127.0.0.1%3A6379%3E%20ZSCORE%20myzset%20m1%20%23%20%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98m1%E7%9A%84score%5Cn%5C%221%5C%22%5Cn127.0.0.1%3A6379%3E%20ZSCORE%20myzset%20m2%5Cn%5C%227%5C%22%5Cn%5Cn--------------ZRANK--ZRANGE-----------------------------------%5Cn127.0.0.1%3A6379%3E%20ZRANK%20myzset%20m1%20%23%20%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98m1%E7%9A%84%E7%B4%A2%E5%BC%95%EF%BC%8C%E7%B4%A2%E5%BC%95%E6%8C%89%E7%85%A7score%E6%8E%92%E5%BA%8F%EF%BC%8Cscore%E7%9B%B8%E5%90%8C%E7%B4%A2%E5%BC%95%E5%80%BC%E6%8C%89%E5%AD%97%E5%85%B8%E9%A1%BA%E5%BA%8F%E9%A1%BA%E5%BA%8F%E5%A2%9E%E5%8A%A0%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20ZRANK%20myzset%20m2%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20myzset%200%201%20%23%20%E8%8E%B7%E5%8F%96%E7%B4%A2%E5%BC%95%E5%9C%A8%200~1%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20myzset%200%20-1%20%23%20%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn%5Cn%23testset%3D%3E%7Babc%2Cadd%2Camaze%2Capple%2Cback%2Cjava%2Credis%7D%20score%E5%9D%87%E4%B8%BA0%5Cn------------------ZRANGEBYLEX---------------------------------%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20-%20%2B%20%23%20%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn1)%20%5C%22abc%5C%22%5Cn2)%20%5C%22add%5C%22%5Cn3)%20%5C%22amaze%5C%22%5Cn4)%20%5C%22apple%5C%22%5Cn5)%20%5C%22back%5C%22%5Cn6)%20%5C%22java%5C%22%5Cn7)%20%5C%22redis%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20-%20%2B%20LIMIT%200%203%20%23%20%E5%88%86%E9%A1%B5%20%E6%8C%89%E7%B4%A2%E5%BC%95%E6%98%BE%E7%A4%BA%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%200%2C1%2C2%E6%9D%A1%E8%AE%B0%E5%BD%95%5Cn1)%20%5C%22abc%5C%22%5Cn2)%20%5C%22add%5C%22%5Cn3)%20%5C%22amaze%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20-%20%2B%20LIMIT%203%203%20%23%20%E6%98%BE%E7%A4%BA%203%2C4%2C5%E6%9D%A1%E8%AE%B0%E5%BD%95%5Cn1)%20%5C%22apple%5C%22%5Cn2)%20%5C%22back%5C%22%5Cn3)%20%5C%22java%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20(-%20%5Bapple%20%23%20%E6%98%BE%E7%A4%BA%20(-%2Capple%5D%20%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22abc%5C%22%5Cn2)%20%5C%22add%5C%22%5Cn3)%20%5C%22amaze%5C%22%5Cn4)%20%5C%22apple%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20%5Bapple%20%5Bjava%20%23%20%E6%98%BE%E7%A4%BA%20%5Bapple%2Cjava%5D%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22apple%5C%22%5Cn2)%20%5C%22back%5C%22%5Cn3)%20%5C%22java%5C%22%5Cn%5Cn-----------------------ZRANGEBYSCORE---------------------%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYSCORE%20myzset%201%2010%20%23%20%E8%BF%94%E5%9B%9Escore%E5%9C%A8%20%5B1%2C10%5D%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYSCORE%20myzset%201%205%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn%5Cn--------------------ZLEXCOUNT-----------------------------%5Cn127.0.0.1%3A6379%3E%20ZLEXCOUNT%20testset%20-%20%2B%5Cn(integer)%207%5Cn127.0.0.1%3A6379%3E%20ZLEXCOUNT%20testset%20%5Bapple%20%5Bjava%5Cn(integer)%203%5Cn%5Cn------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------%5Cn127.0.0.1%3A6379%3E%20ZREM%20testset%20abc%20%23%20%E7%A7%BB%E9%99%A4%E6%88%90%E5%91%98abc%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20ZREMRANGEBYLEX%20testset%20%5Bapple%20%5Bjava%20%23%20%E7%A7%BB%E9%99%A4%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%5Bapple%2Cjava%5D%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20ZREMRANGEBYRANK%20testset%200%201%20%23%20%E7%A7%BB%E9%99%A4%E6%8E%92%E5%90%8D0~1%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZREMRANGEBYSCORE%20myzset%200%203%20%23%20%E7%A7%BB%E9%99%A4score%E5%9C%A8%20%5B0%2C3%5D%E7%9A%84%E6%88%90%E5%91%98%5Cn(integer)%202%5Cn%5Cn%5Cn%23%20testset%3D%3E%20%7Babc%2Cadd%2Capple%2Camaze%2Cback%2Cjava%2Credis%7D%20score%E5%9D%87%E4%B8%BA0%5Cn%23%20myzset%3D%3E%20%7B(m1%2C1)%2C(m2%2C2)%2C(m3%2C3)%2C(m4%2C4)%2C(m7%2C7)%2C(m9%2C9)%7D%5Cn----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------%5Cn127.0.0.1%3A6379%3E%20ZREVRANGE%20myzset%200%203%20%23%20%E6%8C%89score%E9%80%92%E5%87%8F%E6%8E%92%E5%BA%8F%EF%BC%8C%E7%84%B6%E5%90%8E%E6%8C%89%E7%B4%A2%E5%BC%95%EF%BC%8C%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84%200~3%5Cn1)%20%5C%22m9%5C%22%5Cn2)%20%5C%22m7%5C%22%5Cn3)%20%5C%22m4%5C%22%5Cn4)%20%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20ZREVRANGE%20myzset%202%204%20%23%20%E8%BF%94%E5%9B%9E%E6%8E%92%E5%BA%8F%E7%BB%93%E6%9E%9C%E7%9A%84%20%E7%B4%A2%E5%BC%95%E7%9A%842~4%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn127.0.0.1%3A6379%3E%20ZREVRANGEBYSCORE%20myzset%206%202%20%23%20%E6%8C%89score%E9%80%92%E5%87%8F%E9%A1%BA%E5%BA%8F%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%AD%E5%88%86%E6%95%B0%E5%9C%A8%5B2%2C6%5D%E4%B9%8B%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn127.0.0.1%3A6379%3E%20ZREVRANGEBYLEX%20testset%20%5Bjava%20(add%20%23%20%E6%8C%89%E5%AD%97%E5%85%B8%E5%80%92%E5%BA%8F%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%AD(add%2Cjava%5D%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22java%5C%22%5Cn2)%20%5C%22back%5C%22%5Cn3)%20%5C%22apple%5C%22%5Cn4)%20%5C%22amaze%5C%22%5Cn%5Cn-------------------------ZREVRANK------------------------------%5Cn127.0.0.1%3A6379%3E%20ZREVRANK%20myzset%20m7%20%23%20%E6%8C%89score%E9%80%92%E5%87%8F%E9%A1%BA%E5%BA%8F%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%88%90%E5%91%98m7%E7%B4%A2%E5%BC%95%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20ZREVRANK%20myzset%20m2%5Cn(integer)%204%5Cn%5Cn%5Cn%23%20mathscore%3D%3E%7B(xm%2C90)%2C(xh%2C95)%2C(xg%2C87)%7D%20%E5%B0%8F%E6%98%8E%E3%80%81%E5%B0%8F%E7%BA%A2%E3%80%81%E5%B0%8F%E5%88%9A%E7%9A%84%E6%95%B0%E5%AD%A6%E6%88%90%E7%BB%A9%5Cn%23%20enscore%3D%3E%7B(xm%2C70)%2C(xh%2C93)%2C(xg%2C90)%7D%20%E5%B0%8F%E6%98%8E%E3%80%81%E5%B0%8F%E7%BA%A2%E3%80%81%E5%B0%8F%E5%88%9A%E7%9A%84%E8%8B%B1%E8%AF%AD%E6%88%90%E7%BB%A9%5Cn-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------%5Cn127.0.0.1%3A6379%3E%20ZINTERSTORE%20sumscore%202%20mathscore%20enscore%20%23%20%E5%B0%86mathscore%20enscore%E8%BF%9B%E8%A1%8C%E5%90%88%E5%B9%B6%20%E7%BB%93%E6%9E%9C%E5%AD%98%E6%94%BE%E5%88%B0sumscore%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20sumscore%200%20-1%20withscores%20%23%20%E5%90%88%E5%B9%B6%E5%90%8E%E7%9A%84score%E6%98%AF%E4%B9%8B%E5%89%8D%E9%9B%86%E5%90%88%E4%B8%AD%E6%89%80%E6%9C%89score%E7%9A%84%E5%92%8C%5Cn1)%20%5C%22xm%5C%22%5Cn2)%20%5C%22160%5C%22%5Cn3)%20%5C%22xg%5C%22%5Cn4)%20%5C%22177%5C%22%5Cn5)%20%5C%22xh%5C%22%5Cn6)%20%5C%22188%5C%22%5Cn%5Cn127.0.0.1%3A6379%3E%20ZUNIONSTORE%20lowestscore%202%20mathscore%20enscore%20AGGREGATE%20MIN%20%23%20%E5%8F%96%E4%B8%A4%E4%B8%AA%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98score%E6%9C%80%E5%B0%8F%E5%80%BC%E4%BD%9C%E4%B8%BA%E7%BB%93%E6%9E%9C%E7%9A%84%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20lowestscore%200%20-1%20withscores%5Cn1)%20%5C%22xm%5C%22%5Cn2)%20%5C%2270%5C%22%5Cn3)%20%5C%22xg%5C%22%5Cn4)%20%5C%2287%5C%22%5Cn5)%20%5C%22xh%5C%22%5Cn6)%20%5C%2293%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ef28dc6f%22%7D\"></card><p data-lake-id=\"ubc9bde0d\" id=\"ubc9bde0d\"><br></p><p data-lake-id=\"u725bcbc9\" id=\"u725bcbc9\"><span data-lake-id=\"u8d3dc487\" id=\"u8d3dc487\">应用案例：</span></p><p data-lake-id=\"u6ec0e293\" id=\"u6ec0e293\"><br></p><ul list=\"u4ae4ecce\"><li fid=\"uc0f31f8e\" data-lake-id=\"u5621ebc7\" id=\"u5621ebc7\"><span data-lake-id=\"u39227954\" id=\"u39227954\">set排序 存储班级成绩表 工资表排序！</span></li></ul><ul list=\"u2c1a51a5\"><li fid=\"u56931118\" data-lake-id=\"u03e2ee4e\" id=\"u03e2ee4e\"><span data-lake-id=\"u930931b7\" id=\"u930931b7\">普通消息，1.重要消息 2.带权重进行判断</span></li></ul><ul list=\"u210cbc06\"><li fid=\"uc572494a\" data-lake-id=\"u13f4ce11\" id=\"u13f4ce11\"><span data-lake-id=\"ufdd9f5ab\" id=\"ufdd9f5ab\">排行榜应用实现，取Top N测试</span></li></ul><p data-lake-id=\"ud79f5f54\" id=\"ud79f5f54\"><br></p><h2 data-lake-id=\"d56625c6\" id=\"d56625c6\"><span data-lake-id=\"u6558d41e\" id=\"u6558d41e\">四、三种特殊数据类型</span></h2><p data-lake-id=\"u076f4a0a\" id=\"u076f4a0a\"><br></p><h3 data-lake-id=\"57d73dd8\" id=\"57d73dd8\"><span data-lake-id=\"uacfaf567\" id=\"uacfaf567\">Geospatial(地理位置)</span></h3><p data-lake-id=\"u04a612bb\" id=\"u04a612bb\"><br></p><blockquote data-lake-id=\"ud188d86d\" id=\"ud188d86d\"><p data-lake-id=\"uea2be178\" id=\"uea2be178\"><span data-lake-id=\"uaa0c0d10\" id=\"uaa0c0d10\">使用经纬度定位地理坐标并用一个</span><strong><span data-lake-id=\"u003bb4b6\" id=\"u003bb4b6\">有序集合zset保存</span></strong><span data-lake-id=\"uf5292cc8\" id=\"uf5292cc8\">，所以zset命令也可以使用</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%2202f10621%22%2C%22rows%22%3A7%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%2202f10621%5C%22%20id%3D%5C%2202f10621%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22ua9d0c28a%5C%22%20id%3D%5C%22ua9d0c28a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2e7a531a%5C%22%20id%3D%5C%22u2e7a531a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub6fcb126%5C%22%20id%3D%5C%22ub6fcb126%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3e0cce69%5C%22%20id%3D%5C%22u3e0cce69%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1b223fbd%5C%22%20id%3D%5C%22u1b223fbd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uded8a3eb%5C%22%20id%3D%5C%22uded8a3eb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud9d28da6%5C%22%20id%3D%5C%22ud9d28da6%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4e0c72d6%5C%22%20id%3D%5C%22u4e0c72d6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u194c4386%5C%22%20id%3D%5C%22u194c4386%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ucbeaa914%5C%22%20id%3D%5C%22ucbeaa914%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub722fd69%5C%22%20id%3D%5C%22ub722fd69%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud77ab7d5%5C%22%20id%3D%5C%22ud77ab7d5%5C%22%3Egeoadd%20key%20longitud(%E7%BB%8F%E5%BA%A6)%20latitude(%E7%BA%AC%E5%BA%A6)%20member%20%5B..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u42a5c8b3%5C%22%20id%3D%5C%22u42a5c8b3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1531b59d%5C%22%20id%3D%5C%22u1531b59d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u781747ca%5C%22%20id%3D%5C%22u781747ca%5C%22%3E%E5%B0%86%E5%85%B7%E4%BD%93%E7%BB%8F%E7%BA%AC%E5%BA%A6%E7%9A%84%E5%9D%90%E6%A0%87%E5%AD%98%E5%85%A5%E4%B8%80%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8c0148e3%5C%22%20id%3D%5C%22u8c0148e3%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9e12ae0d%5C%22%20id%3D%5C%22u9e12ae0d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8ffac378%5C%22%20id%3D%5C%22u8ffac378%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u03a4ec1a%5C%22%20id%3D%5C%22u03a4ec1a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1f72c144%5C%22%20id%3D%5C%22u1f72c144%5C%22%3Egeopos%20key%20member%20%5Bmember..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua07be25e%5C%22%20id%3D%5C%22ua07be25e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf0b50681%5C%22%20id%3D%5C%22uf0b50681%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7f35f30a%5C%22%20id%3D%5C%22u7f35f30a%5C%22%3E%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%E5%9D%90%E6%A0%87%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u48cc5fad%5C%22%20id%3D%5C%22u48cc5fad%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7d829f86%5C%22%20id%3D%5C%22u7d829f86%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5485fcd1%5C%22%20id%3D%5C%22u5485fcd1%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u484c7b2a%5C%22%20id%3D%5C%22u484c7b2a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2eb376ce%5C%22%20id%3D%5C%22u2eb376ce%5C%22%3Egeodist%20key%20member1%20member2%20%5Bunit%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf8280ef2%5C%22%20id%3D%5C%22uf8280ef2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2d875aca%5C%22%20id%3D%5C%22u2d875aca%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3961636a%5C%22%20id%3D%5C%22u3961636a%5C%22%3E%E8%BF%94%E5%9B%9E%E4%B8%A4%E4%B8%AA%E7%BB%99%E5%AE%9A%E4%BD%8D%E7%BD%AE%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B7%9D%E7%A6%BB%E3%80%82%E9%BB%98%E8%AE%A4%E4%BB%A5%E7%B1%B3%E4%BD%9C%E4%B8%BA%E5%8D%95%E4%BD%8D%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u62d98d37%5C%22%20id%3D%5C%22u62d98d37%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8f0611a0%5C%22%20id%3D%5C%22u8f0611a0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u96fb8ef5%5C%22%20id%3D%5C%22u96fb8ef5%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u9daeedeb%5C%22%20id%3D%5C%22u9daeedeb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u87d32ddd%5C%22%20id%3D%5C%22u87d32ddd%5C%22%3Egeoradius%20key%20longitude%20latitude%20radius%20m%7Ckm%7Cmi%7Cft%20%5BWITHCOORD%5D%5BWITHDIST%5D%20%5BWITHHASH%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uedb3fc89%5C%22%20id%3D%5C%22uedb3fc89%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u126d2a35%5C%22%20id%3D%5C%22u126d2a35%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda9b3820%5C%22%20id%3D%5C%22uda9b3820%5C%22%3E%E4%BB%A5%E7%BB%99%E5%AE%9A%E7%9A%84%E7%BB%8F%E7%BA%AC%E5%BA%A6%E4%B8%BA%E4%B8%AD%E5%BF%83%EF%BC%8C%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E5%8C%85%E5%90%AB%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%85%83%E7%B4%A0%E5%BD%93%E4%B8%AD%EF%BC%8C%20%E4%B8%8E%E4%B8%AD%E5%BF%83%E7%9A%84%E8%B7%9D%E7%A6%BB%E4%B8%8D%E8%B6%85%E8%BF%87%E7%BB%99%E5%AE%9A%E6%9C%80%E5%A4%A7%E8%B7%9D%E7%A6%BB%E7%9A%84%E6%89%80%E6%9C%89%E4%BD%8D%E7%BD%AE%E5%85%83%E7%B4%A0%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5034a341%5C%22%20id%3D%5C%22u5034a341%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u98655218%5C%22%20id%3D%5C%22u98655218%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u403c1e59%5C%22%20id%3D%5C%22u403c1e59%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u6595fd4e%5C%22%20id%3D%5C%22u6595fd4e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5f99a321%5C%22%20id%3D%5C%22u5f99a321%5C%22%3EGEORADIUSBYMEMBER%20key%20member%20radius...%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua6023cb9%5C%22%20id%3D%5C%22ua6023cb9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1ea45088%5C%22%20id%3D%5C%22u1ea45088%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0eae37ff%5C%22%20id%3D%5C%22u0eae37ff%5C%22%3E%E5%8A%9F%E8%83%BD%E4%B8%8EGEORADIUS%E7%9B%B8%E5%90%8C%EF%BC%8C%E5%8F%AA%E6%98%AF%E4%B8%AD%E5%BF%83%E4%BD%8D%E7%BD%AE%E4%B8%8D%E6%98%AF%E5%85%B7%E4%BD%93%E7%9A%84%E7%BB%8F%E7%BA%AC%E5%BA%A6%EF%BC%8C%E8%80%8C%E6%98%AF%E4%BD%BF%E7%94%A8%E7%BB%93%E5%90%88%E4%B8%AD%E5%B7%B2%E6%9C%89%E7%9A%84%E6%88%90%E5%91%98%E4%BD%9C%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%82%B9%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue75fe01c%5C%22%20id%3D%5C%22ue75fe01c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud5151dbd%5C%22%20id%3D%5C%22ud5151dbd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ueb951acb%5C%22%20id%3D%5C%22ueb951acb%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u03cf6364%5C%22%20id%3D%5C%22u03cf6364%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1a68c670%5C%22%20id%3D%5C%22u1a68c670%5C%22%3Egeohash%20key%20member1%20%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua368b202%5C%22%20id%3D%5C%22ua368b202%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u264c21d1%5C%22%20id%3D%5C%22u264c21d1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u99094cd0%5C%22%20id%3D%5C%22u99094cd0%5C%22%3E%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E4%BD%8D%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84Geohash%E8%A1%A8%E7%A4%BA%E3%80%82%E4%BD%BF%E7%94%A8Geohash%E4%BD%8D%E7%BD%AE52%E7%82%B9%E6%95%B4%E6%95%B0%E7%BC%96%E7%A0%81%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u90ad687d\" id=\"u90ad687d\"><br></p><p data-lake-id=\"u89210ddb\" id=\"u89210ddb\"><strong><span data-lake-id=\"ue3c4ebbb\" id=\"ue3c4ebbb\">有效经纬度</span></strong></p><p data-lake-id=\"u6e8bfde5\" id=\"u6e8bfde5\"><br></p><blockquote data-lake-id=\"uc6aefb0a\" id=\"uc6aefb0a\"><p data-lake-id=\"u189e45a0\" id=\"u189e45a0\"><span data-lake-id=\"u2b686d63\" id=\"u2b686d63\"> </span></p><ul list=\"u81039839\"><li fid=\"ua6389f88\" data-lake-id=\"u58bb2218\" id=\"u58bb2218\"><span data-lake-id=\"u12ca58ff\" id=\"u12ca58ff\">有效的经度从-180度到180度。</span></li></ul><ul list=\"ud20f26b2\"><li fid=\"u6502bf14\" data-lake-id=\"u5f0ef31c\" id=\"u5f0ef31c\"><span data-lake-id=\"ub736d542\" id=\"ub736d542\">有效的纬度从-85.05112878度到85.05112878度。</span></li></ul><p data-lake-id=\"u7fa69b79\" id=\"u7fa69b79\"><span data-lake-id=\"ueb45d52a\" id=\"ueb45d52a\"> </span></p></blockquote><p data-lake-id=\"u228357c5\" id=\"u228357c5\"><br></p><p data-lake-id=\"ua0daf27f\" id=\"ua0daf27f\"><span data-lake-id=\"u5a42936e\" id=\"u5a42936e\">指定单位的参数 </span><strong><span data-lake-id=\"uec6a1f94\" id=\"uec6a1f94\">unit</span></strong><span data-lake-id=\"u6670496f\" id=\"u6670496f\"> 必须是以下单位的其中一个：</span></p><p data-lake-id=\"u1d910e65\" id=\"u1d910e65\"><br></p><ul list=\"u3874dabd\"><li fid=\"u60bcecfe\" data-lake-id=\"u19606259\" id=\"u19606259\"><strong><span data-lake-id=\"u5411c7c3\" id=\"u5411c7c3\">m</span></strong><span data-lake-id=\"ua8645102\" id=\"ua8645102\"> 表示单位为米。</span></li></ul><ul list=\"u403d35cf\"><li fid=\"u0a83ab82\" data-lake-id=\"u144ad1c7\" id=\"u144ad1c7\"><strong><span data-lake-id=\"u95a0194c\" id=\"u95a0194c\">km</span></strong><span data-lake-id=\"ub558643a\" id=\"ub558643a\"> 表示单位为千米。</span></li></ul><ul list=\"ued6b626f\"><li fid=\"u89355f65\" data-lake-id=\"u22934df8\" id=\"u22934df8\"><strong><span data-lake-id=\"udc912f7f\" id=\"udc912f7f\">mi</span></strong><span data-lake-id=\"ub17c1f8d\" id=\"ub17c1f8d\"> 表示单位为英里。</span></li></ul><ul list=\"u84a9c735\"><li fid=\"ue8a9856c\" data-lake-id=\"u03401b4a\" id=\"u03401b4a\"><strong><span data-lake-id=\"udb616dc1\" id=\"udb616dc1\">ft</span></strong><span data-lake-id=\"u74816d16\" id=\"u74816d16\"> 表示单位为英尺。</span></li></ul><p data-lake-id=\"u678d0515\" id=\"u678d0515\"><br></p><p data-lake-id=\"u0ac76f1b\" id=\"u0ac76f1b\"><strong><span data-lake-id=\"u25ed955f\" id=\"u25ed955f\">关于GEORADIUS的参数</span></strong></p><p data-lake-id=\"u4d31fc16\" id=\"u4d31fc16\"><br></p><blockquote data-lake-id=\"ued3a5c68\" id=\"ued3a5c68\"><p data-lake-id=\"u980e1c82\" id=\"u980e1c82\"><span data-lake-id=\"uc65ac70c\" id=\"uc65ac70c\">通过</span><code data-lake-id=\"uba817e65\" id=\"uba817e65\"><span data-lake-id=\"u9af70205\" id=\"u9af70205\">georadius</span></code><span data-lake-id=\"u888621a7\" id=\"u888621a7\">就可以完成 </span><strong><span data-lake-id=\"u0d111647\" id=\"u0d111647\">附近的人</span></strong><span data-lake-id=\"udc44671b\" id=\"udc44671b\">功能</span></p><p data-lake-id=\"ub93c0b7f\" id=\"ub93c0b7f\"><span data-lake-id=\"u2461626f\" id=\"u2461626f\"> </span></p><p data-lake-id=\"ubee402d6\" id=\"ubee402d6\"><span data-lake-id=\"u2690a73a\" id=\"u2690a73a\">withcoord:带上坐标</span></p><p data-lake-id=\"u2fac12bc\" id=\"u2fac12bc\"><span data-lake-id=\"u6eaab616\" id=\"u6eaab616\"> </span></p><p data-lake-id=\"u61d463be\" id=\"u61d463be\"><span data-lake-id=\"u15ca83d9\" id=\"u15ca83d9\">withdist:带上距离，单位与半径单位相同</span></p><p data-lake-id=\"ua3695ea8\" id=\"ua3695ea8\"><span data-lake-id=\"u618ec105\" id=\"u618ec105\"> </span></p><p data-lake-id=\"ue735ff1b\" id=\"ue735ff1b\"><span data-lake-id=\"u3e5bdbfb\" id=\"u3e5bdbfb\">COUNT n : 只显示前n个(按距离递增排序)</span></p></blockquote><p data-lake-id=\"uc13a9f70\" id=\"uc13a9f70\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22----------------georadius---------------------%5Cn127.0.0.1%3A6379%3E%20GEORADIUS%20china%3Acity%20120%2030%20500%20km%20withcoord%20withdist%20%23%20%E6%9F%A5%E8%AF%A2%E7%BB%8F%E7%BA%AC%E5%BA%A6(120%2C30)%E5%9D%90%E6%A0%87500km%E5%8D%8A%E5%BE%84%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%201)%20%5C%22hangzhou%5C%22%5Cn%20%20%202)%20%5C%2229.4151%5C%22%5Cn%20%20%203)%201)%20%5C%22120.20000249147415%5C%22%5Cn%20%20%20%20%20%202)%20%5C%2230.199999888333501%5C%22%5Cn2)%201)%20%5C%22shanghai%5C%22%5Cn%20%20%202)%20%5C%22205.3611%5C%22%5Cn%20%20%203)%201)%20%5C%22121.40000134706497%5C%22%5Cn%20%20%20%20%20%202)%20%5C%2231.400000253193539%5C%22%5Cn%20%20%20%20%20%5Cn------------geohash---------------------------%5Cn127.0.0.1%3A6379%3E%20geohash%20china%3Acity%20yichang%20shanghai%20%23%20%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98%E7%BB%8F%E7%BA%AC%E5%9D%90%E6%A0%87%E7%9A%84geohash%E8%A1%A8%E7%A4%BA%5Cn1)%20%5C%22wmrjwbr5250%5C%22%5Cn2)%20%5C%22wtw6ds0y300%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2221b82748%22%7D\"></card><p data-lake-id=\"ueeceecd4\" id=\"ueeceecd4\"><br></p><h3 data-lake-id=\"08968f7e\" id=\"08968f7e\"><span data-lake-id=\"u6e977a58\" id=\"u6e977a58\">Hyperloglog(基数统计)</span></h3><p data-lake-id=\"u1b748afc\" id=\"u1b748afc\"><br></p><blockquote data-lake-id=\"u24e7729c\" id=\"u24e7729c\"><p data-lake-id=\"u4d6a2e4d\" id=\"u4d6a2e4d\"><span data-lake-id=\"udca76449\" id=\"udca76449\">Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。</span></p><p data-lake-id=\"ud7038590\" id=\"ud7038590\"><span data-lake-id=\"u0560c5b8\" id=\"u0560c5b8\"> </span></p><p data-lake-id=\"u49f9a075\" id=\"u49f9a075\"><span data-lake-id=\"u7a96a8bb\" id=\"u7a96a8bb\">花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。</span></p><p data-lake-id=\"u390cd0be\" id=\"u390cd0be\"><span data-lake-id=\"u9a85f813\" id=\"u9a85f813\"> </span></p><p data-lake-id=\"u6fe175ee\" id=\"u6fe175ee\"><span data-lake-id=\"uf2a4e60e\" id=\"uf2a4e60e\">因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。</span></p><p data-lake-id=\"u4b829004\" id=\"u4b829004\"><span data-lake-id=\"u04353f22\" id=\"u04353f22\"> </span></p><p data-lake-id=\"uee02779e\" id=\"uee02779e\"><span data-lake-id=\"u905628e3\" id=\"u905628e3\">其底层使用string数据类型</span></p></blockquote><p data-lake-id=\"u2cde94e4\" id=\"u2cde94e4\"><br></p><p data-lake-id=\"u359f8aab\" id=\"u359f8aab\"><strong><span data-lake-id=\"u6d311b9e\" id=\"u6d311b9e\">什么是基数？</span></strong></p><p data-lake-id=\"u6f9d2e2d\" id=\"u6f9d2e2d\"><br></p><blockquote data-lake-id=\"u23e40115\" id=\"u23e40115\"><p data-lake-id=\"u9dbf9c60\" id=\"u9dbf9c60\"><span data-lake-id=\"u705f64a1\" id=\"u705f64a1\">数据集中不重复的元素的个数。</span></p></blockquote><p data-lake-id=\"u58577774\" id=\"u58577774\"><br></p><p data-lake-id=\"u9cd29706\" id=\"u9cd29706\"><strong><span data-lake-id=\"ufd12bb77\" id=\"ufd12bb77\">应用场景：</span></strong></p><p data-lake-id=\"uab89ac62\" id=\"uab89ac62\"><br></p><p data-lake-id=\"u3f46b64a\" id=\"u3f46b64a\"><span data-lake-id=\"u2d38778a\" id=\"u2d38778a\">网页的访问量（UV）：一个用户多次访问，也只能算作一个人。</span></p><p data-lake-id=\"u859a8832\" id=\"u859a8832\"><br></p><blockquote data-lake-id=\"u0efc439d\" id=\"u0efc439d\"><p data-lake-id=\"u57499926\" id=\"u57499926\"><span data-lake-id=\"uac851bca\" id=\"uac851bca\">传统实现，存储用户的id,然后每次进行比较。当用户变多之后这种方式及其浪费空间，而我们的目的只是</span><strong><span data-lake-id=\"ub04f9eba\" id=\"ub04f9eba\">计数</span></strong><span data-lake-id=\"ub8492e64\" id=\"ub8492e64\">，Hyperloglog就能帮助我们利用最小的空间完成。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22a8b2d832%22%2C%22rows%22%3A4%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22a8b2d832%5C%22%20id%3D%5C%22a8b2d832%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u813789cf%5C%22%20id%3D%5C%22u813789cf%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u1458b7e5%5C%22%20id%3D%5C%22u1458b7e5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua6ee7f33%5C%22%20id%3D%5C%22ua6ee7f33%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u39c83cb5%5C%22%20id%3D%5C%22u39c83cb5%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6d6ff4c2%5C%22%20id%3D%5C%22u6d6ff4c2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u981f6cd5%5C%22%20id%3D%5C%22u981f6cd5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u841527e6%5C%22%20id%3D%5C%22u841527e6%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8524da1d%5C%22%20id%3D%5C%22u8524da1d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubde84ef6%5C%22%20id%3D%5C%22ubde84ef6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6dfb6439%5C%22%20id%3D%5C%22u6dfb6439%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub0716ccd%5C%22%20id%3D%5C%22ub0716ccd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6dc5dd60%5C%22%20id%3D%5C%22u6dc5dd60%5C%22%3EPFADD%20key%20element1%20%5Belememt2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf70930f4%5C%22%20id%3D%5C%22uf70930f4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub155547e%5C%22%20id%3D%5C%22ub155547e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3cfca09f%5C%22%20id%3D%5C%22u3cfca09f%5C%22%3E%E6%B7%BB%E5%8A%A0%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0%E5%88%B0%20HyperLogLog%20%E4%B8%AD%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0f83c6a3%5C%22%20id%3D%5C%22u0f83c6a3%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0ff71adf%5C%22%20id%3D%5C%22u0ff71adf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u64deb24b%5C%22%20id%3D%5C%22u64deb24b%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ufc3c188e%5C%22%20id%3D%5C%22ufc3c188e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u46665eed%5C%22%20id%3D%5C%22u46665eed%5C%22%3EPFCOUNT%20key%20%5Bkey%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u08d90096%5C%22%20id%3D%5C%22u08d90096%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u73940def%5C%22%20id%3D%5C%22u73940def%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u61228b04%5C%22%20id%3D%5C%22u61228b04%5C%22%3E%E8%BF%94%E5%9B%9E%E7%BB%99%E5%AE%9A%20HyperLogLog%20%E7%9A%84%E5%9F%BA%E6%95%B0%E4%BC%B0%E7%AE%97%E5%80%BC%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uff31ac85%5C%22%20id%3D%5C%22uff31ac85%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua891479b%5C%22%20id%3D%5C%22ua891479b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3dc69af0%5C%22%20id%3D%5C%22u3dc69af0%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud521525d%5C%22%20id%3D%5C%22ud521525d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u99886dd0%5C%22%20id%3D%5C%22u99886dd0%5C%22%3EPFMERGE%20destkey%20sourcekey%20%5Bsourcekey..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua58fce57%5C%22%20id%3D%5C%22ua58fce57%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6539d20e%5C%22%20id%3D%5C%22u6539d20e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucb34cea5%5C%22%20id%3D%5C%22ucb34cea5%5C%22%3E%E5%B0%86%E5%A4%9A%E4%B8%AA%20HyperLogLog%20%E5%90%88%E5%B9%B6%E4%B8%BA%E4%B8%80%E4%B8%AA%20HyperLogLog%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u27207a29\" id=\"u27207a29\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22----------PFADD--PFCOUNT---------------------%5Cn127.0.0.1%3A6379%3E%20PFADD%20myelemx%20a%20b%20c%20d%20e%20f%20g%20h%20i%20j%20k%20%23%20%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20type%20myelemx%20%23%20hyperloglog%E5%BA%95%E5%B1%82%E4%BD%BF%E7%94%A8String%5Cnstring%5Cn127.0.0.1%3A6379%3E%20PFCOUNT%20myelemx%20%23%20%E4%BC%B0%E7%AE%97myelemx%E7%9A%84%E5%9F%BA%E6%95%B0%5Cn(integer)%2011%5Cn127.0.0.1%3A6379%3E%20PFADD%20myelemy%20i%20j%20k%20z%20m%20c%20b%20v%20p%20q%20s%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20PFCOUNT%20myelemy%5Cn(integer)%2011%5Cn%5Cn----------------PFMERGE-----------------------%5Cn127.0.0.1%3A6379%3E%20PFMERGE%20myelemz%20myelemx%20myelemy%20%23%20%E5%90%88%E5%B9%B6myelemx%E5%92%8Cmyelemy%20%E6%88%90%E4%B8%BAmyelemz%5CnOK%5Cn127.0.0.1%3A6379%3E%20PFCOUNT%20myelemz%20%23%20%E4%BC%B0%E7%AE%97%E5%9F%BA%E6%95%B0%5Cn(integer)%2017%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226f78f4c6%22%7D\"></card><p data-lake-id=\"uc51a7276\" id=\"uc51a7276\"><br></p><p data-lake-id=\"ue40fffcd\" id=\"ue40fffcd\"><span data-lake-id=\"u607e51db\" id=\"u607e51db\">如果允许容错，那么一定可以使用Hyperloglog !</span></p><p data-lake-id=\"u74158491\" id=\"u74158491\"><br></p><p data-lake-id=\"u33d7d6c9\" id=\"u33d7d6c9\"><span data-lake-id=\"u22befeff\" id=\"u22befeff\">如果不允许容错，就使用set或者自己的数据类型即可 ！</span></p><p data-lake-id=\"ua29e12c4\" id=\"ua29e12c4\"><br></p><h3 data-lake-id=\"419a74c3\" id=\"419a74c3\"><span data-lake-id=\"ud9aae27b\" id=\"ud9aae27b\">BitMaps(位图)</span></h3><p data-lake-id=\"uf168ebe0\" id=\"uf168ebe0\"><br></p><blockquote data-lake-id=\"uf1657d2d\" id=\"uf1657d2d\"><p data-lake-id=\"u3ef16793\" id=\"u3ef16793\"><span data-lake-id=\"u9bb7db9d\" id=\"u9bb7db9d\">使用位存储，信息状态只有 0 和 1</span></p><p data-lake-id=\"u7ec8679a\" id=\"u7ec8679a\"><span data-lake-id=\"u3c1d7cec\" id=\"u3c1d7cec\"> </span></p><p data-lake-id=\"u01bd046b\" id=\"u01bd046b\"><span data-lake-id=\"ud3aa16d1\" id=\"ud3aa16d1\">Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)，在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。</span></p></blockquote><p data-lake-id=\"u8c8ae09d\" id=\"u8c8ae09d\"><br></p><p data-lake-id=\"ua7e30477\" id=\"ua7e30477\"><strong><span data-lake-id=\"ua4819e09\" id=\"ua4819e09\">应用场景</span></strong></p><p data-lake-id=\"uce44943b\" id=\"uce44943b\"><br></p><p data-lake-id=\"uae76075f\" id=\"uae76075f\"><span data-lake-id=\"uabcafd0e\" id=\"uabcafd0e\">签到统计、状态统计</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%221b5638fb%22%2C%22rows%22%3A6%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%221b5638fb%5C%22%20id%3D%5C%221b5638fb%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uc0da9ae7%5C%22%20id%3D%5C%22uc0da9ae7%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4e7b58e1%5C%22%20id%3D%5C%22u4e7b58e1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6eba74b6%5C%22%20id%3D%5C%22u6eba74b6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucade339d%5C%22%20id%3D%5C%22ucade339d%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1d95a4d5%5C%22%20id%3D%5C%22u1d95a4d5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua6c0e655%5C%22%20id%3D%5C%22ua6c0e655%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc02f91e3%5C%22%20id%3D%5C%22uc02f91e3%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4a023d6d%5C%22%20id%3D%5C%22u4a023d6d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u24b5ff3b%5C%22%20id%3D%5C%22u24b5ff3b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u85f91305%5C%22%20id%3D%5C%22u85f91305%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u2d2c4fdb%5C%22%20id%3D%5C%22u2d2c4fdb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u252b7ef1%5C%22%20id%3D%5C%22u252b7ef1%5C%22%3Esetbit%20key%20offset%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u398b7313%5C%22%20id%3D%5C%22u398b7313%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16c406c6%5C%22%20id%3D%5C%22u16c406c6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucb070054%5C%22%20id%3D%5C%22ucb070054%5C%22%3E%E4%B8%BA%E6%8C%87%E5%AE%9Akey%E7%9A%84offset%E4%BD%8D%E8%AE%BE%E7%BD%AE%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7aea3384%5C%22%20id%3D%5C%22u7aea3384%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u52f55be9%5C%22%20id%3D%5C%22u52f55be9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udd0c78df%5C%22%20id%3D%5C%22udd0c78df%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua4c6dc1d%5C%22%20id%3D%5C%22ua4c6dc1d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u982b64cf%5C%22%20id%3D%5C%22u982b64cf%5C%22%3Egetbit%20key%20offset%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua99da93b%5C%22%20id%3D%5C%22ua99da93b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0cf1eb1f%5C%22%20id%3D%5C%22u0cf1eb1f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9063162e%5C%22%20id%3D%5C%22u9063162e%5C%22%3E%E8%8E%B7%E5%8F%96offset%E4%BD%8D%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uef63b5b3%5C%22%20id%3D%5C%22uef63b5b3%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3e1b78bf%5C%22%20id%3D%5C%22u3e1b78bf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0dc7ece3%5C%22%20id%3D%5C%22u0dc7ece3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u7cc950d1%5C%22%20id%3D%5C%22u7cc950d1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0f69ee2d%5C%22%20id%3D%5C%22u0f69ee2d%5C%22%3Ebitcount%20key%20%5Bstart%20end%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5ceb7127%5C%22%20id%3D%5C%22u5ceb7127%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2dc7e612%5C%22%20id%3D%5C%22u2dc7e612%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u50a783dd%5C%22%20id%3D%5C%22u50a783dd%5C%22%3E%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A2%AB%E8%AE%BE%E7%BD%AE%E4%B8%BA1%E7%9A%84bit%E6%95%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E7%BB%9F%E8%AE%A1%E8%8C%83%E5%9B%B4%E6%8C%89%E5%AD%97%E8%8A%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u68c0c5a5%5C%22%20id%3D%5C%22u68c0c5a5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud8d7080a%5C%22%20id%3D%5C%22ud8d7080a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u14c96261%5C%22%20id%3D%5C%22u14c96261%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u21180ac3%5C%22%20id%3D%5C%22u21180ac3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua8d134b6%5C%22%20id%3D%5C%22ua8d134b6%5C%22%3Ebitop%20operration%20destkey%20key%5Bkey..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u09f6b6f3%5C%22%20id%3D%5C%22u09f6b6f3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubf4ff336%5C%22%20id%3D%5C%22ubf4ff336%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud07e76ca%5C%22%20id%3D%5C%22ud07e76ca%5C%22%3E%E5%AF%B9%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E4%BF%9D%E5%AD%98%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%20key%20%E8%BF%9B%E8%A1%8C%E4%BD%8D%E5%85%83%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%B9%B6%E5%B0%86%E7%BB%93%E6%9E%9C%E4%BF%9D%E5%AD%98%E5%88%B0%20destkey%20%E4%B8%8A%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u372129b6%5C%22%20id%3D%5C%22u372129b6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u83734589%5C%22%20id%3D%5C%22u83734589%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6bc4ec52%5C%22%20id%3D%5C%22u6bc4ec52%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u7c059abd%5C%22%20id%3D%5C%22u7c059abd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u190223a7%5C%22%20id%3D%5C%22u190223a7%5C%22%3EBITPOS%20key%20bit%20%5Bstart%5D%20%5Bend%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u525de714%5C%22%20id%3D%5C%22u525de714%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u18ae1719%5C%22%20id%3D%5C%22u18ae1719%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf9c1aa8b%5C%22%20id%3D%5C%22uf9c1aa8b%5C%22%3E%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%87%8C%E9%9D%A2%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%A2%AB%E8%AE%BE%E7%BD%AE%E4%B8%BA1%E6%88%96%E8%80%850%E7%9A%84bit%E4%BD%8D%E3%80%82start%E5%92%8Cend%E5%8F%AA%E8%83%BD%E6%8C%89%E5%AD%97%E8%8A%82%2C%E4%B8%8D%E8%83%BD%E6%8C%89%E4%BD%8D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ua33372d8\" id=\"ua33372d8\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22------------setbit--getbit--------------%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%200%201%20%23%20%E8%AE%BE%E7%BD%AEsign%E7%9A%84%E7%AC%AC0%E4%BD%8D%E4%B8%BA%201%20%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%202%201%20%23%20%E8%AE%BE%E7%BD%AEsign%E7%9A%84%E7%AC%AC2%E4%BD%8D%E4%B8%BA%201%20%20%E4%B8%8D%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%20%E6%98%AF0%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%203%201%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%205%201%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20type%20sign%5Cnstring%5Cn%5Cn127.0.0.1%3A6379%3E%20getbit%20sign%202%20%23%20%E8%8E%B7%E5%8F%96%E7%AC%AC2%E4%BD%8D%E7%9A%84%E6%95%B0%E5%80%BC%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20getbit%20sign%203%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20getbit%20sign%204%20%23%20%E6%9C%AA%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E6%98%AF0%5Cn(integer)%200%5Cn%5Cn-----------bitcount----------------------------%5Cn127.0.0.1%3A6379%3E%20BITCOUNT%20sign%20%23%20%E7%BB%9F%E8%AE%A1sign%E4%B8%AD%E4%B8%BA1%E7%9A%84%E4%BD%8D%E6%95%B0%5Cn(integer)%204%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221fb5f5a6%22%7D\"></card><p data-lake-id=\"ud7c82795\" id=\"ud7c82795\"><br></p><p data-lake-id=\"u4e589c13\" id=\"u4e589c13\"><strong><span data-lake-id=\"ue9fc4058\" id=\"ue9fc4058\">bitmaps的底层</span></strong></p><p data-lake-id=\"u0bfe08c9\" id=\"u0bfe08c9\"><br></p><p data-lake-id=\"u9b9ae645\" id=\"u9b9ae645\"><span data-lake-id=\"u6221eb0d\" id=\"u6221eb0d\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PlszjhS-1597890996519)(D:\\我\\MyBlog\\狂神说 Redis.assets\\image-20200803234336175.png)]</span></p><p data-lake-id=\"u09d3b7fe\" id=\"u09d3b7fe\"><br></p><p data-lake-id=\"u21be4638\" id=\"u21be4638\"><span data-lake-id=\"u5e1aabe3\" id=\"u5e1aabe3\">这样设置以后你能get到的值是：</span><strong><span data-lake-id=\"uff73f9e2\" id=\"uff73f9e2\">\\xA2\\x80</span></strong><span data-lake-id=\"u049ea0bd\" id=\"u049ea0bd\">，所以bitmaps是一串从左到右的二进制串</span></p><p data-lake-id=\"u70e06fe8\" id=\"u70e06fe8\"><br></p><h2 data-lake-id=\"ea4899e5\" id=\"ea4899e5\"><span data-lake-id=\"uf2938953\" id=\"uf2938953\">五、事务</span></h2><p data-lake-id=\"ubc8e0bb6\" id=\"ubc8e0bb6\"><br></p><p data-lake-id=\"ud13310d0\" id=\"ud13310d0\"><span data-lake-id=\"ufc0632b6\" id=\"ufc0632b6\">Redis的单条命令是保证原子性的，但是redis事务不能保证原子性</span></p><p data-lake-id=\"ude24e264\" id=\"ude24e264\"><br></p><blockquote data-lake-id=\"u6194149e\" id=\"u6194149e\"><p data-lake-id=\"u8e137d55\" id=\"u8e137d55\"><span data-lake-id=\"u25df21e7\" id=\"u25df21e7\">Redis事务本质：一组命令的集合。</span></p><p data-lake-id=\"u58ba88df\" id=\"u58ba88df\"><span data-lake-id=\"u3cb20e84\" id=\"u3cb20e84\"> </span></p><p data-lake-id=\"u2981c0cb\" id=\"u2981c0cb\"><span data-lake-id=\"u8d5f292a\" id=\"u8d5f292a\">----------------- 队列 set set set 执行 -------------------</span></p><p data-lake-id=\"u00e1351d\" id=\"u00e1351d\"><span data-lake-id=\"u83180b5f\" id=\"u83180b5f\"> </span></p><p data-lake-id=\"u86c43a2f\" id=\"u86c43a2f\"><span data-lake-id=\"u05013813\" id=\"u05013813\">事务中每条命令都会被序列化，执行过程中按顺序执行，不允许其他命令进行干扰。</span></p><p data-lake-id=\"u167f2e78\" id=\"u167f2e78\"><span data-lake-id=\"ue1048226\" id=\"ue1048226\"> </span></p><ul list=\"ud0f4afde\"><li fid=\"ua5502be5\" data-lake-id=\"ud0b283bc\" id=\"ud0b283bc\"><span data-lake-id=\"ua5546279\" id=\"ua5546279\">一次性</span></li></ul><ul list=\"u17f2b63a\"><li fid=\"u9fa05f2e\" data-lake-id=\"ua4c8cdb7\" id=\"ua4c8cdb7\"><span data-lake-id=\"u0ff3338a\" id=\"u0ff3338a\">顺序性</span></li></ul><ul list=\"u4732f777\"><li fid=\"uac444d52\" data-lake-id=\"uc68a1452\" id=\"uc68a1452\"><span data-lake-id=\"ue258a76b\" id=\"ue258a76b\">排他性</span></li></ul><ol list=\"u8bc93e49\"><li fid=\"u41daee5a\" data-lake-id=\"u33275b68\" id=\"u33275b68\"><span data-lake-id=\"uf1d9e939\" id=\"uf1d9e939\">Redis事务没有隔离级别的概念</span></li></ol><ol list=\"uc5e36587\" start=\"2\"><li fid=\"u789eff81\" data-lake-id=\"uaff4b3fc\" id=\"uaff4b3fc\"><span data-lake-id=\"u34432733\" id=\"u34432733\">Redis单条命令是保证原子性的，但是事务不保证原子性！</span></li></ol><p data-lake-id=\"u2a1489f3\" id=\"u2a1489f3\"><span data-lake-id=\"u2ba75587\" id=\"u2ba75587\"> </span></p></blockquote><card type=\"block\" name=\"hr\" value=\"data:undefined\"></card><p data-lake-id=\"u39f604a1\" id=\"u39f604a1\"><br></p><h3 data-lake-id=\"7ce98419\" id=\"7ce98419\"><span data-lake-id=\"u9b2848c9\" id=\"u9b2848c9\">Redis事务操作过程</span></h3><p data-lake-id=\"u0b8f70bf\" id=\"u0b8f70bf\"><br></p><ul list=\"u354807ad\"><li fid=\"u6f58e8b7\" data-lake-id=\"u6f7782a5\" id=\"u6f7782a5\"><span data-lake-id=\"u833069cb\" id=\"u833069cb\">开启事务（</span><code data-lake-id=\"u1ee8e498\" id=\"u1ee8e498\"><span data-lake-id=\"u410b1885\" id=\"u410b1885\">multi</span></code><span data-lake-id=\"u53d29d44\" id=\"u53d29d44\">）</span></li></ul><ul list=\"u3fb80c3d\"><li fid=\"u6431297b\" data-lake-id=\"u4f38c807\" id=\"u4f38c807\"><span data-lake-id=\"u72e8b5ad\" id=\"u72e8b5ad\">命令入队</span></li></ul><ul list=\"udb624bbc\"><li fid=\"ucaf0fe2f\" data-lake-id=\"u3305e33a\" id=\"u3305e33a\"><span data-lake-id=\"uf67f784f\" id=\"uf67f784f\">执行事务（</span><code data-lake-id=\"uac484cf7\" id=\"uac484cf7\"><span data-lake-id=\"u49c9a56d\" id=\"u49c9a56d\">exec</span></code><span data-lake-id=\"u689a5a0b\" id=\"u689a5a0b\">）</span></li></ul><p data-lake-id=\"udac51676\" id=\"udac51676\"><br></p><p data-lake-id=\"uad0711d4\" id=\"uad0711d4\"><span data-lake-id=\"ueca3a4a8\" id=\"ueca3a4a8\">所以事务中的命令在加入时都没有被执行，直到提交时才会开始执行(Exec)一次性完成。</span></p><p data-lake-id=\"u1957dfd8\" id=\"u1957dfd8\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%20%23%20%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%20%23%20%E5%91%BD%E4%BB%A4%E5%85%A5%E9%98%9F%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%20%23%20..%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20get%20k1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k3%20v3%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20keys%20*%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20exec%20%23%20%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%5Cn1)%20OK%5Cn2)%20OK%5Cn3)%20%5C%22v1%5C%22%5Cn4)%20OK%5Cn5)%201)%20%5C%22k3%5C%22%5Cn%20%20%202)%20%5C%22k2%5C%22%5Cn%20%20%203)%20%5C%22k1%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228e02bc3a%22%7D\"></card><p data-lake-id=\"ubcd66fff\" id=\"ubcd66fff\"><br></p><p data-lake-id=\"ubb2cd759\" id=\"ubb2cd759\"><strong><span data-lake-id=\"uf063a663\" id=\"uf063a663\">取消事务(</span></strong><code data-lake-id=\"uff450f00\" id=\"uff450f00\"><strong><span data-lake-id=\"ub38cb090\" id=\"ub38cb090\">discurd</span></strong></code><strong><span data-lake-id=\"u3356cfa7\" id=\"u3356cfa7\">)</span></strong></p><p data-lake-id=\"ue73ecbac\" id=\"ue73ecbac\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20DISCARD%20%23%20%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1%5CnOK%5Cn127.0.0.1%3A6379%3E%20EXEC%20%5Cn(error)%20ERR%20EXEC%20without%20MULTI%20%23%20%E5%BD%93%E5%89%8D%E6%9C%AA%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1%5Cn127.0.0.1%3A6379%3E%20get%20k1%20%23%20%E8%A2%AB%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1%E4%B8%AD%E5%91%BD%E4%BB%A4%E5%B9%B6%E6%9C%AA%E6%89%A7%E8%A1%8C%5Cn(nil)%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22017b9973%22%7D\"></card><p data-lake-id=\"ua14a68bb\" id=\"ua14a68bb\"><br></p><h3 data-lake-id=\"5bfc1a01\" id=\"5bfc1a01\"><span data-lake-id=\"u6c357ad9\" id=\"u6c357ad9\">事务错误</span></h3><p data-lake-id=\"uf69a66ef\" id=\"uf69a66ef\"><br></p><blockquote data-lake-id=\"u1a59dd31\" id=\"u1a59dd31\"><p data-lake-id=\"u2d5e42b4\" id=\"u2d5e42b4\"><span data-lake-id=\"u7c52baf9\" id=\"u7c52baf9\">代码语法错误（编译时异常）所有的命令都不执行</span></p></blockquote><p data-lake-id=\"u3ef34681\" id=\"u3ef34681\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20error%20k1%20%23%20%E8%BF%99%E6%98%AF%E4%B8%80%E6%9D%A1%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF%E5%91%BD%E4%BB%A4%5Cn(error)%20ERR%20unknown%20command%20%60error%60%2C%20with%20args%20beginning%20with%3A%20%60k1%60%2C%20%23%20%E4%BC%9A%E6%8A%A5%E9%94%99%E4%BD%86%E6%98%AF%E4%B8%8D%E5%BD%B1%E5%93%8D%E5%90%8E%E7%BB%AD%E5%91%BD%E4%BB%A4%E5%85%A5%E9%98%9F%20%5Cn127.0.0.1%3A6379%3E%20get%20k2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20EXEC%5Cn(error)%20EXECABORT%20Transaction%20discarded%20because%20of%20previous%20errors.%20%23%20%E6%89%A7%E8%A1%8C%E6%8A%A5%E9%94%99%5Cn127.0.0.1%3A6379%3E%20get%20k1%20%5Cn(nil)%20%23%20%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%E5%B9%B6%E6%B2%A1%E6%9C%89%E8%A2%AB%E6%89%A7%E8%A1%8C%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223472e647%22%7D\"></card><p data-lake-id=\"ud898c33a\" id=\"ud898c33a\"><br></p><blockquote data-lake-id=\"u08a6cf48\" id=\"u08a6cf48\"><p data-lake-id=\"u2f95d9c0\" id=\"u2f95d9c0\"><span data-lake-id=\"uc8c91ea2\" id=\"uc8c91ea2\">代码逻辑错误 (运行时异常) </span><strong><span data-lake-id=\"u680d07b3\" id=\"u680d07b3\">其他命令可以正常执行 </span></strong><span data-lake-id=\"ub128e34a\" id=\"ub128e34a\"> &gt;&gt;&gt; 所以不保证事务原子性</span></p></blockquote><p data-lake-id=\"u78a34228\" id=\"u78a34228\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20INCR%20k1%20%23%20%E8%BF%99%E6%9D%A1%E5%91%BD%E4%BB%A4%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AF%EF%BC%88%E5%AF%B9%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9B%E8%A1%8C%E5%A2%9E%E9%87%8F%EF%BC%89%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20get%20k2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20exec%5Cn1)%20OK%5Cn2)%20OK%5Cn3)%20(error)%20ERR%20value%20is%20not%20an%20integer%20or%20out%20of%20range%20%23%20%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8A%A5%E9%94%99%5Cn4)%20%5C%22v2%5C%22%20%23%20%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%E6%AD%A3%E5%B8%B8%E6%89%A7%E8%A1%8C%5Cn%5Cn%23%20%E8%99%BD%E7%84%B6%E4%B8%AD%E9%97%B4%E6%9C%89%E4%B8%80%E6%9D%A1%E5%91%BD%E4%BB%A4%E6%8A%A5%E9%94%99%E4%BA%86%EF%BC%8C%E4%BD%86%E6%98%AF%E5%90%8E%E9%9D%A2%E7%9A%84%E6%8C%87%E4%BB%A4%E4%BE%9D%E6%97%A7%E6%AD%A3%E5%B8%B8%E6%89%A7%E8%A1%8C%E6%88%90%E5%8A%9F%E4%BA%86%E3%80%82%5Cn%23%20%E6%89%80%E4%BB%A5%E8%AF%B4Redis%E5%8D%95%E6%9D%A1%E6%8C%87%E4%BB%A4%E4%BF%9D%E8%AF%81%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%8C%E4%BD%86%E6%98%AFRedis%E4%BA%8B%E5%8A%A1%E4%B8%8D%E8%83%BD%E4%BF%9D%E8%AF%81%E5%8E%9F%E5%AD%90%E6%80%A7%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223d3d9126%22%7D\"></card><p data-lake-id=\"u74adb395\" id=\"u74adb395\"><br></p><h3 data-lake-id=\"9aff6241\" id=\"9aff6241\"><span data-lake-id=\"u8ce14aae\" id=\"u8ce14aae\">监控</span></h3><p data-lake-id=\"ub0ddd756\" id=\"ub0ddd756\"><br></p><p data-lake-id=\"ub1ab6d2a\" id=\"ub1ab6d2a\"><strong><span data-lake-id=\"ue8b9db18\" id=\"ue8b9db18\">悲观锁：</span></strong></p><p data-lake-id=\"uab14cab1\" id=\"uab14cab1\"><br></p><ul list=\"u89488a94\"><li fid=\"u4b01929e\" data-lake-id=\"u3aca9110\" id=\"u3aca9110\"><span data-lake-id=\"u6bda413a\" id=\"u6bda413a\">很悲观，认为什么时候都会出现问题，无论做什么都会加锁</span></li></ul><p data-lake-id=\"u247a38f2\" id=\"u247a38f2\"><br></p><p data-lake-id=\"u9b7c3e2e\" id=\"u9b7c3e2e\"><strong><span data-lake-id=\"ua61287a6\" id=\"ua61287a6\">乐观锁：</span></strong></p><p data-lake-id=\"u2c7b6d8a\" id=\"u2c7b6d8a\"><br></p><ul list=\"u079afcd4\"><li fid=\"u171f90c6\" data-lake-id=\"u562f70b2\" id=\"u562f70b2\"><span data-lake-id=\"ue315a18f\" id=\"ue315a18f\">很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据</span></li></ul><ul list=\"ud5ffed8f\"><li fid=\"uacc286de\" data-lake-id=\"u04a9d064\" id=\"u04a9d064\"><span data-lake-id=\"u632b23b2\" id=\"u632b23b2\">获取version</span></li></ul><ul list=\"uec5142cd\"><li fid=\"uec8a3ae1\" data-lake-id=\"u1d6800e7\" id=\"u1d6800e7\"><span data-lake-id=\"u86346014\" id=\"u86346014\">更新的时候比较version</span></li></ul><p data-lake-id=\"u937f077a\" id=\"u937f077a\"><br></p><p data-lake-id=\"u9f1a5f4d\" id=\"u9f1a5f4d\"><span data-lake-id=\"uc823e292\" id=\"uc823e292\">使用</span><code data-lake-id=\"u780822c8\" id=\"u780822c8\"><span data-lake-id=\"ue88fd21f\" id=\"ue88fd21f\">watch key</span></code><span data-lake-id=\"uf5be73dc\" id=\"uf5be73dc\">监控指定数据，相当于乐观锁加锁。</span></p><p data-lake-id=\"u41dc1b8f\" id=\"u41dc1b8f\"><br></p><blockquote data-lake-id=\"u7ba4ff9e\" id=\"u7ba4ff9e\"><p data-lake-id=\"u9c113fa2\" id=\"u9c113fa2\"><span data-lake-id=\"u694c0c38\" id=\"u694c0c38\">正常执行</span></p></blockquote><p data-lake-id=\"u7c064553\" id=\"u7c064553\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20set%20money%20100%20%23%20%E8%AE%BE%E7%BD%AE%E4%BD%99%E9%A2%9D%3A100%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20use%200%20%23%20%E6%94%AF%E5%87%BA%E4%BD%BF%E7%94%A8%3A0%5CnOK%5Cn127.0.0.1%3A6379%3E%20watch%20money%20%23%20%E7%9B%91%E8%A7%86money%20(%E4%B8%8A%E9%94%81)%5CnOK%5Cn127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20DECRBY%20money%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20INCRBY%20use%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20exec%20%23%20%E7%9B%91%E8%A7%86%E5%80%BC%E6%B2%A1%E6%9C%89%E8%A2%AB%E4%B8%AD%E9%80%94%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%BA%8B%E5%8A%A1%E6%AD%A3%E5%B8%B8%E6%89%A7%E8%A1%8C%5Cn1)%20(integer)%2080%5Cn2)%20(integer)%2020%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ef8600b2%22%7D\"></card><p data-lake-id=\"uf36ede29\" id=\"uf36ede29\"><br></p><blockquote data-lake-id=\"udbfce6cc\" id=\"udbfce6cc\"><p data-lake-id=\"u78bd959f\" id=\"u78bd959f\"><span data-lake-id=\"ua65b3ded\" id=\"ua65b3ded\">测试多线程修改值，使用watch可以当做redis的乐观锁操作（相当于getversion）</span></p></blockquote><p data-lake-id=\"ub65fa507\" id=\"ub65fa507\"><br></p><p data-lake-id=\"u15b6b62f\" id=\"u15b6b62f\"><span data-lake-id=\"u0d52de5c\" id=\"u0d52de5c\">我们启动另外一个客户端模拟插队线程。</span></p><p data-lake-id=\"u23015e3b\" id=\"u23015e3b\"><br></p><p data-lake-id=\"u1c156ade\" id=\"u1c156ade\"><span data-lake-id=\"ub24d17e7\" id=\"ub24d17e7\">线程1：</span></p><p data-lake-id=\"u501fc62d\" id=\"u501fc62d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20watch%20money%20%23%20money%E4%B8%8A%E9%94%81%5CnOK%5Cn127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20DECRBY%20money%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20INCRBY%20use%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20%5Ct%23%20%E6%AD%A4%E6%97%B6%E4%BA%8B%E5%8A%A1%E5%B9%B6%E6%B2%A1%E6%9C%89%E6%89%A7%E8%A1%8C%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2215b45c9d%22%7D\"></card><p data-lake-id=\"u7ef504af\" id=\"u7ef504af\"><br></p><p data-lake-id=\"u975b4723\" id=\"u975b4723\"><span data-lake-id=\"ud9a65c4c\" id=\"ud9a65c4c\">模拟线程插队，线程2：</span></p><p data-lake-id=\"uf4d9d6b7\" id=\"uf4d9d6b7\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20INCRBY%20money%20500%20%23%20%E4%BF%AE%E6%94%B9%E4%BA%86%E7%BA%BF%E7%A8%8B%E4%B8%80%E4%B8%AD%E7%9B%91%E8%A7%86%E7%9A%84money%5Cn(integer)%20600%5Cn12%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2280165ada%22%7D\"></card><p data-lake-id=\"u66191b44\" id=\"u66191b44\"><br></p><p data-lake-id=\"uf191a67e\" id=\"uf191a67e\"><span data-lake-id=\"u661b9684\" id=\"u661b9684\">回到线程1，执行事务：</span></p><p data-lake-id=\"u996333d5\" id=\"u996333d5\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20EXEC%20%23%20%E6%89%A7%E8%A1%8C%E4%B9%8B%E5%89%8D%EF%BC%8C%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B%E4%BF%AE%E6%94%B9%E4%BA%86%E6%88%91%E4%BB%AC%E7%9A%84%E5%80%BC%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E5%B0%B1%E4%BC%9A%E5%AF%BC%E8%87%B4%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%5Cn(nil)%20%23%20%E6%B2%A1%E6%9C%89%E7%BB%93%E6%9E%9C%EF%BC%8C%E8%AF%B4%E6%98%8E%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%5Cn%5Cn127.0.0.1%3A6379%3E%20get%20money%20%23%20%E7%BA%BF%E7%A8%8B2%20%E4%BF%AE%E6%94%B9%E7%94%9F%E6%95%88%5Cn%5C%22600%5C%22%5Cn127.0.0.1%3A6379%3E%20get%20use%20%23%20%E7%BA%BF%E7%A8%8B1%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%EF%BC%8C%E6%95%B0%E5%80%BC%E6%B2%A1%E6%9C%89%E8%A2%AB%E4%BF%AE%E6%94%B9%5Cn%5C%220%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e230f298%22%7D\"></card><p data-lake-id=\"uba2dc439\" id=\"uba2dc439\"><br></p><blockquote data-lake-id=\"u8454795f\" id=\"u8454795f\"><p data-lake-id=\"u6e9ce09d\" id=\"u6e9ce09d\"><span data-lake-id=\"ud3c5b1f3\" id=\"ud3c5b1f3\">解锁获取最新值，然后再加锁进行事务。</span></p><p data-lake-id=\"u4dec3d4f\" id=\"u4dec3d4f\"><span data-lake-id=\"u1aba7a02\" id=\"u1aba7a02\"> </span></p><p data-lake-id=\"ub56dffc7\" id=\"ub56dffc7\"><code data-lake-id=\"uc6473712\" id=\"uc6473712\"><span data-lake-id=\"u1d0596bb\" id=\"u1d0596bb\">unwatch</span></code><span data-lake-id=\"u7fc03a68\" id=\"u7fc03a68\">进行解锁。</span></p></blockquote><p data-lake-id=\"u3213e7af\" id=\"u3213e7af\"><br></p><p data-lake-id=\"ueb9c9beb\" id=\"ueb9c9beb\"><span data-lake-id=\"u32125623\" id=\"u32125623\">注意：每次提交执行exec后都会自动释放锁，不管是否成功</span></p><p data-lake-id=\"u41cfd52e\" id=\"u41cfd52e\"><br></p><h2 data-lake-id=\"c79e2752\" id=\"c79e2752\"><span data-lake-id=\"u08efe596\" id=\"u08efe596\">六、Jedis</span></h2><p data-lake-id=\"u6fac8135\" id=\"u6fac8135\"><br></p><p data-lake-id=\"uf5f9cd26\" id=\"uf5f9cd26\"><span data-lake-id=\"u625c9dd7\" id=\"u625c9dd7\">使用Java来操作Redis，Jedis是Redis官方推荐使用的Java连接redis的客户端。</span></p><p data-lake-id=\"u963ac227\" id=\"u963ac227\"><br></p><ol list=\"u83b0edf4\"><li fid=\"u9f0e9073\" data-lake-id=\"ubb20f274\" id=\"ubb20f274\"><span data-lake-id=\"ue040bb0b\" id=\"ue040bb0b\"> 导入依赖 </span><span data-lake-id=\"uac7ba333\" id=\"uac7ba333\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%E5%AF%BC%E5%85%A5jredis%E7%9A%84%E5%8C%85--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eredis.clients%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Ejedis%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E3.2.0%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%5Cn%3C!--fastjson--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Ecom.alibaba%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Efastjson%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E1.2.70%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226d473879%22%7D\"></card><ol list=\"u62dfcf61\" start=\"2\"><li fid=\"uadb47097\" data-lake-id=\"u4c394df7\" id=\"u4c394df7\"><span data-lake-id=\"u5b212509\" id=\"u5b212509\"> 编码测试 </span></li></ol><ul list=\"uba393de5\" data-lake-indent=\"1\"><li fid=\"uc6a1c222\" data-lake-id=\"u104ec940\" id=\"u104ec940\"><span data-lake-id=\"u02fbb36d\" id=\"u02fbb36d\"> 连接数据库 </span></li></ul><ol list=\"u10b4912f\" data-lake-indent=\"2\"><li fid=\"uca6aba77\" data-lake-id=\"u14e399d5\" id=\"u14e399d5\"><span data-lake-id=\"u5f22f3d5\" id=\"u5f22f3d5\"> 修改redis的配置文件 </span><span data-lake-id=\"u887b5f17\" id=\"u887b5f17\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22vim%20%2Fusr%2Flocal%2Fbin%2Fmyconfig%2Fredis.conf%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224ed3b6cf%22%7D\"></card><ol list=\"u36ef1b80\" data-lake-indent=\"3\"><li fid=\"u69aca8fb\" data-lake-id=\"u048a4212\" id=\"u048a4212\"><span data-lake-id=\"u9ffa492f\" id=\"u9ffa492f\"> 将只绑定本地注释<br /></span><span data-lake-id=\"uc5f854d2\" id=\"uc5f854d2\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-4IRUFJ95-1597890996520)(狂神说 Redis.assets/image-20200813161921480.png)] </span></li><li fid=\"u69aca8fb\" data-lake-id=\"ub25c42c0\" id=\"ub25c42c0\"><span data-lake-id=\"u5c897920\" id=\"u5c897920\"> 保护模式改为 no<br /></span><span data-lake-id=\"u64f09128\" id=\"u64f09128\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oKjIVapw-1597890996521)(狂神说 Redis.assets/image-20200813161939847.png)] </span></li><li fid=\"u69aca8fb\" data-lake-id=\"uc9983c93\" id=\"uc9983c93\"><span data-lake-id=\"ud9e230d1\" id=\"ud9e230d1\"> 允许后台运行<br /></span><span data-lake-id=\"u5ea8593b\" id=\"u5ea8593b\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c2IMvpZL-1597890996522)(狂神说 Redis.assets/image-20200813161954567.png)] </span></li></ol><p data-lake-id=\"ua55b8a0d\" id=\"ua55b8a0d\"><span data-lake-id=\"u94ad9683\" id=\"u94ad9683\"> </span></p><ol list=\"u64a3b9fc\" start=\"3\"><li fid=\"uba850a53\" data-lake-id=\"u90b22862\" id=\"u90b22862\"><span data-lake-id=\"u51f24c45\" id=\"u51f24c45\"> 开放端口6379 </span><span data-lake-id=\"u80ce4f95\" id=\"u80ce4f95\"><br /></span><span data-lake-id=\"u3672c036\" id=\"u3672c036\">重启防火墙服务 </span><span data-lake-id=\"uf33df1fa\" id=\"uf33df1fa\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22firewall-cmd%20--zone%3Dpublic%20--add-port%3D6379%2Ftcp%20--permanet%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222f07c43a%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22systemctl%20restart%20firewalld.service%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223a04abb1%22%7D\"></card><ol list=\"ue16f888d\" data-lake-indent=\"1\"><li fid=\"u7069de95\" data-lake-id=\"u01eeb010\" id=\"u01eeb010\"><span data-lake-id=\"ud422a709\" id=\"ud422a709\"> 阿里云服务器控制台配置安全组 </span></li><li fid=\"u7069de95\" data-lake-id=\"uc575901e\" id=\"uc575901e\"><span data-lake-id=\"u72ea1202\" id=\"u72ea1202\"> 重启redis-server </span><span data-lake-id=\"u9fc5ca9d\" id=\"u9fc5ca9d\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%5Broot%40AlibabaECS%20bin%5D%23%20redis-server%20myconfig%2Fredis.conf%20%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fa1c45f9%22%7D\"></card><p data-lake-id=\"u7e061464\" id=\"u7e061464\"><span data-lake-id=\"ue77329e0\" id=\"ue77329e0\"> </span></p><ul list=\"ua0eec093\"><li fid=\"u13ddb360\" data-lake-id=\"u81f05702\" id=\"u81f05702\"><span data-lake-id=\"u59539e06\" id=\"u59539e06\"> 操作命令<br /></span><strong><span data-lake-id=\"u3ae30923\" id=\"u3ae30923\">TestPing.java</span></strong><span data-lake-id=\"ub61b1126\" id=\"ub61b1126\"> </span><span data-lake-id=\"u2c3e833d\" id=\"u2c3e833d\"> </span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20TestPing%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20Jedis%20jedis%20%3D%20new%20Jedis(%5C%22192.168.xx.xxx%5C%22%2C%206379)%3B%5Cn%20%20%20%20%20%20%20%20String%20response%20%3D%20jedis.ping()%3B%5Cn%20%20%20%20%20%20%20%20System.out.println(response)%3B%20%2F%2F%20PONG%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224b1705e9%22%7D\"></card><ul list=\"ue3a1885e\"><li fid=\"u3efec461\" data-lake-id=\"udeae81bf\" id=\"udeae81bf\"><span data-lake-id=\"ufa95533e\" id=\"ufa95533e\"> 断开连接 </span></li></ul><p data-lake-id=\"u468631e1\" id=\"u468631e1\"><br></p><ol list=\"ud9ed79a4\"><li fid=\"u4c139154\" data-lake-id=\"uebe6bd9e\" id=\"uebe6bd9e\"><span data-lake-id=\"u9c364a1e\" id=\"u9c364a1e\"> </span><strong><span data-lake-id=\"ucbca5949\" id=\"ucbca5949\">事务</span></strong><span data-lake-id=\"u73ba217f\" id=\"u73ba217f\"> </span><span data-lake-id=\"ua0c354b2\" id=\"ua0c354b2\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20TestTX%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20Jedis%20jedis%20%3D%20new%20Jedis(%5C%2239.99.xxx.xx%5C%22%2C%206379)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20JSONObject%20jsonObject%20%3D%20new%20JSONObject()%3B%5Cn%20%20%20%20%20%20%20%20jsonObject.put(%5C%22hello%5C%22%2C%20%5C%22world%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20jsonObject.put(%5C%22name%5C%22%2C%20%5C%22kuangshen%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1%5Cn%20%20%20%20%20%20%20%20Transaction%20multi%20%3D%20jedis.multi()%3B%5Cn%20%20%20%20%20%20%20%20String%20result%20%3D%20jsonObject.toJSONString()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20jedis.watch(result)%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.set(%5C%22user1%5C%22%2C%20result)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.set(%5C%22user2%5C%22%2C%20result)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%89%A7%E8%A1%8C%E4%BA%8B%E5%8A%A1%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.exec()%3B%5Cn%20%20%20%20%20%20%20%20%7Dcatch%20(Exception%20e)%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.discard()%3B%5Cn%20%20%20%20%20%20%20%20%7D%20finally%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%85%B3%E9%97%AD%E8%BF%9E%E6%8E%A5%5Cn%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(jedis.get(%5C%22user1%5C%22))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(jedis.get(%5C%22user2%5C%22))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20jedis.close()%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b0590c08%22%7D\"></card><p data-lake-id=\"u63cdf4f2\" id=\"u63cdf4f2\"><br></p><h2 data-lake-id=\"dbb1052f\" id=\"dbb1052f\"><span data-lake-id=\"u4727a682\" id=\"u4727a682\">七、SpringBoot整合</span></h2><p data-lake-id=\"uc57572aa\" id=\"uc57572aa\"><br></p><ol list=\"ub6e73653\"><li fid=\"ufff38aa4\" data-lake-id=\"u5cc6fd59\" id=\"u5cc6fd59\"><span data-lake-id=\"ue7e88455\" id=\"ue7e88455\">导入依赖</span></li></ol><p data-lake-id=\"uef0160ed\" id=\"uef0160ed\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.springframework.boot%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Espring-boot-starter-data-redis%3C%2FartifactId%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226e291667%22%7D\"></card><p data-lake-id=\"u76342334\" id=\"u76342334\"><br></p><p data-lake-id=\"ua14fa8c0\" id=\"ua14fa8c0\"><span data-lake-id=\"u596fd385\" id=\"u596fd385\">springboot 2.x后 ，原来使用的 Jedis 被 lettuce 替换。</span></p><p data-lake-id=\"u65ed1496\" id=\"u65ed1496\"><br></p><blockquote data-lake-id=\"ub1737431\" id=\"ub1737431\"><p data-lake-id=\"u64e7ea3d\" id=\"u64e7ea3d\"><span data-lake-id=\"u3934ef6b\" id=\"u3934ef6b\">jedis：采用的直连，多个线程操作的话，是不安全的。如果要避免不安全，使用jedis pool连接池！更像BIO模式</span></p><p data-lake-id=\"u00065eb5\" id=\"u00065eb5\"><span data-lake-id=\"u43e953a0\" id=\"u43e953a0\"> </span></p><p data-lake-id=\"u7ec5a661\" id=\"u7ec5a661\"><span data-lake-id=\"u33e9dc6e\" id=\"u33e9dc6e\">lettuce：采用netty，实例可以在多个线程中共享，不存在线程不安全的情况！可以减少线程数据了，更像NIO模式</span></p></blockquote><p data-lake-id=\"u4b2f5759\" id=\"u4b2f5759\"><br></p><p data-lake-id=\"ub4cf4286\" id=\"ub4cf4286\"><span data-lake-id=\"u766063e3\" id=\"u766063e3\">我们在学习SpringBoot自动配置的原理时，整合一个组件并进行配置一定会有一个自动配置类xxxAutoConfiguration,并且在spring.factories中也一定能找到这个类的完全限定名。Redis也不例外。</span></p><p data-lake-id=\"ud963a7ad\" id=\"ud963a7ad\"><br></p><p data-lake-id=\"u74b24581\" id=\"u74b24581\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214531573.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1147%2C%22originHeight%22%3A110%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22afEED%22%7D\"></card></p><p data-lake-id=\"ub4a25e08\" id=\"ub4a25e08\"><br></p><p data-lake-id=\"uf3932b7a\" id=\"uf3932b7a\"><span data-lake-id=\"u77db6728\" id=\"u77db6728\">那么就一定还存在一个RedisProperties类</span></p><p data-lake-id=\"uc672aefd\" id=\"uc672aefd\"><br></p><p data-lake-id=\"u49da5a07\" id=\"u49da5a07\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214554661.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1159%2C%22originHeight%22%3A214%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22S17vK%22%7D\"></card></p><p data-lake-id=\"u456359cd\" id=\"u456359cd\"><br></p><p data-lake-id=\"u40f655f6\" id=\"u40f655f6\"><span data-lake-id=\"u49f28ab1\" id=\"u49f28ab1\">之前我们说SpringBoot2.x后默认使用Lettuce来替换Jedis，现在我们就能来验证了。</span></p><p data-lake-id=\"ub3c154ee\" id=\"ub3c154ee\"><br></p><p data-lake-id=\"u58c3694e\" id=\"u58c3694e\"><span data-lake-id=\"uddcd9075\" id=\"uddcd9075\">先看Jedis:</span></p><p data-lake-id=\"u651cf34b\" id=\"u651cf34b\"><br></p><p data-lake-id=\"u8e6c9c86\" id=\"u8e6c9c86\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214607475.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1117%2C%22originHeight%22%3A90%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22kGLhv%22%7D\"></card></p><p data-lake-id=\"ubd48b2aa\" id=\"ubd48b2aa\"><br></p><p data-lake-id=\"u41728bce\" id=\"u41728bce\"><span data-lake-id=\"u5bfda197\" id=\"u5bfda197\">@ConditionalOnClass注解中有两个类是默认不存在的，所以Jedis是无法生效的</span></p><p data-lake-id=\"u11e4df9a\" id=\"u11e4df9a\"><br></p><p data-lake-id=\"u5df44947\" id=\"u5df44947\"><span data-lake-id=\"ub359e58b\" id=\"ub359e58b\">然后再看Lettuce：</span></p><p data-lake-id=\"ub63434ed\" id=\"ub63434ed\"><br></p><p data-lake-id=\"u0fede534\" id=\"u0fede534\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214618179.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1009%2C%22originHeight%22%3A67%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22qWNTA%22%7D\"></card></p><p data-lake-id=\"u28fd3a0a\" id=\"u28fd3a0a\"><br></p><p data-lake-id=\"u2ccf167d\" id=\"u2ccf167d\"><span data-lake-id=\"u832889d2\" id=\"u832889d2\">完美生效。</span></p><p data-lake-id=\"uc7682537\" id=\"uc7682537\"><br></p><p data-lake-id=\"u53a8cf89\" id=\"u53a8cf89\"><span data-lake-id=\"uee17bd58\" id=\"uee17bd58\">现在我们回到RedisAutoConfiguratio</span></p><p data-lake-id=\"u7098ca30\" id=\"u7098ca30\"><br></p><p data-lake-id=\"u59b627f6\" id=\"u59b627f6\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321462777.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1256%2C%22originHeight%22%3A630%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22DKVT5%22%7D\"></card></p><p data-lake-id=\"u2f154228\" id=\"u2f154228\"><br></p><p data-lake-id=\"uc2a33f20\" id=\"uc2a33f20\"><span data-lake-id=\"u42aabd10\" id=\"u42aabd10\">只有两个简单的Bean</span></p><p data-lake-id=\"u4b7ad2b1\" id=\"u4b7ad2b1\"><br></p><ul list=\"u911382f8\"><li fid=\"u5c267cf0\" data-lake-id=\"u88705071\" id=\"u88705071\"><strong><span data-lake-id=\"u9ae66741\" id=\"u9ae66741\">RedisTemplate</span></strong></li></ul><ul list=\"u2db8be46\"><li fid=\"uc5aa412d\" data-lake-id=\"u907fa145\" id=\"u907fa145\"><strong><span data-lake-id=\"u93c07533\" id=\"u93c07533\">StringRedisTemplate</span></strong></li></ul><p data-lake-id=\"u3df4ada3\" id=\"u3df4ada3\"><br></p><p data-lake-id=\"u461412f5\" id=\"u461412f5\"><span data-lake-id=\"u47ddf064\" id=\"u47ddf064\">当看到xxTemplate时可以对比RestTemplat、SqlSessionTemplate,通过使用这些Template来间接操作组件。那么这俩也不会例外。分别用于操作Redis和Redis中的String数据类型。</span></p><p data-lake-id=\"u16b36888\" id=\"u16b36888\"><br></p><p data-lake-id=\"uc2afbf19\" id=\"uc2afbf19\"><span data-lake-id=\"u2f5a2c6f\" id=\"u2f5a2c6f\">在RedisTemplate上也有一个条件注解，说明我们是可以对其进行定制化的</span></p><p data-lake-id=\"u8ca69cc2\" id=\"u8ca69cc2\"><br></p><p data-lake-id=\"ue943c85e\" id=\"ue943c85e\"><span data-lake-id=\"u10c6cc0a\" id=\"u10c6cc0a\">说完这些，我们需要知道如何编写配置文件然后连接Redis，就需要阅读RedisProperties</span></p><p data-lake-id=\"ue1021c48\" id=\"ue1021c48\"><br></p><p data-lake-id=\"ue7be1122\" id=\"ue7be1122\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214638238.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A763%2C%22originHeight%22%3A128%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22aWu5H%22%7D\"></card></p><p data-lake-id=\"u746ce527\" id=\"u746ce527\"><br></p><p data-lake-id=\"uea3ed292\" id=\"uea3ed292\"><span data-lake-id=\"ub0faeb95\" id=\"ub0faeb95\">这是一些基本的配置属性。</span></p><p data-lake-id=\"u62d20ea9\" id=\"u62d20ea9\"><br></p><p data-lake-id=\"ua7158aaa\" id=\"ua7158aaa\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214649380.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A359%2C%22originHeight%22%3A377%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22i0wNu%22%7D\"></card></p><p data-lake-id=\"u0f246527\" id=\"u0f246527\"><br></p><p data-lake-id=\"u9609576c\" id=\"u9609576c\"><span data-lake-id=\"u2253581c\" id=\"u2253581c\">还有一些连接池相关的配置。注意使用时一定使用Lettuce的连接池。</span></p><p data-lake-id=\"u2ec73511\" id=\"u2ec73511\"><br></p><p data-lake-id=\"u6722df64\" id=\"u6722df64\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214700372.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A432%2C%22originHeight%22%3A490%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22cG4ZA%22%7D\"></card></p><p data-lake-id=\"uc26aba9b\" id=\"uc26aba9b\"><br></p><ol list=\"u57afa6d8\"><li fid=\"ub20a9f3d\" data-lake-id=\"u64ced2ee\" id=\"u64ced2ee\"><span data-lake-id=\"udc19a345\" id=\"udc19a345\"> 编写配置文件 </span><span data-lake-id=\"u749aae27\" id=\"u749aae27\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22properties%22%2C%22code%22%3A%22%23%20%E9%85%8D%E7%BD%AEredis%5Cnspring.redis.host%3D39.99.xxx.xx%5Cnspring.redis.port%3D6379%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c4b03e2e%22%7D\"></card><ol list=\"ua73b04fe\" start=\"2\"><li fid=\"u8a3b0c91\" data-lake-id=\"u681025a2\" id=\"u681025a2\"><span data-lake-id=\"u41ef1774\" id=\"u41ef1774\"> 使用RedisTemplate </span><span data-lake-id=\"u1e6ebe5d\" id=\"u1e6ebe5d\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%40SpringBootTest%5Cnclass%20Redis02SpringbootApplicationTests%20%7B%5Cn%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20RedisTemplate%20redisTemplate%3B%5Cn%5Cn%20%20%20%20%40Test%5Cn%20%20%20%20void%20contextLoads()%20%7B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20redisTemplate%20%E6%93%8D%E4%BD%9C%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8Capi%E5%92%8C%E6%88%91%E4%BB%AC%E7%9A%84%E6%8C%87%E4%BB%A4%E6%98%AF%E4%B8%80%E6%A0%B7%E7%9A%84%5Cn%20%20%20%20%20%20%20%20%2F%2F%20opsForValue%20%E6%93%8D%E4%BD%9C%E5%AD%97%E7%AC%A6%E4%B8%B2%20%E7%B1%BB%E4%BC%BCString%5Cn%20%20%20%20%20%20%20%20%2F%2F%20opsForList%20%E6%93%8D%E4%BD%9CList%20%E7%B1%BB%E4%BC%BCList%5Cn%20%20%20%20%20%20%20%20%2F%2F%20opsForHah%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E9%99%A4%E4%BA%86%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E9%83%BD%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E9%80%9A%E8%BF%87redisTemplate%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%AF%94%E5%A6%82%E4%BA%8B%E5%8A%A1%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%9A%84CRUD%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20%20%20%20%20%2F%2FRedisConnection%20connection%20%3D%20redisTemplate.getConnectionFactory().getConnection()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fconnection.flushDb()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fconnection.flushAll()%3B%5Cn%5Cn%20%20%20%20%20%20%20%20redisTemplate.opsForValue().set(%5C%22mykey%5C%22%2C%5C%22kuangshen%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20System.out.println(redisTemplate.opsForValue().get(%5C%22mykey%5C%22))%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%220108a3e6%22%7D\"></card><ol list=\"u62096468\" start=\"3\"><li fid=\"u3ff22b76\" data-lake-id=\"uf2fb7e44\" id=\"uf2fb7e44\"><span data-lake-id=\"u700089ac\" id=\"u700089ac\"> 测试结果<br /></span><strong><span data-lake-id=\"ua2b50578\" id=\"ua2b50578\">此时我们回到Redis查看数据时候，惊奇发现全是乱码，可是程序中可以正常输出：</span></strong><span data-lake-id=\"u938064d9\" id=\"u938064d9\"><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214734520.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A525%2C%22originHeight%22%3A182%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22l9ss1%22%7D\"></card><span data-lake-id=\"u4decfc20\" id=\"u4decfc20\"><br /></span><span data-lake-id=\"u823e08f5\" id=\"u823e08f5\">这时候就关系到存储对象的序列化问题，在网络中传输的对象也是一样需要序列化，否者就全是乱码。<br /></span><span data-lake-id=\"u8c1e419f\" id=\"u8c1e419f\">我们转到看那个默认的RedisTemplate内部什么样子：<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214746506.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1193%2C%22originHeight%22%3A288%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22rZDN6%22%7D\"></card><span data-lake-id=\"u2a57d076\" id=\"u2a57d076\"><br /></span><span data-lake-id=\"u128ba789\" id=\"u128ba789\">在最开始就能看到几个关于序列化的参数。<br /></span><span data-lake-id=\"uc7bfbbda\" id=\"uc7bfbbda\">默认的序列化器是采用JDK序列化器<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214757247.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A816%2C%22originHeight%22%3A50%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22CbTP8%22%7D\"></card><span data-lake-id=\"u79f97e0d\" id=\"u79f97e0d\"><br /></span><span data-lake-id=\"ud07c02d8\" id=\"ud07c02d8\">而默认的RedisTemplate中的所有序列化器都是使用这个序列化器：<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214809494.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A799%2C%22originHeight%22%3A586%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22AzzAU%22%7D\"></card><span data-lake-id=\"ubba0eb02\" id=\"ubba0eb02\"><br /></span><span data-lake-id=\"u5a542a4c\" id=\"u5a542a4c\">后续我们定制RedisTemplate就可以对其进行修改。<br /></span><code data-lake-id=\"u5f0e7c33\" id=\"u5f0e7c33\"><span data-lake-id=\"u42cd6822\" id=\"u42cd6822\">RedisSerializer</span></code><span data-lake-id=\"u846680d4\" id=\"u846680d4\">提供了多种序列化方案： </span></li></ol><ul list=\"u62634b3f\" data-lake-indent=\"1\"><li fid=\"uda6a8322\" data-lake-id=\"u7c9add29\" id=\"u7c9add29\"><span data-lake-id=\"u2710db98\" id=\"u2710db98\"> 直接调用RedisSerializer的静态方法来返回序列化器，然后set<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214818682.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A457%2C%22originHeight%22%3A312%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22MOE1T%22%7D\"></card><span data-lake-id=\"u5c28249f\" id=\"u5c28249f\"> </span></li></ul><ul list=\"u6db7587e\" data-lake-indent=\"1\"><li fid=\"u44f32771\" data-lake-id=\"u2b7c0209\" id=\"u2b7c0209\"><span data-lake-id=\"u5f7d8eb8\" id=\"u5f7d8eb8\"> 自己new 相应的实现类，然后set<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214827233.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A602%2C%22originHeight%22%3A335%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22R3cPV%22%7D\"></card><span data-lake-id=\"u87ec2a89\" id=\"u87ec2a89\"> </span></li></ul><p data-lake-id=\"uf370af3c\" id=\"uf370af3c\"><span data-lake-id=\"uc99eb540\" id=\"uc99eb540\"> </span></p><ol list=\"ueb7dc2fd\" start=\"4\"><li fid=\"u74e24fa7\" data-lake-id=\"uaf1d0610\" id=\"uaf1d0610\"><span data-lake-id=\"u1508525d\" id=\"u1508525d\"> </span><strong><span data-lake-id=\"u5072e545\" id=\"u5072e545\">定制RedisTemplate的模板：</span></strong><span data-lake-id=\"uf5b08b28\" id=\"uf5b08b28\"><br /></span><span data-lake-id=\"udc9eef00\" id=\"udc9eef00\">我们创建一个Bean加入容器，就会触发RedisTemplate上的条件注解使默认的RedisTemplate失效。 </span><span data-lake-id=\"u6f522e9d\" id=\"u6f522e9d\"><br /></span><span data-lake-id=\"u8c6d5ace\" id=\"u8c6d5ace\">这样一来，只要实体类进行了序列化，我们存什么都不会有乱码的担忧了。<br /></span><span data-lake-id=\"ubbaf231b\" id=\"ubbaf231b\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oc8kJP08-1597890996523)(狂神说 Redis.assets/image-20200817175638086.png)] </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%40Configuration%5Cnpublic%20class%20RedisConfig%20%7B%5Cn%5Cn%20%20%20%40Bean%5Cn%20%20%20%20public%20RedisTemplate%3CString%2C%20Object%3E%20redisTemplate(RedisConnectionFactory%20redisConnectionFactory)%20throws%20UnknownHostException%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E5%B0%86template%20%E6%B3%9B%E5%9E%8B%E8%AE%BE%E7%BD%AE%E4%B8%BA%20%3CString%2C%20Object%3E%5Cn%20%20%20%20%20%20%20%20RedisTemplate%3CString%2C%20Object%3E%20template%20%3D%20new%20RedisTemplate()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E8%BF%9E%E6%8E%A5%E5%B7%A5%E5%8E%82%EF%BC%8C%E4%B8%8D%E5%BF%85%E4%BF%AE%E6%94%B9%5Cn%20%20%20%20%20%20%20%20template.setConnectionFactory(redisConnectionFactory)%3B%5Cn%20%20%20%20%20%20%20%20%2F*%5Cn%20%20%20%20%20%20%20%20%20*%20%E5%BA%8F%E5%88%97%E5%8C%96%E8%AE%BE%E7%BD%AE%5Cn%20%20%20%20%20%20%20%20%20*%2F%5Cn%20%20%20%20%20%20%20%20%2F%2F%20key%E3%80%81hash%E7%9A%84key%20%E9%87%87%E7%94%A8%20String%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F%5Cn%20%20%20%20%20%20%20%20template.setKeySerializer(RedisSerializer.string())%3B%5Cn%20%20%20%20%20%20%20%20template.setHashKeySerializer(RedisSerializer.string())%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20value%E3%80%81hash%E7%9A%84value%20%E9%87%87%E7%94%A8%20Jackson%20%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F%5Cn%20%20%20%20%20%20%20%20template.setValueSerializer(RedisSerializer.json())%3B%5Cn%20%20%20%20%20%20%20%20template.setHashValueSerializer(RedisSerializer.json())%3B%5Cn%20%20%20%20%20%20%20%20template.afterPropertiesSet()%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20return%20template%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e79cc4ab%22%7D\"></card><p data-lake-id=\"u090a86f8\" id=\"u090a86f8\"><br></p><h2 data-lake-id=\"c3e4416a\" id=\"c3e4416a\"><span data-lake-id=\"u87643dca\" id=\"u87643dca\">八、自定义Redis工具类</span></h2><p data-lake-id=\"u7c3d481c\" id=\"u7c3d481c\"><br></p><p data-lake-id=\"uadb8c77d\" id=\"uadb8c77d\"><span data-lake-id=\"ub583fa1b\" id=\"ub583fa1b\">使用RedisTemplate需要频繁调用</span><code data-lake-id=\"u72e9213e\" id=\"u72e9213e\"><span data-lake-id=\"uc3ed9154\" id=\"uc3ed9154\">.opForxxx</span></code><span data-lake-id=\"u4e887448\" id=\"u4e887448\">然后才能进行对应的操作，这样使用起来代码效率低下，工作中一般不会这样使用，而是将这些常用的公共API抽取出来封装成为一个工具类，然后直接使用工具类来间接操作Redis,不但效率高并且易用。</span></p><p data-lake-id=\"uc11b0cb9\" id=\"uc11b0cb9\"><br></p><p data-lake-id=\"u1e8b749f\" id=\"u1e8b749f\"><span data-lake-id=\"u336f273a\" id=\"u336f273a\">工具类参考博客：</span></p><p data-lake-id=\"uf07bfa10\" id=\"uf07bfa10\"><br></p><p data-lake-id=\"ube51776e\" id=\"ube51776e\"><a href=\"https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html\" target=\"_blank\" data-lake-id=\"u3bcee961\" id=\"u3bcee961\"><span data-lake-id=\"u0fb57918\" id=\"u0fb57918\">https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html</span></a></p><p data-lake-id=\"ub13f4cfd\" id=\"ub13f4cfd\"><br></p><p data-lake-id=\"ud5e7aa08\" id=\"ud5e7aa08\"><a href=\"https://www.cnblogs.com/zhzhlong/p/11434284.html\" target=\"_blank\" data-lake-id=\"u4858a76d\" id=\"u4858a76d\"><span data-lake-id=\"u7767030e\" id=\"u7767030e\">https://www.cnblogs.com/zhzhlong/p/11434284.html</span></a></p><p data-lake-id=\"ua1387997\" id=\"ua1387997\"><br></p><h2 data-lake-id=\"8f0c6da4\" id=\"8f0c6da4\"><span data-lake-id=\"u3daf2580\" id=\"u3daf2580\">九、Redis.conf</span></h2><p data-lake-id=\"uc602d993\" id=\"uc602d993\"><br></p><blockquote data-lake-id=\"u1ea924e4\" id=\"u1ea924e4\"><p data-lake-id=\"u47f97a46\" id=\"u47f97a46\"><span data-lake-id=\"u414a8bd7\" id=\"u414a8bd7\">容量单位不区分大小写，G和GB有区别</span></p></blockquote><p data-lake-id=\"u8b64abea\" id=\"u8b64abea\"><br></p><p data-lake-id=\"u7c2ca540\" id=\"u7c2ca540\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321485460.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1008%2C%22originHeight%22%3A349%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22yG8r0%22%7D\"></card></p><p data-lake-id=\"ube5767f0\" id=\"ube5767f0\"><br></p><blockquote data-lake-id=\"ub3e84e2e\" id=\"ub3e84e2e\"><p data-lake-id=\"ub6582592\" id=\"ub6582592\"><span data-lake-id=\"uadccaa17\" id=\"uadccaa17\">可以使用 include 组合多个配置问题</span></p></blockquote><p data-lake-id=\"u6719ddda\" id=\"u6719ddda\"><br></p><p data-lake-id=\"u20e6ce0e\" id=\"u20e6ce0e\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214902552.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A604%2C%22originHeight%22%3A99%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22jQb9i%22%7D\"></card></p><p data-lake-id=\"u76565c26\" id=\"u76565c26\"><br></p><blockquote data-lake-id=\"u39eabdb4\" id=\"u39eabdb4\"><p data-lake-id=\"u7c1f9ea4\" id=\"u7c1f9ea4\"><span data-lake-id=\"u84ab1a5c\" id=\"u84ab1a5c\">网络配置</span></p></blockquote><p data-lake-id=\"u7693dfdf\" id=\"u7693dfdf\"><br></p><p data-lake-id=\"u1e7dd80a\" id=\"u1e7dd80a\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214912813.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1193%2C%22originHeight%22%3A741%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22YZOg5%22%7D\"></card></p><p data-lake-id=\"u76a49ace\" id=\"u76a49ace\"><br></p><blockquote data-lake-id=\"ud7cfc44b\" id=\"ud7cfc44b\"><p data-lake-id=\"u9f9a5fe6\" id=\"u9f9a5fe6\"><span data-lake-id=\"u7e1a80b0\" id=\"u7e1a80b0\">日志输出级别</span></p></blockquote><p data-lake-id=\"ue7f8ecb4\" id=\"ue7f8ecb4\"><br></p><p data-lake-id=\"uf934ee99\" id=\"uf934ee99\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214923678.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A970%2C%22originHeight%22%3A261%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22mZ4Hy%22%7D\"></card></p><p data-lake-id=\"u42174639\" id=\"u42174639\"><br></p><blockquote data-lake-id=\"u77cedadf\" id=\"u77cedadf\"><p data-lake-id=\"udbae85eb\" id=\"udbae85eb\"><span data-lake-id=\"u80abf3c1\" id=\"u80abf3c1\">日志输出文件</span></p></blockquote><p data-lake-id=\"u00a254f2\" id=\"u00a254f2\"><br></p><p data-lake-id=\"u4ca54867\" id=\"u4ca54867\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214933713.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A847%2C%22originHeight%22%3A138%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22c28ja%22%7D\"></card></p><p data-lake-id=\"ua8b2c0f3\" id=\"ua8b2c0f3\"><br></p><blockquote data-lake-id=\"ua6901de6\" id=\"ua6901de6\"><p data-lake-id=\"u170c5b0f\" id=\"u170c5b0f\"><span data-lake-id=\"u4c1734b6\" id=\"u4c1734b6\">持久化规则</span></p></blockquote><p data-lake-id=\"u9a75019b\" id=\"u9a75019b\"><br></p><p data-lake-id=\"u0b11c061\" id=\"u0b11c061\"><span data-lake-id=\"ue35c6997\" id=\"ue35c6997\">由于Redis是基于内存的数据库，需要将数据由内存持久化到文件中</span></p><p data-lake-id=\"uaffc43c9\" id=\"uaffc43c9\"><br></p><p data-lake-id=\"u2f287fc2\" id=\"u2f287fc2\"><span data-lake-id=\"ubf1af7a5\" id=\"ubf1af7a5\">持久化方式：</span></p><p data-lake-id=\"u8fadb186\" id=\"u8fadb186\"><br></p><ul list=\"u6f138677\"><li fid=\"u1b8d81fb\" data-lake-id=\"ud6689058\" id=\"ud6689058\"><span data-lake-id=\"ube995f40\" id=\"ube995f40\">RDB</span></li></ul><ul list=\"u7874af44\"><li fid=\"u8486bf8d\" data-lake-id=\"u08041462\" id=\"u08041462\"><span data-lake-id=\"ud066c872\" id=\"ud066c872\">AOF</span></li></ul><p data-lake-id=\"u05bc924a\" id=\"u05bc924a\"><br></p><p data-lake-id=\"ue0434343\" id=\"ue0434343\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214944964.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A668%2C%22originHeight%22%3A202%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22DYGFT%22%7D\"></card></p><p data-lake-id=\"ue643965c\" id=\"ue643965c\"><br></p><blockquote data-lake-id=\"u272a27fe\" id=\"u272a27fe\"><p data-lake-id=\"u6c37378c\" id=\"u6c37378c\"><span data-lake-id=\"uf0639b0e\" id=\"uf0639b0e\">RDB文件相关</span></p></blockquote><p data-lake-id=\"uf5921402\" id=\"uf5921402\"><br></p><p data-lake-id=\"ua2e2cb1e\" id=\"ua2e2cb1e\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214955679.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1115%2C%22originHeight%22%3A721%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22MXxbw%22%7D\"></card></p><p data-lake-id=\"u5dc7b793\" id=\"u5dc7b793\"><br></p><p data-lake-id=\"ud7c71444\" id=\"ud7c71444\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215006207.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A656%2C%22originHeight%22%3A88%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22oBhgq%22%7D\"></card></p><p data-lake-id=\"ua3ec7929\" id=\"ua3ec7929\"><br></p><blockquote data-lake-id=\"u342bad38\" id=\"u342bad38\"><p data-lake-id=\"u4c3ccb71\" id=\"u4c3ccb71\"><span data-lake-id=\"u94c40c91\" id=\"u94c40c91\">主从复制</span></p></blockquote><p data-lake-id=\"u3e01d9d4\" id=\"u3e01d9d4\"><br></p><p data-lake-id=\"u53ce12fc\" id=\"u53ce12fc\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215016371.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1033%2C%22originHeight%22%3A140%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22FUUTH%22%7D\"></card></p><p data-lake-id=\"u1e50436b\" id=\"u1e50436b\"><br></p><blockquote data-lake-id=\"ub8534b85\" id=\"ub8534b85\"><p data-lake-id=\"u4920904b\" id=\"u4920904b\"><span data-lake-id=\"u86b3006b\" id=\"u86b3006b\">Security模块中进行密码设置</span></p></blockquote><p data-lake-id=\"uead5d736\" id=\"uead5d736\"><br></p><p data-lake-id=\"u46a45fca\" id=\"u46a45fca\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215026143.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A777%2C%22originHeight%22%3A107%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22TeOFZ%22%7D\"></card></p><p data-lake-id=\"uc33f5a14\" id=\"uc33f5a14\"><br></p><blockquote data-lake-id=\"u4e530fc7\" id=\"u4e530fc7\"><p data-lake-id=\"ub616e832\" id=\"ub616e832\"><span data-lake-id=\"u56d04370\" id=\"u56d04370\">客户端连接相关</span></p></blockquote><p data-lake-id=\"u379dcbfd\" id=\"u379dcbfd\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22maxclients%2010000%20%20%E6%9C%80%E5%A4%A7%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E9%87%8F%5Cnmaxmemory%20%3Cbytes%3E%20%E6%9C%80%E5%A4%A7%E5%86%85%E5%AD%98%E9%99%90%E5%88%B6%5Cnmaxmemory-policy%20noeviction%20%23%20%E5%86%85%E5%AD%98%E8%BE%BE%E5%88%B0%E9%99%90%E5%88%B6%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22aba4effa%22%7D\"></card><p data-lake-id=\"uec881814\" id=\"uec881814\"><br></p><p data-lake-id=\"u23270475\" id=\"u23270475\"><span data-lake-id=\"u81e372ff\" id=\"u81e372ff\">redis 中的</span><strong><span data-lake-id=\"u9ed33470\" id=\"u9ed33470\">默认</span></strong><span data-lake-id=\"uc61e85f5\" id=\"uc61e85f5\">的过期策略是 </span><strong><span data-lake-id=\"u461853fb\" id=\"u461853fb\">volatile-lru</span></strong><span data-lake-id=\"u53aedddd\" id=\"u53aedddd\"> 。</span></p><p data-lake-id=\"u7d998f34\" id=\"u7d998f34\"><br></p><p data-lake-id=\"ue5238ec4\" id=\"ue5238ec4\"><strong><span data-lake-id=\"u2aefc057\" id=\"u2aefc057\">设置方式</span></strong></p><p data-lake-id=\"ue1abc440\" id=\"ue1abc440\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22config%20set%20maxmemory-policy%20volatile-lru%20%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ba757f23%22%7D\"></card><p data-lake-id=\"ue590e105\" id=\"ue590e105\"><br></p><h4 data-lake-id=\"2c0ecb4b\" id=\"2c0ecb4b\"><strong><span data-lake-id=\"ue8eecbc3\" id=\"ue8eecbc3\">maxmemory-policy 六种方式</span></strong></h4><p data-lake-id=\"uc53629ec\" id=\"uc53629ec\"><br></p><p data-lake-id=\"u644df074\" id=\"u644df074\"><strong><span data-lake-id=\"ub9758a1a\" id=\"ub9758a1a\">1、volatile-lru：</span></strong><span data-lake-id=\"u1e9d38b3\" id=\"u1e9d38b3\">只对设置了过期时间的key进行LRU（默认值）</span></p><p data-lake-id=\"ubffcf6c7\" id=\"ubffcf6c7\"><br></p><p data-lake-id=\"uc4044e8b\" id=\"uc4044e8b\"><strong><span data-lake-id=\"u237c3929\" id=\"u237c3929\">2、allkeys-lru ：</span></strong><span data-lake-id=\"ue0177a1b\" id=\"ue0177a1b\"> 删除lru算法的key</span></p><p data-lake-id=\"u29ebe660\" id=\"u29ebe660\"><br></p><p data-lake-id=\"uba57087d\" id=\"uba57087d\"><strong><span data-lake-id=\"ub270cd10\" id=\"ub270cd10\">3、volatile-random：</span></strong><span data-lake-id=\"u1d97ad38\" id=\"u1d97ad38\">随机删除即将过期key</span></p><p data-lake-id=\"u6aa21fb9\" id=\"u6aa21fb9\"><br></p><p data-lake-id=\"u85733ca5\" id=\"u85733ca5\"><strong><span data-lake-id=\"ubc60c3c6\" id=\"ubc60c3c6\">4、allkeys-random：</span></strong><span data-lake-id=\"u40b0a098\" id=\"u40b0a098\">随机删除</span></p><p data-lake-id=\"u9c55e500\" id=\"u9c55e500\"><br></p><p data-lake-id=\"ud33bc804\" id=\"ud33bc804\"><strong><span data-lake-id=\"u2ee4b868\" id=\"u2ee4b868\">5、volatile-ttl ：</span></strong><span data-lake-id=\"u810806bd\" id=\"u810806bd\"> 删除即将过期的</span></p><p data-lake-id=\"uf2e57554\" id=\"uf2e57554\"><br></p><p data-lake-id=\"u8d393040\" id=\"u8d393040\"><strong><span data-lake-id=\"ub55483f0\" id=\"ub55483f0\">6、noeviction ：</span></strong><span data-lake-id=\"u44b71b34\" id=\"u44b71b34\"> 永不过期，返回错误</span></p><p data-lake-id=\"u856ae119\" id=\"u856ae119\"><br></p><blockquote data-lake-id=\"ua54f37f1\" id=\"ua54f37f1\"><p data-lake-id=\"u393ba2f2\" id=\"u393ba2f2\"><span data-lake-id=\"u7240adbf\" id=\"u7240adbf\">AOF相关部分</span></p></blockquote><p data-lake-id=\"u67afae48\" id=\"u67afae48\"><br></p><p data-lake-id=\"u69f9c919\" id=\"u69f9c919\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215037918.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1040%2C%22originHeight%22%3A146%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22gu6Y1%22%7D\"></card></p><p data-lake-id=\"ud2ef98a0\" id=\"ud2ef98a0\"><br></p><p data-lake-id=\"uaae61804\" id=\"uaae61804\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215047999.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1014%2C%22originHeight%22%3A136%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Jsq9r%22%7D\"></card></p><p data-lake-id=\"u1db2091e\" id=\"u1db2091e\"><br></p><h2 data-lake-id=\"5bcafd56\" id=\"5bcafd56\"><span data-lake-id=\"u37dc1022\" id=\"u37dc1022\">十、持久化—RDB</span></h2><p data-lake-id=\"ud3b020c8\" id=\"ud3b020c8\"><br></p><p data-lake-id=\"u79b2ae5b\" id=\"u79b2ae5b\"><span data-lake-id=\"uaf5ba1be\" id=\"uaf5ba1be\">RDB：Redis Databases</span></p><p data-lake-id=\"u70d93943\" id=\"u70d93943\"><br></p><p data-lake-id=\"uba8b9e44\" id=\"uba8b9e44\"><span data-lake-id=\"u7360d75d\" id=\"u7360d75d\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-C0mm1D4A-1597890996524)(狂神说 Redis.assets/image-20200818122236614.png)]</span></p><p data-lake-id=\"ucdc46481\" id=\"ucdc46481\"><br></p><h3 data-lake-id=\"46096430\" id=\"46096430\"><span data-lake-id=\"ucd1056f9\" id=\"ucd1056f9\">什么是RDB</span></h3><card type=\"block\" name=\"hr\" value=\"data:undefined\"></card><p data-lake-id=\"u3d665765\" id=\"u3d665765\"><span data-lake-id=\"ue2148317\" id=\"ue2148317\">在指定时间间隔后，将内存中的数据集快照写入数据库 ；在恢复时候，直接读取快照文件，进行数据的恢复 ；</span></p><p data-lake-id=\"u2d4736fc\" id=\"u2d4736fc\"><br></p><p data-lake-id=\"uad0c6a74\" id=\"uad0c6a74\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215126515.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A443%2C%22originHeight%22%3A262%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22WjrQk%22%7D\"></card></p><p data-lake-id=\"u48862748\" id=\"u48862748\"><br></p><p data-lake-id=\"u14c9be62\" id=\"u14c9be62\"><span data-lake-id=\"u6ab989c3\" id=\"u6ab989c3\">默认情况下， Redis 将数据库快照保存在名字为 dump.rdb的二进制文件中。文件名可以在配置文件中进行自定义。</span></p><p data-lake-id=\"u371207c3\" id=\"u371207c3\"><br></p><h3 data-lake-id=\"b3fbd195\" id=\"b3fbd195\"><span data-lake-id=\"uedb8cc4d\" id=\"uedb8cc4d\">工作原理</span></h3><card type=\"block\" name=\"hr\" value=\"data:undefined\"></card><p data-lake-id=\"u80c2f7d7\" id=\"u80c2f7d7\"><span data-lake-id=\"u145c1de6\" id=\"u145c1de6\">在进行 </span><code data-lake-id=\"ud105d76e\" id=\"ud105d76e\"><strong><span data-lake-id=\"u36b3e43f\" id=\"u36b3e43f\">RDB</span></strong></code><span data-lake-id=\"u9f6ca8e1\" id=\"u9f6ca8e1\"> 的时候，</span><code data-lake-id=\"ud025048e\" id=\"ud025048e\"><strong><span data-lake-id=\"u4b0b8b9e\" id=\"u4b0b8b9e\">redis</span></strong></code><span data-lake-id=\"u989c1621\" id=\"u989c1621\"> 的主线程是不会做 </span><code data-lake-id=\"uda7df450\" id=\"uda7df450\"><strong><span data-lake-id=\"u294f3a30\" id=\"u294f3a30\">io</span></strong></code><span data-lake-id=\"uf2d6e77c\" id=\"uf2d6e77c\"> 操作的，主线程会 </span><code data-lake-id=\"uc0da798d\" id=\"uc0da798d\"><strong><span data-lake-id=\"u41753bbc\" id=\"u41753bbc\">fork</span></strong></code><span data-lake-id=\"ud5ecfb01\" id=\"ud5ecfb01\"> 一个子线程来完成该操作；</span></p><p data-lake-id=\"ubc3822e1\" id=\"ubc3822e1\"><br></p><ol list=\"u966c5be9\"><li fid=\"uf0593ce9\" data-lake-id=\"u0bfb3bbe\" id=\"u0bfb3bbe\"><span data-lake-id=\"u43f3728a\" id=\"u43f3728a\">Redis 调用forks。同时拥有父进程和子进程。</span></li></ol><ol list=\"ud3977544\" start=\"2\"><li fid=\"u669edb76\" data-lake-id=\"u5969f44b\" id=\"u5969f44b\"><span data-lake-id=\"u1d6e79ea\" id=\"u1d6e79ea\">子进程将数据集写入到一个临时 RDB 文件中。</span></li></ol><ol list=\"u73b3b3f1\" start=\"3\"><li fid=\"u4f0cc935\" data-lake-id=\"ue4c6ef38\" id=\"ue4c6ef38\"><span data-lake-id=\"u92fa3a56\" id=\"u92fa3a56\">当子进程完成对新 RDB 文件的写入时，Redis 用新 RDB 文件替换原来的 RDB 文件，并删除旧的 RDB 文件。</span></li></ol><p data-lake-id=\"ua08da69c\" id=\"ua08da69c\"><br></p><p data-lake-id=\"u1f09d46e\" id=\"u1f09d46e\"><span data-lake-id=\"uea67f44f\" id=\"uea67f44f\">这种工作方式使得 Redis 可以从写时复制（copy-on-write）机制中获益(因为是使用子进程进行写操作，而父进程依然可以接收来自客户端的请求。)</span></p><p data-lake-id=\"u765edd62\" id=\"u765edd62\"><br></p><p data-lake-id=\"u85c5a0a7\" id=\"u85c5a0a7\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215141519.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A592%2C%22originHeight%22%3A307%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22w9GKz%22%7D\"></card></p><p data-lake-id=\"udc2463ea\" id=\"udc2463ea\"><br></p><h3 data-lake-id=\"5e1a77c8\" id=\"5e1a77c8\"><span data-lake-id=\"u2b52be4f\" id=\"u2b52be4f\">触发机制</span></h3><card type=\"block\" name=\"hr\" value=\"data:undefined\"></card><ol list=\"ua2e44a9d\"><li fid=\"uf2439005\" data-lake-id=\"u379f1399\" id=\"u379f1399\"><span data-lake-id=\"u62750058\" id=\"u62750058\">save的规则满足的情况下，会自动触发rdb原则</span></li></ol><ol list=\"ua5796951\" start=\"2\"><li fid=\"u7fbb652c\" data-lake-id=\"ufe0062b2\" id=\"ufe0062b2\"><span data-lake-id=\"u90297e4c\" id=\"u90297e4c\">执行flushall命令，也会触发我们的rdb原则</span></li></ol><ol list=\"u6e61e51a\" start=\"3\"><li fid=\"u02bfbe1b\" data-lake-id=\"ubd10a341\" id=\"ubd10a341\"><span data-lake-id=\"u23649da6\" id=\"u23649da6\">退出redis，也会自动产生rdb文件</span></li></ol><p data-lake-id=\"u2039d8b5\" id=\"u2039d8b5\"><br></p><h4 data-lake-id=\"save\" id=\"save\"><span data-lake-id=\"u06cce08d\" id=\"u06cce08d\">save</span></h4><p data-lake-id=\"u0276b6c7\" id=\"u0276b6c7\"><br></p><p data-lake-id=\"u159c3407\" id=\"u159c3407\"><span data-lake-id=\"u0b8291ee\" id=\"u0b8291ee\">使用 </span><code data-lake-id=\"u5610173c\" id=\"u5610173c\"><span data-lake-id=\"u1c314b74\" id=\"u1c314b74\">save</span></code><span data-lake-id=\"u78647616\" id=\"u78647616\"> 命令，会立刻对当前内存中的数据进行持久化 ,但是会阻塞，也就是不接受其他操作了；</span></p><p data-lake-id=\"u3e1839de\" id=\"u3e1839de\"><br></p><blockquote data-lake-id=\"u89f30b10\" id=\"u89f30b10\"><p data-lake-id=\"ua8efabb8\" id=\"ua8efabb8\"><span data-lake-id=\"uafb4885f\" id=\"uafb4885f\">由于 </span><code data-lake-id=\"u640dbd4c\" id=\"u640dbd4c\"><span data-lake-id=\"uae652056\" id=\"uae652056\">save</span></code><span data-lake-id=\"u0c5593d7\" id=\"u0c5593d7\"> 命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，</span><code data-lake-id=\"u5750b8bf\" id=\"u5750b8bf\"><span data-lake-id=\"u1322e42b\" id=\"u1322e42b\">save</span></code><span data-lake-id=\"u38736a99\" id=\"u38736a99\">命令执行速度会非常慢，阻塞所有客户端的请求。</span></p></blockquote><p data-lake-id=\"ub335285e\" id=\"ub335285e\"><br></p><p data-lake-id=\"u6fa9d7a0\" id=\"u6fa9d7a0\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215150892.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A783%2C%22originHeight%22%3A288%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22FG28P%22%7D\"></card></p><p data-lake-id=\"uc3a07273\" id=\"uc3a07273\"><br></p><h4 data-lake-id=\"d23a92c1\" id=\"d23a92c1\"><span data-lake-id=\"u4746b233\" id=\"u4746b233\">flushall命令</span></h4><p data-lake-id=\"u3084a557\" id=\"u3084a557\"><br></p><p data-lake-id=\"u35f17802\" id=\"u35f17802\"><code data-lake-id=\"u8eb2be81\" id=\"u8eb2be81\"><span data-lake-id=\"u7787e91a\" id=\"u7787e91a\">flushall</span></code><span data-lake-id=\"u5de6c712\" id=\"u5de6c712\"> 命令也会触发持久化 ；</span></p><p data-lake-id=\"u7b5285ba\" id=\"u7b5285ba\"><br></p><h4 data-lake-id=\"9fa8119d\" id=\"9fa8119d\"><span data-lake-id=\"u6ebe6e51\" id=\"u6ebe6e51\">触发持久化规则</span></h4><p data-lake-id=\"u423a484f\" id=\"u423a484f\"><br></p><p data-lake-id=\"ud64843a7\" id=\"ud64843a7\"><span data-lake-id=\"uc1a73e5b\" id=\"uc1a73e5b\">满足配置条件中的触发条件 ；</span></p><p data-lake-id=\"ub1a7ebab\" id=\"ub1a7ebab\"><br></p><blockquote data-lake-id=\"u133fea1a\" id=\"u133fea1a\"><p data-lake-id=\"u0524d539\" id=\"u0524d539\"><span data-lake-id=\"u820e1bee\" id=\"u820e1bee\">可以通过配置文件对 Redis 进行设置， 让它在“ N 秒内数据集至少有 M 个改动”这一条件被满足时， 自动进行数据集保存操作。</span></p><p data-lake-id=\"uba8f8498\" id=\"uba8f8498\"><span data-lake-id=\"ue7235f7b\" id=\"ue7235f7b\"> </span></p><p data-lake-id=\"u214894bf\" id=\"u214894bf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215205970.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A668%2C%22originHeight%22%3A202%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22z1eHe%22%7D\"></card></p></blockquote><p data-lake-id=\"ue1dd8bc4\" id=\"ue1dd8bc4\"><br></p><p data-lake-id=\"ud7149052\" id=\"ud7149052\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215220858.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A611%2C%22originHeight%22%3A253%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22i6khx%22%7D\"></card></p><p data-lake-id=\"ubca5b921\" id=\"ubca5b921\"><br></p><h4 data-lake-id=\"bgsave\" id=\"bgsave\"><span data-lake-id=\"u45951d05\" id=\"u45951d05\">bgsave</span></h4><p data-lake-id=\"u49b326e6\" id=\"u49b326e6\"><br></p><p data-lake-id=\"u17a8e57f\" id=\"u17a8e57f\"><code data-lake-id=\"u80e7a959\" id=\"u80e7a959\"><span data-lake-id=\"u29dfa7df\" id=\"u29dfa7df\">bgsave</span></code><span data-lake-id=\"u22a04437\" id=\"u22a04437\"> 是异步进行，进行持久化的时候，</span><code data-lake-id=\"ub5d4e7dc\" id=\"ub5d4e7dc\"><span data-lake-id=\"ufa0eb60e\" id=\"ufa0eb60e\">redis</span></code><span data-lake-id=\"u8feee765\" id=\"u8feee765\"> 还可以将继续响应客户端请求 ；</span></p><p data-lake-id=\"u79dd8bc9\" id=\"u79dd8bc9\"><br></p><p data-lake-id=\"ue4d668be\" id=\"ue4d668be\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321523151.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A592%2C%22originHeight%22%3A307%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22AaUif%22%7D\"></card></p><p data-lake-id=\"u5aa7cde0\" id=\"u5aa7cde0\"><br></p><p data-lake-id=\"u21e01cae\" id=\"u21e01cae\"><strong><span data-lake-id=\"u949326c4\" id=\"u949326c4\">bgsave和save对比</span></strong></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%226c9f0c4a%22%2C%22rows%22%3A6%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%226c9f0c4a%5C%22%20id%3D%5C%226c9f0c4a%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u7b0a6754%5C%22%20id%3D%5C%22u7b0a6754%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u84f5faf0%5C%22%20id%3D%5C%22u84f5faf0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25aa148b%5C%22%20id%3D%5C%22u25aa148b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud60d0e41%5C%22%20id%3D%5C%22ud60d0e41%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u682e7903%5C%22%20id%3D%5C%22u682e7903%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8248d37e%5C%22%20id%3D%5C%22u8248d37e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1ba05d76%5C%22%20id%3D%5C%22u1ba05d76%5C%22%3Esave%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6d64b6d1%5C%22%20id%3D%5C%22u6d64b6d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc1dae374%5C%22%20id%3D%5C%22uc1dae374%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u57c559d2%5C%22%20id%3D%5C%22u57c559d2%5C%22%3Ebgsave%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u1a2155eb%5C%22%20id%3D%5C%22u1a2155eb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0b6d54ed%5C%22%20id%3D%5C%22u0b6d54ed%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u80cd5196%5C%22%20id%3D%5C%22u80cd5196%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1e8133f1%5C%22%20id%3D%5C%22u1e8133f1%5C%22%3EIO%E7%B1%BB%E5%9E%8B%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22udbbd2b87%5C%22%20id%3D%5C%22udbbd2b87%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u32204119%5C%22%20id%3D%5C%22u32204119%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udce3c497%5C%22%20id%3D%5C%22udce3c497%5C%22%3E%E5%90%8C%E6%AD%A5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6ff163c4%5C%22%20id%3D%5C%22u6ff163c4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua1fe6840%5C%22%20id%3D%5C%22ua1fe6840%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0e35a086%5C%22%20id%3D%5C%22u0e35a086%5C%22%3E%E5%BC%82%E6%AD%A5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uef9adc74%5C%22%20id%3D%5C%22uef9adc74%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0e99d010%5C%22%20id%3D%5C%22u0e99d010%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u549ef95e%5C%22%20id%3D%5C%22u549ef95e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u836cf95d%5C%22%20id%3D%5C%22u836cf95d%5C%22%3E%E9%98%BB%E5%A1%9E%EF%BC%9F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc0e30977%5C%22%20id%3D%5C%22uc0e30977%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2a4d1a68%5C%22%20id%3D%5C%22u2a4d1a68%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2742acdf%5C%22%20id%3D%5C%22u2742acdf%5C%22%3E%E6%98%AF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue2d805f3%5C%22%20id%3D%5C%22ue2d805f3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uae7de3ee%5C%22%20id%3D%5C%22uae7de3ee%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u29f5079c%5C%22%20id%3D%5C%22u29f5079c%5C%22%3E%E6%98%AF%EF%BC%88%E9%98%BB%E5%A1%9E%E5%8F%91%E7%94%9F%E5%9C%A8fock()%EF%BC%8C%E9%80%9A%E5%B8%B8%E9%9D%9E%E5%B8%B8%E5%BF%AB%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub050f32d%5C%22%20id%3D%5C%22ub050f32d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uae8b45e6%5C%22%20id%3D%5C%22uae8b45e6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u18250b28%5C%22%20id%3D%5C%22u18250b28%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud54ec7cc%5C%22%20id%3D%5C%22ud54ec7cc%5C%22%3E%E5%A4%8D%E6%9D%82%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud1103723%5C%22%20id%3D%5C%22ud1103723%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1fbf78b0%5C%22%20id%3D%5C%22u1fbf78b0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf66b5a6d%5C%22%20id%3D%5C%22uf66b5a6d%5C%22%3EO(n)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ueee6a2d1%5C%22%20id%3D%5C%22ueee6a2d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udf210631%5C%22%20id%3D%5C%22udf210631%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc4226f39%5C%22%20id%3D%5C%22uc4226f39%5C%22%3EO(n)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u68aba493%5C%22%20id%3D%5C%22u68aba493%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubfb00239%5C%22%20id%3D%5C%22ubfb00239%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u432f5d27%5C%22%20id%3D%5C%22u432f5d27%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u80f1b5b2%5C%22%20id%3D%5C%22u80f1b5b2%5C%22%3E%E4%BC%98%E7%82%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9eaa0cfc%5C%22%20id%3D%5C%22u9eaa0cfc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u12fa15e2%5C%22%20id%3D%5C%22u12fa15e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u58452aa1%5C%22%20id%3D%5C%22u58452aa1%5C%22%3E%E4%B8%8D%E4%BC%9A%E6%B6%88%E8%80%97%E9%A2%9D%E5%A4%96%E7%9A%84%E5%86%85%E5%AD%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u28f29f78%5C%22%20id%3D%5C%22u28f29f78%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udf03c0f6%5C%22%20id%3D%5C%22udf03c0f6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u037f084a%5C%22%20id%3D%5C%22u037f084a%5C%22%3E%E4%B8%8D%E9%98%BB%E5%A1%9E%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ucbae697e%5C%22%20id%3D%5C%22ucbae697e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u95f9f57c%5C%22%20id%3D%5C%22u95f9f57c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3e2c3c10%5C%22%20id%3D%5C%22u3e2c3c10%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua049adeb%5C%22%20id%3D%5C%22ua049adeb%5C%22%3E%E7%BC%BA%E7%82%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucbf7b146%5C%22%20id%3D%5C%22ucbf7b146%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1841b246%5C%22%20id%3D%5C%22u1841b246%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3b0a8606%5C%22%20id%3D%5C%22u3b0a8606%5C%22%3E%E9%98%BB%E5%A1%9E%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u496b139b%5C%22%20id%3D%5C%22u496b139b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue3205852%5C%22%20id%3D%5C%22ue3205852%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1cb30b15%5C%22%20id%3D%5C%22u1cb30b15%5C%22%3E%E9%9C%80%E8%A6%81fock%E5%AD%90%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%B6%88%E8%80%97%E5%86%85%E5%AD%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u6f3199ad\" id=\"u6f3199ad\"><br></p><h3 data-lake-id=\"78102351\" id=\"78102351\"><span data-lake-id=\"u2ed7ca74\" id=\"u2ed7ca74\">优缺点</span></h3><p data-lake-id=\"u64d4b61d\" id=\"u64d4b61d\"><br></p><p data-lake-id=\"u0dbc0350\" id=\"u0dbc0350\"><strong><span data-lake-id=\"uaae173e2\" id=\"uaae173e2\">优点：</span></strong></p><p data-lake-id=\"u90cfd46f\" id=\"u90cfd46f\"><br></p><ol list=\"u43544682\"><li fid=\"u28bbf2ce\" data-lake-id=\"u0927821d\" id=\"u0927821d\"><span data-lake-id=\"u7ef190c5\" id=\"u7ef190c5\">适合大规模的数据恢复</span></li></ol><ol list=\"u14243087\" start=\"2\"><li fid=\"ub320fb8d\" data-lake-id=\"uf973cddb\" id=\"uf973cddb\"><span data-lake-id=\"u30d89335\" id=\"u30d89335\">对数据的完整性要求不高</span></li></ol><p data-lake-id=\"uc0e06e5e\" id=\"uc0e06e5e\"><br></p><p data-lake-id=\"u95bef7da\" id=\"u95bef7da\"><strong><span data-lake-id=\"u9fd08090\" id=\"u9fd08090\">缺点：</span></strong></p><p data-lake-id=\"u13be3985\" id=\"u13be3985\"><br></p><ol list=\"u022be7b6\"><li fid=\"u67af1ada\" data-lake-id=\"u094c4acf\" id=\"u094c4acf\"><span data-lake-id=\"uc45e0585\" id=\"uc45e0585\">需要一定的时间间隔进行操作，如果redis意外宕机了，这个最后一次修改的数据就没有了。</span></li></ol><ol list=\"u620ab658\" start=\"2\"><li fid=\"u7501f5f8\" data-lake-id=\"u894b6ad9\" id=\"u894b6ad9\"><span data-lake-id=\"uff939ae1\" id=\"uff939ae1\">fork进程的时候，会占用一定的内容空间。</span></li></ol><p data-lake-id=\"u6abb57f7\" id=\"u6abb57f7\"><br></p><h2 data-lake-id=\"17472ea0\" id=\"17472ea0\"><span data-lake-id=\"ua00b9ba4\" id=\"ua00b9ba4\">十一、持久化AOF</span></h2><p data-lake-id=\"u5f93aa86\" id=\"u5f93aa86\"><br></p><p data-lake-id=\"u64ed7268\" id=\"u64ed7268\"><strong><span data-lake-id=\"ue79eced9\" id=\"ue79eced9\">Append Only File</span></strong></p><p data-lake-id=\"u0390e6f0\" id=\"u0390e6f0\"><br></p><p data-lake-id=\"ucbae4a1c\" id=\"ucbae4a1c\"><span data-lake-id=\"u5d2c53ac\" id=\"u5d2c53ac\">将我们所有的命令都记录下来，history，恢复的时候就把这个文件全部再执行一遍</span></p><p data-lake-id=\"u53380480\" id=\"u53380480\"><br></p><p data-lake-id=\"u9fb67f0b\" id=\"u9fb67f0b\"><span data-lake-id=\"ud9d26324\" id=\"ud9d26324\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z8wr9lBW-1597890996525)(狂神说 Redis.assets/image-20200818123711375.png)]</span></p><p data-lake-id=\"ue84c2475\" id=\"ue84c2475\"><br></p><blockquote data-lake-id=\"uffd30328\" id=\"uffd30328\"><p data-lake-id=\"u38d5e9c6\" id=\"u38d5e9c6\"><span data-lake-id=\"u58233f0e\" id=\"u58233f0e\">以日志的形式来记录每个写的操作，将Redis执行过的所有指令记录下来（读操作不记录），只许追加文件但不可以改写文件，redis启动之初会读取该文件重新构建数据，换言之，redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作。</span></p></blockquote><p data-lake-id=\"u92f2ccdd\" id=\"u92f2ccdd\"><br></p><h3 data-lake-id=\"95180d71\" id=\"95180d71\"><span data-lake-id=\"u248bf82f\" id=\"u248bf82f\">什么是AOF</span></h3><p data-lake-id=\"uf58a3a5a\" id=\"uf58a3a5a\"><br></p><p data-lake-id=\"ubf7e8d8d\" id=\"ubf7e8d8d\"><span data-lake-id=\"u03dd9202\" id=\"u03dd9202\">快照功能（RDB）并不是非常耐久（durable）： 如果 Redis 因为某些原因而造成故障停机， 那么服务器将丢失最近写入、以及未保存到快照中的那些数据。 从 1.1 版本开始， Redis 增加了一种完全耐久的持久化方式： AOF 持久化。</span></p><p data-lake-id=\"uc8cee376\" id=\"uc8cee376\"><br></p><p data-lake-id=\"ud3c3ea5e\" id=\"ud3c3ea5e\"><span data-lake-id=\"ub36209b6\" id=\"ub36209b6\">如果要使用AOF，需要修改配置文件：</span></p><p data-lake-id=\"u68a9bf32\" id=\"u68a9bf32\"><br></p><p data-lake-id=\"u95938011\" id=\"u95938011\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215247113.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1040%2C%22originHeight%22%3A146%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22eDPNZ%22%7D\"></card></p><p data-lake-id=\"u35cf7438\" id=\"u35cf7438\"><br></p><p data-lake-id=\"u27824fa6\" id=\"u27824fa6\"><code data-lake-id=\"ud54957dd\" id=\"ud54957dd\"><span data-lake-id=\"ud7babea0\" id=\"ud7babea0\">appendonly no yes</span></code><span data-lake-id=\"u1132ea1f\" id=\"u1132ea1f\">则表示启用AOF</span></p><p data-lake-id=\"u8024b757\" id=\"u8024b757\"><br></p><p data-lake-id=\"u715a17de\" id=\"u715a17de\"><span data-lake-id=\"u085ff8e7\" id=\"u085ff8e7\">默认是不开启的，我们需要手动配置，然后重启redis，就可以生效了！</span></p><p data-lake-id=\"u9186c9dd\" id=\"u9186c9dd\"><br></p><p data-lake-id=\"u13d82eb8\" id=\"u13d82eb8\"><span data-lake-id=\"u5064cf94\" id=\"u5064cf94\">如果这个aof文件有错位，这时候redis是启动不起来的，我需要修改这个aof文件</span></p><p data-lake-id=\"u3fe023d3\" id=\"u3fe023d3\"><br></p><p data-lake-id=\"u77a02f44\" id=\"u77a02f44\"><span data-lake-id=\"u83bdadba\" id=\"u83bdadba\">redis给我们提供了一个工具</span><code data-lake-id=\"u00080168\" id=\"u00080168\"><span data-lake-id=\"ubfb1124f\" id=\"ubfb1124f\">redis-check-aof --fix</span></code></p><p data-lake-id=\"u41adc97a\" id=\"u41adc97a\"><br></p><blockquote data-lake-id=\"u27d63a8d\" id=\"u27d63a8d\"><p data-lake-id=\"u267246f3\" id=\"u267246f3\"><span data-lake-id=\"u3cc2e394\" id=\"u3cc2e394\">优点和缺点</span></p></blockquote><p data-lake-id=\"ua35e2b85\" id=\"ua35e2b85\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22appendonly%20yes%20%20%23%20%E9%BB%98%E8%AE%A4%E6%98%AF%E4%B8%8D%E5%BC%80%E5%90%AFaof%E6%A8%A1%E5%BC%8F%E7%9A%84%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF%E4%BD%BF%E7%94%A8rdb%E6%96%B9%E5%BC%8F%E6%8C%81%E4%B9%85%E5%8C%96%E7%9A%84%EF%BC%8C%E5%9C%A8%E5%A4%A7%E9%83%A8%E5%88%86%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8Crdb%E5%AE%8C%E5%85%A8%E5%A4%9F%E7%94%A8%5Cnappendfilename%20%5C%22appendonly.aof%5C%22%5Cn%5Cn%23%20appendfsync%20always%20%23%20%E6%AF%8F%E6%AC%A1%E4%BF%AE%E6%94%B9%E9%83%BD%E4%BC%9Async%20%E6%B6%88%E8%80%97%E6%80%A7%E8%83%BD%5Cnappendfsync%20everysec%20%23%20%E6%AF%8F%E7%A7%92%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%20sync%20%E5%8F%AF%E8%83%BD%E4%BC%9A%E4%B8%A2%E5%A4%B1%E8%BF%99%E4%B8%80%E7%A7%92%E7%9A%84%E6%95%B0%E6%8D%AE%5Cn%23%20appendfsync%20no%20%23%20%E4%B8%8D%E6%89%A7%E8%A1%8C%20sync%20%2C%E8%BF%99%E6%97%B6%E5%80%99%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B7%B1%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%80%9F%E5%BA%A6%E6%9C%80%E5%BF%AB%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2283a59208%22%7D\"></card><p data-lake-id=\"u7ba9ac4e\" id=\"u7ba9ac4e\"><br></p><p data-lake-id=\"u125250aa\" id=\"u125250aa\"><strong><span data-lake-id=\"uaebd8ddc\" id=\"uaebd8ddc\">优点</span></strong></p><p data-lake-id=\"u0fc9e68e\" id=\"u0fc9e68e\"><br></p><ol list=\"u080a0564\"><li fid=\"ue0552316\" data-lake-id=\"u266f5620\" id=\"u266f5620\"><span data-lake-id=\"u432629a3\" id=\"u432629a3\">每一次修改都会同步，文件的完整性会更加好</span></li></ol><ol list=\"ua6bf47f0\" start=\"2\"><li fid=\"u23b7aae8\" data-lake-id=\"ue88cbae1\" id=\"ue88cbae1\"><span data-lake-id=\"u6d896d8b\" id=\"u6d896d8b\">没秒同步一次，可能会丢失一秒的数据</span></li></ol><ol list=\"u46f6f6ca\" start=\"3\"><li fid=\"ube4fea5f\" data-lake-id=\"u85aa6b5a\" id=\"u85aa6b5a\"><span data-lake-id=\"u4c253961\" id=\"u4c253961\">从不同步，效率最高</span></li></ol><p data-lake-id=\"ue0639350\" id=\"ue0639350\"><br></p><p data-lake-id=\"u29eb120a\" id=\"u29eb120a\"><strong><span data-lake-id=\"uee95eddb\" id=\"uee95eddb\">缺点</span></strong></p><p data-lake-id=\"ua2010e49\" id=\"ua2010e49\"><br></p><ol list=\"u5093acd6\"><li fid=\"u986e28c3\" data-lake-id=\"u5f272555\" id=\"u5f272555\"><span data-lake-id=\"ucbdafed6\" id=\"ucbdafed6\">相对于数据文件来说，aof远远大于rdb，修复速度比rdb慢！</span></li></ol><ol list=\"u594b462c\" start=\"2\"><li fid=\"ua597cd4d\" data-lake-id=\"u9e27a723\" id=\"u9e27a723\"><span data-lake-id=\"u01140310\" id=\"u01140310\">Aof运行效率也要比rdb慢，所以我们redis默认的配置就是rdb持久化</span></li></ol><p data-lake-id=\"u57d0cb83\" id=\"u57d0cb83\"><br></p><h2 data-lake-id=\"7ee877b2\" id=\"7ee877b2\"><span data-lake-id=\"u8b1cbdbb\" id=\"u8b1cbdbb\">十二、RDB和AOP选择</span></h2><p data-lake-id=\"u21c34dea\" id=\"u21c34dea\"><br></p><h3 data-lake-id=\"9a4822ca\" id=\"9a4822ca\"><span data-lake-id=\"ue7268993\" id=\"ue7268993\">RDB 和 AOF 对比</span></h3><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%224717e3a8%22%2C%22rows%22%3A5%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%224717e3a8%5C%22%20id%3D%5C%224717e3a8%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u949c3da2%5C%22%20id%3D%5C%22u949c3da2%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubeaea6de%5C%22%20id%3D%5C%22ubeaea6de%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7ae1aa36%5C%22%20id%3D%5C%22u7ae1aa36%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf8293061%5C%22%20id%3D%5C%22uf8293061%5C%22%3ERDB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u195ae755%5C%22%20id%3D%5C%22u195ae755%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u175b3640%5C%22%20id%3D%5C%22u175b3640%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub338b1ab%5C%22%20id%3D%5C%22ub338b1ab%5C%22%3EAOF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u522c3e99%5C%22%20id%3D%5C%22u522c3e99%5C%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u558fe6c6%5C%22%20id%3D%5C%22u558fe6c6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud6606d07%5C%22%20id%3D%5C%22ud6606d07%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udae43293%5C%22%20id%3D%5C%22udae43293%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud79356ae%5C%22%20id%3D%5C%22ud79356ae%5C%22%3E%E5%90%AF%E5%8A%A8%E4%BC%98%E5%85%88%E7%BA%A7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufa96e2ec%5C%22%20id%3D%5C%22ufa96e2ec%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3cd651b6%5C%22%20id%3D%5C%22u3cd651b6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u691c8b2d%5C%22%20id%3D%5C%22u691c8b2d%5C%22%3E%E4%BD%8E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud6a2a162%5C%22%20id%3D%5C%22ud6a2a162%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u937d67e2%5C%22%20id%3D%5C%22u937d67e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uba593aec%5C%22%20id%3D%5C%22uba593aec%5C%22%3E%E9%AB%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4bbe1924%5C%22%20id%3D%5C%22u4bbe1924%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uf834d57e%5C%22%20id%3D%5C%22uf834d57e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubaa159ec%5C%22%20id%3D%5C%22ubaa159ec%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u540865c1%5C%22%20id%3D%5C%22u540865c1%5C%22%3E%E4%BD%93%E7%A7%AF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf351a22b%5C%22%20id%3D%5C%22uf351a22b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue408dadb%5C%22%20id%3D%5C%22ue408dadb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue6820b0c%5C%22%20id%3D%5C%22ue6820b0c%5C%22%3E%E5%B0%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud2d23cb0%5C%22%20id%3D%5C%22ud2d23cb0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub1cc3ea9%5C%22%20id%3D%5C%22ub1cc3ea9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucbf55db3%5C%22%20id%3D%5C%22ucbf55db3%5C%22%3E%E5%A4%A7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u915aff8a%5C%22%20id%3D%5C%22u915aff8a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8700873a%5C%22%20id%3D%5C%22u8700873a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u31ad7bc5%5C%22%20id%3D%5C%22u31ad7bc5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5cdb1f79%5C%22%20id%3D%5C%22u5cdb1f79%5C%22%3E%E6%81%A2%E5%A4%8D%E9%80%9F%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufc7aef16%5C%22%20id%3D%5C%22ufc7aef16%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u754fe2ae%5C%22%20id%3D%5C%22u754fe2ae%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u055f45d1%5C%22%20id%3D%5C%22u055f45d1%5C%22%3E%E5%BF%AB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u31645900%5C%22%20id%3D%5C%22u31645900%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u15415a63%5C%22%20id%3D%5C%22u15415a63%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8c334cef%5C%22%20id%3D%5C%22u8c334cef%5C%22%3E%E6%85%A2%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5c7decff%5C%22%20id%3D%5C%22u5c7decff%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u124120a5%5C%22%20id%3D%5C%22u124120a5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub5d8ad07%5C%22%20id%3D%5C%22ub5d8ad07%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua6c084e8%5C%22%20id%3D%5C%22ua6c084e8%5C%22%3E%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8%E6%80%A7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufe045506%5C%22%20id%3D%5C%22ufe045506%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4306dbf7%5C%22%20id%3D%5C%22u4306dbf7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3457778e%5C%22%20id%3D%5C%22u3457778e%5C%22%3E%E4%B8%A2%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9fa27842%5C%22%20id%3D%5C%22u9fa27842%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0ff2542d%5C%22%20id%3D%5C%22u0ff2542d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1c603c44%5C%22%20id%3D%5C%22u1c603c44%5C%22%3E%E6%A0%B9%E6%8D%AE%E7%AD%96%E7%95%A5%E5%86%B3%E5%AE%9A%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ufcf1656b\" id=\"ufcf1656b\"><br></p><h3 data-lake-id=\"5e50f972\" id=\"5e50f972\"><span data-lake-id=\"u631e4ee4\" id=\"u631e4ee4\">如何选择使用哪种持久化方式？</span></h3><p data-lake-id=\"u50bb43f0\" id=\"u50bb43f0\"><br></p><p data-lake-id=\"uc8304421\" id=\"uc8304421\"><span data-lake-id=\"ub13907bc\" id=\"ub13907bc\">一般来说， 如果想达到足以媲美 PostgreSQL 的数据安全性， 你应该同时使用两种持久化功能。</span></p><p data-lake-id=\"u0f982d37\" id=\"u0f982d37\"><br></p><p data-lake-id=\"uefa264c2\" id=\"uefa264c2\"><span data-lake-id=\"u5fa4ab66\" id=\"u5fa4ab66\">如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失， 那么你可以只使用 RDB 持久化。</span></p><p data-lake-id=\"u58c5be35\" id=\"u58c5be35\"><br></p><p data-lake-id=\"u701ee6d1\" id=\"u701ee6d1\"><span data-lake-id=\"u3847fa38\" id=\"u3847fa38\">有很多用户都只使用 AOF 持久化， 但并不推荐这种方式： 因为定时生成 RDB 快照（snapshot）非常便于进行数据库备份， 并且 RDB 恢复数据集的速度也要比 AOF 恢复的速度要快。</span></p><p data-lake-id=\"ue64f3841\" id=\"ue64f3841\"><br></p><h2 data-lake-id=\"c71a560d\" id=\"c71a560d\"><span data-lake-id=\"u7637161c\" id=\"u7637161c\">十三、Redis发布与订阅</span></h2><p data-lake-id=\"u2199de74\" id=\"u2199de74\"><br></p><p data-lake-id=\"ubf152794\" id=\"ubf152794\"><span data-lake-id=\"ufbc140fd\" id=\"ufbc140fd\">Redis 发布订阅(pub/sub)是一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。</span></p><p data-lake-id=\"u71d4e789\" id=\"u71d4e789\"><br></p><p data-lake-id=\"ueee98c36\" id=\"ueee98c36\"><span data-lake-id=\"ua5e01bd3\" id=\"ua5e01bd3\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IBT2pjCa-1597890996526)(狂神说 Redis.assets/image-20200818162849693.png)]</span></p><p data-lake-id=\"ub52e45f4\" id=\"ub52e45f4\"><br></p><p data-lake-id=\"u6341515b\" id=\"u6341515b\"><span data-lake-id=\"ubced883d\" id=\"ubced883d\">下图展示了频道 channel1 ， 以及订阅这个频道的三个客户端 —— client2 、 client5 和 client1 之间的关系：</span></p><p data-lake-id=\"ub09f7213\" id=\"ub09f7213\"><br></p><p data-lake-id=\"u4aea72c9\" id=\"u4aea72c9\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215523258.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A319%2C%22originHeight%22%3A198%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22phjVM%22%7D\"></card></p><p data-lake-id=\"u79646f84\" id=\"u79646f84\"><br></p><p data-lake-id=\"ubdfe0957\" id=\"ubdfe0957\"><span data-lake-id=\"u82500cd4\" id=\"u82500cd4\">当有新消息通过 PUBLISH 命令发送给频道 channel1 时， 这个消息就会被发送给订阅它的三个客户端：</span></p><p data-lake-id=\"u8cd02b5d\" id=\"u8cd02b5d\"><br></p><p data-lake-id=\"ucb491835\" id=\"ucb491835\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321553483.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A315%2C%22originHeight%22%3A285%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22l5gyr%22%7D\"></card></p><p data-lake-id=\"u0dda797a\" id=\"u0dda797a\"><br></p><h3 data-lake-id=\"ddf7d2a5\" id=\"ddf7d2a5\"><span data-lake-id=\"udfbcc453\" id=\"udfbcc453\">命令</span></h3><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%227e9bbfbf%22%2C%22rows%22%3A7%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%227e9bbfbf%5C%22%20id%3D%5C%227e9bbfbf%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uc7702c48%5C%22%20id%3D%5C%22uc7702c48%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u76df9899%5C%22%20id%3D%5C%22u76df9899%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2a2519df%5C%22%20id%3D%5C%22u2a2519df%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub463b3b4%5C%22%20id%3D%5C%22ub463b3b4%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u79b2e1e1%5C%22%20id%3D%5C%22u79b2e1e1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50650742%5C%22%20id%3D%5C%22u50650742%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9fc9baa2%5C%22%20id%3D%5C%22u9fc9baa2%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u30d27796%5C%22%20id%3D%5C%22u30d27796%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u779be3bd%5C%22%20id%3D%5C%22u779be3bd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua3e99603%5C%22%20id%3D%5C%22ua3e99603%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u5e6de889%5C%22%20id%3D%5C%22u5e6de889%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u793d51ce%5C%22%20id%3D%5C%22u793d51ce%5C%22%3EPSUBSCRIBE%20pattern%20%5Bpattern..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc3f5379b%5C%22%20id%3D%5C%22uc3f5379b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u055e85af%5C%22%20id%3D%5C%22u055e85af%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud76f2c54%5C%22%20id%3D%5C%22ud76f2c54%5C%22%3E%E8%AE%A2%E9%98%85%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E7%AC%A6%E5%90%88%E7%BB%99%E5%AE%9A%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%A2%91%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uad89be08%5C%22%20id%3D%5C%22uad89be08%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9d826d4d%5C%22%20id%3D%5C%22u9d826d4d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf1db206c%5C%22%20id%3D%5C%22uf1db206c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u40641f11%5C%22%20id%3D%5C%22u40641f11%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u91783e31%5C%22%20id%3D%5C%22u91783e31%5C%22%3EPUNSUBSCRIBE%20pattern%20%5Bpattern..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uefa64ce8%5C%22%20id%3D%5C%22uefa64ce8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uff95b1a4%5C%22%20id%3D%5C%22uff95b1a4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub904502e%5C%22%20id%3D%5C%22ub904502e%5C%22%3E%E9%80%80%E8%AE%A2%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E7%AC%A6%E5%90%88%E7%BB%99%E5%AE%9A%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%A2%91%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0074afb9%5C%22%20id%3D%5C%22u0074afb9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue9dec94a%5C%22%20id%3D%5C%22ue9dec94a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50fcebdf%5C%22%20id%3D%5C%22u50fcebdf%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u12b7f3ca%5C%22%20id%3D%5C%22u12b7f3ca%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uee68de48%5C%22%20id%3D%5C%22uee68de48%5C%22%3EPUBSUB%20subcommand%20%5Bargument%5Bargument%5D%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uad3ec2c1%5C%22%20id%3D%5C%22uad3ec2c1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud9aca228%5C%22%20id%3D%5C%22ud9aca228%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u38553850%5C%22%20id%3D%5C%22u38553850%5C%22%3E%E6%9F%A5%E7%9C%8B%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u88f99493%5C%22%20id%3D%5C%22u88f99493%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9f54ab87%5C%22%20id%3D%5C%22u9f54ab87%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u78de27a5%5C%22%20id%3D%5C%22u78de27a5%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u1f83fcd8%5C%22%20id%3D%5C%22u1f83fcd8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u944f20ec%5C%22%20id%3D%5C%22u944f20ec%5C%22%3EPUBLISH%20channel%20message%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u7e3479b6%5C%22%20id%3D%5C%22u7e3479b6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u490901f9%5C%22%20id%3D%5C%22u490901f9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9d264899%5C%22%20id%3D%5C%22u9d264899%5C%22%3E%E5%90%91%E6%8C%87%E5%AE%9A%E9%A2%91%E9%81%93%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ube6558fb%5C%22%20id%3D%5C%22ube6558fb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7cb13255%5C%22%20id%3D%5C%22u7cb13255%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u30b98691%5C%22%20id%3D%5C%22u30b98691%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u2e2831f1%5C%22%20id%3D%5C%22u2e2831f1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3f5e1275%5C%22%20id%3D%5C%22u3f5e1275%5C%22%3ESUBSCRIBE%20channel%20%5Bchannel..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uef0b1393%5C%22%20id%3D%5C%22uef0b1393%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub2750fd9%5C%22%20id%3D%5C%22ub2750fd9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubfc7d73a%5C%22%20id%3D%5C%22ubfc7d73a%5C%22%3E%E8%AE%A2%E9%98%85%E7%BB%99%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E9%A2%91%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7617070c%5C%22%20id%3D%5C%22u7617070c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7d831101%5C%22%20id%3D%5C%22u7d831101%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub3d2acde%5C%22%20id%3D%5C%22ub3d2acde%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u9aeb42e4%5C%22%20id%3D%5C%22u9aeb42e4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4c370ab9%5C%22%20id%3D%5C%22u4c370ab9%5C%22%3ESUBSCRIBE%20channel%20%5Bchannel..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u49d87f68%5C%22%20id%3D%5C%22u49d87f68%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7d2071d9%5C%22%20id%3D%5C%22u7d2071d9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6d1be8b4%5C%22%20id%3D%5C%22u6d1be8b4%5C%22%3E%E9%80%80%E8%AE%A2%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E9%A2%91%E9%81%93%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u4e74ca57\" id=\"u4e74ca57\"><br></p><h3 data-lake-id=\"1a63ac23\" id=\"1a63ac23\"><span data-lake-id=\"ue0ccbed0\" id=\"ue0ccbed0\">示例</span></h3><p data-lake-id=\"ucc83b6c3\" id=\"ucc83b6c3\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22------------%E8%AE%A2%E9%98%85%E7%AB%AF----------------------%5Cn127.0.0.1%3A6379%3E%20SUBSCRIBE%20sakura%20%23%20%E8%AE%A2%E9%98%85sakura%E9%A2%91%E9%81%93%5CnReading%20messages...%20(press%20Ctrl-C%20to%20quit)%20%23%20%E7%AD%89%E5%BE%85%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF%5Cn1)%20%5C%22subscribe%5C%22%20%23%20%E8%AE%A2%E9%98%85%E6%88%90%E5%8A%9F%E7%9A%84%E6%B6%88%E6%81%AF%5Cn2)%20%5C%22sakura%5C%22%5Cn3)%20(integer)%201%5Cn1)%20%5C%22message%5C%22%20%23%20%E6%8E%A5%E6%94%B6%E5%88%B0%E6%9D%A5%E8%87%AAsakura%E9%A2%91%E9%81%93%E7%9A%84%E6%B6%88%E6%81%AF%20%5C%22hello%20world%5C%22%5Cn2)%20%5C%22sakura%5C%22%5Cn3)%20%5C%22hello%20world%5C%22%5Cn1)%20%5C%22message%5C%22%20%23%20%E6%8E%A5%E6%94%B6%E5%88%B0%E6%9D%A5%E8%87%AAsakura%E9%A2%91%E9%81%93%E7%9A%84%E6%B6%88%E6%81%AF%20%5C%22hello%20i%20am%20sakura%5C%22%5Cn2)%20%5C%22sakura%5C%22%5Cn3)%20%5C%22hello%20i%20am%20sakura%5C%22%5Cn%5Cn--------------%E6%B6%88%E6%81%AF%E5%8F%91%E5%B8%83%E7%AB%AF-------------------%5Cn127.0.0.1%3A6379%3E%20PUBLISH%20sakura%20%5C%22hello%20world%5C%22%20%23%20%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF%E5%88%B0sakura%E9%A2%91%E9%81%93%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20PUBLISH%20sakura%20%5C%22hello%20i%20am%20sakura%5C%22%20%23%20%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF%5Cn(integer)%201%5Cn%5Cn-----------------%E6%9F%A5%E7%9C%8B%E6%B4%BB%E8%B7%83%E7%9A%84%E9%A2%91%E9%81%93------------%5Cn127.0.0.1%3A6379%3E%20PUBSUB%20channels%5Cn1)%20%5C%22sakura%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223692820d%22%7D\"></card><p data-lake-id=\"u9d4457a9\" id=\"u9d4457a9\"><br></p><h3 data-lake-id=\"b6724cff\" id=\"b6724cff\"><span data-lake-id=\"u259888de\" id=\"u259888de\">原理</span></h3><p data-lake-id=\"uff4df0d1\" id=\"uff4df0d1\"><br></p><p data-lake-id=\"u799af2ce\" id=\"u799af2ce\"><span data-lake-id=\"udf4354a0\" id=\"udf4354a0\">每个 Redis 服务器进程都维持着一个表示服务器状态的 redis.h/redisServer 结构， 结构的 pubsub_channels 属性是一个字典， 这个字典就用于保存订阅频道的信息，其中，字典的键为正在被订阅的频道， 而字典的值则是一个链表， 链表中保存了所有订阅这个频道的客户端。</span></p><p data-lake-id=\"udc95f87a\" id=\"udc95f87a\"><br></p><p data-lake-id=\"u6ae22c72\" id=\"u6ae22c72\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321554964.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A709%2C%22originHeight%22%3A216%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22HaVKA%22%7D\"></card></p><p data-lake-id=\"uba500619\" id=\"uba500619\"><br></p><p data-lake-id=\"udba3783c\" id=\"udba3783c\"><span data-lake-id=\"uf48ab921\" id=\"uf48ab921\">客户端订阅，就被链接到对应频道的链表的尾部，退订则就是将客户端节点从链表中移除。</span></p><p data-lake-id=\"ud0117a9a\" id=\"ud0117a9a\"><br></p><h3 data-lake-id=\"2e769a75\" id=\"2e769a75\"><span data-lake-id=\"u1eafcb63\" id=\"u1eafcb63\">缺点</span></h3><p data-lake-id=\"ud82d6dce\" id=\"ud82d6dce\"><br></p><ol list=\"ue773a43b\"><li fid=\"ua951d5e4\" data-lake-id=\"u98f500f0\" id=\"u98f500f0\"><span data-lake-id=\"u41a06cda\" id=\"u41a06cda\">如果一个客户端订阅了频道，但自己读取消息的速度却不够快的话，那么不断积压的消息会使redis输出缓冲区的体积变得越来越大，这可能使得redis本身的速度变慢，甚至直接崩溃。</span></li></ol><ol list=\"u641a4cd0\" start=\"2\"><li fid=\"uc5d940ee\" data-lake-id=\"uf6221adf\" id=\"uf6221adf\"><span data-lake-id=\"u9a8b3784\" id=\"u9a8b3784\">这和数据传输可靠性有关，如果在订阅方断线，那么他将会丢失所有在短线期间发布者发布的消息。</span></li></ol><p data-lake-id=\"u758389b8\" id=\"u758389b8\"><br></p><h3 data-lake-id=\"5b0520a9\" id=\"5b0520a9\"><span data-lake-id=\"u4a5c371d\" id=\"u4a5c371d\">应用</span></h3><p data-lake-id=\"u5ad91f65\" id=\"u5ad91f65\"><br></p><ol list=\"u9ce55f1e\"><li fid=\"u0107b9c8\" data-lake-id=\"ub4005d05\" id=\"ub4005d05\"><span data-lake-id=\"uc5a2921e\" id=\"uc5a2921e\">消息订阅：公众号订阅，微博关注等等（起始更多是使用消息队列来进行实现）</span></li></ol><ol list=\"uaf889497\" start=\"2\"><li fid=\"uf44e18aa\" data-lake-id=\"uc08a7965\" id=\"uc08a7965\"><span data-lake-id=\"ud623fd82\" id=\"ud623fd82\">多人在线聊天室。</span></li></ol><p data-lake-id=\"uf08ed8de\" id=\"uf08ed8de\"><br></p><p data-lake-id=\"ucd6d42c7\" id=\"ucd6d42c7\"><span data-lake-id=\"u37d3730a\" id=\"u37d3730a\">稍微复杂的场景，我们就会使用消息中间件MQ处理。</span></p><p data-lake-id=\"ud5caf0be\" id=\"ud5caf0be\"><br></p><h2 data-lake-id=\"ca07c665\" id=\"ca07c665\"><span data-lake-id=\"ud5f80878\" id=\"ud5f80878\">十四、Redis主从复制</span></h2><p data-lake-id=\"u52397c88\" id=\"u52397c88\"><br></p><h3 data-lake-id=\"b59c9e0f\" id=\"b59c9e0f\"><span data-lake-id=\"u734a4c1c\" id=\"u734a4c1c\">概念</span></h3><p data-lake-id=\"u33cb76b3\" id=\"u33cb76b3\"><br></p><p data-lake-id=\"u1441638b\" id=\"u1441638b\"><span data-lake-id=\"u0851e402\" id=\"u0851e402\">主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点（Master/Leader）,后者称为从节点（Slave/Follower）， 数据的复制是单向的！只能由主节点复制到从节点（主节点以写为主、从节点以读为主）。</span></p><p data-lake-id=\"u8622da00\" id=\"u8622da00\"><br></p><p data-lake-id=\"u24872622\" id=\"u24872622\"><span data-lake-id=\"u5ff1ebc2\" id=\"u5ff1ebc2\">默认情况下，每台Redis服务器都是主节点，一个主节点可以有0个或者多个从节点，但每个从节点只能由一个主节点。</span></p><p data-lake-id=\"u8b229e0e\" id=\"u8b229e0e\"><br></p><h3 data-lake-id=\"69fa3701\" id=\"69fa3701\"><span data-lake-id=\"ub6246f95\" id=\"ub6246f95\">作用</span></h3><p data-lake-id=\"uaf856e08\" id=\"uaf856e08\"><br></p><ol list=\"ub67f266a\"><li fid=\"ucd2601b7\" data-lake-id=\"ub3628ceb\" id=\"ub3628ceb\"><span data-lake-id=\"u84f3495e\" id=\"u84f3495e\">数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余的方式。</span></li></ol><ol list=\"u1cd62ecd\" start=\"2\"><li fid=\"ud1388b91\" data-lake-id=\"ue184f608\" id=\"ue184f608\"><span data-lake-id=\"u1b30c451\" id=\"u1b30c451\">故障恢复：当主节点故障时，从节点可以暂时替代主节点提供服务，是一种服务冗余的方式</span></li></ol><ol list=\"u96fddbf7\" start=\"3\"><li fid=\"u0d6a0aea\" data-lake-id=\"u7b27de33\" id=\"u7b27de33\"><span data-lake-id=\"u8fe63d4b\" id=\"u8fe63d4b\">负载均衡：在主从复制的基础上，配合读写分离，由主节点进行写操作，从节点进行读操作，分担服务器的负载；尤其是在多读少写的场景下，通过多个从节点分担负载，提高并发量。</span></li></ol><ol list=\"ub54b1d33\" start=\"4\"><li fid=\"u1dd478eb\" data-lake-id=\"u0649d7cb\" id=\"u0649d7cb\"><span data-lake-id=\"ua3862d11\" id=\"ua3862d11\">高可用基石：主从复制还是哨兵和集群能够实施的基础。</span></li></ol><p data-lake-id=\"u1e0b4acc\" id=\"u1e0b4acc\"><br></p><h3 data-lake-id=\"7f831a7b\" id=\"7f831a7b\"><span data-lake-id=\"ud95c0638\" id=\"ud95c0638\">为什么使用集群</span></h3><p data-lake-id=\"ub1d147f5\" id=\"ub1d147f5\"><br></p><ol list=\"u14645088\"><li fid=\"u3dc39872\" data-lake-id=\"u047891a9\" id=\"u047891a9\"><span data-lake-id=\"u4a084b32\" id=\"u4a084b32\">单台服务器难以负载大量的请求</span></li></ol><ol list=\"u31c8e66b\" start=\"2\"><li fid=\"ud8983e1e\" data-lake-id=\"uaef353bd\" id=\"uaef353bd\"><span data-lake-id=\"uea8347b6\" id=\"uea8347b6\">单台服务器故障率高，系统崩坏概率大</span></li></ol><ol list=\"u0fdd9c53\" start=\"3\"><li fid=\"u7cb8c3e0\" data-lake-id=\"u9f781224\" id=\"u9f781224\"><span data-lake-id=\"u3f285aec\" id=\"u3f285aec\">单台服务器内存容量有限。</span></li></ol><p data-lake-id=\"u55927770\" id=\"u55927770\"><br></p><h3 data-lake-id=\"a69f6882\" id=\"a69f6882\"><span data-lake-id=\"ubec9422d\" id=\"ubec9422d\">环境配置</span></h3><p data-lake-id=\"u51d71321\" id=\"u51d71321\"><br></p><p data-lake-id=\"u349341a9\" id=\"u349341a9\"><span data-lake-id=\"u1bdf4fab\" id=\"u1bdf4fab\">我们在讲解配置文件的时候，注意到有一个</span><code data-lake-id=\"uba556570\" id=\"uba556570\"><span data-lake-id=\"u1dbbc447\" id=\"u1dbbc447\">replication</span></code><span data-lake-id=\"u2dd15d58\" id=\"u2dd15d58\">模块 (见Redis.conf中第8条)</span></p><p data-lake-id=\"u27d2da83\" id=\"u27d2da83\"><br></p><p data-lake-id=\"uf68f7964\" id=\"uf68f7964\"><span data-lake-id=\"u02464fa4\" id=\"u02464fa4\">查看当前库的信息：</span><code data-lake-id=\"u3cc3607f\" id=\"u3cc3607f\"><span data-lake-id=\"u51c7c966\" id=\"u51c7c966\">info replication</span></code></p><p data-lake-id=\"ufaab808f\" id=\"ufaab808f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20info%20replication%5Cn%23%20Replication%5Cnrole%3Amaster%20%23%20%E8%A7%92%E8%89%B2%5Cnconnected_slaves%3A0%20%23%20%E4%BB%8E%E6%9C%BA%E6%95%B0%E9%87%8F%5Cnmaster_replid%3A3b54deef5b7b7b7f7dd8acefa23be48879b4fcff%5Cnmaster_replid2%3A0000000000000000000000000000000000000000%5Cnmaster_repl_offset%3A0%5Cnsecond_repl_offset%3A-1%5Cnrepl_backlog_active%3A0%5Cnrepl_backlog_size%3A1048576%5Cnrepl_backlog_first_byte_offset%3A0%5Cnrepl_backlog_histlen%3A0%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224d144627%22%7D\"></card><p data-lake-id=\"u5f644e02\" id=\"u5f644e02\"><br></p><p data-lake-id=\"u4c1e3900\" id=\"u4c1e3900\"><span data-lake-id=\"u83f30dab\" id=\"u83f30dab\">既然需要启动多个服务，就需要多个配置文件。每个配置文件对应修改以下信息：</span></p><p data-lake-id=\"ua4445a1b\" id=\"ua4445a1b\"><br></p><ul list=\"ud28f90f5\"><li fid=\"uc4341c06\" data-lake-id=\"u8d6c52f5\" id=\"u8d6c52f5\"><span data-lake-id=\"u5e76949f\" id=\"u5e76949f\">端口号</span></li></ul><ul list=\"u20fc695f\"><li fid=\"u9db68a16\" data-lake-id=\"u8acc922d\" id=\"u8acc922d\"><span data-lake-id=\"u58331d45\" id=\"u58331d45\">pid文件名</span></li></ul><ul list=\"u6c240fb9\"><li fid=\"ub9ef76bd\" data-lake-id=\"u2da5b755\" id=\"u2da5b755\"><span data-lake-id=\"uc38802a4\" id=\"uc38802a4\">日志文件名</span></li></ul><ul list=\"u860fb08e\"><li fid=\"u7f475e19\" data-lake-id=\"u5da73e7f\" id=\"u5da73e7f\"><span data-lake-id=\"ubfcefadd\" id=\"ubfcefadd\">rdb文件名</span></li></ul><p data-lake-id=\"uecaea04b\" id=\"uecaea04b\"><br></p><p data-lake-id=\"u44ccef12\" id=\"u44ccef12\"><span data-lake-id=\"ud6819269\" id=\"ud6819269\">启动单机多服务集群：</span></p><p data-lake-id=\"u3e6e5508\" id=\"u3e6e5508\"><br></p><p data-lake-id=\"u3a2b784b\" id=\"u3a2b784b\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215610163.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A993%2C%22originHeight%22%3A108%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22m6Aax%22%7D\"></card></p><p data-lake-id=\"uae73a5be\" id=\"uae73a5be\"><br></p><h3 data-lake-id=\"391961da\" id=\"391961da\"><span data-lake-id=\"u172cff01\" id=\"u172cff01\">一主二从配置</span></h3><p data-lake-id=\"u265d7d43\" id=\"u265d7d43\"><br></p><p data-lake-id=\"ufbe85226\" id=\"ufbe85226\"><span data-lake-id=\"ua4c689db\" id=\"ua4c689db\">==默认情况下，每台Redis服务器都是主节点；==我们一般情况下只用配置从机就好了！</span></p><p data-lake-id=\"ua27f8360\" id=\"ua27f8360\"><br></p><p data-lake-id=\"uf24408e0\" id=\"uf24408e0\"><span data-lake-id=\"ud5207529\" id=\"ud5207529\">认老大！一主（79）二从（80，81）</span></p><p data-lake-id=\"u0405f463\" id=\"u0405f463\"><br></p><p data-lake-id=\"uff4dca22\" id=\"uff4dca22\"><span data-lake-id=\"u2477a504\" id=\"u2477a504\">使用</span><code data-lake-id=\"u650c3c79\" id=\"u650c3c79\"><span data-lake-id=\"ufac650b1\" id=\"ufac650b1\">SLAVEOF host port</span></code><span data-lake-id=\"u109a0c1b\" id=\"u109a0c1b\">就可以为从机配置主机了。</span></p><p data-lake-id=\"u681b8373\" id=\"u681b8373\"><br></p><p data-lake-id=\"u8c8d7692\" id=\"u8c8d7692\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215637483.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1226%2C%22originHeight%22%3A410%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22ciaCd%22%7D\"></card></p><p data-lake-id=\"u9e01b616\" id=\"u9e01b616\"><br></p><p data-lake-id=\"u1ea08db5\" id=\"u1ea08db5\"><span data-lake-id=\"udc3c1f58\" id=\"udc3c1f58\">然后主机上也能看到从机的状态：</span></p><p data-lake-id=\"u8bbd7339\" id=\"u8bbd7339\"><br></p><p data-lake-id=\"ubdd77076\" id=\"ubdd77076\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215645778.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A818%2C%22originHeight%22%3A378%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Z1x5f%22%7D\"></card></p><p data-lake-id=\"u399192f3\" id=\"u399192f3\"><br></p><p data-lake-id=\"u1f22fff2\" id=\"u1f22fff2\"><span data-lake-id=\"ub0f17564\" id=\"ub0f17564\">我们这里是使用命令搭建，是暂时的，==真实开发中应该在从机的配置文件中进行配置，==这样的话是永久的。</span></p><p data-lake-id=\"u561fd948\" id=\"u561fd948\"><br></p><p data-lake-id=\"u9bdbf783\" id=\"u9bdbf783\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215654634.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A912%2C%22originHeight%22%3A253%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22uO75y%22%7D\"></card></p><p data-lake-id=\"u68d9413f\" id=\"u68d9413f\"><br></p><h3 data-lake-id=\"1ebbd644\" id=\"1ebbd644\"><span data-lake-id=\"u979107ec\" id=\"u979107ec\">使用规则</span></h3><p data-lake-id=\"ub136a0b3\" id=\"ub136a0b3\"><br></p><ol list=\"u93fde8ce\"><li fid=\"u26d956a7\" data-lake-id=\"u5036049f\" id=\"u5036049f\"><span data-lake-id=\"uf51be565\" id=\"uf51be565\"> 从机只能读，不能写，主机可读可写但是多用于写。 </span><span data-lake-id=\"u52d00f14\" id=\"u52d00f14\"> </span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%20127.0.0.1%3A6381%3E%20set%20name%20sakura%20%23%20%E4%BB%8E%E6%9C%BA6381%E5%86%99%E5%85%A5%E5%A4%B1%E8%B4%A5%5Cn(error)%20READONLY%20You%20can't%20write%20against%20a%20read%20only%20replica.%5Cn%5Cn127.0.0.1%3A6380%3E%20set%20name%20sakura%20%23%20%E4%BB%8E%E6%9C%BA6380%E5%86%99%E5%85%A5%E5%A4%B1%E8%B4%A5%5Cn(error)%20READONLY%20You%20can't%20write%20against%20a%20read%20only%20replica.%5Cn%5Cn127.0.0.1%3A6379%3E%20set%20name%20sakura%5CnOK%5Cn127.0.0.1%3A6379%3E%20get%20name%5Cn%5C%22sakura%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222a0d2c36%22%7D\"></card><ol list=\"uf9220a57\" start=\"2\"><li fid=\"u6c66f983\" data-lake-id=\"uf8c8b134\" id=\"uf8c8b134\"><span data-lake-id=\"ud73f927c\" id=\"ud73f927c\"> 当主机断电宕机后，默认情况下从机的角色不会发生变化 ，集群中只是失去了写操作，当主机恢复以后，又会连接上从机恢复原状。 </span></li></ol><ol list=\"u596cc679\" start=\"3\"><li fid=\"u48c027f3\" data-lake-id=\"u656c345c\" id=\"u656c345c\"><span data-lake-id=\"ud643543a\" id=\"ud643543a\"> 当从机断电宕机后，若不是使用配置文件配置的从机，再次启动后作为主机是无法获取之前主机的数据的，若此时重新配置称为从机，又可以获取到主机的所有数据。这里就要提到一个同步原理。 </span></li></ol><ol list=\"u63ace549\" start=\"4\"><li fid=\"uf85f5b48\" data-lake-id=\"uc16646d9\" id=\"uc16646d9\"><span data-lake-id=\"udc93fcdd\" id=\"udc93fcdd\"> 第二条中提到，默认情况下，主机故障后，不会出现新的主机，有两种方式可以产生新的主机： </span></li></ol><ul list=\"u52209d24\" data-lake-indent=\"1\"><li fid=\"uf56ab4f5\" data-lake-id=\"uc72b2824\" id=\"uc72b2824\"><span data-lake-id=\"uf14676bc\" id=\"uf14676bc\">从机手动执行命令</span><code data-lake-id=\"u13ca71db\" id=\"u13ca71db\"><span data-lake-id=\"ua1fee1f0\" id=\"ua1fee1f0\">slaveof no one</span></code><span data-lake-id=\"u393e240b\" id=\"u393e240b\">,这样执行以后从机会独立出来成为一个主机</span></li></ul><ul list=\"u1e8a37a4\" data-lake-indent=\"1\"><li fid=\"u4baafd8c\" data-lake-id=\"u459ddabc\" id=\"u459ddabc\"><span data-lake-id=\"u69e0f6d8\" id=\"u69e0f6d8\">使用哨兵模式（自动选举）</span></li></ul><p data-lake-id=\"uc2743b55\" id=\"uc2743b55\"><span data-lake-id=\"u3e2f5520\" id=\"u3e2f5520\"> </span></p><blockquote data-lake-id=\"u65d6259a\" id=\"u65d6259a\"><p data-lake-id=\"u2341817c\" id=\"u2341817c\"><span data-lake-id=\"u0f7c7162\" id=\"u0f7c7162\">如果没有老大了，这个时候能不能选择出来一个老大呢？手动！</span></p></blockquote><p data-lake-id=\"u129d8758\" id=\"u129d8758\"><br></p><p data-lake-id=\"u95f93025\" id=\"u95f93025\"><span data-lake-id=\"u594142a6\" id=\"u594142a6\">如果主机断开了连接，我们可以使用</span><code data-lake-id=\"ufa5675d3\" id=\"ufa5675d3\"><span data-lake-id=\"u08fcaac8\" id=\"u08fcaac8\">SLAVEOF no one</span></code><span data-lake-id=\"ua9294642\" id=\"ua9294642\">让自己变成主机！其他的节点就可以手动连接到最新的主节点（手动）！如果这个时候老大修复了，那么久重新连接！</span></p><p data-lake-id=\"ue5535332\" id=\"ue5535332\"><br></p><h2 data-lake-id=\"94816f45\" id=\"94816f45\"><span data-lake-id=\"ueb710daf\" id=\"ueb710daf\">十五、哨兵模式</span></h2><p data-lake-id=\"u545f8342\" id=\"u545f8342\"><br></p><p data-lake-id=\"u1181e697\" id=\"u1181e697\"><span data-lake-id=\"u8946956f\" id=\"u8946956f\">更多信息参考博客：</span><a href=\"https://www.jianshu.com/p/06ab9daf921d\" target=\"_blank\" data-lake-id=\"ue26699d0\" id=\"ue26699d0\"><span data-lake-id=\"ua9dcdfed\" id=\"ua9dcdfed\">https://www.jianshu.com/p/06ab9daf921d</span></a></p><p data-lake-id=\"u0eb83bbf\" id=\"u0eb83bbf\"><br></p><p data-lake-id=\"u057e868d\" id=\"u057e868d\"><strong><span data-lake-id=\"u94e7b4b4\" id=\"u94e7b4b4\">主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。</span></strong><span data-lake-id=\"u4fcf56bb\" id=\"u4fcf56bb\">这不是一种推荐的方式，更多时候，我们优先考虑</span><strong><span data-lake-id=\"ud99ca853\" id=\"ud99ca853\">哨兵模式</span></strong><span data-lake-id=\"u784b1d81\" id=\"u784b1d81\">。</span></p><p data-lake-id=\"ue8ac40dc\" id=\"ue8ac40dc\"><br></p><p data-lake-id=\"u7516f7a3\" id=\"u7516f7a3\"><span data-lake-id=\"u6f538da6\" id=\"u6f538da6\">单机单个哨兵</span></p><p data-lake-id=\"ucb143e93\" id=\"ucb143e93\"><br></p><p data-lake-id=\"u9c9094f7\" id=\"u9c9094f7\"><span data-lake-id=\"u953ff595\" id=\"u953ff595\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2ENYVAPp-1597890996527)(狂神说 Redis.assets/image-20200818233231154.png)]</span></p><p data-lake-id=\"u387bc8ea\" id=\"u387bc8ea\"><br></p><p data-lake-id=\"uba13124f\" id=\"uba13124f\"><span data-lake-id=\"u0bc45eb3\" id=\"u0bc45eb3\">哨兵的作用：</span></p><p data-lake-id=\"u1e193a6a\" id=\"u1e193a6a\"><br></p><ul list=\"u04ce90cb\"><li fid=\"u44697d4f\" data-lake-id=\"u9c4fb88b\" id=\"u9c4fb88b\"><span data-lake-id=\"ue0bd544a\" id=\"ue0bd544a\">通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。</span></li></ul><ul list=\"u2ab14029\"><li fid=\"u51d5428c\" data-lake-id=\"u3ffd2c3c\" id=\"u3ffd2c3c\"><span data-lake-id=\"u87ed4503\" id=\"u87ed4503\">当哨兵监测到master宕机，会自动将slave切换成master，然后通过</span><strong><span data-lake-id=\"uc706b109\" id=\"uc706b109\">发布订阅模式</span></strong><span data-lake-id=\"ud5fee389\" id=\"ud5fee389\">通知其他的从服务器，修改配置文件，让它们切换主机。</span></li></ul><p data-lake-id=\"u84e4f8c2\" id=\"u84e4f8c2\"><br></p><p data-lake-id=\"u67812ae6\" id=\"u67812ae6\"><span data-lake-id=\"u52d6a04e\" id=\"u52d6a04e\">多哨兵模式</span></p><p data-lake-id=\"u8d570377\" id=\"u8d570377\"><br></p><p data-lake-id=\"ucf6c3e8b\" id=\"ucf6c3e8b\"><span data-lake-id=\"uaecf6143\" id=\"uaecf6143\">[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Ga1RyfVc-1597890996528)(狂神说 Redis.assets/image-20200818233316478.png)]</span></p><p data-lake-id=\"u9f286ff4\" id=\"u9f286ff4\"><br></p><p data-lake-id=\"u5469d503\" id=\"u5469d503\"><span data-lake-id=\"u9c707dc1\" id=\"u9c707dc1\">哨兵的核心配置</span></p><p data-lake-id=\"u9b920194\" id=\"u9b920194\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sentinel%20monitor%20mymaster%20127.0.0.1%206379%201%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%220e977aad%22%7D\"></card><p data-lake-id=\"u1e5cd025\" id=\"u1e5cd025\"><br></p><ul list=\"ue4541d09\"><li fid=\"u7d72e268\" data-lake-id=\"ud42e7792\" id=\"ud42e7792\"><span data-lake-id=\"u2369215e\" id=\"u2369215e\">数字1表示 ：当一个哨兵主观认为主机断开，就可以客观认为主机故障，然后开始选举新的主机。</span></li></ul><p data-lake-id=\"ub2b0b2c9\" id=\"ub2b0b2c9\"><br></p><blockquote data-lake-id=\"u6cd677de\" id=\"u6cd677de\"><p data-lake-id=\"u2d9ee991\" id=\"u2d9ee991\"><span data-lake-id=\"u47cda10e\" id=\"u47cda10e\">测试</span></p></blockquote><p data-lake-id=\"u73864a3e\" id=\"u73864a3e\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22redis-sentinel%20xxx%2Fsentinel.conf%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22292caa93%22%7D\"></card><p data-lake-id=\"uc90c9410\" id=\"uc90c9410\"><br></p><p data-lake-id=\"u70e30c59\" id=\"u70e30c59\"><span data-lake-id=\"ub7668290\" id=\"ub7668290\">成功启动哨兵模式</span></p><p data-lake-id=\"u8de67442\" id=\"u8de67442\"><br></p><p data-lake-id=\"u3f394502\" id=\"u3f394502\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215752444.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A890%2C%22originHeight%22%3A582%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22CsjCy%22%7D\"></card></p><p data-lake-id=\"udee2a647\" id=\"udee2a647\"><br></p><p data-lake-id=\"u16e233ad\" id=\"u16e233ad\"><span data-lake-id=\"u46f98a07\" id=\"u46f98a07\">此时哨兵监视着我们的主机6379，当我们断开主机后：</span></p><p data-lake-id=\"uc509d12f\" id=\"uc509d12f\"><br></p><p data-lake-id=\"u82fc113d\" id=\"u82fc113d\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215806972.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1255%2C%22originHeight%22%3A736%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22rI5rm%22%7D\"></card></p><p data-lake-id=\"u76fa8b26\" id=\"u76fa8b26\"><br></p><blockquote data-lake-id=\"u9152a047\" id=\"u9152a047\"><p data-lake-id=\"ude3b7f7d\" id=\"ude3b7f7d\"><span data-lake-id=\"uda2d7d1f\" id=\"uda2d7d1f\">哨兵模式优缺点</span></p></blockquote><p data-lake-id=\"uc2a2e25a\" id=\"uc2a2e25a\"><br></p><p data-lake-id=\"u71356679\" id=\"u71356679\"><strong><span data-lake-id=\"ud73579f9\" id=\"ud73579f9\">优点：</span></strong></p><p data-lake-id=\"u0219fd1f\" id=\"u0219fd1f\"><br></p><ol list=\"u29d226d8\"><li fid=\"ue649db67\" data-lake-id=\"uce242cc5\" id=\"uce242cc5\"><span data-lake-id=\"u9e219159\" id=\"u9e219159\">哨兵集群，基于主从复制模式，所有主从复制的优点，它都有</span></li></ol><ol list=\"u1a0cc0c1\" start=\"2\"><li fid=\"u8681ce1e\" data-lake-id=\"u9a058d44\" id=\"u9a058d44\"><span data-lake-id=\"u1eed023b\" id=\"u1eed023b\">主从可以切换，故障可以转移，系统的可用性更好</span></li></ol><ol list=\"u7e60d605\" start=\"3\"><li fid=\"u391805b8\" data-lake-id=\"u7f64c0e9\" id=\"u7f64c0e9\"><span data-lake-id=\"u887f9f17\" id=\"u887f9f17\">哨兵模式是主从模式的升级，手动到自动，更加健壮</span></li></ol><p data-lake-id=\"u31b0b3f6\" id=\"u31b0b3f6\"><br></p><p data-lake-id=\"ufef22543\" id=\"ufef22543\"><strong><span data-lake-id=\"udddafa76\" id=\"udddafa76\">缺点：</span></strong></p><p data-lake-id=\"u03f26180\" id=\"u03f26180\"><br></p><ol list=\"ud02ac7e0\"><li fid=\"u4df5f263\" data-lake-id=\"u23aed9ed\" id=\"u23aed9ed\"><span data-lake-id=\"ud93f1f7b\" id=\"ud93f1f7b\">Redis不好在线扩容，集群容量一旦达到上限，在线扩容就十分麻烦</span></li></ol><ol list=\"ub771d493\" start=\"2\"><li fid=\"u0168a7e1\" data-lake-id=\"u5630cf68\" id=\"u5630cf68\"><span data-lake-id=\"u38d349b7\" id=\"u38d349b7\">实现哨兵模式的配置其实是很麻烦的，里面有很多配置项</span></li></ol><p data-lake-id=\"u0ec4b165\" id=\"u0ec4b165\"><br></p><blockquote data-lake-id=\"u342807c3\" id=\"u342807c3\"><p data-lake-id=\"u5384b4a4\" id=\"u5384b4a4\"><span data-lake-id=\"u225fd2e6\" id=\"u225fd2e6\">哨兵模式的全部配置</span></p></blockquote><p data-lake-id=\"u5b47f021\" id=\"u5b47f021\"><br></p><p data-lake-id=\"ue93d9763\" id=\"ue93d9763\"><span data-lake-id=\"u83bc5d65\" id=\"u83bc5d65\">完整的哨兵模式配置文件 sentinel.conf</span></p><p data-lake-id=\"ued247184\" id=\"ued247184\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20Example%20sentinel.conf%5Cn%20%5Cn%23%20%E5%93%A8%E5%85%B5sentinel%E5%AE%9E%E4%BE%8B%E8%BF%90%E8%A1%8C%E7%9A%84%E7%AB%AF%E5%8F%A3%20%E9%BB%98%E8%AE%A426379%5Cnport%2026379%5Cn%20%5Cn%23%20%E5%93%A8%E5%85%B5sentinel%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%5Cndir%20%2Ftmp%5Cn%20%5Cn%23%20%E5%93%A8%E5%85%B5sentinel%E7%9B%91%E6%8E%A7%E7%9A%84redis%E4%B8%BB%E8%8A%82%E7%82%B9%E7%9A%84%20ip%20port%20%5Cn%23%20master-name%20%20%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%B7%B1%E5%91%BD%E5%90%8D%E7%9A%84%E4%B8%BB%E8%8A%82%E7%82%B9%E5%90%8D%E5%AD%97%20%E5%8F%AA%E8%83%BD%E7%94%B1%E5%AD%97%E6%AF%8DA-z%E3%80%81%E6%95%B0%E5%AD%970-9%20%E3%80%81%E8%BF%99%E4%B8%89%E4%B8%AA%E5%AD%97%E7%AC%A6%5C%22.-_%5C%22%E7%BB%84%E6%88%90%E3%80%82%5Cn%23%20quorum%20%E5%BD%93%E8%BF%99%E4%BA%9Bquorum%E4%B8%AA%E6%95%B0sentinel%E5%93%A8%E5%85%B5%E8%AE%A4%E4%B8%BAmaster%E4%B8%BB%E8%8A%82%E7%82%B9%E5%A4%B1%E8%81%94%20%E9%82%A3%E4%B9%88%E8%BF%99%E6%97%B6%20%E5%AE%A2%E8%A7%82%E4%B8%8A%E8%AE%A4%E4%B8%BA%E4%B8%BB%E8%8A%82%E7%82%B9%E5%A4%B1%E8%81%94%E4%BA%86%5Cn%23%20sentinel%20monitor%20%3Cmaster-name%3E%20%3Cip%3E%20%3Credis-port%3E%20%3Cquorum%3E%5Cnsentinel%20monitor%20mymaster%20127.0.0.1%206379%201%5Cn%20%5Cn%23%20%E5%BD%93%E5%9C%A8Redis%E5%AE%9E%E4%BE%8B%E4%B8%AD%E5%BC%80%E5%90%AF%E4%BA%86requirepass%20foobared%20%E6%8E%88%E6%9D%83%E5%AF%86%E7%A0%81%20%E8%BF%99%E6%A0%B7%E6%89%80%E6%9C%89%E8%BF%9E%E6%8E%A5Redis%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E8%A6%81%E6%8F%90%E4%BE%9B%E5%AF%86%E7%A0%81%5Cn%23%20%E8%AE%BE%E7%BD%AE%E5%93%A8%E5%85%B5sentinel%20%E8%BF%9E%E6%8E%A5%E4%B8%BB%E4%BB%8E%E7%9A%84%E5%AF%86%E7%A0%81%20%E6%B3%A8%E6%84%8F%E5%BF%85%E9%A1%BB%E4%B8%BA%E4%B8%BB%E4%BB%8E%E8%AE%BE%E7%BD%AE%E4%B8%80%E6%A0%B7%E7%9A%84%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81%5Cn%23%20sentinel%20auth-pass%20%3Cmaster-name%3E%20%3Cpassword%3E%5Cnsentinel%20auth-pass%20mymaster%20MySUPER--secret-0123passw0rd%5Cn%20%5Cn%20%5Cn%23%20%E6%8C%87%E5%AE%9A%E5%A4%9A%E5%B0%91%E6%AF%AB%E7%A7%92%E4%B9%8B%E5%90%8E%20%E4%B8%BB%E8%8A%82%E7%82%B9%E6%B2%A1%E6%9C%89%E5%BA%94%E7%AD%94%E5%93%A8%E5%85%B5sentinel%20%E6%AD%A4%E6%97%B6%20%E5%93%A8%E5%85%B5%E4%B8%BB%E8%A7%82%E4%B8%8A%E8%AE%A4%E4%B8%BA%E4%B8%BB%E8%8A%82%E7%82%B9%E4%B8%8B%E7%BA%BF%20%E9%BB%98%E8%AE%A430%E7%A7%92%5Cn%23%20sentinel%20down-after-milliseconds%20%3Cmaster-name%3E%20%3Cmilliseconds%3E%5Cnsentinel%20down-after-milliseconds%20mymaster%2030000%5Cn%20%5Cn%23%20%E8%BF%99%E4%B8%AA%E9%85%8D%E7%BD%AE%E9%A1%B9%E6%8C%87%E5%AE%9A%E4%BA%86%E5%9C%A8%E5%8F%91%E7%94%9Ffailover%E4%B8%BB%E5%A4%87%E5%88%87%E6%8D%A2%E6%97%B6%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E5%B0%91%E4%B8%AAslave%E5%90%8C%E6%97%B6%E5%AF%B9%E6%96%B0%E7%9A%84master%E8%BF%9B%E8%A1%8C%20%E5%90%8C%E6%AD%A5%EF%BC%8C%5Cn%E8%BF%99%E4%B8%AA%E6%95%B0%E5%AD%97%E8%B6%8A%E5%B0%8F%EF%BC%8C%E5%AE%8C%E6%88%90failover%E6%89%80%E9%9C%80%E7%9A%84%E6%97%B6%E9%97%B4%E5%B0%B1%E8%B6%8A%E9%95%BF%EF%BC%8C%5Cn%E4%BD%86%E6%98%AF%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E6%95%B0%E5%AD%97%E8%B6%8A%E5%A4%A7%EF%BC%8C%E5%B0%B1%E6%84%8F%E5%91%B3%E7%9D%80%E8%B6%8A%20%E5%A4%9A%E7%9A%84slave%E5%9B%A0%E4%B8%BAreplication%E8%80%8C%E4%B8%8D%E5%8F%AF%E7%94%A8%E3%80%82%5Cn%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%B0%86%E8%BF%99%E4%B8%AA%E5%80%BC%E8%AE%BE%E4%B8%BA%201%20%E6%9D%A5%E4%BF%9D%E8%AF%81%E6%AF%8F%E6%AC%A1%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAslave%20%E5%A4%84%E4%BA%8E%E4%B8%8D%E8%83%BD%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%AF%B7%E6%B1%82%E7%9A%84%E7%8A%B6%E6%80%81%E3%80%82%5Cn%23%20sentinel%20parallel-syncs%20%3Cmaster-name%3E%20%3Cnumslaves%3E%5Cnsentinel%20parallel-syncs%20mymaster%201%5Cn%20%5Cn%20%5Cn%20%5Cn%23%20%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB%E7%9A%84%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%20failover-timeout%20%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%9C%A8%E4%BB%A5%E4%B8%8B%E8%BF%99%E4%BA%9B%E6%96%B9%E9%9D%A2%EF%BC%9A%20%5Cn%231.%20%E5%90%8C%E4%B8%80%E4%B8%AAsentinel%E5%AF%B9%E5%90%8C%E4%B8%80%E4%B8%AAmaster%E4%B8%A4%E6%AC%A1failover%E4%B9%8B%E9%97%B4%E7%9A%84%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4%E3%80%82%5Cn%232.%20%E5%BD%93%E4%B8%80%E4%B8%AAslave%E4%BB%8E%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%9A%84master%E9%82%A3%E9%87%8C%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%BC%80%E5%A7%8B%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%E3%80%82%E7%9B%B4%E5%88%B0slave%E8%A2%AB%E7%BA%A0%E6%AD%A3%E4%B8%BA%E5%90%91%E6%AD%A3%E7%A1%AE%E7%9A%84master%E9%82%A3%E9%87%8C%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE%E6%97%B6%E3%80%82%5Cn%233.%E5%BD%93%E6%83%B3%E8%A6%81%E5%8F%96%E6%B6%88%E4%B8%80%E4%B8%AA%E6%AD%A3%E5%9C%A8%E8%BF%9B%E8%A1%8C%E7%9A%84failover%E6%89%80%E9%9C%80%E8%A6%81%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%20%20%5Cn%234.%E5%BD%93%E8%BF%9B%E8%A1%8Cfailover%E6%97%B6%EF%BC%8C%E9%85%8D%E7%BD%AE%E6%89%80%E6%9C%89slaves%E6%8C%87%E5%90%91%E6%96%B0%E7%9A%84master%E6%89%80%E9%9C%80%E7%9A%84%E6%9C%80%E5%A4%A7%E6%97%B6%E9%97%B4%E3%80%82%E4%B8%8D%E8%BF%87%EF%BC%8C%E5%8D%B3%E4%BD%BF%E8%BF%87%E4%BA%86%E8%BF%99%E4%B8%AA%E8%B6%85%E6%97%B6%EF%BC%8Cslaves%E4%BE%9D%E7%84%B6%E4%BC%9A%E8%A2%AB%E6%AD%A3%E7%A1%AE%E9%85%8D%E7%BD%AE%E4%B8%BA%E6%8C%87%E5%90%91master%EF%BC%8C%E4%BD%86%E6%98%AF%E5%B0%B1%E4%B8%8D%E6%8C%89parallel-syncs%E6%89%80%E9%85%8D%E7%BD%AE%E7%9A%84%E8%A7%84%E5%88%99%E6%9D%A5%E4%BA%86%5Cn%23%20%E9%BB%98%E8%AE%A4%E4%B8%89%E5%88%86%E9%92%9F%5Cn%23%20sentinel%20failover-timeout%20%3Cmaster-name%3E%20%3Cmilliseconds%3E%5Cnsentinel%20failover-timeout%20mymaster%20180000%5Cn%20%5Cn%23%20SCRIPTS%20EXECUTION%5Cn%20%5Cn%23%E9%85%8D%E7%BD%AE%E5%BD%93%E6%9F%90%E4%B8%80%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E6%97%B6%E6%89%80%E9%9C%80%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E8%84%9A%E6%9C%AC%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%84%9A%E6%9C%AC%E6%9D%A5%E9%80%9A%E7%9F%A5%E7%AE%A1%E7%90%86%E5%91%98%EF%BC%8C%E4%BE%8B%E5%A6%82%E5%BD%93%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E4%B8%8D%E6%AD%A3%E5%B8%B8%E6%97%B6%E5%8F%91%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5%E7%9B%B8%E5%85%B3%E4%BA%BA%E5%91%98%E3%80%82%5Cn%23%E5%AF%B9%E4%BA%8E%E8%84%9A%E6%9C%AC%E7%9A%84%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E6%9C%89%E4%BB%A5%E4%B8%8B%E8%A7%84%E5%88%99%EF%BC%9A%5Cn%23%E8%8B%A5%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8E%E8%BF%94%E5%9B%9E1%EF%BC%8C%E9%82%A3%E4%B9%88%E8%AF%A5%E8%84%9A%E6%9C%AC%E7%A8%8D%E5%90%8E%E5%B0%86%E4%BC%9A%E8%A2%AB%E5%86%8D%E6%AC%A1%E6%89%A7%E8%A1%8C%EF%BC%8C%E9%87%8D%E5%A4%8D%E6%AC%A1%E6%95%B0%E7%9B%AE%E5%89%8D%E9%BB%98%E8%AE%A4%E4%B8%BA10%5Cn%23%E8%8B%A5%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8E%E8%BF%94%E5%9B%9E2%EF%BC%8C%E6%88%96%E8%80%85%E6%AF%942%E6%9B%B4%E9%AB%98%E7%9A%84%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E8%84%9A%E6%9C%AC%E5%B0%86%E4%B8%8D%E4%BC%9A%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C%E3%80%82%5Cn%23%E5%A6%82%E6%9E%9C%E8%84%9A%E6%9C%AC%E5%9C%A8%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%94%B1%E4%BA%8E%E6%94%B6%E5%88%B0%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%96%AD%E4%BF%A1%E5%8F%B7%E8%A2%AB%E7%BB%88%E6%AD%A2%E4%BA%86%EF%BC%8C%E5%88%99%E5%90%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA1%E6%97%B6%E7%9A%84%E8%A1%8C%E4%B8%BA%E7%9B%B8%E5%90%8C%E3%80%82%5Cn%23%E4%B8%80%E4%B8%AA%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9C%80%E5%A4%A7%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4%E4%B8%BA60s%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%B6%85%E8%BF%87%E8%BF%99%E4%B8%AA%E6%97%B6%E9%97%B4%EF%BC%8C%E8%84%9A%E6%9C%AC%E5%B0%86%E4%BC%9A%E8%A2%AB%E4%B8%80%E4%B8%AASIGKILL%E4%BF%A1%E5%8F%B7%E7%BB%88%E6%AD%A2%EF%BC%8C%E4%B9%8B%E5%90%8E%E9%87%8D%E6%96%B0%E6%89%A7%E8%A1%8C%E3%80%82%5Cn%20%5Cn%23%E9%80%9A%E7%9F%A5%E5%9E%8B%E8%84%9A%E6%9C%AC%3A%E5%BD%93sentinel%E6%9C%89%E4%BB%BB%E4%BD%95%E8%AD%A6%E5%91%8A%E7%BA%A7%E5%88%AB%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E6%97%B6%EF%BC%88%E6%AF%94%E5%A6%82%E8%AF%B4redis%E5%AE%9E%E4%BE%8B%E7%9A%84%E4%B8%BB%E8%A7%82%E5%A4%B1%E6%95%88%E5%92%8C%E5%AE%A2%E8%A7%82%E5%A4%B1%E6%95%88%E7%AD%89%E7%AD%89%EF%BC%89%EF%BC%8C%E5%B0%86%E4%BC%9A%E5%8E%BB%E8%B0%83%E7%94%A8%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%EF%BC%8C%5Cn%23%E8%BF%99%E6%97%B6%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%BA%94%E8%AF%A5%E9%80%9A%E8%BF%87%E9%82%AE%E4%BB%B6%EF%BC%8CSMS%E7%AD%89%E6%96%B9%E5%BC%8F%E5%8E%BB%E9%80%9A%E7%9F%A5%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%85%B3%E4%BA%8E%E7%B3%BB%E7%BB%9F%E4%B8%8D%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%E8%B0%83%E7%94%A8%E8%AF%A5%E8%84%9A%E6%9C%AC%E6%97%B6%EF%BC%8C%E5%B0%86%E4%BC%A0%E7%BB%99%E8%84%9A%E6%9C%AC%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%5Cn%23%E4%B8%80%E4%B8%AA%E6%98%AF%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%8C%5Cn%23%E4%B8%80%E4%B8%AA%E6%98%AF%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%8F%8F%E8%BF%B0%E3%80%82%5Cn%23%E5%A6%82%E6%9E%9Csentinel.conf%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE%E4%BA%86%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E8%B7%AF%E5%BE%84%EF%BC%8C%E9%82%A3%E4%B9%88%E5%BF%85%E9%A1%BB%E4%BF%9D%E8%AF%81%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%AD%98%E5%9C%A8%E4%BA%8E%E8%BF%99%E4%B8%AA%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%98%AF%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%8C%E5%90%A6%E5%88%99sentinel%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F%E3%80%82%5Cn%23%E9%80%9A%E7%9F%A5%E8%84%9A%E6%9C%AC%5Cn%23%20sentinel%20notification-script%20%3Cmaster-name%3E%20%3Cscript-path%3E%5Cn%20%20sentinel%20notification-script%20mymaster%20%2Fvar%2Fredis%2Fnotify.sh%5Cn%20%5Cn%23%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%87%8D%E6%96%B0%E9%85%8D%E7%BD%AE%E4%B8%BB%E8%8A%82%E7%82%B9%E5%8F%82%E6%95%B0%E8%84%9A%E6%9C%AC%5Cn%23%20%E5%BD%93%E4%B8%80%E4%B8%AAmaster%E7%94%B1%E4%BA%8Efailover%E8%80%8C%E5%8F%91%E7%94%9F%E6%94%B9%E5%8F%98%E6%97%B6%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%B0%86%E4%BC%9A%E8%A2%AB%E8%B0%83%E7%94%A8%EF%BC%8C%E9%80%9A%E7%9F%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%85%B3%E4%BA%8Emaster%E5%9C%B0%E5%9D%80%E5%B7%B2%E7%BB%8F%E5%8F%91%E7%94%9F%E6%94%B9%E5%8F%98%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%5Cn%23%20%E4%BB%A5%E4%B8%8B%E5%8F%82%E6%95%B0%E5%B0%86%E4%BC%9A%E5%9C%A8%E8%B0%83%E7%94%A8%E8%84%9A%E6%9C%AC%E6%97%B6%E4%BC%A0%E7%BB%99%E8%84%9A%E6%9C%AC%3A%5Cn%23%20%3Cmaster-name%3E%20%3Crole%3E%20%3Cstate%3E%20%3Cfrom-ip%3E%20%3Cfrom-port%3E%20%3Cto-ip%3E%20%3Cto-port%3E%5Cn%23%20%E7%9B%AE%E5%89%8D%3Cstate%3E%E6%80%BB%E6%98%AF%E2%80%9Cfailover%E2%80%9D%2C%5Cn%23%20%3Crole%3E%E6%98%AF%E2%80%9Cleader%E2%80%9D%E6%88%96%E8%80%85%E2%80%9Cobserver%E2%80%9D%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E3%80%82%20%5Cn%23%20%E5%8F%82%E6%95%B0%20from-ip%2C%20from-port%2C%20to-ip%2C%20to-port%E6%98%AF%E7%94%A8%E6%9D%A5%E5%92%8C%E6%97%A7%E7%9A%84master%E5%92%8C%E6%96%B0%E7%9A%84master(%E5%8D%B3%E6%97%A7%E7%9A%84slave)%E9%80%9A%E4%BF%A1%E7%9A%84%5Cn%23%20%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%BA%94%E8%AF%A5%E6%98%AF%E9%80%9A%E7%94%A8%E7%9A%84%EF%BC%8C%E8%83%BD%E8%A2%AB%E5%A4%9A%E6%AC%A1%E8%B0%83%E7%94%A8%EF%BC%8C%E4%B8%8D%E6%98%AF%E9%92%88%E5%AF%B9%E6%80%A7%E7%9A%84%E3%80%82%5Cn%23%20sentinel%20client-reconfig-script%20%3Cmaster-name%3E%20%3Cscript-path%3E%5Cnsentinel%20client-reconfig-script%20mymaster%20%2Fvar%2Fredis%2Freconfig.sh%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223a53dda0%22%7D\"></card><p data-lake-id=\"u0aee0aff\" id=\"u0aee0aff\"><br></p><h2 data-lake-id=\"1b8920bd\" id=\"1b8920bd\"><span data-lake-id=\"u626e5c03\" id=\"u626e5c03\">十六、缓存穿透与雪崩</span></h2><p data-lake-id=\"u51c66912\" id=\"u51c66912\"><br></p><h3 data-lake-id=\"d9526f37\" id=\"d9526f37\"><span data-lake-id=\"uffeccdf6\" id=\"uffeccdf6\">缓存穿透（查不到）</span></h3><p data-lake-id=\"u3e2a5037\" id=\"u3e2a5037\"><br></p><blockquote data-lake-id=\"u99a0786e\" id=\"u99a0786e\"><p data-lake-id=\"ua12b80eb\" id=\"ua12b80eb\"><span data-lake-id=\"u8f98a1b5\" id=\"u8f98a1b5\">概念</span></p></blockquote><p data-lake-id=\"ue6757b12\" id=\"ue6757b12\"><br></p><p data-lake-id=\"u33f59470\" id=\"u33f59470\"><span data-lake-id=\"uce628231\" id=\"uce628231\">在默认情况下，用户请求数据时，会先在缓存(Redis)中查找，若没找到即缓存未命中，再在数据库中进行查找，数量少可能问题不大，可是一旦大量的请求数据（例如秒杀场景）缓存都没有命中的话，就会全部转移到数据库上，造成数据库极大的压力，就有可能导致数据库崩溃。网络安全中也有人恶意使用这种手段进行攻击被称为洪水攻击。</span></p><p data-lake-id=\"u4150b2a6\" id=\"u4150b2a6\"><br></p><blockquote data-lake-id=\"u32a06d3e\" id=\"u32a06d3e\"><p data-lake-id=\"ucf08adb3\" id=\"ucf08adb3\"><span data-lake-id=\"uea604700\" id=\"uea604700\">解决方案</span></p></blockquote><p data-lake-id=\"u09957e43\" id=\"u09957e43\"><br></p><p data-lake-id=\"ud8953def\" id=\"ud8953def\"><strong><span data-lake-id=\"u73a14cd5\" id=\"u73a14cd5\">布隆过滤器</span></strong></p><p data-lake-id=\"u507e7d8d\" id=\"u507e7d8d\"><br></p><p data-lake-id=\"u3c5077da\" id=\"u3c5077da\"><span data-lake-id=\"u6c0f4ac7\" id=\"u6c0f4ac7\">对所有可能查询的参数以Hash的形式存储，以便快速确定是否存在这个值，在控制层先进行拦截校验，校验不通过直接打回，减轻了存储系统的压力。</span></p><p data-lake-id=\"ud990adc6\" id=\"ud990adc6\"><br></p><p data-lake-id=\"u75940f27\" id=\"u75940f27\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215824722.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A342%2C%22originHeight%22%3A416%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22UaX6n%22%7D\"></card></p><p data-lake-id=\"u7f377301\" id=\"u7f377301\"><br></p><p data-lake-id=\"uc625ddba\" id=\"uc625ddba\"><strong><span data-lake-id=\"ufbb35546\" id=\"ufbb35546\">缓存空对象</span></strong></p><p data-lake-id=\"ue0c7a86c\" id=\"ue0c7a86c\"><br></p><p data-lake-id=\"u491099d5\" id=\"u491099d5\"><span data-lake-id=\"u9f6ea77f\" id=\"u9f6ea77f\">一次请求若在缓存和数据库中都没找到，就在缓存中方一个空对象用于处理后续这个请求。</span></p><p data-lake-id=\"u21269232\" id=\"u21269232\"><br></p><p data-lake-id=\"ua7d2698f\" id=\"ua7d2698f\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215836317.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A573%2C%22originHeight%22%3A610%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22kwSAl%22%7D\"></card></p><p data-lake-id=\"ucedc4e12\" id=\"ucedc4e12\"><br></p><p data-lake-id=\"u777cda25\" id=\"u777cda25\"><span data-lake-id=\"u82f9fc3b\" id=\"u82f9fc3b\">这样做有一个缺陷：存储空对象也需要空间，大量的空对象会耗费一定的空间，存储效率并不高。解决这个缺陷的方式就是设置较短过期时间</span></p><p data-lake-id=\"u43db2415\" id=\"u43db2415\"><br></p><p data-lake-id=\"ub195224b\" id=\"ub195224b\"><span data-lake-id=\"u9ff1331f\" id=\"u9ff1331f\">即使对空值设置了过期时间，还是会存在缓存层和存储层的数据会有一段时间窗口的不一致，这对于需要保持一致性的业务会有影响。</span></p><p data-lake-id=\"ub1be3e83\" id=\"ub1be3e83\"><br></p><h3 data-lake-id=\"1f3d8099\" id=\"1f3d8099\"><span data-lake-id=\"u9b995ffe\" id=\"u9b995ffe\">缓存击穿（量太大，缓存过期）</span></h3><p data-lake-id=\"u6ee63687\" id=\"u6ee63687\"><br></p><blockquote data-lake-id=\"u3fde897b\" id=\"u3fde897b\"><p data-lake-id=\"uc6f6174a\" id=\"uc6f6174a\"><span data-lake-id=\"u3cf8d7b1\" id=\"u3cf8d7b1\">概念</span></p></blockquote><p data-lake-id=\"u2a76b38d\" id=\"u2a76b38d\"><br></p><p data-lake-id=\"ub86262fb\" id=\"ub86262fb\"><span data-lake-id=\"uc29ff9eb\" id=\"uc29ff9eb\">相较于缓存穿透，缓存击穿的目的性更强，一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB，造成瞬时DB请求量大、压力骤增。这就是缓存被击穿，只是针对其中某个key的缓存不可用而导致击穿，但是其他的key依然可以使用缓存响应。</span></p><p data-lake-id=\"ufb993a14\" id=\"ufb993a14\"><br></p><p data-lake-id=\"u3e272cca\" id=\"u3e272cca\"><span data-lake-id=\"udb4b00c7\" id=\"udb4b00c7\">比如热搜排行上，一个热点新闻被同时大量访问就可能导致缓存击穿。</span></p><p data-lake-id=\"u1c3baf46\" id=\"u1c3baf46\"><br></p><blockquote data-lake-id=\"ud18fd51d\" id=\"ud18fd51d\"><p data-lake-id=\"u03b559d7\" id=\"u03b559d7\"><span data-lake-id=\"uf1a8cc6e\" id=\"uf1a8cc6e\">解决方案</span></p></blockquote><p data-lake-id=\"ua1244afa\" id=\"ua1244afa\"><br></p><ol list=\"u90fd4bcb\"><li fid=\"uccf9620d\" data-lake-id=\"u43cccf4f\" id=\"u43cccf4f\"><span data-lake-id=\"udf7dd7d5\" id=\"udf7dd7d5\"> </span><strong><span data-lake-id=\"u587b3958\" id=\"u587b3958\">设置热点数据永不过期</span></strong><span data-lake-id=\"uc80d93af\" id=\"uc80d93af\"><br /></span><span data-lake-id=\"u7d43249c\" id=\"u7d43249c\">这样就不会出现热点数据过期的情况，但是当Redis内存空间满的时候也会清理部分数据，而且此种方案会占用空间，一旦热点数据多了起来，就会占用部分空间。 </span></li></ol><ol list=\"uf1c9bf91\" start=\"2\"><li fid=\"u2ae7614e\" data-lake-id=\"udb7f5a3c\" id=\"udb7f5a3c\"><span data-lake-id=\"u77889d78\" id=\"u77889d78\"> </span><strong><span data-lake-id=\"u30ef0819\" id=\"u30ef0819\">加互斥锁(分布式锁)</span></strong><span data-lake-id=\"u3e87b86b\" id=\"u3e87b86b\"><br /></span><span data-lake-id=\"u9c74f41a\" id=\"u9c74f41a\">在访问key之前，采用SETNX（set if not exists）来设置另一个短期key来锁住当前key的访问，访问结束再删除该短期key。保证同时刻只有一个线程访问。这样对锁的要求就十分高。 </span></li></ol><p data-lake-id=\"u1fa6f6fe\" id=\"u1fa6f6fe\"><br></p><h3 data-lake-id=\"b901facc\" id=\"b901facc\"><span data-lake-id=\"u720ca402\" id=\"u720ca402\">缓存雪崩</span></h3><p data-lake-id=\"u9ba8ac75\" id=\"u9ba8ac75\"><br></p><blockquote data-lake-id=\"u72e05b27\" id=\"u72e05b27\"><p data-lake-id=\"uab7f7cab\" id=\"uab7f7cab\"><span data-lake-id=\"uecfd8dcf\" id=\"uecfd8dcf\">概念</span></p></blockquote><p data-lake-id=\"u8a62b626\" id=\"u8a62b626\"><br></p><p data-lake-id=\"u60a70d7e\" id=\"u60a70d7e\"><span data-lake-id=\"ubbe12744\" id=\"ubbe12744\">大量的key设置了相同的过期时间，导致在缓存在同一时刻全部失效，造成瞬时DB请求量大、压力骤增，引起雪崩。</span></p><p data-lake-id=\"uc7d535d6\" id=\"uc7d535d6\"><br></p><p data-lake-id=\"uee1b79dd\" id=\"uee1b79dd\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215850428.jpeg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A636%2C%22originHeight%22%3A385%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22m7I1r%22%7D\"></card></p><p data-lake-id=\"u10bf0441\" id=\"u10bf0441\"><br></p><blockquote data-lake-id=\"u24596471\" id=\"u24596471\"><p data-lake-id=\"u1f07b76a\" id=\"u1f07b76a\"><span data-lake-id=\"u6ab4ff8f\" id=\"u6ab4ff8f\">解决方案</span></p></blockquote><p data-lake-id=\"u7f0cd8c0\" id=\"u7f0cd8c0\"><br></p><ul list=\"u1f678c8e\"><li fid=\"u04ba4719\" data-lake-id=\"u14106fdf\" id=\"u14106fdf\"><span data-lake-id=\"u62aac02b\" id=\"u62aac02b\"> redis高可用<br /></span><span data-lake-id=\"ud4541aeb\" id=\"ud4541aeb\">这个思想的含义是，既然redis有可能挂掉，那我多增设几台redis，这样一台挂掉之后其他的还可以继续工作，其实就是搭建的集群 </span></li></ul><ul list=\"u6ad00a42\"><li fid=\"u7950b92f\" data-lake-id=\"ucf86e4d5\" id=\"ucf86e4d5\"><span data-lake-id=\"ue19bbe5d\" id=\"ue19bbe5d\"> 限流降级<br /></span><span data-lake-id=\"u64847f05\" id=\"u64847f05\">这个解决方案的思想是，在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。 </span></li></ul><ul list=\"ub7ec25ea\"><li fid=\"uafcb4fd6\" data-lake-id=\"u5c4bb6e2\" id=\"u5c4bb6e2\"><span data-lake-id=\"ufaf25c61\" id=\"ufaf25c61\"> 数据预热<br /></span><span data-lake-id=\"u0f3ed98e\" id=\"u0f3ed98e\">数据加热的含义就是在正式部署之前，我先把可能的数据先预先访问一遍，这样部分可能大量访问的数据就会加载到缓存中。在即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。 </span></li></ul>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"viewport\" content=\"adapt\" /><meta name=\"typography\" content=\"classic\" /><cursor /><h2 data-lake-id=\"aee055fc\" id=\"aee055fc\"><span>一、Nosql概述</span></h2><p data-lake-id=\"ufc762879\" id=\"ufc762879\"><br /></p><h3 data-lake-id=\"ab7557ae\" id=\"ab7557ae\"><span>为什么使用Nosql</span></h3><p data-lake-id=\"uc7910abd\" id=\"uc7910abd\"><br /></p><blockquote><p data-lake-id=\"ud69a2b9d\" id=\"ud69a2b9d\"><span>1、单机Mysql时代</span></p></blockquote><p data-lake-id=\"ue4e6e220\" id=\"ue4e6e220\"><br /></p><p data-lake-id=\"ub9edc24e\" id=\"ub9edc24e\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020082010365930.png%23pic_center%22%2C%22originWidth%22%3A611%2C%22originHeight%22%3A113%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A611%2C%22height%22%3A113%2C%22id%22%3A%22wIDA6%22%7D\"></card></p><p data-lake-id=\"ue3d6fefd\" id=\"ue3d6fefd\"><br /></p><p data-lake-id=\"u33668320\" id=\"u33668320\"><span>90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题</span></p><p data-lake-id=\"ub9b0a1f2\" id=\"ub9b0a1f2\"><br /></p><ol data-lake-id=\"3b3aadf506ad3e7cc03de37ab3137f0b_ol_0\"><li data-lake-id=\"u869d731c\"><span>数据量增加到一定程度，单机数据库就放不下了</span></li></ol><ol start=\"2\" data-lake-id=\"051fef6f90ad87ee43d491cd59db1abd_ol_1\"><li data-lake-id=\"uf924ec51\"><span>数据的索引（B+ Tree）,一个机器内存也存放不下</span></li></ol><ol start=\"3\" data-lake-id=\"9da9f163265edc1854155f89b430276a_ol_2\"><li data-lake-id=\"ue547cc31\"><span>访问量变大后（读写混合），一台服务器承受不住。</span></li></ol><p data-lake-id=\"u4f7edfcd\" id=\"u4f7edfcd\"><br /></p><blockquote><p data-lake-id=\"ue01849cc\" id=\"ue01849cc\"><span>2、Memcached(缓存) + Mysql + 垂直拆分（读写分离）</span></p></blockquote><p data-lake-id=\"u83ce31df\" id=\"u83ce31df\"><br /></p><p data-lake-id=\"u42a11bd4\" id=\"u42a11bd4\"><span>网站80%的情况都是在读，每次都要去查询数据库的话就十分的麻烦！所以说我们希望减轻数据库的压力，我们可以使用缓存来保证效率！</span></p><p data-lake-id=\"udc7c65cc\" id=\"udc7c65cc\"><br /></p><p data-lake-id=\"ueeb701f7\" id=\"ueeb701f7\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103713734.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A614%2C%22originHeight%22%3A313%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A614%2C%22height%22%3A313%2C%22id%22%3A%22EYshd%22%7D\"></card></p><p data-lake-id=\"u874754be\" id=\"u874754be\"><br /></p><p data-lake-id=\"u3beb5390\" id=\"u3beb5390\"><span>优化过程经历了以下几个过程：</span></p><p data-lake-id=\"u4230b10f\" id=\"u4230b10f\"><br /></p><ol data-lake-id=\"002b2cf4152adca1aa60a0ce9552d42e_ol_3\"><li data-lake-id=\"uba0ce3e1\"><span>优化数据库的数据结构和索引(难度大)</span></li></ol><ol start=\"2\" data-lake-id=\"16c5a6169b9971e0d26883e5f0dab0ef_ol_4\"><li data-lake-id=\"ufb9b82c0\"><span>文件缓存，通过IO流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO流也承受不了</span></li></ol><ol start=\"3\" data-lake-id=\"a1a3fefafdcedec7a9ce31ea12785ca0_ol_5\"><li data-lake-id=\"u8bb3a62a\"><span>MemCache,当时最热门的技术，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升。</span></li></ol><p data-lake-id=\"u073b0e2e\" id=\"u073b0e2e\"><br /></p><blockquote><p data-lake-id=\"uc5913d12\" id=\"uc5913d12\"><span>3、分库分表 + 水平拆分 + Mysql集群</span></p></blockquote><p data-lake-id=\"uddb0465e\" id=\"uddb0465e\"><br /></p><p data-lake-id=\"u5108c477\" id=\"u5108c477\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103739584.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A622%2C%22originHeight%22%3A503%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A622%2C%22height%22%3A503%2C%22id%22%3A%22IV2zO%22%7D\"></card></p><p data-lake-id=\"u517b6139\" id=\"u517b6139\"><br /></p><blockquote><p data-lake-id=\"u283dfc3d\" id=\"u283dfc3d\"><span>4、如今最近的年代</span></p></blockquote><p data-lake-id=\"ubc391ac6\" id=\"ubc391ac6\"><br /></p><p data-lake-id=\"ue4c23468\" id=\"ue4c23468\"><span>如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等），大数据的背景下关系型数据库（RDBMS）无法满足大量数据要求。Nosql数据库就能轻松解决这些问题。</span></p><p data-lake-id=\"ucb6f9db8\" id=\"ucb6f9db8\"><br /></p><blockquote><p data-lake-id=\"u70f7455e\" id=\"u70f7455e\"><span>目前一个基本的互联网项目</span></p></blockquote><p data-lake-id=\"u96103502\" id=\"u96103502\"><br /></p><p data-lake-id=\"uf8feea12\" id=\"uf8feea12\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103804572.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1131%2C%22originHeight%22%3A516%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1131%2C%22height%22%3A516%2C%22id%22%3A%22dByAg%22%7D\"></card></p><p data-lake-id=\"ud9efa6f2\" id=\"ud9efa6f2\"><br /></p><blockquote><p data-lake-id=\"u89bb61b9\" id=\"u89bb61b9\"><span>为什么要用NoSQL ？</span></p></blockquote><p data-lake-id=\"uc7de1f77\" id=\"uc7de1f77\"><br /></p><p data-lake-id=\"ud40ae2ab\" id=\"ud40ae2ab\"><span>用户的个人信息，社交网络，地理位置。用户自己产生的数据，用户日志等等爆发式增长！<br /></span><span>这时候我们就需要使用NoSQL数据库的，Nosql可以很好的处理以上的情况！</span></p><p data-lake-id=\"u73204d9a\" id=\"u73204d9a\"><br /></p><h3 data-lake-id=\"c94eeebb\" id=\"c94eeebb\"><span>什么是Nosql</span></h3><p data-lake-id=\"u30b415a3\" id=\"u30b415a3\"><br /></p><p data-lake-id=\"u6f18bbee\" id=\"u6f18bbee\"><strong><span>NoSQL = Not Only SQL（不仅仅是SQL）</span></strong></p><p data-lake-id=\"u5cde3b89\" id=\"u5cde3b89\"><br /></p><p data-lake-id=\"u0c75beca\" id=\"u0c75beca\"><span>Not Only Structured Query Language</span></p><p data-lake-id=\"u6cef4086\" id=\"u6cef4086\"><br /></p><p data-lake-id=\"u4b3f061a\" id=\"u4b3f061a\"><span>关系型数据库：列+行，同一个表下数据的结构是一样的。</span></p><p data-lake-id=\"uceaee55a\" id=\"uceaee55a\"><br /></p><p data-lake-id=\"uac7aef2e\" id=\"uac7aef2e\"><span>非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展。</span></p><p data-lake-id=\"ufc5adf7d\" id=\"ufc5adf7d\"><br /></p><p data-lake-id=\"u1d7cfa8e\" id=\"u1d7cfa8e\"><span>NoSQL泛指非关系型数据库，随着web2.0互联网的诞生，传统的关系型数据库很难对付web2.0时代！尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，Redis是发展最快的。</span></p><p data-lake-id=\"ud9018e90\" id=\"ud9018e90\"><br /></p><h3 data-lake-id=\"9b16b018\" id=\"9b16b018\"><span>Nosql特点</span></h3><p data-lake-id=\"ue1cbff5a\" id=\"ue1cbff5a\"><br /></p><ol data-lake-id=\"27e923ef121f14057234b0a06cea2c9a_ol_6\"><li data-lake-id=\"u8eccc406\"><span> 方便扩展（数据之间没有关系，很好扩展！） </span></li></ol><ol start=\"2\" data-lake-id=\"c40e51b8a7d795fadb329d1e74f6981a_ol_7\"><li data-lake-id=\"ub9ed5b1c\"><span> 大数据量高性能（Redis一秒可以写8万次，读11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能会比较高！） </span></li></ol><ol start=\"3\" data-lake-id=\"b12b790a1624a62a893cf099b25f08db_ol_8\"><li data-lake-id=\"u6c7523ae\"><span> 数据类型是多样型的！（不需要事先设计数据库，随取随用） </span></li></ol><ol start=\"4\" data-lake-id=\"6b95e12a45d55493f4463617b6bf162f_ol_9\"><li data-lake-id=\"u3ff4709c\"><span> 传统的 RDBMS 和 NoSQL </span><span> </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BC%A0%E7%BB%9F%E7%9A%84%20RDBMS(%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93)%5Cn-%20%E7%BB%93%E6%9E%84%E5%8C%96%E7%BB%84%E7%BB%87%5Cn-%20SQL%5Cn-%20%E6%95%B0%E6%8D%AE%E5%92%8C%E5%85%B3%E7%B3%BB%E9%83%BD%E5%AD%98%E5%9C%A8%E5%8D%95%E7%8B%AC%E7%9A%84%E8%A1%A8%E4%B8%AD%20row%20col%5Cn-%20%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%5Cn-%20%E4%B8%A5%E6%A0%BC%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%5Cn-%20%E5%9F%BA%E7%A1%80%E7%9A%84%E4%BA%8B%E5%8A%A1%5Cn-%20...%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2241183cda%22%7D\"></card><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Nosql%5Cn-%20%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E6%95%B0%E6%8D%AE%5Cn-%20%E6%B2%A1%E6%9C%89%E5%9B%BA%E5%AE%9A%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%5Cn-%20%E9%94%AE%E5%80%BC%E5%AF%B9%E5%AD%98%E5%82%A8%EF%BC%8C%E5%88%97%E5%AD%98%E5%82%A8%EF%BC%8C%E6%96%87%E6%A1%A3%E5%AD%98%E5%82%A8%EF%BC%8C%E5%9B%BE%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E7%A4%BE%E4%BA%A4%E5%85%B3%E7%B3%BB%EF%BC%89%5Cn-%20%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7%5Cn-%20CAP%E5%AE%9A%E7%90%86%E5%92%8CBASE%5Cn-%20%E9%AB%98%E6%80%A7%E8%83%BD%EF%BC%8C%E9%AB%98%E5%8F%AF%E7%94%A8%EF%BC%8C%E9%AB%98%E6%89%A9%E5%B1%95%5Cn-%20...%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2247a2217b%22%7D\"></card><p data-lake-id=\"ue411b3a2\" id=\"ue411b3a2\"><br /></p><blockquote><p data-lake-id=\"u4bc7fbc5\" id=\"u4bc7fbc5\"><span>了解：3V + 3高</span></p></blockquote><p data-lake-id=\"u143f9c0e\" id=\"u143f9c0e\"><br /></p><p data-lake-id=\"u0162bc1e\" id=\"u0162bc1e\"><span>大数据时代的3V ：主要是</span><strong><span>描述问题</span></strong><span>的</span></p><p data-lake-id=\"u3c85604c\" id=\"u3c85604c\"><br /></p><ol data-lake-id=\"4e1ced0c4ad6ca8e346a8153d2ec4b60_ol_10\"><li data-lake-id=\"u38e1e49e\"><span>海量Velume</span></li></ol><ol start=\"2\" data-lake-id=\"df5f08135b8d4fef37bf0d01d0be65a8_ol_11\"><li data-lake-id=\"udff651ae\"><span>多样Variety</span></li></ol><ol start=\"3\" data-lake-id=\"10a0f66368db7f13d71eac4fcdfeda07_ol_12\"><li data-lake-id=\"u18f43379\"><span>实时Velocity</span></li></ol><p data-lake-id=\"ua5f38aae\" id=\"ua5f38aae\"><br /></p><p data-lake-id=\"u5c7372f9\" id=\"u5c7372f9\"><span>大数据时代的3高 ： 主要是</span><strong><span>对程序的要求</span></strong></p><p data-lake-id=\"ucaa592ff\" id=\"ucaa592ff\"><br /></p><ol data-lake-id=\"62c82b370055157dc1a9a93765c10035_ol_13\"><li data-lake-id=\"udbd63f52\"><span>高并发</span></li></ol><ol start=\"2\" data-lake-id=\"91b44170f4396ae5e0f5eb89837bb1f3_ol_14\"><li data-lake-id=\"u360b7e44\"><span>高可扩</span></li></ol><ol start=\"3\" data-lake-id=\"70563abb2dfbd65d8ace7e35ac8b3906_ol_15\"><li data-lake-id=\"u79cb03a2\"><span>高性能</span></li></ol><p data-lake-id=\"uaca131e1\" id=\"uaca131e1\"><br /></p><p data-lake-id=\"ub1f785e3\" id=\"ub1f785e3\"><span>真正在公司中的实践：NoSQL + RDBMS 一起使用才是最强的。</span></p><p data-lake-id=\"u3eb6f426\" id=\"u3eb6f426\"><br /></p><h3 data-lake-id=\"e8a7ba20\" id=\"e8a7ba20\"><span>阿里巴巴演进分析</span></h3><p data-lake-id=\"u3736cd87\" id=\"u3736cd87\"><br /></p><p data-lake-id=\"u09bd35d6\" id=\"u09bd35d6\"><span>推荐阅读：阿里云的这群疯子https://yq.aliyun.com/articles/653511</span></p><p data-lake-id=\"u01d16eee\" id=\"u01d16eee\"><br /></p><p data-lake-id=\"u881199f6\" id=\"u881199f6\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103829446.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1056%2C%22originHeight%22%3A813%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1056%2C%22height%22%3A813%2C%22id%22%3A%22MeOWA%22%7D\"></card></p><p data-lake-id=\"u9620ef4a\" id=\"u9620ef4a\"><br /></p><p data-lake-id=\"u2fe06a4f\" id=\"u2fe06a4f\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103851613.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1130%2C%22originHeight%22%3A836%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1130%2C%22height%22%3A836%2C%22id%22%3A%22H4zN8%22%7D\"></card></p><p data-lake-id=\"u44df0f0f\" id=\"u44df0f0f\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E5%95%86%E5%93%81%E4%BF%A1%E6%81%AF%5Cn-%20%E4%B8%80%E8%88%AC%E5%AD%98%E6%94%BE%E5%9C%A8%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9AMysql%2C%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E4%BD%BF%E7%94%A8%E7%9A%84Mysql%E9%83%BD%E6%98%AF%E7%BB%8F%E8%BF%87%E5%86%85%E9%83%A8%E6%94%B9%E5%8A%A8%E7%9A%84%E3%80%82%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E6%8F%8F%E8%BF%B0%E3%80%81%E8%AF%84%E8%AE%BA(%E6%96%87%E5%AD%97%E5%B1%85%E5%A4%9A)%5Cn-%20%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9AMongoDB%5Cn%5Cn%23%20%E5%9B%BE%E7%89%87%5Cn-%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%20FastDFS%5Cn-%20%E6%B7%98%E5%AE%9D%EF%BC%9ATFS%5Cn-%20Google%3A%20GFS%5Cn-%20Hadoop%3A%20HDFS%5Cn-%20%E9%98%BF%E9%87%8C%E4%BA%91%3A%20oss%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E5%85%B3%E9%94%AE%E5%AD%97%20%E7%94%A8%E4%BA%8E%E6%90%9C%E7%B4%A2%5Cn-%20%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%EF%BC%9Asolr%2Celasticsearch%5Cn-%20%E9%98%BF%E9%87%8C%EF%BC%9AIsearch%20%E5%A4%9A%E9%9A%86%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E7%83%AD%E9%97%A8%E7%9A%84%E6%B3%A2%E6%AE%B5%E4%BF%A1%E6%81%AF%5Cn-%20%E5%86%85%E5%AD%98%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9ARedis%EF%BC%8CMemcache%5Cn%5Cn%23%20%E5%95%86%E5%93%81%E4%BA%A4%E6%98%93%EF%BC%8C%E5%A4%96%E9%83%A8%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3%5Cn-%20%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%94%E7%94%A8%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%229232d2c8%22%7D\"></card><p data-lake-id=\"u70b96800\" id=\"u70b96800\"><br /></p><h3 data-lake-id=\"8c18f413\" id=\"8c18f413\"><span>Nosql的四大分类</span></h3><p data-lake-id=\"uc6bb498f\" id=\"uc6bb498f\"><br /></p><blockquote><p data-lake-id=\"u16fb29cb\" id=\"u16fb29cb\"><strong><span>KV键值对</span></strong></p></blockquote><p data-lake-id=\"u5511306d\" id=\"u5511306d\"><br /></p><ul data-lake-id=\"7cad4ca5448d7f3626201c09789481bb_ul_0\"><li data-lake-id=\"u1229e1d7\"><span>新浪：</span><strong><span>Redis</span></strong></li></ul><ul data-lake-id=\"1305c9a7a68725bb2d918a7775368c99_ul_1\"><li data-lake-id=\"uec68efb9\"><span>美团：Redis + Tair</span></li></ul><ul data-lake-id=\"cb11f55050266e117b7014fed1ae7e47_ul_2\"><li data-lake-id=\"u2c6ae6a7\"><span>阿里、百度：Redis + Memcache</span></li></ul><p data-lake-id=\"ub539f25b\" id=\"ub539f25b\"><br /></p><blockquote><p data-lake-id=\"ub0ed1f73\" id=\"ub0ed1f73\"><strong><span>文档型数据库（bson数据格式）：</span></strong></p></blockquote><p data-lake-id=\"ue825dcec\" id=\"ue825dcec\"><br /></p><ul data-lake-id=\"c9e68ea17544d3c2a572018bff4a9709_ul_3\"><li data-lake-id=\"u5abe3024\"><strong><span>MongoDB</span></strong><span>(掌握) </span></li></ul><ul data-lake-indent=\"1\" data-lake-id=\"499b193f84e6f8d103ba28d36c2f5b17_ul_4\"><li data-lake-id=\"ued2609bc\"><span>基于分布式文件存储的数据库。C++编写，用于处理大量文档。</span></li></ul><ul data-lake-indent=\"1\" data-lake-id=\"fb496ecb4fe419c055ecaec56731813b_ul_5\"><li data-lake-id=\"uf305bcae\"><span>MongoDB是RDBMS和NoSQL的中间产品。MongoDB是非关系型数据库中功能最丰富的，NoSQL中最像关系型数据库的数据库。</span></li></ul><p data-lake-id=\"uf65add23\" id=\"uf65add23\"><span> </span></p><ul data-lake-id=\"0649e8bcb777688ea7d50763adfb0dd6_ul_6\"><li data-lake-id=\"ubc9e4146\"><span>ConthDB</span></li></ul><p data-lake-id=\"ud8e1667b\" id=\"ud8e1667b\"><br /></p><blockquote><p data-lake-id=\"ubff3e71f\" id=\"ubff3e71f\"><strong><span>列存储数据库</span></strong></p></blockquote><p data-lake-id=\"u5424d28b\" id=\"u5424d28b\"><br /></p><ul data-lake-id=\"84719a453dfef1260a15dc290324f1ba_ul_7\"><li data-lake-id=\"ubef725ce\"><strong><span>HBase</span></strong><span>(大数据必学)</span></li></ul><ul data-lake-id=\"c268cf894b9e0c298626f4bf453ec53a_ul_8\"><li data-lake-id=\"u26562bb0\"><span>分布式文件系统</span></li></ul><p data-lake-id=\"u9706319e\" id=\"u9706319e\"><br /></p><blockquote><p data-lake-id=\"u3fd52251\" id=\"u3fd52251\"><strong><span>图关系数据库</span></strong></p></blockquote><p data-lake-id=\"uc853f812\" id=\"uc853f812\"><br /></p><p data-lake-id=\"u9d1a2e16\" id=\"u9d1a2e16\"><span>用于广告推荐，社交网络</span></p><p data-lake-id=\"u241e139a\" id=\"u241e139a\"><br /></p><ul data-lake-id=\"91dbf4c495c47544bf888f190945b362_ul_9\"><li data-lake-id=\"u1cf352a9\"><strong><span>Neo4j</span></strong><span>、InfoGrid</span></li></ul><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%223b67c98f%22%2C%22rows%22%3A5%2C%22cols%22%3A6%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%223b67c98f%5C%22%20id%3D%5C%223b67c98f%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3Ccol%20width%3D%5C%22125%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uf187d49b%5C%22%20id%3D%5C%22uf187d49b%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5d7fff20%5C%22%20id%3D%5C%22u5d7fff20%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u949ae71e%5C%22%20id%3D%5C%22u949ae71e%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u02898530%5C%22%20id%3D%5C%22u02898530%5C%22%3E%E5%88%86%E7%B1%BB%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub9c6e34e%5C%22%20id%3D%5C%22ub9c6e34e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3fcda376%5C%22%20id%3D%5C%22u3fcda376%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u5b9fd730%5C%22%20id%3D%5C%22u5b9fd730%5C%22%3EExamples%E4%B8%BE%E4%BE%8B%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud8b66989%5C%22%20id%3D%5C%22ud8b66989%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0fb1e4d5%5C%22%20id%3D%5C%22u0fb1e4d5%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22uf452c853%5C%22%20id%3D%5C%22uf452c853%5C%22%3E%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5bf0f33e%5C%22%20id%3D%5C%22u5bf0f33e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4b92fec3%5C%22%20id%3D%5C%22u4b92fec3%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u97eb8980%5C%22%20id%3D%5C%22u97eb8980%5C%22%3E%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9177edf8%5C%22%20id%3D%5C%22u9177edf8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1b5e014f%5C%22%20id%3D%5C%22u1b5e014f%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u5515aaa1%5C%22%20id%3D%5C%22u5515aaa1%5C%22%3E%E4%BC%98%E7%82%B9%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub1c273de%5C%22%20id%3D%5C%22ub1c273de%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7ef2af75%5C%22%20id%3D%5C%22u7ef2af75%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u085baa01%5C%22%20id%3D%5C%22u085baa01%5C%22%3E%E7%BC%BA%E7%82%B9%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ufcdea754%5C%22%20id%3D%5C%22ufcdea754%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua9f43753%5C%22%20id%3D%5C%22ua9f43753%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5c0dd67d%5C%22%20id%3D%5C%22u5c0dd67d%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u5fbffb11%5C%22%20id%3D%5C%22u5fbffb11%5C%22%3E%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%88key-value%EF%BC%89%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u19e8482c%5C%22%20id%3D%5C%22u19e8482c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud1a5d06c%5C%22%20id%3D%5C%22ud1a5d06c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uead77edf%5C%22%20id%3D%5C%22uead77edf%5C%22%3ETokyo%20Cabinet%2FTyrant%2C%20Redis%2C%20Voldemort%2C%20Oracle%20BDB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u0dc6a864%5C%22%20id%3D%5C%22u0dc6a864%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7ead5768%5C%22%20id%3D%5C%22u7ead5768%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ueb2aa742%5C%22%20id%3D%5C%22ueb2aa742%5C%22%3E%E5%86%85%E5%AE%B9%E7%BC%93%E5%AD%98%EF%BC%8C%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E5%A4%84%E7%90%86%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E9%AB%98%E8%AE%BF%E9%97%AE%E8%B4%9F%E8%BD%BD%EF%BC%8C%E4%B9%9F%E7%94%A8%E4%BA%8E%E4%B8%80%E4%BA%9B%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E7%AD%89%E7%AD%89%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uaa28446c%5C%22%20id%3D%5C%22uaa28446c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uae3675cb%5C%22%20id%3D%5C%22uae3675cb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda671e75%5C%22%20id%3D%5C%22uda671e75%5C%22%3EKey%20%E6%8C%87%E5%90%91%20Value%20%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%8C%E9%80%9A%E5%B8%B8%E7%94%A8hash%20table%E6%9D%A5%E5%AE%9E%E7%8E%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u31b6c887%5C%22%20id%3D%5C%22u31b6c887%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u12cd05f6%5C%22%20id%3D%5C%22u12cd05f6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubed30c29%5C%22%20id%3D%5C%22ubed30c29%5C%22%3E%E6%9F%A5%E6%89%BE%E9%80%9F%E5%BA%A6%E5%BF%AB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u313ab38f%5C%22%20id%3D%5C%22u313ab38f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1507ae6c%5C%22%20id%3D%5C%22u1507ae6c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u46b4425e%5C%22%20id%3D%5C%22u46b4425e%5C%22%3E%E6%95%B0%E6%8D%AE%E6%97%A0%E7%BB%93%E6%9E%84%E5%8C%96%EF%BC%8C%E9%80%9A%E5%B8%B8%E5%8F%AA%E8%A2%AB%E5%BD%93%E4%BD%9C%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E8%80%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7196c01e%5C%22%20id%3D%5C%22u7196c01e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uf5cab040%5C%22%20id%3D%5C%22uf5cab040%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9dbf0a40%5C%22%20id%3D%5C%22u9dbf0a40%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u6f79fb31%5C%22%20id%3D%5C%22u6f79fb31%5C%22%3E%E5%88%97%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E5%BA%93%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uec0c864d%5C%22%20id%3D%5C%22uec0c864d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u43006d70%5C%22%20id%3D%5C%22u43006d70%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uea9bf2ea%5C%22%20id%3D%5C%22uea9bf2ea%5C%22%3ECassandra%2C%20HBase%2C%20Riak%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uad0f721d%5C%22%20id%3D%5C%22uad0f721d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7d15fae8%5C%22%20id%3D%5C%22u7d15fae8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9112f842%5C%22%20id%3D%5C%22u9112f842%5C%22%3E%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u79fe6077%5C%22%20id%3D%5C%22u79fe6077%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7804c8c6%5C%22%20id%3D%5C%22u7804c8c6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u81ed7cae%5C%22%20id%3D%5C%22u81ed7cae%5C%22%3E%E4%BB%A5%E5%88%97%E7%B0%87%E5%BC%8F%E5%AD%98%E5%82%A8%EF%BC%8C%E5%B0%86%E5%90%8C%E4%B8%80%E5%88%97%E6%95%B0%E6%8D%AE%E5%AD%98%E5%9C%A8%E4%B8%80%E8%B5%B7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u22b12d9c%5C%22%20id%3D%5C%22u22b12d9c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u13fe1587%5C%22%20id%3D%5C%22u13fe1587%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua190d0fc%5C%22%20id%3D%5C%22ua190d0fc%5C%22%3E%E6%9F%A5%E6%89%BE%E9%80%9F%E5%BA%A6%E5%BF%AB%EF%BC%8C%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7%E5%BC%BA%EF%BC%8C%E6%9B%B4%E5%AE%B9%E6%98%93%E8%BF%9B%E8%A1%8C%E5%88%86%E5%B8%83%E5%BC%8F%E6%89%A9%E5%B1%95%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u08c35f91%5C%22%20id%3D%5C%22u08c35f91%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u87e99df4%5C%22%20id%3D%5C%22u87e99df4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u53fac4af%5C%22%20id%3D%5C%22u53fac4af%5C%22%3E%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%AF%B9%E5%B1%80%E9%99%90%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u62e13098%5C%22%20id%3D%5C%22u62e13098%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0516428b%5C%22%20id%3D%5C%22u0516428b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3c480aa3%5C%22%20id%3D%5C%22u3c480aa3%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22u3fc626e6%5C%22%20id%3D%5C%22u3fc626e6%5C%22%3E%E6%96%87%E6%A1%A3%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22udb08da5e%5C%22%20id%3D%5C%22udb08da5e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50a27754%5C%22%20id%3D%5C%22u50a27754%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue8086a88%5C%22%20id%3D%5C%22ue8086a88%5C%22%3ECouchDB%2C%20MongoDb%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ude9d6ef6%5C%22%20id%3D%5C%22ude9d6ef6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud19638bb%5C%22%20id%3D%5C%22ud19638bb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u050a5b59%5C%22%20id%3D%5C%22u050a5b59%5C%22%3EWeb%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%8EKey-Value%E7%B1%BB%E4%BC%BC%EF%BC%8CValue%E6%98%AF%E7%BB%93%E6%9E%84%E5%8C%96%E7%9A%84%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E8%83%BD%E5%A4%9F%E4%BA%86%E8%A7%A3Value%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6835a22d%5C%22%20id%3D%5C%22u6835a22d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3c75bb05%5C%22%20id%3D%5C%22u3c75bb05%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf729f804%5C%22%20id%3D%5C%22uf729f804%5C%22%3EKey-Value%E5%AF%B9%E5%BA%94%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%8CValue%E4%B8%BA%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9614149c%5C%22%20id%3D%5C%22u9614149c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4c28cdaa%5C%22%20id%3D%5C%22u4c28cdaa%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uad234f20%5C%22%20id%3D%5C%22uad234f20%5C%22%3E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%A6%81%E6%B1%82%E4%B8%8D%E4%B8%A5%E6%A0%BC%EF%BC%8C%E8%A1%A8%E7%BB%93%E6%9E%84%E5%8F%AF%E5%8F%98%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E5%83%8F%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E6%A0%B7%E9%9C%80%E8%A6%81%E9%A2%84%E5%85%88%E5%AE%9A%E4%B9%89%E8%A1%A8%E7%BB%93%E6%9E%84%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8c36eca8%5C%22%20id%3D%5C%22u8c36eca8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uda5860e6%5C%22%20id%3D%5C%22uda5860e6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udd8dcac4%5C%22%20id%3D%5C%22udd8dcac4%5C%22%3E%E6%9F%A5%E8%AF%A2%E6%80%A7%E8%83%BD%E4%B8%8D%E9%AB%98%EF%BC%8C%E8%80%8C%E4%B8%94%E7%BC%BA%E4%B9%8F%E7%BB%9F%E4%B8%80%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub60fb578%5C%22%20id%3D%5C%22ub60fb578%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub3f5222d%5C%22%20id%3D%5C%22ub3f5222d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u43fab7dd%5C%22%20id%3D%5C%22u43fab7dd%5C%22%3E%3Cstrong%3E%3Cspan%20data-lake-id%3D%5C%22ucc9259d3%5C%22%20id%3D%5C%22ucc9259d3%5C%22%3E%E5%9B%BE%E5%BD%A2(Graph)%E6%95%B0%E6%8D%AE%E5%BA%93%3C%2Fspan%3E%3C%2Fstrong%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud189ef56%5C%22%20id%3D%5C%22ud189ef56%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue685ef38%5C%22%20id%3D%5C%22ue685ef38%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5a53a5a1%5C%22%20id%3D%5C%22u5a53a5a1%5C%22%3ENeo4J%2C%20InfoGrid%2C%20Infinite%20Graph%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uba3ea966%5C%22%20id%3D%5C%22uba3ea966%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5be5702e%5C%22%20id%3D%5C%22u5be5702e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u308ee2de%5C%22%20id%3D%5C%22u308ee2de%5C%22%3E%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%EF%BC%8C%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E7%AD%89%E3%80%82%E4%B8%93%E6%B3%A8%E4%BA%8E%E6%9E%84%E5%BB%BA%E5%85%B3%E7%B3%BB%E5%9B%BE%E8%B0%B1%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc7738325%5C%22%20id%3D%5C%22uc7738325%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u36b391b5%5C%22%20id%3D%5C%22u36b391b5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u10103d38%5C%22%20id%3D%5C%22u10103d38%5C%22%3E%E5%9B%BE%E7%BB%93%E6%9E%84%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u85134bc0%5C%22%20id%3D%5C%22u85134bc0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5e001d17%5C%22%20id%3D%5C%22u5e001d17%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u42eaf071%5C%22%20id%3D%5C%22u42eaf071%5C%22%3E%E5%88%A9%E7%94%A8%E5%9B%BE%E7%BB%93%E6%9E%84%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95%E3%80%82%E6%AF%94%E5%A6%82%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E5%AF%BB%E5%9D%80%EF%BC%8CN%E5%BA%A6%E5%85%B3%E7%B3%BB%E6%9F%A5%E6%89%BE%E7%AD%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9a7d33f5%5C%22%20id%3D%5C%22u9a7d33f5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ucf19a2ac%5C%22%20id%3D%5C%22ucf19a2ac%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3dd1b605%5C%22%20id%3D%5C%22u3dd1b605%5C%22%3E%E5%BE%88%E5%A4%9A%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E5%AF%B9%E6%95%B4%E4%B8%AA%E5%9B%BE%E5%81%9A%E8%AE%A1%E7%AE%97%E6%89%8D%E8%83%BD%E5%BE%97%E5%87%BA%E9%9C%80%E8%A6%81%E7%9A%84%E4%BF%A1%E6%81%AF%EF%BC%8C%E8%80%8C%E4%B8%94%E8%BF%99%E7%A7%8D%E7%BB%93%E6%9E%84%E4%B8%8D%E5%A4%AA%E5%A5%BD%E5%81%9A%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E9%9B%86%E7%BE%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u57b13679\" id=\"u57b13679\"><br /></p><h2 data-lake-id=\"98812eda\" id=\"98812eda\"><span>二、Redis入门</span></h2><p data-lake-id=\"u87ca3f9c\" id=\"u87ca3f9c\"><br /></p><h3 data-lake-id=\"a4d3b02a\" id=\"a4d3b02a\"><span>概述</span></h3><p data-lake-id=\"u4278b7b4\" id=\"u4278b7b4\"><br /></p><blockquote><p data-lake-id=\"u20d77b8d\" id=\"u20d77b8d\"><span>Redis是什么？</span></p></blockquote><p data-lake-id=\"u22f0bb01\" id=\"u22f0bb01\"><br /></p><p data-lake-id=\"u3d1467c7\" id=\"u3d1467c7\"><span>Redis（Remote Dictionary Server )，即远程字典服务。</span></p><p data-lake-id=\"ua1e102d7\" id=\"ua1e102d7\"><br /></p><p data-lake-id=\"ub352ec73\" id=\"ub352ec73\"><span>是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、</span><strong><span>Key-Value数据库</span></strong><span>，并提供多种语言的API。</span></p><p data-lake-id=\"u177ec9c3\" id=\"u177ec9c3\"><br /></p><p data-lake-id=\"u561fe470\" id=\"u561fe470\"><span>与memcached一样，为了保证效率，</span><strong><span>数据都是缓存在内存中</span></strong><span>。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。</span></p><p data-lake-id=\"ufaee7b60\" id=\"ufaee7b60\"><br /></p><blockquote><p data-lake-id=\"u4be0160f\" id=\"u4be0160f\"><span>Redis能该干什么？</span></p></blockquote><p data-lake-id=\"uf7bff61c\" id=\"uf7bff61c\"><br /></p><ol data-lake-id=\"b9174886ecd3b0b2cd3787cee5e27e0c_ol_16\"><li data-lake-id=\"uf61edfae\"><span>内存存储、持久化，内存是断电即失的，所以需要持久化（RDB、AOF）</span></li></ol><ol start=\"2\" data-lake-id=\"706ceb042a32f3787068199ca0960138_ol_17\"><li data-lake-id=\"u91900b9e\"><span>高效率、用于高速缓冲</span></li></ol><ol start=\"3\" data-lake-id=\"88b98c1d31df1d88035774a75930f0b2_ol_18\"><li data-lake-id=\"u52a5f3ce\"><span>发布订阅系统</span></li></ol><ol start=\"4\" data-lake-id=\"eca2a5e8a1e2ca51f85c77805d075f33_ol_19\"><li data-lake-id=\"u9f22323c\"><span>地图信息分析</span></li></ol><ol start=\"5\" data-lake-id=\"35bf6f1ebd2cbc26abf06512d6e2e0cf_ol_20\"><li data-lake-id=\"u96dc6481\"><span>计时器、计数器(eg：浏览量)</span></li></ol><ol start=\"6\" data-lake-id=\"6fa85351de9541f3b969523950005346_ol_21\"><li data-lake-id=\"uea77a4a7\"><span>。。。</span></li></ol><p data-lake-id=\"ud2d54944\" id=\"ud2d54944\"><br /></p><blockquote><p data-lake-id=\"ucef8c448\" id=\"ucef8c448\"><span>特性</span></p></blockquote><p data-lake-id=\"u39ff0fc8\" id=\"u39ff0fc8\"><br /></p><ol data-lake-id=\"1d679c2ab743294c010b4c002fc423f4_ol_22\"><li data-lake-id=\"ue8b63332\"><span> 多样的数据类型 </span></li></ol><ol start=\"2\" data-lake-id=\"9685165f137281341ec9d7d526ff2baa_ol_23\"><li data-lake-id=\"u8423fc81\"><span> 持久化 </span></li></ol><ol start=\"3\" data-lake-id=\"0c48ba21df6ef1d84046625a5e220195_ol_24\"><li data-lake-id=\"u4cc1344b\"><span> 集群 </span></li></ol><ol start=\"4\" data-lake-id=\"efe26128221e3e8e2f5253fc6ddd46a1_ol_25\"><li data-lake-id=\"uc9fd1ee5\"><span> 事务<br /></span><span>… </span></li></ol><p data-lake-id=\"ub731ec3e\" id=\"ub731ec3e\"><br /></p><h3 data-lake-id=\"8a887b45\" id=\"8a887b45\"><span>环境搭建</span></h3><p data-lake-id=\"u3e018972\" id=\"u3e018972\"><br /></p><p data-lake-id=\"u1741812b\" id=\"u1741812b\"><span>官网：</span><a href=\"https://redis.io/\" target=\"_blank\"><span>https://redis.io/</span></a></p><p data-lake-id=\"u968fc810\" id=\"u968fc810\"><br /></p><p data-lake-id=\"u12c40ee2\" id=\"u12c40ee2\"><span>推荐使用Linux服务器学习。</span></p><p data-lake-id=\"u7ca81501\" id=\"u7ca81501\"><br /></p><p data-lake-id=\"ub05fa62c\" id=\"ub05fa62c\"><span>windows版本的Redis已经停更很久了…</span></p><p data-lake-id=\"ua532686e\" id=\"ua532686e\"><br /></p><h3 data-lake-id=\"7d834b8c\" id=\"7d834b8c\"><span>Windows安装</span></h3><p data-lake-id=\"u0fe06c6b\" id=\"u0fe06c6b\"><br /></p><p data-lake-id=\"u3e34957f\" id=\"u3e34957f\"><a href=\"https://github.com/dmajkic/redis\" target=\"_blank\"><span>https://github.com/dmajkic/redis</span></a></p><p data-lake-id=\"u88ed3eb2\" id=\"u88ed3eb2\"><br /></p><ol data-lake-id=\"91b0d3183cfa24c5f6622f09e1d205ea_ol_26\"><li data-lake-id=\"u14404b4b\"><span>解压安装包<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103922318.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1103%2C%22originHeight%22%3A637%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1103%2C%22height%22%3A637%2C%22id%22%3A%22qRico%22%7D\"></card></li></ol><ol start=\"2\" data-lake-id=\"b4913ee394c9bc052be9c18dd157d977_ol_27\"><li data-lake-id=\"u8398d6d5\"><span>开启redis-server.exe</span></li></ol><ol start=\"3\" data-lake-id=\"eb8765d2bac2c6d2889cbcfe0377fefc_ol_28\"><li data-lake-id=\"u9dec3236\"><span>启动redis-cli.exe测试</span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820103950934.png%23pic_center%22%2C%22originWidth%22%3A1062%2C%22originHeight%22%3A198%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1062%2C%22height%22%3A198%2C%22id%22%3A%22KF0w6%22%7D\"></card></li></ol><p data-lake-id=\"u340c68e3\" id=\"u340c68e3\"><br /></p><h3 data-lake-id=\"f1a36f58\" id=\"f1a36f58\"><span>Linux安装</span></h3><p data-lake-id=\"u95aa0fef\" id=\"u95aa0fef\"><br /></p><ol data-lake-id=\"a788015d0f926a70c0649ebccc463458_ol_29\"><li data-lake-id=\"ued17ec6a\"><span> 下载安装包！</span><code><span>redis-5.0.8.tar.gz</span></code><span> </span></li></ol><ol start=\"2\" data-lake-id=\"8127b102510806388cb930d956896a31_ol_30\"><li data-lake-id=\"u423edd3c\"><span> 解压Redis的安装包！程序一般放在 </span><code><span>/opt</span></code><span> 目录下<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104016426.png%23pic_center%22%2C%22originWidth%22%3A1006%2C%22originHeight%22%3A155%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1006%2C%22height%22%3A155%2C%22id%22%3A%22GiTUS%22%7D\"></card><span> </span></li></ol><ol start=\"3\" data-lake-id=\"20bf7485b8eb93635d919fff73c938ce_ol_31\"><li data-lake-id=\"u5f70a66a\"><span> 基本环境安装 </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22yum%20install%20gcc-c%2B%2B%5Cn%23%20%E7%84%B6%E5%90%8E%E8%BF%9B%E5%85%A5redis%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%A7%E8%A1%8C%5Cnmake%5Cn%23%20%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%5Cnmake%20install%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22658355f4%22%7D\"></card><p data-lake-id=\"u51ac3c68\" id=\"u51ac3c68\"><br /></p><p data-lake-id=\"uad3d4989\" id=\"uad3d4989\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104048327.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1085%2C%22originHeight%22%3A579%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1085%2C%22height%22%3A579%2C%22id%22%3A%22DfA3r%22%7D\"></card></p><p data-lake-id=\"u1a3c9160\" id=\"u1a3c9160\"><br /></p><ol data-lake-id=\"fb4cb5a1b5950fb8b041c53a8ba6e830_ol_32\"><li data-lake-id=\"ud1974bc4\"><span> redis默认安装路径 </span><code><span>/usr/local/bin</span></code><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104140692.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1098%2C%22originHeight%22%3A315%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1098%2C%22height%22%3A315%2C%22id%22%3A%22Fjg8x%22%7D\"></card><span> </span></li></ol><ol start=\"2\" data-lake-id=\"e5b5d4d3dec2972a344e95a0303d16f7_ol_33\"><li data-lake-id=\"ueb5d3550\"><span> 将redis的配置文件复制到 程序安装目录 </span><code><span>/usr/local/bin/kconfig</span></code><span>下<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104157817.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1102%2C%22originHeight%22%3A223%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1102%2C%22height%22%3A223%2C%22id%22%3A%22tn1ls%22%7D\"></card><span> </span></li></ol><ol start=\"3\" data-lake-id=\"606d315b364a958a6436f7da94a5831c_ol_34\"><li data-lake-id=\"u5f5343fc\"><span> redis默认不是后台启动的，需要修改配置文件！<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104213706.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1088%2C%22originHeight%22%3A354%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1088%2C%22height%22%3A354%2C%22id%22%3A%22bjxOb%22%7D\"></card><span> </span></li></ol><ol start=\"4\" data-lake-id=\"bfb7ff178c714178bd14b660342d0de3_ol_35\"><li data-lake-id=\"u219aca3b\"><span> 通过制定的配置文件启动redis服务<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104228556.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1101%2C%22originHeight%22%3A255%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1101%2C%22height%22%3A255%2C%22id%22%3A%22Cyr4o%22%7D\"></card><span> </span></li></ol><ol start=\"5\" data-lake-id=\"8bb7832d72df2f4daede976d043f98bb_ol_36\"><li data-lake-id=\"u6e18c6d8\"><span> 使用redis-cli连接指定的端口号测试，Redis的默认端口6379<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104243223.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A986%2C%22originHeight%22%3A421%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A986%2C%22height%22%3A421%2C%22id%22%3A%22Xywd7%22%7D\"></card><span> </span></li></ol><ol start=\"6\" data-lake-id=\"b52da720ff4346c546d5c59f772a3d31_ol_37\"><li data-lake-id=\"u88aca35b\"><span> 查看redis进程是否开启<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104300532.png%23pic_center%22%2C%22originWidth%22%3A1102%2C%22originHeight%22%3A176%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1102%2C%22height%22%3A176%2C%22id%22%3A%22FHs8K%22%7D\"></card><span> </span></li></ol><ol start=\"7\" data-lake-id=\"cc1c2cdc6300c8f7f4dcd6f3bd2c26aa_ol_38\"><li data-lake-id=\"u2fdaa0c1\"><span> 关闭Redis服务 </span><code><span>shutdown</span></code><span><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104314297.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1102%2C%22originHeight%22%3A207%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1102%2C%22height%22%3A207%2C%22id%22%3A%22m0hEK%22%7D\"></card><span> </span></li></ol><ol start=\"8\" data-lake-id=\"e8c8fcd496a097cf4f118646a114086d_ol_39\"><li data-lake-id=\"u2d9897ea\"><span> 再次查看进程是否存在 </span></li></ol><ol start=\"9\" data-lake-id=\"ef872fef66d5eaa62d9a10cb3fca58bc_ol_40\"><li data-lake-id=\"uf6c494ec\"><span> 后面我们会使用单机多Redis启动集群测试 </span></li></ol><p data-lake-id=\"ub0f99241\" id=\"ub0f99241\"><br /></p><h3 data-lake-id=\"cb1df365\" id=\"cb1df365\"><span>测试性能</span></h3><p data-lake-id=\"u04ba2e5d\" id=\"u04ba2e5d\"><br /></p><p data-lake-id=\"u3fd267e2\" id=\"u3fd267e2\"><strong><span>redis-benchmark：</span></strong><span>Redis官方提供的性能测试工具，参数选项如下：</span></p><p data-lake-id=\"u1b7f943c\" id=\"u1b7f943c\"><br /></p><p data-lake-id=\"ueabe3ae1\" id=\"ueabe3ae1\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214125892.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A746%2C%22originHeight%22%3A641%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A746%2C%22height%22%3A641%2C%22id%22%3A%22p6S7R%22%7D\"></card></p><p data-lake-id=\"ua065ba56\" id=\"ua065ba56\"><br /></p><p data-lake-id=\"u99ba7756\" id=\"u99ba7756\"><strong><span>简单测试：</span></strong></p><p data-lake-id=\"u91e2632a\" id=\"u91e2632a\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E6%B5%8B%E8%AF%95%EF%BC%9A100%E4%B8%AA%E5%B9%B6%E5%8F%91%E8%BF%9E%E6%8E%A5%20100000%E8%AF%B7%E6%B1%82%5Cnredis-benchmark%20-h%20localhost%20-p%206379%20-c%20100%20-n%20100000%5Cn12%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e3998293%22%7D\"></card><p data-lake-id=\"u323fef01\" id=\"u323fef01\"><br /></p><p data-lake-id=\"u9b1e5492\" id=\"u9b1e5492\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104343472.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1124%2C%22originHeight%22%3A319%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1124%2C%22height%22%3A319%2C%22id%22%3A%22gSOzi%22%7D\"></card></p><p data-lake-id=\"u5054efa1\" id=\"u5054efa1\"><br /></p><h3 data-lake-id=\"8453e91e\" id=\"8453e91e\"><span>基础知识</span></h3><p data-lake-id=\"ub4a73e03\" id=\"ub4a73e03\"><br /></p><blockquote><p data-lake-id=\"ubf5626ed\" id=\"ubf5626ed\"><span>redis默认有16个数据库</span></p></blockquote><p data-lake-id=\"uef1c825e\" id=\"uef1c825e\"><br /></p><p data-lake-id=\"ue3e14e94\" id=\"ue3e14e94\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104357466.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1116%2C%22originHeight%22%3A282%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1116%2C%22height%22%3A282%2C%22id%22%3A%22OtCTa%22%7D\"></card></p><p data-lake-id=\"u4742fe8e\" id=\"u4742fe8e\"><br /></p><p data-lake-id=\"u2261644c\" id=\"u2261644c\"><span>默认使用的第0个;</span></p><p data-lake-id=\"u87607efe\" id=\"u87607efe\"><br /></p><p data-lake-id=\"u4bd7243f\" id=\"u4bd7243f\"><span>16个数据库为：DB 0~DB 15<br /></span><span>默认使用DB 0 ，可以使用</span><code><span>select n</span></code><span>切换到DB n，</span><code><span>dbsize</span></code><span>可以查看当前数据库的大小，与key数量相关。</span></p><p data-lake-id=\"u78ad8786\" id=\"u78ad8786\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20config%20get%20databases%20%23%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E6%95%B0%E9%87%8Fdatabases%5Cn1)%20%5C%22databases%5C%22%5Cn2)%20%5C%2216%5C%22%5Cn%5Cn127.0.0.1%3A6379%3E%20select%208%20%23%20%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93%20DB%208%5CnOK%5Cn127.0.0.1%3A6379%5B8%5D%3E%20dbsize%20%23%20%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%A7%E5%B0%8F%5Cn(integer)%200%5Cn%5Cn%23%20%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B9%8B%E9%97%B4%20%E6%95%B0%E6%8D%AE%E6%98%AF%E4%B8%8D%E8%83%BD%E4%BA%92%E9%80%9A%E7%9A%84%EF%BC%8C%E5%B9%B6%E4%B8%94dbsize%20%E6%98%AF%E6%A0%B9%E6%8D%AE%E5%BA%93%E4%B8%ADkey%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%5Cn127.0.0.1%3A6379%3E%20set%20name%20sakura%20%5CnOK%5Cn127.0.0.1%3A6379%3E%20SELECT%208%5CnOK%5Cn127.0.0.1%3A6379%5B8%5D%3E%20get%20name%20%23%20db8%E4%B8%AD%E5%B9%B6%E4%B8%8D%E8%83%BD%E8%8E%B7%E5%8F%96db0%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E3%80%82%5Cn(nil)%5Cn127.0.0.1%3A6379%5B8%5D%3E%20DBSIZE%5Cn(integer)%200%5Cn127.0.0.1%3A6379%5B8%5D%3E%20SELECT%200%5CnOK%5Cn127.0.0.1%3A6379%3E%20keys%20*%5Cn1)%20%5C%22counter%3A__rand_int__%5C%22%5Cn2)%20%5C%22mylist%5C%22%5Cn3)%20%5C%22name%5C%22%5Cn4)%20%5C%22key%3A__rand_int__%5C%22%5Cn5)%20%5C%22myset%3A__rand_int__%5C%22%5Cn127.0.0.1%3A6379%3E%20DBSIZE%20%23%20size%E5%92%8Ckey%E4%B8%AA%E6%95%B0%E7%9B%B8%E5%85%B3%5Cn(integer)%205%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2203762fd4%22%7D\"></card><p data-lake-id=\"u84fcfa6d\" id=\"u84fcfa6d\"><br /></p><p data-lake-id=\"u950011fc\" id=\"u950011fc\"><code><span>keys *</span></code><span> ：查看当前数据库中所有的key。</span></p><p data-lake-id=\"u475ed287\" id=\"u475ed287\"><br /></p><p data-lake-id=\"ue70a3f5e\" id=\"ue70a3f5e\"><code><span>flushdb</span></code><span>：清空当前数据库中的键值对。</span></p><p data-lake-id=\"uaa644572\" id=\"uaa644572\"><br /></p><p data-lake-id=\"u3bf50492\" id=\"u3bf50492\"><code><span>flushall</span></code><span>：清空所有数据库的键值对。</span></p><p data-lake-id=\"uf1a4a5da\" id=\"uf1a4a5da\"><br /></p><blockquote><p data-lake-id=\"u2c6b42dc\" id=\"u2c6b42dc\"><strong><span>Redis是单线程的，Redis是基于内存操作的。</span></strong></p></blockquote><p data-lake-id=\"ua3eca479\" id=\"ua3eca479\"><br /></p><p data-lake-id=\"uf214bf6a\" id=\"uf214bf6a\"><span>所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。</span></p><p data-lake-id=\"u9e8bb3d2\" id=\"u9e8bb3d2\"><br /></p><p data-lake-id=\"ua3b136a4\" id=\"ua3b136a4\"><span>那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+</span></p><p data-lake-id=\"u259a977e\" id=\"u259a977e\"><br /></p><blockquote><p data-lake-id=\"ua9554450\" id=\"ua9554450\"><strong><span>Redis为什么单线程还这么快？</span></strong></p></blockquote><p data-lake-id=\"u9aee254c\" id=\"u9aee254c\"><br /></p><ul data-lake-id=\"213d3d99881d1210222f3b5d1bcf8bcc_ul_10\"><li data-lake-id=\"u4943518f\"><span>误区1：高性能的服务器一定是多线程的？</span></li></ul><ul data-lake-id=\"2472a535a73a68b736ee71115c38a03a_ul_11\"><li data-lake-id=\"u803505cf\"><span>误区2：多线程（CPU上下文会切换！）一定比单线程效率高！</span></li></ul><p data-lake-id=\"u4ce5f5d9\" id=\"u4ce5f5d9\"><br /></p><p data-lake-id=\"u3c75a39a\" id=\"u3c75a39a\"><span>核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。</span></p><p data-lake-id=\"uaabfbc4b\" id=\"uaabfbc4b\"><br /></p><h2 data-lake-id=\"b9ae2c5c\" id=\"b9ae2c5c\"><span>三、五大数据类型</span></h2><p data-lake-id=\"u60950739\" id=\"u60950739\"><br /></p><p data-lake-id=\"u743deb77\" id=\"u743deb77\"><span>Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作</span><strong><span>数据库</span></strong><span>，</span><strong><span>高速缓存</span></strong><span>和</span><strong><span>消息队列代理</span></strong><span>。它支持</span><a href=\"https://www.redis.net.cn/tutorial/3508.html\" target=\"_blank\"><span>字符串</span></a><span>、</span><a href=\"https://www.redis.net.cn/tutorial/3509.html\" target=\"_blank\"><span>哈希表</span></a><span>、</span><a href=\"https://www.redis.net.cn/tutorial/3510.html\" target=\"_blank\"><span>列表</span></a><span>、</span><a href=\"https://www.redis.net.cn/tutorial/3511.html\" target=\"_blank\"><span>集合</span></a><span>、</span><a href=\"https://www.redis.net.cn/tutorial/3512.html\" target=\"_blank\"><span>有序集合</span></a><span>，</span><a href=\"https://www.redis.net.cn/tutorial/3508.html\" target=\"_blank\"><span>位图</span></a><span>，</span><a href=\"https://www.redis.net.cn/tutorial/3513.html\" target=\"_blank\"><span>hyperloglogs</span></a><span>等数据类型。内置复制、</span><a href=\"https://www.redis.net.cn/tutorial/3516.html\" target=\"_blank\"><span>Lua脚本</span></a><span>、LRU收回、</span><a href=\"https://www.redis.net.cn/tutorial/3515.html\" target=\"_blank\"><span>事务</span></a><span>以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动</span><a href=\"https://www.redis.net.cn/tutorial/3524.html\" target=\"_blank\"><span>分区</span></a><span>。</span></p><p data-lake-id=\"u618a801e\" id=\"u618a801e\"><br /></p><h3 data-lake-id=\"Redis-key\" id=\"Redis-key\"><span>Redis-key</span></h3><p data-lake-id=\"u2695c639\" id=\"u2695c639\"><br /></p><blockquote><p data-lake-id=\"u637ea431\" id=\"u637ea431\"><span>在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。</span></p></blockquote><p data-lake-id=\"ue585befd\" id=\"ue585befd\"><br /></p><p data-lake-id=\"uba3e1185\" id=\"uba3e1185\"><span>下面学习的命令：</span></p><p data-lake-id=\"u85860796\" id=\"u85860796\"><br /></p><ul data-lake-id=\"7fdda37f03182277909678fb5114f9d1_ul_12\"><li data-lake-id=\"uaa89027d\"><code><span>exists key</span></code><span>：判断键是否存在</span></li></ul><ul data-lake-id=\"974c3fc781c776f25877f6ccec8aa153_ul_13\"><li data-lake-id=\"uc98112f1\"><code><span>del key</span></code><span>：删除键值对</span></li></ul><ul data-lake-id=\"fbd172461e542e72c5df1dcadcfe0412_ul_14\"><li data-lake-id=\"uc274c140\"><code><span>move key db</span></code><span>：将键值对移动到指定数据库</span></li></ul><ul data-lake-id=\"d713ab7a1c3afe659eba2f1e98e57b50_ul_15\"><li data-lake-id=\"u321d4bc0\"><code><span>expire key second</span></code><span>：设置键值对的过期时间</span></li></ul><ul data-lake-id=\"aa31cd84e20a3471caf4ef3e3a6622b2_ul_16\"><li data-lake-id=\"u3a37addc\"><code><span>type key</span></code><span>：查看value的数据类型</span></li></ul><p data-lake-id=\"ue26ea4e4\" id=\"ue26ea4e4\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20keys%20*%20%23%20%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89key%5Cn(empty%20list%20or%20set)%5Cn127.0.0.1%3A6379%3E%20set%20name%20qinjiang%20%23%20set%20key%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20age%2020%5CnOK%5Cn127.0.0.1%3A6379%3E%20keys%20*%5Cn1)%20%5C%22age%5C%22%5Cn2)%20%5C%22name%5C%22%5Cn127.0.0.1%3A6379%3E%20move%20age%201%20%23%20%E5%B0%86%E9%94%AE%E5%80%BC%E5%AF%B9%E7%A7%BB%E5%8A%A8%E5%88%B0%E6%8C%87%E5%AE%9A%E6%95%B0%E6%8D%AE%E5%BA%93%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20EXISTS%20age%20%23%20%E5%88%A4%E6%96%AD%E9%94%AE%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%5Cn(integer)%200%20%23%20%E4%B8%8D%E5%AD%98%E5%9C%A8%5Cn127.0.0.1%3A6379%3E%20EXISTS%20name%5Cn(integer)%201%20%23%20%E5%AD%98%E5%9C%A8%5Cn127.0.0.1%3A6379%3E%20SELECT%201%5CnOK%5Cn127.0.0.1%3A6379%5B1%5D%3E%20keys%20*%5Cn1)%20%5C%22age%5C%22%5Cn127.0.0.1%3A6379%5B1%5D%3E%20del%20age%20%23%20%E5%88%A0%E9%99%A4%E9%94%AE%E5%80%BC%E5%AF%B9%5Cn(integer)%201%20%23%20%E5%88%A0%E9%99%A4%E4%B8%AA%E6%95%B0%5Cn%5Cn%5Cn127.0.0.1%3A6379%3E%20set%20age%2020%5CnOK%5Cn127.0.0.1%3A6379%3E%20EXPIRE%20age%2015%20%23%20%E8%AE%BE%E7%BD%AE%E9%94%AE%E5%80%BC%E5%AF%B9%E7%9A%84%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%5Cn%5Cn(integer)%201%20%23%20%E8%AE%BE%E7%BD%AE%E6%88%90%E5%8A%9F%20%E5%BC%80%E5%A7%8B%E8%AE%A1%E6%95%B0%5Cn127.0.0.1%3A6379%3E%20ttl%20age%20%23%20%E6%9F%A5%E7%9C%8Bkey%E7%9A%84%E8%BF%87%E6%9C%9F%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%5Cn(integer)%2013%5Cn127.0.0.1%3A6379%3E%20ttl%20age%5Cn(integer)%2011%5Cn127.0.0.1%3A6379%3E%20ttl%20age%5Cn(integer)%209%5Cn127.0.0.1%3A6379%3E%20ttl%20age%5Cn(integer)%20-2%20%23%20-2%20%E8%A1%A8%E7%A4%BAkey%E8%BF%87%E6%9C%9F%EF%BC%8C-1%E8%A1%A8%E7%A4%BAkey%E6%9C%AA%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%5Cn%5Cn127.0.0.1%3A6379%3E%20get%20age%20%23%20%E8%BF%87%E6%9C%9F%E7%9A%84key%20%E4%BC%9A%E8%A2%AB%E8%87%AA%E5%8A%A8delete%5Cn(nil)%5Cn127.0.0.1%3A6379%3E%20keys%20*%5Cn1)%20%5C%22name%5C%22%5Cn%5Cn127.0.0.1%3A6379%3E%20type%20name%20%23%20%E6%9F%A5%E7%9C%8Bvalue%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%5Cnstring%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%220d5f8b59%22%7D\"></card><p data-lake-id=\"u988060db\" id=\"u988060db\"><br /></p><p data-lake-id=\"ub895d76d\" id=\"ub895d76d\"><span>关于</span><code><span>TTL</span></code><span>命令</span></p><p data-lake-id=\"u9d6b52d4\" id=\"u9d6b52d4\"><br /></p><p data-lake-id=\"u957881df\" id=\"u957881df\"><span>Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：</span></p><p data-lake-id=\"u121d5f6b\" id=\"u121d5f6b\"><br /></p><ol data-lake-id=\"d32d4e66b5c6bfebbad433ef4b684a13_ol_41\"><li data-lake-id=\"u3fa1738a\"><span>当前key没有设置过期时间，所以会返回-1.</span></li></ol><ol start=\"2\" data-lake-id=\"8d20c406287e2d064c1c87d1851040ee_ol_42\"><li data-lake-id=\"ub52e31c0\"><span>当前key有设置过期时间，而且key已经过期，所以会返回-2.</span></li></ol><ol start=\"3\" data-lake-id=\"1067fdcfeba1795c182f2a9d9b6227ae_ol_43\"><li data-lake-id=\"u5413222a\"><span>当前key有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.</span></li></ol><p data-lake-id=\"ue0f59f14\" id=\"ue0f59f14\"><br /></p><p data-lake-id=\"ue4a7132d\" id=\"ue4a7132d\"><span>关于重命名</span><code><span>RENAME</span></code><span>和</span><code><span>RENAMENX</span></code></p><p data-lake-id=\"uc9dfde40\" id=\"uc9dfde40\"><br /></p><ul data-lake-id=\"d8bc18af1f6bf1a686d2caa9357f4f2d_ul_17\"><li data-lake-id=\"ud80cb9dc\"><code><span>RENAME key newkey</span></code><span>修改 key 的名称</span></li></ul><ul data-lake-id=\"9d71f0a3ca7b8eff6b2143a4c3935bd3_ul_18\"><li data-lake-id=\"u5efd04b0\"><code><span>RENAMENX key newkey</span></code><span>仅当 newkey 不存在时，将 key 改名为 newkey 。</span></li></ul><p data-lake-id=\"ua90cf51c\" id=\"ua90cf51c\"><br /></p><p data-lake-id=\"u81aefddd\" id=\"u81aefddd\"><span>更多命令学习：</span><a href=\"https://www.redis.net.cn/order/\" target=\"_blank\"><span>https://www.redis.net.cn/order/</span></a></p><p data-lake-id=\"u0f3baea7\" id=\"u0f3baea7\"><br /></p><p data-lake-id=\"u0d5c6875\" id=\"u0d5c6875\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wBVZtGVm-1597890996517)(狂神说 Redis.assets/image-20200813114228439.png)]</span></p><p data-lake-id=\"u2b98a643\" id=\"u2b98a643\"><br /></p><h3 data-lake-id=\"dab38aa6\" id=\"dab38aa6\"><span>String(字符串)</span></h3><p data-lake-id=\"u23bea802\" id=\"u23bea802\"><br /></p><p data-lake-id=\"uf1805803\" id=\"uf1805803\"><span>普通的set、get直接略过。</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22309c9fd2%22%2C%22rows%22%3A16%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22309c9fd2%5C%22%20id%3D%5C%22309c9fd2%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22ufd7d1149%5C%22%20id%3D%5C%22ufd7d1149%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9c1c2908%5C%22%20id%3D%5C%22u9c1c2908%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u411d3c1e%5C%22%20id%3D%5C%22u411d3c1e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0b399cbf%5C%22%20id%3D%5C%22u0b399cbf%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucdebfbe7%5C%22%20id%3D%5C%22ucdebfbe7%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud09e2abd%5C%22%20id%3D%5C%22ud09e2abd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6da5cf91%5C%22%20id%3D%5C%22u6da5cf91%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uecef48ae%5C%22%20id%3D%5C%22uecef48ae%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2fdb66d0%5C%22%20id%3D%5C%22u2fdb66d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u09d8f747%5C%22%20id%3D%5C%22u09d8f747%5C%22%3E%E7%A4%BA%E4%BE%8B%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uccabd9d9%5C%22%20id%3D%5C%22uccabd9d9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uaf4d7507%5C%22%20id%3D%5C%22uaf4d7507%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u852774b8%5C%22%20id%3D%5C%22u852774b8%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u45c3161f%5C%22%20id%3D%5C%22u45c3161f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8bba7594%5C%22%20id%3D%5C%22u8bba7594%5C%22%3EAPPEND%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u890e636c%5C%22%20id%3D%5C%22u890e636c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uebb6193c%5C%22%20id%3D%5C%22uebb6193c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufe86f3ff%5C%22%20id%3D%5C%22ufe86f3ff%5C%22%3E%E5%90%91%E6%8C%87%E5%AE%9A%E7%9A%84key%E7%9A%84value%E5%90%8E%E8%BF%BD%E5%8A%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u37610f6c%5C%22%20id%3D%5C%22u37610f6c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u80618177%5C%22%20id%3D%5C%22u80618177%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1c5dcbca%5C%22%20id%3D%5C%22u1c5dcbca%5C%22%3E127.0.0.1%3A6379%26gt%3B%20set%20msg%20hello%20OK%20127.0.0.1%3A6379%26gt%3B%20append%20msg%20%26quot%3B%20world%26quot%3B%20(integer)%2011%20127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Chello%20world%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ueb91a058%5C%22%20id%3D%5C%22ueb91a058%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u33d2e1f8%5C%22%20id%3D%5C%22u33d2e1f8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u159c23ae%5C%22%20id%3D%5C%22u159c23ae%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u593811c4%5C%22%20id%3D%5C%22u593811c4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8fa23402%5C%22%20id%3D%5C%22u8fa23402%5C%22%3EDECR%2FINCR%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u285402c4%5C%22%20id%3D%5C%22u285402c4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue094986e%5C%22%20id%3D%5C%22ue094986e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4cbbfec8%5C%22%20id%3D%5C%22u4cbbfec8%5C%22%3E%E5%B0%86%E6%8C%87%E5%AE%9Akey%E7%9A%84value%E6%95%B0%E5%80%BC%E8%BF%9B%E8%A1%8C%2B1%2F-1(%E4%BB%85%E5%AF%B9%E4%BA%8E%E6%95%B0%E5%AD%97)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ubae72f0a%5C%22%20id%3D%5C%22ubae72f0a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u208d3fc0%5C%22%20id%3D%5C%22u208d3fc0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u32daa2da%5C%22%20id%3D%5C%22u32daa2da%5C%22%3E127.0.0.1%3A6379%26gt%3B%20set%20age%2020%20OK%20127.0.0.1%3A6379%26gt%3B%20incr%20age%20(integer)%2021%20127.0.0.1%3A6379%26gt%3B%20decr%20age%20(integer)%2020%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub85c1154%5C%22%20id%3D%5C%22ub85c1154%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u73960ec6%5C%22%20id%3D%5C%22u73960ec6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u43754a12%5C%22%20id%3D%5C%22u43754a12%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud6a90a27%5C%22%20id%3D%5C%22ud6a90a27%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4bc239f0%5C%22%20id%3D%5C%22u4bc239f0%5C%22%3EINCRBY%2FDECRBY%20key%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2422f789%5C%22%20id%3D%5C%22u2422f789%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u477458ea%5C%22%20id%3D%5C%22u477458ea%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7090c7f5%5C%22%20id%3D%5C%22u7090c7f5%5C%22%3E%E6%8C%89%E6%8C%87%E5%AE%9A%E7%9A%84%E6%AD%A5%E9%95%BF%E5%AF%B9%E6%95%B0%E5%80%BC%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%87%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u384c7d7f%5C%22%20id%3D%5C%22u384c7d7f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufb7c5e1a%5C%22%20id%3D%5C%22ufb7c5e1a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc5d9bc60%5C%22%20id%3D%5C%22uc5d9bc60%5C%22%3E127.0.0.1%3A6379%26gt%3B%20INCRBY%20age%205%20(integer)%2025%20127.0.0.1%3A6379%26gt%3B%20DECRBY%20age%2010%20(integer)%2015%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue8df893f%5C%22%20id%3D%5C%22ue8df893f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u015d392a%5C%22%20id%3D%5C%22u015d392a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua5ac0846%5C%22%20id%3D%5C%22ua5ac0846%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u09643c77%5C%22%20id%3D%5C%22u09643c77%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u62575d2c%5C%22%20id%3D%5C%22u62575d2c%5C%22%3EINCRBYFLOAT%20key%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1e3c478c%5C%22%20id%3D%5C%22u1e3c478c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue0d9b7f8%5C%22%20id%3D%5C%22ue0d9b7f8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1550c263%5C%22%20id%3D%5C%22u1550c263%5C%22%3E%E4%B8%BA%E6%95%B0%E5%80%BC%E5%8A%A0%E4%B8%8A%E6%B5%AE%E7%82%B9%E5%9E%8B%E6%95%B0%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u3fa93aaf%5C%22%20id%3D%5C%22u3fa93aaf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2fb350b4%5C%22%20id%3D%5C%22u2fb350b4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5ce88ee2%5C%22%20id%3D%5C%22u5ce88ee2%5C%22%3E127.0.0.1%3A6379%26gt%3B%20INCRBYFLOAT%20age%205.2%20%E2%80%9C20.2%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4e293177%5C%22%20id%3D%5C%22u4e293177%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8989e453%5C%22%20id%3D%5C%22u8989e453%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u89e75a70%5C%22%20id%3D%5C%22u89e75a70%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ufb2ccb52%5C%22%20id%3D%5C%22ufb2ccb52%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud944aebe%5C%22%20id%3D%5C%22ud944aebe%5C%22%3ESTRLEN%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub0d61a8a%5C%22%20id%3D%5C%22ub0d61a8a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u09de9791%5C%22%20id%3D%5C%22u09de9791%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uccafecc5%5C%22%20id%3D%5C%22uccafecc5%5C%22%3E%E8%8E%B7%E5%8F%96key%E4%BF%9D%E5%AD%98%E5%80%BC%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u46c0fcec%5C%22%20id%3D%5C%22u46c0fcec%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1cc7f3dd%5C%22%20id%3D%5C%22u1cc7f3dd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7ca2c32a%5C%22%20id%3D%5C%22u7ca2c32a%5C%22%3E127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Chello%20world%E2%80%9D%20127.0.0.1%3A6379%26gt%3B%20STRLEN%20msg%20(integer)%2011%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8c71bd4e%5C%22%20id%3D%5C%22u8c71bd4e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ude38e865%5C%22%20id%3D%5C%22ude38e865%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf26d9921%5C%22%20id%3D%5C%22uf26d9921%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ufdde3fe0%5C%22%20id%3D%5C%22ufdde3fe0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u208d9bad%5C%22%20id%3D%5C%22u208d9bad%5C%22%3EGETRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud1d6352d%5C%22%20id%3D%5C%22ud1d6352d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub89a9140%5C%22%20id%3D%5C%22ub89a9140%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc6702dc1%5C%22%20id%3D%5C%22uc6702dc1%5C%22%3E%E6%8C%89%E8%B5%B7%E6%AD%A2%E4%BD%8D%E7%BD%AE%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88%E9%97%AD%E5%8C%BA%E9%97%B4%EF%BC%8C%E8%B5%B7%E6%AD%A2%E4%BD%8D%E7%BD%AE%E9%83%BD%E5%8F%96%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uff3a00ad%5C%22%20id%3D%5C%22uff3a00ad%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua158110b%5C%22%20id%3D%5C%22ua158110b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda68212b%5C%22%20id%3D%5C%22uda68212b%5C%22%3E127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Chello%20world%E2%80%9D%20127.0.0.1%3A6379%26gt%3B%20GETRANGE%20msg%203%209%20%E2%80%9Clo%20worl%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ua35f07db%5C%22%20id%3D%5C%22ua35f07db%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue520d20c%5C%22%20id%3D%5C%22ue520d20c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufa9ce376%5C%22%20id%3D%5C%22ufa9ce376%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u872eb488%5C%22%20id%3D%5C%22u872eb488%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda9ccccc%5C%22%20id%3D%5C%22uda9ccccc%5C%22%3ESETRANGE%20key%20offset%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue9e04dbc%5C%22%20id%3D%5C%22ue9e04dbc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub611f246%5C%22%20id%3D%5C%22ub611f246%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u25b6589d%5C%22%20id%3D%5C%22u25b6589d%5C%22%3E%E7%94%A8%E6%8C%87%E5%AE%9A%E7%9A%84value%20%E6%9B%BF%E6%8D%A2key%E4%B8%AD%20offset%E5%BC%80%E5%A7%8B%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1cf0b753%5C%22%20id%3D%5C%22u1cf0b753%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u15de01dd%5C%22%20id%3D%5C%22u15de01dd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc9d35d83%5C%22%20id%3D%5C%22uc9d35d83%5C%22%3E127.0.0.1%3A6379%26gt%3B%20SETRANGE%20msg%202%20hello%20(integer)%207%20127.0.0.1%3A6379%26gt%3B%20get%20msg%20%E2%80%9Ctehello%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u34fcf449%5C%22%20id%3D%5C%22u34fcf449%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud3bdf4b6%5C%22%20id%3D%5C%22ud3bdf4b6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25d3dee6%5C%22%20id%3D%5C%22u25d3dee6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uc725922e%5C%22%20id%3D%5C%22uc725922e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubb68234f%5C%22%20id%3D%5C%22ubb68234f%5C%22%3EGETSET%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u84119756%5C%22%20id%3D%5C%22u84119756%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud22afc45%5C%22%20id%3D%5C%22ud22afc45%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua6b70896%5C%22%20id%3D%5C%22ua6b70896%5C%22%3E%E5%B0%86%E7%BB%99%E5%AE%9A%20key%20%E7%9A%84%E5%80%BC%E8%AE%BE%E4%B8%BA%20value%20%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%20key%20%E7%9A%84%E6%97%A7%E5%80%BC(old%20value)%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ueb34a412%5C%22%20id%3D%5C%22ueb34a412%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u51840d44%5C%22%20id%3D%5C%22u51840d44%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0eb4e5d2%5C%22%20id%3D%5C%22u0eb4e5d2%5C%22%3E127.0.0.1%3A6379%26gt%3B%20GETSET%20msg%20test%20%E2%80%9Chello%20world%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9055f229%5C%22%20id%3D%5C%22u9055f229%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3ca00d67%5C%22%20id%3D%5C%22u3ca00d67%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6f1f9884%5C%22%20id%3D%5C%22u6f1f9884%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub709655e%5C%22%20id%3D%5C%22ub709655e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5dffb8b2%5C%22%20id%3D%5C%22u5dffb8b2%5C%22%3ESETNX%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufff2176e%5C%22%20id%3D%5C%22ufff2176e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub73b3923%5C%22%20id%3D%5C%22ub73b3923%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1d183904%5C%22%20id%3D%5C%22u1d183904%5C%22%3E%E4%BB%85%E5%BD%93key%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%97%B6%E8%BF%9B%E8%A1%8Cset%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9537e69e%5C%22%20id%3D%5C%22u9537e69e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua13503f0%5C%22%20id%3D%5C%22ua13503f0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf406d965%5C%22%20id%3D%5C%22uf406d965%5C%22%3E127.0.0.1%3A6379%26gt%3B%20SETNX%20msg%20test%20(integer)%200%20127.0.0.1%3A6379%26gt%3B%20SETNX%20name%20sakura%20(integer)%201%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8f1f748c%5C%22%20id%3D%5C%22u8f1f748c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u37365b6e%5C%22%20id%3D%5C%22u37365b6e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uba9f9eba%5C%22%20id%3D%5C%22uba9f9eba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u92a963aa%5C%22%20id%3D%5C%22u92a963aa%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u236d7bb6%5C%22%20id%3D%5C%22u236d7bb6%5C%22%3ESETEX%20key%20seconds%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u47286dc5%5C%22%20id%3D%5C%22u47286dc5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u804e89f7%5C%22%20id%3D%5C%22u804e89f7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u155b1a0a%5C%22%20id%3D%5C%22u155b1a0a%5C%22%3Eset%20%E9%94%AE%E5%80%BC%E5%AF%B9%E5%B9%B6%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufdf2f314%5C%22%20id%3D%5C%22ufdf2f314%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7efbc420%5C%22%20id%3D%5C%22u7efbc420%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u70307078%5C%22%20id%3D%5C%22u70307078%5C%22%3E127.0.0.1%3A6379%26gt%3B%20setex%20name%2010%20root%20OK%20127.0.0.1%3A6379%26gt%3B%20get%20name%20(nil)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ua5d8d283%5C%22%20id%3D%5C%22ua5d8d283%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue76ea726%5C%22%20id%3D%5C%22ue76ea726%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u603173f0%5C%22%20id%3D%5C%22u603173f0%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u61068686%5C%22%20id%3D%5C%22u61068686%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0be790f9%5C%22%20id%3D%5C%22u0be790f9%5C%22%3EMSET%20key1%20value1%20%5Bkey2%20value2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u994bd34f%5C%22%20id%3D%5C%22u994bd34f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u412778fd%5C%22%20id%3D%5C%22u412778fd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8371c604%5C%22%20id%3D%5C%22u8371c604%5C%22%3E%E6%89%B9%E9%87%8Fset%E9%94%AE%E5%80%BC%E5%AF%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua25c6078%5C%22%20id%3D%5C%22ua25c6078%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub14566e6%5C%22%20id%3D%5C%22ub14566e6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5b1a9956%5C%22%20id%3D%5C%22u5b1a9956%5C%22%3E127.0.0.1%3A6379%26gt%3B%20MSET%20k1%20v1%20k2%20v2%20k3%20v3%20OK%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u296ef58f%5C%22%20id%3D%5C%22u296ef58f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubcb46d6f%5C%22%20id%3D%5C%22ubcb46d6f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua42497fa%5C%22%20id%3D%5C%22ua42497fa%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u691792f0%5C%22%20id%3D%5C%22u691792f0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue45536b8%5C%22%20id%3D%5C%22ue45536b8%5C%22%3EMSETNX%20key1%20value1%20%5Bkey2%20value2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue0de7c2a%5C%22%20id%3D%5C%22ue0de7c2a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u700ad718%5C%22%20id%3D%5C%22u700ad718%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9addc42d%5C%22%20id%3D%5C%22u9addc42d%5C%22%3E%E6%89%B9%E9%87%8F%E8%AE%BE%E7%BD%AE%E9%94%AE%E5%80%BC%E5%AF%B9%EF%BC%8C%E4%BB%85%E5%BD%93%E5%8F%82%E6%95%B0%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84key%E9%83%BD%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%97%B6%E6%89%A7%E8%A1%8C%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8b1fc8ec%5C%22%20id%3D%5C%22u8b1fc8ec%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue5d511c5%5C%22%20id%3D%5C%22ue5d511c5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue1f1f50f%5C%22%20id%3D%5C%22ue1f1f50f%5C%22%3E127.0.0.1%3A6379%26gt%3B%20MSETNX%20k1%20v1%20k4%20v4%20(integer)%200%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u34ca3ad5%5C%22%20id%3D%5C%22u34ca3ad5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u39f52a5e%5C%22%20id%3D%5C%22u39f52a5e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7dd654d6%5C%22%20id%3D%5C%22u7dd654d6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucd29bd92%5C%22%20id%3D%5C%22ucd29bd92%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ueaf79fb0%5C%22%20id%3D%5C%22ueaf79fb0%5C%22%3EMGET%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub9f71dd2%5C%22%20id%3D%5C%22ub9f71dd2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud5acd8ca%5C%22%20id%3D%5C%22ud5acd8ca%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2d6e0e1f%5C%22%20id%3D%5C%22u2d6e0e1f%5C%22%3E%E6%89%B9%E9%87%8F%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AAkey%E4%BF%9D%E5%AD%98%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc00f4242%5C%22%20id%3D%5C%22uc00f4242%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u22a35176%5C%22%20id%3D%5C%22u22a35176%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u17c5b9a0%5C%22%20id%3D%5C%22u17c5b9a0%5C%22%3E127.0.0.1%3A6379%26gt%3B%20MGET%20k1%20k2%20k3%201)%20%E2%80%9Cv1%E2%80%9D%202)%20%E2%80%9Cv2%E2%80%9D%203)%20%E2%80%9Cv3%E2%80%9D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub62116ad%5C%22%20id%3D%5C%22ub62116ad%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4331116d%5C%22%20id%3D%5C%22u4331116d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u26ecf13f%5C%22%20id%3D%5C%22u26ecf13f%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u596723ad%5C%22%20id%3D%5C%22u596723ad%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uba931177%5C%22%20id%3D%5C%22uba931177%5C%22%3EPSETEX%20key%20milliseconds%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u940a9875%5C%22%20id%3D%5C%22u940a9875%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u458c1f6d%5C%22%20id%3D%5C%22u458c1f6d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u91129ed7%5C%22%20id%3D%5C%22u91129ed7%5C%22%3E%E5%92%8C%20SETEX%20%E5%91%BD%E4%BB%A4%E7%9B%B8%E4%BC%BC%EF%BC%8C%E4%BD%86%E5%AE%83%E4%BB%A5%E6%AF%AB%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E8%AE%BE%E7%BD%AE%20key%20%E7%9A%84%E7%94%9F%E5%AD%98%E6%97%B6%E9%97%B4%EF%BC%8C%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u03efc6e6%5C%22%20id%3D%5C%22u03efc6e6%5C%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u96f45bad%5C%22%20id%3D%5C%22u96f45bad%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua785ab8b%5C%22%20id%3D%5C%22ua785ab8b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u89aefe04%5C%22%20id%3D%5C%22u89aefe04%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud9efe649%5C%22%20id%3D%5C%22ud9efe649%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u65c579b3%5C%22%20id%3D%5C%22u65c579b3%5C%22%3Egetset%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf662168c%5C%22%20id%3D%5C%22uf662168c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf02d8d70%5C%22%20id%3D%5C%22uf02d8d70%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ued2180cf%5C%22%20id%3D%5C%22ued2180cf%5C%22%3E%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%80%BC%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9Enil%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%AD%98%E5%9C%A8%E5%80%BC%EF%BC%8C%E8%8E%B7%E5%8F%96%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%80%BC%EF%BC%8C%E5%B9%B6%E8%AE%BE%E7%BD%AE%E6%96%B0%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u21e143ac%5C%22%20id%3D%5C%22u21e143ac%5C%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ua2b03380\" id=\"ua2b03380\"><br /></p><p data-lake-id=\"u87c2845c\" id=\"u87c2845c\"><span>String类似的使用场景：value除了是字符串还可以是数字，用途举例：</span></p><p data-lake-id=\"ubc234437\" id=\"ubc234437\"><br /></p><ul data-lake-id=\"f233686857c9118114658ee30dbff11a_ul_19\"><li data-lake-id=\"u22a00199\"><span>计数器</span></li></ul><ul data-lake-id=\"3d8d15917f13d6186e3c7ac934b1ee00_ul_20\"><li data-lake-id=\"u33665230\"><span>统计多单位的数量：uid:123666：follow 0</span></li></ul><ul data-lake-id=\"8f510cc1f789b18eb2397f2aaeafbfe6_ul_21\"><li data-lake-id=\"u0cf26094\"><span>粉丝数</span></li></ul><ul data-lake-id=\"dad49390f1e206a56130775e01a7add4_ul_22\"><li data-lake-id=\"ufe8bc5fe\"><span>对象存储缓存</span></li></ul><p data-lake-id=\"ua1376801\" id=\"ua1376801\"><br /></p><h3 data-lake-id=\"285a2314\" id=\"285a2314\"><span>List(列表)</span></h3><p data-lake-id=\"u33feec6f\" id=\"u33feec6f\"><br /></p><blockquote><p data-lake-id=\"u9c17813e\" id=\"u9c17813e\"><span>Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）</span></p><p data-lake-id=\"u99414b02\" id=\"u99414b02\"><span> </span></p><p data-lake-id=\"u12c4caca\" id=\"u12c4caca\"><span>一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。</span></p></blockquote><p data-lake-id=\"u876d5a3c\" id=\"u876d5a3c\"><br /></p><p data-lake-id=\"uacb7cc02\" id=\"uacb7cc02\"><span>首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等</span></p><p data-lake-id=\"uefeca742\" id=\"uefeca742\"><br /></p><p data-lake-id=\"ud1ffa4df\" id=\"ud1ffa4df\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200820104440398.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf%2Csize_16%2Ccolor_FFFFFF%2Ct_70%23pic_center%22%2C%22originWidth%22%3A1119%2C%22originHeight%22%3A306%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1119%2C%22height%22%3A306%2C%22id%22%3A%22XKZ67%22%7D\"></card></p><p data-lake-id=\"uef8e4664\" id=\"uef8e4664\"><br /></p><p data-lake-id=\"u7cf5d68c\" id=\"u7cf5d68c\"><span>正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22c6775235%22%2C%22rows%22%3A14%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22c6775235%5C%22%20id%3D%5C%22c6775235%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u383e29b7%5C%22%20id%3D%5C%22u383e29b7%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ude6c2bab%5C%22%20id%3D%5C%22ude6c2bab%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u579ff057%5C%22%20id%3D%5C%22u579ff057%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1356a296%5C%22%20id%3D%5C%22u1356a296%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u15820fb3%5C%22%20id%3D%5C%22u15820fb3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8777a6de%5C%22%20id%3D%5C%22u8777a6de%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u95ae5f7b%5C%22%20id%3D%5C%22u95ae5f7b%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u602d6d8f%5C%22%20id%3D%5C%22u602d6d8f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9e154dc7%5C%22%20id%3D%5C%22u9e154dc7%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u14021529%5C%22%20id%3D%5C%22u14021529%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uaf8f93b7%5C%22%20id%3D%5C%22uaf8f93b7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue129e8b7%5C%22%20id%3D%5C%22ue129e8b7%5C%22%3ELPUSH%2FRPUSH%20key%20value1%5Bvalue2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u400eacba%5C%22%20id%3D%5C%22u400eacba%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub578c060%5C%22%20id%3D%5C%22ub578c060%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u62d63041%5C%22%20id%3D%5C%22u62d63041%5C%22%3E%E4%BB%8E%E5%B7%A6%E8%BE%B9%2F%E5%8F%B3%E8%BE%B9%E5%90%91%E5%88%97%E8%A1%A8%E4%B8%ADPUSH%E5%80%BC(%E4%B8%80%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA)%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u86036bd5%5C%22%20id%3D%5C%22u86036bd5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua5af5a8b%5C%22%20id%3D%5C%22ua5af5a8b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u98b78de9%5C%22%20id%3D%5C%22u98b78de9%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u5dc7fd7f%5C%22%20id%3D%5C%22u5dc7fd7f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u59a879c4%5C%22%20id%3D%5C%22u59a879c4%5C%22%3ELRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u49316c45%5C%22%20id%3D%5C%22u49316c45%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubab79559%5C%22%20id%3D%5C%22ubab79559%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud8cb0ae5%5C%22%20id%3D%5C%22ud8cb0ae5%5C%22%3E%E8%8E%B7%E5%8F%96list%20%E8%B5%B7%E6%AD%A2%E5%85%83%E7%B4%A0%3D%3D%EF%BC%88%E7%B4%A2%E5%BC%95%E4%BB%8E%E5%B7%A6%E5%BE%80%E5%8F%B3%20%E9%80%92%E5%A2%9E%EF%BC%89%3D%3D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u73e2de0a%5C%22%20id%3D%5C%22u73e2de0a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6533c505%5C%22%20id%3D%5C%22u6533c505%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u98bb3993%5C%22%20id%3D%5C%22u98bb3993%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u89d7a705%5C%22%20id%3D%5C%22u89d7a705%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u24aae7f2%5C%22%20id%3D%5C%22u24aae7f2%5C%22%3ELPUSHX%2FRPUSHX%20key%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9a9f876c%5C%22%20id%3D%5C%22u9a9f876c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u390c8c7f%5C%22%20id%3D%5C%22u390c8c7f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8676e3f7%5C%22%20id%3D%5C%22u8676e3f7%5C%22%3E%E5%90%91%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84%E5%88%97%E5%90%8D%E4%B8%ADpush%E5%80%BC%EF%BC%88%E4%B8%80%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5a19c7eb%5C%22%20id%3D%5C%22u5a19c7eb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2c376f81%5C%22%20id%3D%5C%22u2c376f81%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9b2d0518%5C%22%20id%3D%5C%22u9b2d0518%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u169857e0%5C%22%20id%3D%5C%22u169857e0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud799d752%5C%22%20id%3D%5C%22ud799d752%5C%22%3ELINSERT%20key%20BEFORE%7CAFTER%20pivot%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucace52bc%5C%22%20id%3D%5C%22ucace52bc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6f4e9fa9%5C%22%20id%3D%5C%22u6f4e9fa9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3ad7b8b8%5C%22%20id%3D%5C%22u3ad7b8b8%5C%22%3E%E5%9C%A8%E6%8C%87%E5%AE%9A%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%E7%9A%84%E5%89%8D%2F%E5%90%8E%20%E6%8F%92%E5%85%A5value%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u43cfe1b9%5C%22%20id%3D%5C%22u43cfe1b9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud49afe2d%5C%22%20id%3D%5C%22ud49afe2d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub0898aa7%5C%22%20id%3D%5C%22ub0898aa7%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uff2824a9%5C%22%20id%3D%5C%22uff2824a9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufd732b99%5C%22%20id%3D%5C%22ufd732b99%5C%22%3ELLEN%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8a3b4d37%5C%22%20id%3D%5C%22u8a3b4d37%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0f10f728%5C%22%20id%3D%5C%22u0f10f728%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc85a9766%5C%22%20id%3D%5C%22uc85a9766%5C%22%3E%E6%9F%A5%E7%9C%8B%E5%88%97%E8%A1%A8%E9%95%BF%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud1dfc6da%5C%22%20id%3D%5C%22ud1dfc6da%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2a410008%5C%22%20id%3D%5C%22u2a410008%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3adae3d4%5C%22%20id%3D%5C%22u3adae3d4%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud66fdeb2%5C%22%20id%3D%5C%22ud66fdeb2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2245aaeb%5C%22%20id%3D%5C%22u2245aaeb%5C%22%3ELINDEX%20key%20index%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u251ec5d1%5C%22%20id%3D%5C%22u251ec5d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua3aa30f1%5C%22%20id%3D%5C%22ua3aa30f1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc3ca8bb4%5C%22%20id%3D%5C%22uc3ca8bb4%5C%22%3E%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ufa4f9acc%5C%22%20id%3D%5C%22ufa4f9acc%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u92da0eb0%5C%22%20id%3D%5C%22u92da0eb0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16ff6edf%5C%22%20id%3D%5C%22u16ff6edf%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf6c9d4e2%5C%22%20id%3D%5C%22uf6c9d4e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6fef5b9a%5C%22%20id%3D%5C%22u6fef5b9a%5C%22%3ELSET%20key%20index%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u147b3c87%5C%22%20id%3D%5C%22u147b3c87%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u22703cd8%5C%22%20id%3D%5C%22u22703cd8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8e6c5b65%5C%22%20id%3D%5C%22u8e6c5b65%5C%22%3E%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E4%B8%BA%E5%85%83%E7%B4%A0%E8%AE%BE%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8cd95c8a%5C%22%20id%3D%5C%22u8cd95c8a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u677f1995%5C%22%20id%3D%5C%22u677f1995%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc49c2dc8%5C%22%20id%3D%5C%22uc49c2dc8%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u02c3cb1a%5C%22%20id%3D%5C%22u02c3cb1a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucf7ea7f8%5C%22%20id%3D%5C%22ucf7ea7f8%5C%22%3ELPOP%2FRPOP%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua5c4616d%5C%22%20id%3D%5C%22ua5c4616d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1f0d2256%5C%22%20id%3D%5C%22u1f0d2256%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud376993e%5C%22%20id%3D%5C%22ud376993e%5C%22%3E%E4%BB%8E%E6%9C%80%E5%B7%A6%E8%BE%B9%2F%E6%9C%80%E5%8F%B3%E8%BE%B9%E7%A7%BB%E9%99%A4%E5%80%BC%20%E5%B9%B6%E8%BF%94%E5%9B%9E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue6c3d050%5C%22%20id%3D%5C%22ue6c3d050%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6ddad8cf%5C%22%20id%3D%5C%22u6ddad8cf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0ab6339f%5C%22%20id%3D%5C%22u0ab6339f%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u57c17a57%5C%22%20id%3D%5C%22u57c17a57%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uceedb674%5C%22%20id%3D%5C%22uceedb674%5C%22%3ERPOPLPUSH%20source%20destination%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u13259e28%5C%22%20id%3D%5C%22u13259e28%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u20f9d554%5C%22%20id%3D%5C%22u20f9d554%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u06f03738%5C%22%20id%3D%5C%22u06f03738%5C%22%3E%E5%B0%86%E5%88%97%E8%A1%A8%E7%9A%84%E5%B0%BE%E9%83%A8(%E5%8F%B3)%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%80%BC%E5%BC%B9%E5%87%BA%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8A%A0%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8%E7%9A%84%E5%A4%B4%E9%83%A8%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u1572d834%5C%22%20id%3D%5C%22u1572d834%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9780aa14%5C%22%20id%3D%5C%22u9780aa14%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u29d8920b%5C%22%20id%3D%5C%22u29d8920b%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u9e392f48%5C%22%20id%3D%5C%22u9e392f48%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6c5f6dd2%5C%22%20id%3D%5C%22u6c5f6dd2%5C%22%3ELTRIM%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf452eebc%5C%22%20id%3D%5C%22uf452eebc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u643651e2%5C%22%20id%3D%5C%22u643651e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u187962da%5C%22%20id%3D%5C%22u187962da%5C%22%3E%E9%80%9A%E8%BF%87%E4%B8%8B%E6%A0%87%E6%88%AA%E5%8F%96%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E5%88%97%E8%A1%A8%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub0efe2d5%5C%22%20id%3D%5C%22ub0efe2d5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5104e085%5C%22%20id%3D%5C%22u5104e085%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf4356e27%5C%22%20id%3D%5C%22uf4356e27%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub52802e1%5C%22%20id%3D%5C%22ub52802e1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8573086f%5C%22%20id%3D%5C%22u8573086f%5C%22%3ELREM%20key%20count%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua0ff5b93%5C%22%20id%3D%5C%22ua0ff5b93%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6e9bf7f4%5C%22%20id%3D%5C%22u6e9bf7f4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6445116b%5C%22%20id%3D%5C%22u6445116b%5C%22%3EList%E4%B8%AD%E6%98%AF%E5%85%81%E8%AE%B8value%E9%87%8D%E5%A4%8D%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue000e2c6%5C%22%20id%3D%5C%22ue000e2c6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uca0f4eef%5C%22%20id%3D%5C%22uca0f4eef%5C%22%3Ecount%20%26gt%3B%200%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u7fbd322b%5C%22%20id%3D%5C%22u7fbd322b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue6e67518%5C%22%20id%3D%5C%22ue6e67518%5C%22%3E%EF%BC%9A%E4%BB%8E%E5%A4%B4%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%20%E7%84%B6%E5%90%8E%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E7%9A%84value%20%E8%87%B3%E5%A4%9A%E5%88%A0%E9%99%A4count%E4%B8%AA%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u460f2591%5C%22%20id%3D%5C%22u460f2591%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0bdde10a%5C%22%20id%3D%5C%22u0bdde10a%5C%22%3Ecount%20%26lt%3B%200%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u01ed02b8%5C%22%20id%3D%5C%22u01ed02b8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u246cfb9b%5C%22%20id%3D%5C%22u246cfb9b%5C%22%3E%EF%BC%9A%E4%BB%8E%E5%B0%BE%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%E2%80%A6%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue2264cbb%5C%22%20id%3D%5C%22ue2264cbb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9924265e%5C%22%20id%3D%5C%22u9924265e%5C%22%3Ecount%20%3D%200%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u26fe1a6d%5C%22%20id%3D%5C%22u26fe1a6d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua3b4e8fa%5C%22%20id%3D%5C%22ua3b4e8fa%5C%22%3E%EF%BC%9A%E5%88%A0%E9%99%A4%E5%88%97%E8%A1%A8%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E6%8C%87%E5%AE%9Avalue%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7d5cfaf1%5C%22%20id%3D%5C%22u7d5cfaf1%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub2967542%5C%22%20id%3D%5C%22ub2967542%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3076acba%5C%22%20id%3D%5C%22u3076acba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub275790e%5C%22%20id%3D%5C%22ub275790e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u57b75ae5%5C%22%20id%3D%5C%22u57b75ae5%5C%22%3EBLPOP%2FBRPOP%20key1%5Bkey2%5D%20timout%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2de5e36e%5C%22%20id%3D%5C%22u2de5e36e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7be0e761%5C%22%20id%3D%5C%22u7be0e761%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9c759c02%5C%22%20id%3D%5C%22u9c759c02%5C%22%3E%E7%A7%BB%E5%87%BA%E5%B9%B6%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%2F%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%8C%20%E5%A6%82%E6%9E%9C%E5%88%97%E8%A1%A8%E6%B2%A1%E6%9C%89%E5%85%83%E7%B4%A0%E4%BC%9A%E9%98%BB%E5%A1%9E%E5%88%97%E8%A1%A8%E7%9B%B4%E5%88%B0%E7%AD%89%E5%BE%85%E8%B6%85%E6%97%B6%E6%88%96%E5%8F%91%E7%8E%B0%E5%8F%AF%E5%BC%B9%E5%87%BA%E5%85%83%E7%B4%A0%E4%B8%BA%E6%AD%A2%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u3438ad47%5C%22%20id%3D%5C%22u3438ad47%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5c5442e2%5C%22%20id%3D%5C%22u5c5442e2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0de2d6ae%5C%22%20id%3D%5C%22u0de2d6ae%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u467d2e0c%5C%22%20id%3D%5C%22u467d2e0c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ude147387%5C%22%20id%3D%5C%22ude147387%5C%22%3EBRPOPLPUSH%20source%20destination%20timeout%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1e8dae28%5C%22%20id%3D%5C%22u1e8dae28%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1382e477%5C%22%20id%3D%5C%22u1382e477%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1cde535e%5C%22%20id%3D%5C%22u1cde535e%5C%22%3E%E5%92%8C%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u48e72555%5C%22%20id%3D%5C%22u48e72555%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u336be05b%5C%22%20id%3D%5C%22u336be05b%5C%22%3ERPOPLPUSH%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ue2b731d8%5C%22%20id%3D%5C%22ue2b731d8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1d7e7f4a%5C%22%20id%3D%5C%22u1d7e7f4a%5C%22%3E%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%90%8C%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%88%97%E8%A1%A8%E6%B2%A1%E6%9C%89%E5%85%83%E7%B4%A0%E4%BC%9A%E9%98%BB%E5%A1%9E%E5%88%97%E8%A1%A8%E7%9B%B4%E5%88%B0%E7%AD%89%E5%BE%85%E8%B6%85%E6%97%B6%E6%88%96%E5%8F%91%E7%8E%B0%E5%8F%AF%E5%BC%B9%E5%87%BA%E5%85%83%E7%B4%A0%E4%B8%BA%E6%AD%A2%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ufffa222a\" id=\"ufffa222a\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22---------------------------LPUSH---RPUSH---LRANGE--------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LPUSH%20mylist%20k1%20%23%20LPUSH%20mylist%3D%3E%7B1%7D%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20LPUSH%20mylist%20k2%20%23%20LPUSH%20mylist%3D%3E%7B2%2C1%7D%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20RPUSH%20mylist%20k3%20%23%20RPUSH%20mylist%3D%3E%7B2%2C1%2C3%7D%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20get%20mylist%20%23%20%E6%99%AE%E9%80%9A%E7%9A%84get%E6%98%AF%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96list%E5%80%BC%E7%9A%84%5Cn(error)%20WRONGTYPE%20Operation%20against%20a%20key%20holding%20the%20wrong%20kind%20of%20value%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%204%20%23%20LRANGE%20%E8%8E%B7%E5%8F%96%E8%B5%B7%E6%AD%A2%E4%BD%8D%E7%BD%AE%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E5%85%83%E7%B4%A0%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn3)%20%5C%22k3%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%202%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn3)%20%5C%22k3%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%201%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%20%23%20%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E5%85%83%E7%B4%A0%5Cn1)%20%5C%22k2%5C%22%5Cn2)%20%5C%22k1%5C%22%5Cn3)%20%5C%22k3%5C%22%5Cn%5Cn---------------------------LPUSHX---RPUSHX-----------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LPUSHX%20list%20v1%20%23%20list%E4%B8%8D%E5%AD%98%E5%9C%A8%20LPUSHX%E5%A4%B1%E8%B4%A5%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20LPUSHX%20list%20v1%20v2%20%20%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20LPUSHX%20mylist%20k4%20k5%20%23%20%E5%90%91mylist%E4%B8%AD%20%E5%B7%A6%E8%BE%B9%20PUSH%20k4%20k5%5Cn(integer)%205%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k5%5C%22%5Cn2)%20%5C%22k4%5C%22%5Cn3)%20%5C%22k2%5C%22%5Cn4)%20%5C%22k1%5C%22%5Cn5)%20%5C%22k3%5C%22%5Cn%5Cn---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LINSERT%20mylist%20after%20k2%20ins_key1%20%23%20%E5%9C%A8k2%E5%85%83%E7%B4%A0%E5%90%8E%20%E6%8F%92%E5%85%A5ins_key1%5Cn(integer)%206%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k5%5C%22%5Cn2)%20%5C%22k4%5C%22%5Cn3)%20%5C%22k2%5C%22%5Cn4)%20%5C%22ins_key1%5C%22%5Cn5)%20%5C%22k1%5C%22%5Cn6)%20%5C%22k3%5C%22%5Cn127.0.0.1%3A6379%3E%20LLEN%20mylist%20%23%20%E6%9F%A5%E7%9C%8Bmylist%E7%9A%84%E9%95%BF%E5%BA%A6%5Cn(integer)%206%5Cn127.0.0.1%3A6379%3E%20LINDEX%20mylist%203%20%23%20%E8%8E%B7%E5%8F%96%E4%B8%8B%E6%A0%87%E4%B8%BA3%E7%9A%84%E5%85%83%E7%B4%A0%5Cn%5C%22ins_key1%5C%22%5Cn127.0.0.1%3A6379%3E%20LINDEX%20mylist%200%5Cn%5C%22k5%5C%22%5Cn127.0.0.1%3A6379%3E%20LSET%20mylist%203%20k6%20%23%20%E5%B0%86%E4%B8%8B%E6%A0%873%E7%9A%84%E5%85%83%E7%B4%A0%20set%E5%80%BC%E4%B8%BAk6%5CnOK%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k5%5C%22%5Cn2)%20%5C%22k4%5C%22%5Cn3)%20%5C%22k2%5C%22%5Cn4)%20%5C%22k6%5C%22%5Cn5)%20%5C%22k1%5C%22%5Cn6)%20%5C%22k3%5C%22%5Cn%5Cn---------------------------LPOP--RPOP--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LPOP%20mylist%20%23%20%E5%B7%A6%E4%BE%A7(%E5%A4%B4%E9%83%A8)%E5%BC%B9%E5%87%BA%5Cn%5C%22k5%5C%22%5Cn127.0.0.1%3A6379%3E%20RPOP%20mylist%20%23%20%E5%8F%B3%E4%BE%A7(%E5%B0%BE%E9%83%A8)%E5%BC%B9%E5%87%BA%5Cn%5C%22k3%5C%22%5Cn%5Cn---------------------------RPOPLPUSH--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k4%5C%22%5Cn2)%20%5C%22k2%5C%22%5Cn3)%20%5C%22k6%5C%22%5Cn4)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20RPOPLPUSH%20mylist%20newlist%20%23%20%E5%B0%86mylist%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%80%BC(k1)%E5%BC%B9%E5%87%BA%EF%BC%8C%E5%8A%A0%E5%85%A5%E5%88%B0newlist%E7%9A%84%E5%A4%B4%E9%83%A8%5Cn%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20newlist%200%20-1%5Cn1)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k4%5C%22%5Cn2)%20%5C%22k2%5C%22%5Cn3)%20%5C%22k6%5C%22%5Cn%5Cn---------------------------LTRIM--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LTRIM%20mylist%200%201%20%23%20%E6%88%AA%E5%8F%96mylist%E4%B8%AD%E7%9A%84%200~1%E9%83%A8%E5%88%86%5CnOK%5Cn127.0.0.1%3A6379%3E%20LRANGE%20mylist%200%20-1%5Cn1)%20%5C%22k4%5C%22%5Cn2)%20%5C%22k2%5C%22%5Cn%5Cn%23%20%E5%88%9D%E5%A7%8B%20mylist%3A%20k2%2Ck2%2Ck2%2Ck2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%2Ck2%2Ck2%5Cn---------------------------LREM--------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20LREM%20mylist%203%20k2%20%23%20%E4%BB%8E%E5%A4%B4%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%20%E8%87%B3%E5%A4%9A%E5%88%A0%E9%99%A43%E4%B8%AA%20k2%5Cn(integer)%203%5Cn%23%20%E5%88%A0%E9%99%A4%E5%90%8E%EF%BC%9Amylist%3A%20k2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%2Ck2%2Ck2%5Cn%5Cn127.0.0.1%3A6379%3E%20LREM%20mylist%20-2%20k2%20%23%E4%BB%8E%E5%B0%BE%E9%83%A8%E5%BC%80%E5%A7%8B%E6%90%9C%E7%B4%A2%20%E8%87%B3%E5%A4%9A%E5%88%A0%E9%99%A42%E4%B8%AA%20k2%5Cn(integer)%202%5Cn%23%20%E5%88%A0%E9%99%A4%E5%90%8E%EF%BC%9Amylist%3A%20k2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%5Cn%5Cn%5Cn---------------------------BLPOP--BRPOP--------------------------%5Cn%5Cnmylist%3A%20k2%2Ck2%2Ck2%2Ck4%2Ck2%2Ck2%5Cnnewlist%3A%20k1%5Cn%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%20mylist%2030%20%23%20%E4%BB%8Enewlist%E4%B8%AD%E5%BC%B9%E5%87%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%80%BC%EF%BC%8Cmylist%E4%BD%9C%E4%B8%BA%E5%80%99%E9%80%89%5Cn1)%20%5C%22newlist%5C%22%20%23%20%E5%BC%B9%E5%87%BA%5Cn2)%20%5C%22k1%5C%22%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%20mylist%2030%5Cn1)%20%5C%22mylist%5C%22%20%23%20%E7%94%B1%E4%BA%8Enewlist%E7%A9%BA%E4%BA%86%20%E4%BB%8Emylist%E4%B8%AD%E5%BC%B9%E5%87%BA%5Cn2)%20%5C%22k2%5C%22%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%2030%5Cn(30.10s)%20%23%20%E8%B6%85%E6%97%B6%E4%BA%86%5Cn%5Cn127.0.0.1%3A6379%3E%20BLPOP%20newlist%2030%20%23%20%E6%88%91%E4%BB%AC%E8%BF%9E%E6%8E%A5%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%91newlist%E4%B8%ADpush%E4%BA%86test%2C%20%E9%98%BB%E5%A1%9E%E8%A2%AB%E8%A7%A3%E5%86%B3%E3%80%82%5Cn1)%20%5C%22newlist%5C%22%5Cn2)%20%5C%22test%5C%22%5Cn(12.54s)%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c50dde70%22%7D\"></card><p data-lake-id=\"u7d3e12e2\" id=\"u7d3e12e2\"><br /></p><blockquote><p data-lake-id=\"u06f638e8\" id=\"u06f638e8\"><span>小结</span></p></blockquote><p data-lake-id=\"u23f6b20f\" id=\"u23f6b20f\"><br /></p><ul data-lake-id=\"b2269972a14e91d66e1acad86aa92895_ul_23\"><li data-lake-id=\"u6db9c14b\"><span>list实际上是一个链表，before Node after , left, right 都可以插入值</span></li></ul><ul data-lake-id=\"48eada854545794d4fd666147122502d_ul_24\"><li data-lake-id=\"ua3cbae37\"><strong><span>如果key不存在，则创建新的链表</span></strong></li></ul><ul data-lake-id=\"f930f06e7542543e3a0bc0c82d1015c0_ul_25\"><li data-lake-id=\"ue8d192a5\"><span>如果key存在，新增内容</span></li></ul><ul data-lake-id=\"f0d3dc8067c460318a8111646e54f12f_ul_26\"><li data-lake-id=\"u774266c2\"><span>如果移除了所有值，空链表，也代表不存在</span></li></ul><ul data-lake-id=\"a063527534db6ab2ea029d8637e94cbc_ul_27\"><li data-lake-id=\"u5828e052\"><span>在两边插入或者改动值，效率最高！修改中间元素，效率相对较低</span></li></ul><p data-lake-id=\"u9425675f\" id=\"u9425675f\"><br /></p><p data-lake-id=\"u3e1b9a01\" id=\"u3e1b9a01\"><strong><span>应用：</span></strong></p><p data-lake-id=\"ua70bda1a\" id=\"ua70bda1a\"><br /></p><p data-lake-id=\"u87fa2679\" id=\"u87fa2679\"><strong><span>消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）</span></strong></p><p data-lake-id=\"u224ce1a2\" id=\"u224ce1a2\"><br /></p><h3 data-lake-id=\"5b4368f5\" id=\"5b4368f5\"><span>Set(集合)</span></h3><p data-lake-id=\"u7262d122\" id=\"u7262d122\"><br /></p><blockquote><p data-lake-id=\"u21d5d787\" id=\"u21d5d787\"><span>Redis的Set是</span><strong><span>string类型</span></strong><span>的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</span></p><p data-lake-id=\"u63a87464\" id=\"u63a87464\"><span> </span></p><p data-lake-id=\"uab07d79e\" id=\"uab07d79e\"><span>Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。</span></p><p data-lake-id=\"u9137a576\" id=\"u9137a576\"><span> </span></p><p data-lake-id=\"u2fb4498c\" id=\"u2fb4498c\"><span>集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22bcb771db%22%2C%22rows%22%3A16%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22bcb771db%5C%22%20id%3D%5C%22bcb771db%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u95967448%5C%22%20id%3D%5C%22u95967448%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud57e4008%5C%22%20id%3D%5C%22ud57e4008%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u24673a25%5C%22%20id%3D%5C%22u24673a25%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9555627d%5C%22%20id%3D%5C%22u9555627d%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue5512c70%5C%22%20id%3D%5C%22ue5512c70%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub8f61af5%5C%22%20id%3D%5C%22ub8f61af5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue764d1f1%5C%22%20id%3D%5C%22ue764d1f1%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u83ee9129%5C%22%20id%3D%5C%22u83ee9129%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u18cd11f8%5C%22%20id%3D%5C%22u18cd11f8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3b07cb29%5C%22%20id%3D%5C%22u3b07cb29%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud9e3f862%5C%22%20id%3D%5C%22ud9e3f862%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5f998eb4%5C%22%20id%3D%5C%22u5f998eb4%5C%22%3ESADD%20key%20member1%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u7da66cea%5C%22%20id%3D%5C%22u7da66cea%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9c03f173%5C%22%20id%3D%5C%22u9c03f173%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7ccd0e34%5C%22%20id%3D%5C%22u7ccd0e34%5C%22%3E%E5%90%91%E9%9B%86%E5%90%88%E4%B8%AD%E6%97%A0%E5%BA%8F%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ufdd48dfe%5C%22%20id%3D%5C%22ufdd48dfe%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u297c5dd1%5C%22%20id%3D%5C%22u297c5dd1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25bf9a7a%5C%22%20id%3D%5C%22u25bf9a7a%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u02d8e3d0%5C%22%20id%3D%5C%22u02d8e3d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4c2fc69f%5C%22%20id%3D%5C%22u4c2fc69f%5C%22%3ESCARD%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6ca4be16%5C%22%20id%3D%5C%22u6ca4be16%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ued67a42d%5C%22%20id%3D%5C%22ued67a42d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u21430021%5C%22%20id%3D%5C%22u21430021%5C%22%3E%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uaa7cb395%5C%22%20id%3D%5C%22uaa7cb395%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ude55545b%5C%22%20id%3D%5C%22ude55545b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubfe2ae51%5C%22%20id%3D%5C%22ubfe2ae51%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ubd47acd5%5C%22%20id%3D%5C%22ubd47acd5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u30a943f0%5C%22%20id%3D%5C%22u30a943f0%5C%22%3ESMEMBERS%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u0e7bd4bd%5C%22%20id%3D%5C%22u0e7bd4bd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0b1bf44d%5C%22%20id%3D%5C%22u0b1bf44d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u099a6d1f%5C%22%20id%3D%5C%22u099a6d1f%5C%22%3E%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u248664ef%5C%22%20id%3D%5C%22u248664ef%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2e321179%5C%22%20id%3D%5C%22u2e321179%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0bfc111a%5C%22%20id%3D%5C%22u0bfc111a%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uce711975%5C%22%20id%3D%5C%22uce711975%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u82a9d101%5C%22%20id%3D%5C%22u82a9d101%5C%22%3ESISMEMBER%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u91e3693e%5C%22%20id%3D%5C%22u91e3693e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3025fe9a%5C%22%20id%3D%5C%22u3025fe9a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud756bc25%5C%22%20id%3D%5C%22ud756bc25%5C%22%3E%E6%9F%A5%E8%AF%A2member%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E6%98%AF%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%2C%E7%BB%93%E6%9E%9C%E6%98%AF%E6%97%A0%E5%BA%8F%E7%9A%84%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ubfa1d236%5C%22%20id%3D%5C%22ubfa1d236%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub02aa14e%5C%22%20id%3D%5C%22ub02aa14e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u24e82721%5C%22%20id%3D%5C%22u24e82721%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u76c82bd5%5C%22%20id%3D%5C%22u76c82bd5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0de0eb5f%5C%22%20id%3D%5C%22u0de0eb5f%5C%22%3ESRANDMEMBER%20key%20%5Bcount%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud081f0ff%5C%22%20id%3D%5C%22ud081f0ff%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u61bff5f3%5C%22%20id%3D%5C%22u61bff5f3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5bb49bce%5C%22%20id%3D%5C%22u5bb49bce%5C%22%3E%E9%9A%8F%E6%9C%BA%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%ADcount%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%8Ccount%E7%BC%BA%E7%9C%81%E5%80%BC%E4%B8%BA1%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u988eced6%5C%22%20id%3D%5C%22u988eced6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ufe99c2ba%5C%22%20id%3D%5C%22ufe99c2ba%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u67bfe8c6%5C%22%20id%3D%5C%22u67bfe8c6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u01fdbdf8%5C%22%20id%3D%5C%22u01fdbdf8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3a563d2c%5C%22%20id%3D%5C%22u3a563d2c%5C%22%3ESPOP%20key%20%5Bcount%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u15d0cba3%5C%22%20id%3D%5C%22u15d0cba3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udfb124a5%5C%22%20id%3D%5C%22udfb124a5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u89066a28%5C%22%20id%3D%5C%22u89066a28%5C%22%3E%E9%9A%8F%E6%9C%BA%E7%A7%BB%E9%99%A4%E5%B9%B6%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%ADcount%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%8Ccount%E7%BC%BA%E7%9C%81%E5%80%BC%E4%B8%BA1%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue6071a63%5C%22%20id%3D%5C%22ue6071a63%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u29456c71%5C%22%20id%3D%5C%22u29456c71%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25c58c86%5C%22%20id%3D%5C%22u25c58c86%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u4e76336a%5C%22%20id%3D%5C%22u4e76336a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u552249fd%5C%22%20id%3D%5C%22u552249fd%5C%22%3ESMOVE%20source%20destination%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u882dbb38%5C%22%20id%3D%5C%22u882dbb38%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub8dc7f11%5C%22%20id%3D%5C%22ub8dc7f11%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf616d722%5C%22%20id%3D%5C%22uf616d722%5C%22%3E%E5%B0%86source%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98member%E7%A7%BB%E5%8A%A8%E5%88%B0destination%E9%9B%86%E5%90%88%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u81f39483%5C%22%20id%3D%5C%22u81f39483%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u236f3f5f%5C%22%20id%3D%5C%22u236f3f5f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u085dbc12%5C%22%20id%3D%5C%22u085dbc12%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ueee452c3%5C%22%20id%3D%5C%22ueee452c3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u750d9da6%5C%22%20id%3D%5C%22u750d9da6%5C%22%3ESREM%20key%20member1%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6e2846f0%5C%22%20id%3D%5C%22u6e2846f0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf8abf963%5C%22%20id%3D%5C%22uf8abf963%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u26f45bca%5C%22%20id%3D%5C%22u26f45bca%5C%22%3E%E7%A7%BB%E9%99%A4%E9%9B%86%E5%90%88%E4%B8%AD%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue8ca67a8%5C%22%20id%3D%5C%22ue8ca67a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8b2e0586%5C%22%20id%3D%5C%22u8b2e0586%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0f735f0e%5C%22%20id%3D%5C%22u0f735f0e%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u749f748c%5C%22%20id%3D%5C%22u749f748c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8c8ee7a6%5C%22%20id%3D%5C%22u8c8ee7a6%5C%22%3ESDIFF%20key1%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6524268b%5C%22%20id%3D%5C%22u6524268b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf8de6409%5C%22%20id%3D%5C%22uf8de6409%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u06b38a7a%5C%22%20id%3D%5C%22u06b38a7a%5C%22%3E%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%E7%9A%84%E5%B7%AE%E9%9B%86%20key1-%20key2%20-%20%E2%80%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ubbf930a8%5C%22%20id%3D%5C%22ubbf930a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u80d12c4a%5C%22%20id%3D%5C%22u80d12c4a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8d4d2977%5C%22%20id%3D%5C%22u8d4d2977%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua5aa6c47%5C%22%20id%3D%5C%22ua5aa6c47%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u87db8a24%5C%22%20id%3D%5C%22u87db8a24%5C%22%3ESDIFFSTORE%20destination%20key1%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue56e9430%5C%22%20id%3D%5C%22ue56e9430%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc22ca6b6%5C%22%20id%3D%5C%22uc22ca6b6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u68f74e5d%5C%22%20id%3D%5C%22u68f74e5d%5C%22%3E%E5%9C%A8SDIFF%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%B0%86%E7%BB%93%E6%9E%9C%E4%BF%9D%E5%AD%98%E5%88%B0%E9%9B%86%E5%90%88%E4%B8%AD%3D%3D(%E8%A6%86%E7%9B%96)%3D%3D%E3%80%82%E4%B8%8D%E8%83%BD%E4%BF%9D%E5%AD%98%E5%88%B0%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8Bkey%E5%99%A2%EF%BC%81%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u22dd2584%5C%22%20id%3D%5C%22u22dd2584%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u38abaf56%5C%22%20id%3D%5C%22u38abaf56%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1ff9fbc2%5C%22%20id%3D%5C%22u1ff9fbc2%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ubdf3307e%5C%22%20id%3D%5C%22ubdf3307e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8a0425be%5C%22%20id%3D%5C%22u8a0425be%5C%22%3ESINTER%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1c80dfea%5C%22%20id%3D%5C%22u1c80dfea%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf76fe8a8%5C%22%20id%3D%5C%22uf76fe8a8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u49730290%5C%22%20id%3D%5C%22u49730290%5C%22%3E%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%E7%9A%84%E4%BA%A4%E9%9B%86%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uc4b385e8%5C%22%20id%3D%5C%22uc4b385e8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6e783910%5C%22%20id%3D%5C%22u6e783910%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5e4b3315%5C%22%20id%3D%5C%22u5e4b3315%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u4efd97c8%5C%22%20id%3D%5C%22u4efd97c8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud2c156aa%5C%22%20id%3D%5C%22ud2c156aa%5C%22%3ESINTERSTORE%20destination%20key1%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u09d13ffa%5C%22%20id%3D%5C%22u09d13ffa%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uceeeb07d%5C%22%20id%3D%5C%22uceeeb07d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1cf3cd80%5C%22%20id%3D%5C%22u1cf3cd80%5C%22%3E%E5%9C%A8SINTER%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%9C%E5%88%B0%E9%9B%86%E5%90%88%E4%B8%AD%E3%80%82%E8%A6%86%E7%9B%96%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0264a73f%5C%22%20id%3D%5C%22u0264a73f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u487405f6%5C%22%20id%3D%5C%22u487405f6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9563240a%5C%22%20id%3D%5C%22u9563240a%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u16ca256d%5C%22%20id%3D%5C%22u16ca256d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u70b83136%5C%22%20id%3D%5C%22u70b83136%5C%22%3ESUNION%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u20a43833%5C%22%20id%3D%5C%22u20a43833%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u21404a87%5C%22%20id%3D%5C%22u21404a87%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u09212d1d%5C%22%20id%3D%5C%22u09212d1d%5C%22%3E%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%E7%9A%84%E5%B9%B6%E9%9B%86%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uc57c46af%5C%22%20id%3D%5C%22uc57c46af%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6dc2a0fd%5C%22%20id%3D%5C%22u6dc2a0fd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u34886729%5C%22%20id%3D%5C%22u34886729%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucfc85770%5C%22%20id%3D%5C%22ucfc85770%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u78c8a195%5C%22%20id%3D%5C%22u78c8a195%5C%22%3ESUNIONSTORE%20destination%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub8663ee5%5C%22%20id%3D%5C%22ub8663ee5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4f8464ff%5C%22%20id%3D%5C%22u4f8464ff%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7b92d44e%5C%22%20id%3D%5C%22u7b92d44e%5C%22%3E%E5%9C%A8SUNION%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%9C%E5%88%B0%E5%8F%8A%E5%92%8C%E5%BC%A0%E3%80%82%E8%A6%86%E7%9B%96%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9595f166%5C%22%20id%3D%5C%22u9595f166%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud1197dea%5C%22%20id%3D%5C%22ud1197dea%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf35349ec%5C%22%20id%3D%5C%22uf35349ec%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue5471f74%5C%22%20id%3D%5C%22ue5471f74%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue991ab16%5C%22%20id%3D%5C%22ue991ab16%5C%22%3ESSCAN%20KEY%20%5BMATCH%20pattern%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub5065947%5C%22%20id%3D%5C%22ub5065947%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u062206c8%5C%22%20id%3D%5C%22u062206c8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u010bc91b%5C%22%20id%3D%5C%22u010bc91b%5C%22%3E%E5%9C%A8%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%AD%A4%E5%91%BD%E4%BB%A4%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88%E4%B8%AD%E5%85%83%E7%B4%A0%EF%BC%8C%E6%AF%8F%E6%AC%A1%E9%81%8D%E5%8E%86%E9%83%A8%E5%88%86%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"uc6041227\" id=\"uc6041227\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SADD%20myset%20m1%20m2%20m3%20m4%20%23%20%E5%90%91myset%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%88%90%E5%91%98%20m1~m4%5Cn(integer)%204%5Cn127.0.0.1%3A6379%3E%20SCARD%20myset%20%23%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%E7%9B%AE%5Cn(integer)%204%5Cn127.0.0.1%3A6379%3E%20smembers%20myset%20%23%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E4%B8%AD%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn4)%20%5C%22m1%5C%22%5Cn127.0.0.1%3A6379%3E%20SISMEMBER%20myset%20m5%20%23%20%E6%9F%A5%E8%AF%A2m5%E6%98%AF%E5%90%A6%E6%98%AFmyset%E7%9A%84%E6%88%90%E5%91%98%5Cn(integer)%200%20%23%20%E4%B8%8D%E6%98%AF%EF%BC%8C%E8%BF%94%E5%9B%9E0%5Cn127.0.0.1%3A6379%3E%20SISMEMBER%20myset%20m2%5Cn(integer)%201%20%23%20%E6%98%AF%EF%BC%8C%E8%BF%94%E5%9B%9E1%5Cn127.0.0.1%3A6379%3E%20SISMEMBER%20myset%20m3%5Cn(integer)%201%5Cn%5Cn---------------------SRANDMEMBER--SPOP----------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SRANDMEMBER%20myset%203%20%23%20%E9%9A%8F%E6%9C%BA%E8%BF%94%E5%9B%9E3%E4%B8%AA%E6%88%90%E5%91%98%5Cn1)%20%5C%22m2%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m4%5C%22%5Cn127.0.0.1%3A6379%3E%20SRANDMEMBER%20myset%20%23%20%E9%9A%8F%E6%9C%BA%E8%BF%94%E5%9B%9E1%E4%B8%AA%E6%88%90%E5%91%98%5Cn%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20SPOP%20myset%202%20%23%20%E9%9A%8F%E6%9C%BA%E7%A7%BB%E9%99%A4%E5%B9%B6%E8%BF%94%E5%9B%9E2%E4%B8%AA%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m4%5C%22%5Cn%23%20%E5%B0%86set%E8%BF%98%E5%8E%9F%E5%88%B0%7Bm1%2Cm2%2Cm3%2Cm4%7D%5Cn%5Cn---------------------SMOVE--SREM----------------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SMOVE%20myset%20newset%20m3%20%23%20%E5%B0%86myset%E4%B8%ADm3%E6%88%90%E5%91%98%E7%A7%BB%E5%8A%A8%E5%88%B0newset%E9%9B%86%E5%90%88%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20SMEMBERS%20myset%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m2%5C%22%5Cn3)%20%5C%22m1%5C%22%5Cn127.0.0.1%3A6379%3E%20SMEMBERS%20newset%5Cn1)%20%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20SREM%20newset%20m3%20%23%20%E4%BB%8Enewset%E4%B8%AD%E7%A7%BB%E9%99%A4m3%E5%85%83%E7%B4%A0%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20SMEMBERS%20newset%5Cn(empty%20list%20or%20set)%5Cn%5Cn%23%20%E4%B8%8B%E9%9D%A2%E5%BC%80%E5%A7%8B%E6%98%AF%E5%A4%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%2C%E5%A4%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E4%B8%AD%E8%8B%A5%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%92%8C%E8%87%AA%E8%BA%AB%E8%BF%9B%E8%A1%8C%E8%BF%90%E7%AE%97%5Cn%23%20setx%3D%3E%7Bm1%2Cm2%2Cm4%2Cm6%7D%2C%20sety%3D%3E%7Bm2%2Cm5%2Cm6%7D%2C%20setz%3D%3E%7Bm1%2Cm3%2Cm6%7D%5Cn%5Cn-----------------------------SDIFF------------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SDIFF%20setx%20sety%20setz%20%23%20%E7%AD%89%E4%BB%B7%E4%BA%8Esetx-sety-setz%5Cn1)%20%5C%22m4%5C%22%5Cn127.0.0.1%3A6379%3E%20SDIFF%20setx%20sety%20%23%20setx%20-%20sety%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m1%5C%22%5Cn127.0.0.1%3A6379%3E%20SDIFF%20sety%20setx%20%23%20sety%20-%20setx%5Cn1)%20%5C%22m5%5C%22%5Cn%5Cn%5Cn-------------------------SINTER---------------------------------------%5Cn%23%20%E5%85%B1%E5%90%8C%E5%85%B3%E6%B3%A8%EF%BC%88%E4%BA%A4%E9%9B%86%EF%BC%89%5Cn%5Cn127.0.0.1%3A6379%3E%20SINTER%20setx%20sety%20setz%20%23%20%E6%B1%82%20setx%E3%80%81sety%E3%80%81setx%E7%9A%84%E4%BA%A4%E9%9B%86%5Cn1)%20%5C%22m6%5C%22%5Cn127.0.0.1%3A6379%3E%20SINTER%20setx%20sety%20%23%20%E6%B1%82setx%20sety%E7%9A%84%E4%BA%A4%E9%9B%86%5Cn1)%20%5C%22m2%5C%22%5Cn2)%20%5C%22m6%5C%22%5Cn%5Cn-------------------------SUNION---------------------------------------%5Cn%5Cn127.0.0.1%3A6379%3E%20SUNION%20setx%20sety%20setz%20%23%20setx%20sety%20setz%E7%9A%84%E5%B9%B6%E9%9B%86%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m6%5C%22%5Cn3)%20%5C%22m3%5C%22%5Cn4)%20%5C%22m2%5C%22%5Cn5)%20%5C%22m1%5C%22%5Cn6)%20%5C%22m5%5C%22%5Cn127.0.0.1%3A6379%3E%20SUNION%20setx%20sety%20%23%20setx%20sety%20%E5%B9%B6%E9%9B%86%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m6%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn4)%20%5C%22m1%5C%22%5Cn5)%20%5C%22m5%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e4179110%22%7D\"></card><p data-lake-id=\"u49e56c8f\" id=\"u49e56c8f\"><br /></p><h3 data-lake-id=\"4f1ea94e\" id=\"4f1ea94e\"><span>Hash（哈希）</span></h3><p data-lake-id=\"uabc930c6\" id=\"uabc930c6\"><br /></p><blockquote><p data-lake-id=\"u20b0d5b3\" id=\"u20b0d5b3\"><span>Redis hash 是一个string类型的field和value的映射表，hash特别适合用于存储对象。</span></p><p data-lake-id=\"u188bb88b\" id=\"u188bb88b\"><span> </span></p><p data-lake-id=\"u8514ffe6\" id=\"u8514ffe6\"><span>Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22e05be875%22%2C%22rows%22%3A15%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22e05be875%5C%22%20id%3D%5C%22e05be875%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u2e5dc54c%5C%22%20id%3D%5C%22u2e5dc54c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0e63e574%5C%22%20id%3D%5C%22u0e63e574%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua519a851%5C%22%20id%3D%5C%22ua519a851%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud830a322%5C%22%20id%3D%5C%22ud830a322%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u93da83df%5C%22%20id%3D%5C%22u93da83df%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u54eaa3bf%5C%22%20id%3D%5C%22u54eaa3bf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u681b8a0d%5C%22%20id%3D%5C%22u681b8a0d%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uf9a78c5c%5C%22%20id%3D%5C%22uf9a78c5c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u331d297b%5C%22%20id%3D%5C%22u331d297b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4808be76%5C%22%20id%3D%5C%22u4808be76%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u867a6c00%5C%22%20id%3D%5C%22u867a6c00%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u516cb465%5C%22%20id%3D%5C%22u516cb465%5C%22%3EHSET%20key%20field%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u707a082f%5C%22%20id%3D%5C%22u707a082f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16166ca7%5C%22%20id%3D%5C%22u16166ca7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3f1ab275%5C%22%20id%3D%5C%22u3f1ab275%5C%22%3E%E5%B0%86%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%20field%20%E7%9A%84%E5%80%BC%E8%AE%BE%E4%B8%BA%20value%20%E3%80%82%E9%87%8D%E5%A4%8D%E8%AE%BE%E7%BD%AE%E5%90%8C%E4%B8%80%E4%B8%AAfield%E4%BC%9A%E8%A6%86%E7%9B%96%2C%E8%BF%94%E5%9B%9E0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22udcd6066d%5C%22%20id%3D%5C%22udcd6066d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u60198a7e%5C%22%20id%3D%5C%22u60198a7e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u19516be6%5C%22%20id%3D%5C%22u19516be6%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf254d8f8%5C%22%20id%3D%5C%22uf254d8f8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc42fca36%5C%22%20id%3D%5C%22uc42fca36%5C%22%3EHMSET%20key%20field1%20value1%20%5Bfield2%20value2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u25e288ed%5C%22%20id%3D%5C%22u25e288ed%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue8cf1de9%5C%22%20id%3D%5C%22ue8cf1de9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u75037629%5C%22%20id%3D%5C%22u75037629%5C%22%3E%E5%90%8C%E6%97%B6%E5%B0%86%E5%A4%9A%E4%B8%AA%20field-value%20(%E5%9F%9F-%E5%80%BC)%E5%AF%B9%E8%AE%BE%E7%BD%AE%E5%88%B0%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uab713b7e%5C%22%20id%3D%5C%22uab713b7e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ufbd4aa3d%5C%22%20id%3D%5C%22ufbd4aa3d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue6b74265%5C%22%20id%3D%5C%22ue6b74265%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u0dedf82b%5C%22%20id%3D%5C%22u0dedf82b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5c91ec96%5C%22%20id%3D%5C%22u5c91ec96%5C%22%3EHSETNX%20key%20field%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucef5791b%5C%22%20id%3D%5C%22ucef5791b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua01d2588%5C%22%20id%3D%5C%22ua01d2588%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf6c98e6a%5C%22%20id%3D%5C%22uf6c98e6a%5C%22%3E%E5%8F%AA%E6%9C%89%E5%9C%A8%E5%AD%97%E6%AE%B5%20field%20%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%97%B6%EF%BC%8C%E8%AE%BE%E7%BD%AE%E5%93%88%E5%B8%8C%E8%A1%A8%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u24ba39ab%5C%22%20id%3D%5C%22u24ba39ab%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud8d5e55e%5C%22%20id%3D%5C%22ud8d5e55e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2aad5807%5C%22%20id%3D%5C%22u2aad5807%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u92574351%5C%22%20id%3D%5C%22u92574351%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6f53d569%5C%22%20id%3D%5C%22u6f53d569%5C%22%3EHEXISTS%20key%20field%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u64fa3533%5C%22%20id%3D%5C%22u64fa3533%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7f3f0f48%5C%22%20id%3D%5C%22u7f3f0f48%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u30c759b9%5C%22%20id%3D%5C%22u30c759b9%5C%22%3E%E6%9F%A5%E7%9C%8B%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%EF%BC%8C%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AD%97%E6%AE%B5%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u532f1ca5%5C%22%20id%3D%5C%22u532f1ca5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u09cef62f%5C%22%20id%3D%5C%22u09cef62f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u33322f2e%5C%22%20id%3D%5C%22u33322f2e%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u981fc4bf%5C%22%20id%3D%5C%22u981fc4bf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u109c5204%5C%22%20id%3D%5C%22u109c5204%5C%22%3EHGET%20key%20field%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ubb584ed4%5C%22%20id%3D%5C%22ubb584ed4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0f7d490c%5C%22%20id%3D%5C%22u0f7d490c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u86469362%5C%22%20id%3D%5C%22u86469362%5C%22%3E%E8%8E%B7%E5%8F%96%E5%AD%98%E5%82%A8%E5%9C%A8%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u10948259%5C%22%20id%3D%5C%22u10948259%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue104aef5%5C%22%20id%3D%5C%22ue104aef5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uea4c8632%5C%22%20id%3D%5C%22uea4c8632%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf2446709%5C%22%20id%3D%5C%22uf2446709%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9f444951%5C%22%20id%3D%5C%22u9f444951%5C%22%3EHMGET%20key%20field1%20%5Bfield2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u151e14ef%5C%22%20id%3D%5C%22u151e14ef%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5b3dd864%5C%22%20id%3D%5C%22u5b3dd864%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc3bff016%5C%22%20id%3D%5C%22uc3bff016%5C%22%3E%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E7%BB%99%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0c6506f6%5C%22%20id%3D%5C%22u0c6506f6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud5bd3008%5C%22%20id%3D%5C%22ud5bd3008%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ee24764%5C%22%20id%3D%5C%22u2ee24764%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u4ef7141f%5C%22%20id%3D%5C%22u4ef7141f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udc61ade4%5C%22%20id%3D%5C%22udc61ade4%5C%22%3EHGETALL%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufc442438%5C%22%20id%3D%5C%22ufc442438%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u705086c9%5C%22%20id%3D%5C%22u705086c9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8e52f3fa%5C%22%20id%3D%5C%22u8e52f3fa%5C%22%3E%E8%8E%B7%E5%8F%96%E5%9C%A8%E5%93%88%E5%B8%8C%E8%A1%A8key%20%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E5%92%8C%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uba89c357%5C%22%20id%3D%5C%22uba89c357%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u1f677bb1%5C%22%20id%3D%5C%22u1f677bb1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6b8d84bc%5C%22%20id%3D%5C%22u6b8d84bc%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u55aae3ef%5C%22%20id%3D%5C%22u55aae3ef%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u368eca21%5C%22%20id%3D%5C%22u368eca21%5C%22%3EHKEYS%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uccc20398%5C%22%20id%3D%5C%22uccc20398%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua59dec50%5C%22%20id%3D%5C%22ua59dec50%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3da659bf%5C%22%20id%3D%5C%22u3da659bf%5C%22%3E%E8%8E%B7%E5%8F%96%E5%93%88%E5%B8%8C%E8%A1%A8key%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E5%AD%97%E6%AE%B5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ueca72a80%5C%22%20id%3D%5C%22ueca72a80%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u01513cf7%5C%22%20id%3D%5C%22u01513cf7%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u619e2c3e%5C%22%20id%3D%5C%22u619e2c3e%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua0ec514d%5C%22%20id%3D%5C%22ua0ec514d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u243edb48%5C%22%20id%3D%5C%22u243edb48%5C%22%3EHLEN%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5ba1254b%5C%22%20id%3D%5C%22u5ba1254b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16a0d014%5C%22%20id%3D%5C%22u16a0d014%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3340e456%5C%22%20id%3D%5C%22u3340e456%5C%22%3E%E8%8E%B7%E5%8F%96%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B0%E9%87%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5cdcce1a%5C%22%20id%3D%5C%22u5cdcce1a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u92b95b44%5C%22%20id%3D%5C%22u92b95b44%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua13c580b%5C%22%20id%3D%5C%22ua13c580b%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua32a96fd%5C%22%20id%3D%5C%22ua32a96fd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua0e3008c%5C%22%20id%3D%5C%22ua0e3008c%5C%22%3EHVALS%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u316a6800%5C%22%20id%3D%5C%22u316a6800%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc59ada5b%5C%22%20id%3D%5C%22uc59ada5b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2fdd4187%5C%22%20id%3D%5C%22u2fdd4187%5C%22%3E%E8%8E%B7%E5%8F%96%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E6%89%80%E6%9C%89%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub3874850%5C%22%20id%3D%5C%22ub3874850%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub45809b8%5C%22%20id%3D%5C%22ub45809b8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue0e92dbf%5C%22%20id%3D%5C%22ue0e92dbf%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u0ed05ea5%5C%22%20id%3D%5C%22u0ed05ea5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u85f0c957%5C%22%20id%3D%5C%22u85f0c957%5C%22%3EHDEL%20key%20field1%20%5Bfield2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u099b350c%5C%22%20id%3D%5C%22u099b350c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2bf6ade4%5C%22%20id%3D%5C%22u2bf6ade4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u717c22e2%5C%22%20id%3D%5C%22u717c22e2%5C%22%3E%E5%88%A0%E9%99%A4%E5%93%88%E5%B8%8C%E8%A1%A8key%E4%B8%AD%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AAfield%E5%AD%97%E6%AE%B5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u2fbb55fd%5C%22%20id%3D%5C%22u2fbb55fd%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3e77d044%5C%22%20id%3D%5C%22u3e77d044%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ceae5ff%5C%22%20id%3D%5C%22u2ceae5ff%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u5e3b44b7%5C%22%20id%3D%5C%22u5e3b44b7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uad63bcb1%5C%22%20id%3D%5C%22uad63bcb1%5C%22%3EHINCRBY%20key%20field%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8400b52a%5C%22%20id%3D%5C%22u8400b52a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u33766788%5C%22%20id%3D%5C%22u33766788%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u43975797%5C%22%20id%3D%5C%22u43975797%5C%22%3E%E4%B8%BA%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B4%E6%95%B0%E5%80%BC%E5%8A%A0%E4%B8%8A%E5%A2%9E%E9%87%8Fn%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%A2%9E%E9%87%8F%E5%90%8E%E7%BB%93%E6%9E%9C%20%E4%B8%80%E6%A0%B7%E5%8F%AA%E9%80%82%E7%94%A8%E4%BA%8E%E6%95%B4%E6%95%B0%E5%9E%8B%E5%AD%97%E6%AE%B5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4892c77d%5C%22%20id%3D%5C%22u4892c77d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4de7b236%5C%22%20id%3D%5C%22u4de7b236%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u466a9dba%5C%22%20id%3D%5C%22u466a9dba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uacd4f7a8%5C%22%20id%3D%5C%22uacd4f7a8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u662e843d%5C%22%20id%3D%5C%22u662e843d%5C%22%3EHINCRBYFLOAT%20key%20field%20n%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uade5b5b4%5C%22%20id%3D%5C%22uade5b5b4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua244296a%5C%22%20id%3D%5C%22ua244296a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8847abf6%5C%22%20id%3D%5C%22u8847abf6%5C%22%3E%E4%B8%BA%E5%93%88%E5%B8%8C%E8%A1%A8%20key%20%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E7%9A%84%E6%B5%AE%E7%82%B9%E6%95%B0%E5%80%BC%E5%8A%A0%E4%B8%8A%E5%A2%9E%E9%87%8F%20n%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u33c3af45%5C%22%20id%3D%5C%22u33c3af45%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7606bdf4%5C%22%20id%3D%5C%22u7606bdf4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uce45b9e3%5C%22%20id%3D%5C%22uce45b9e3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u108678ac%5C%22%20id%3D%5C%22u108678ac%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uabee6a6e%5C%22%20id%3D%5C%22uabee6a6e%5C%22%3EHSCAN%20key%20cursor%20%5BMATCH%20pattern%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue1a3e539%5C%22%20id%3D%5C%22ue1a3e539%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udb7044fe%5C%22%20id%3D%5C%22udb7044fe%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u540de996%5C%22%20id%3D%5C%22u540de996%5C%22%3E%E8%BF%AD%E4%BB%A3%E5%93%88%E5%B8%8C%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ud6f7e4c6\" id=\"ud6f7e4c6\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22------------------------HSET--HMSET--HSETNX----------------%5Cn127.0.0.1%3A6379%3E%20HSET%20studentx%20name%20sakura%20%23%20%E5%B0%86studentx%E5%93%88%E5%B8%8C%E8%A1%A8%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%AE%BE%E7%BD%AEname%E4%B8%BAsakura%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20HSET%20studentx%20name%20gyc%20%23%20%E9%87%8D%E5%A4%8D%E8%AE%BE%E7%BD%AEfield%E8%BF%9B%E8%A1%8C%E8%A6%86%E7%9B%96%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E0%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20HSET%20studentx%20age%2020%20%23%20%E8%AE%BE%E7%BD%AEstudentx%E7%9A%84age%E4%B8%BA20%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20HMSET%20studentx%20sex%201%20tel%2015623667886%20%23%20%E8%AE%BE%E7%BD%AEsex%E4%B8%BA1%EF%BC%8Ctel%E4%B8%BA15623667886%5CnOK%5Cn127.0.0.1%3A6379%3E%20HSETNX%20studentx%20name%20gyc%20%23%20HSETNX%20%E8%AE%BE%E7%BD%AE%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84field%5Cn(integer)%200%20%23%20%E5%A4%B1%E8%B4%A5%5Cn127.0.0.1%3A6379%3E%20HSETNX%20studentx%20email%2012345%40qq.com%5Cn(integer)%201%20%23%20%E6%88%90%E5%8A%9F%5Cn%5Cn----------------------HEXISTS--------------------------------%5Cn127.0.0.1%3A6379%3E%20HEXISTS%20studentx%20name%20%23%20name%E5%AD%97%E6%AE%B5%E5%9C%A8studentx%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%5Cn(integer)%201%20%23%20%E5%AD%98%E5%9C%A8%5Cn127.0.0.1%3A6379%3E%20HEXISTS%20studentx%20addr%5Cn(integer)%200%20%23%20%E4%B8%8D%E5%AD%98%E5%9C%A8%5Cn%5Cn-------------------HGET--HMGET--HGETALL-----------%5Cn127.0.0.1%3A6379%3E%20HGET%20studentx%20name%20%23%20%E8%8E%B7%E5%8F%96studentx%E4%B8%ADname%E5%AD%97%E6%AE%B5%E7%9A%84value%5Cn%5C%22gyc%5C%22%5Cn127.0.0.1%3A6379%3E%20HMGET%20studentx%20name%20age%20tel%20%23%20%E8%8E%B7%E5%8F%96studentx%E4%B8%ADname%E3%80%81age%E3%80%81tel%E5%AD%97%E6%AE%B5%E7%9A%84value%5Cn1)%20%5C%22gyc%5C%22%5Cn2)%20%5C%2220%5C%22%5Cn3)%20%5C%2215623667886%5C%22%5Cn127.0.0.1%3A6379%3E%20HGETALL%20studentx%20%23%20%E8%8E%B7%E5%8F%96studentx%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84field%E5%8F%8A%E5%85%B6value%5Cn%201)%20%5C%22name%5C%22%5Cn%202)%20%5C%22gyc%5C%22%5Cn%203)%20%5C%22age%5C%22%5Cn%204)%20%5C%2220%5C%22%5Cn%205)%20%5C%22sex%5C%22%5Cn%206)%20%5C%221%5C%22%5Cn%207)%20%5C%22tel%5C%22%5Cn%208)%20%5C%2215623667886%5C%22%5Cn%209)%20%5C%22email%5C%22%5Cn10)%20%5C%2212345%40qq.com%5C%22%5Cn%5Cn%5Cn--------------------HKEYS--HLEN--HVALS--------------%5Cn127.0.0.1%3A6379%3E%20HKEYS%20studentx%20%23%20%E6%9F%A5%E7%9C%8Bstudentx%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84field%5Cn1)%20%5C%22name%5C%22%5Cn2)%20%5C%22age%5C%22%5Cn3)%20%5C%22sex%5C%22%5Cn4)%20%5C%22tel%5C%22%5Cn5)%20%5C%22email%5C%22%5Cn127.0.0.1%3A6379%3E%20HLEN%20studentx%20%23%20%E6%9F%A5%E7%9C%8Bstudentx%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%E6%95%B0%E9%87%8F%5Cn(integer)%205%5Cn127.0.0.1%3A6379%3E%20HVALS%20studentx%20%23%20%E6%9F%A5%E7%9C%8Bstudentx%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84value%5Cn1)%20%5C%22gyc%5C%22%5Cn2)%20%5C%2220%5C%22%5Cn3)%20%5C%221%5C%22%5Cn4)%20%5C%2215623667886%5C%22%5Cn5)%20%5C%2212345%40qq.com%5C%22%5Cn%5Cn-------------------------HDEL--------------------------%5Cn127.0.0.1%3A6379%3E%20HDEL%20studentx%20sex%20tel%20%23%20%E5%88%A0%E9%99%A4studentx%20%E4%B8%AD%E7%9A%84sex%E3%80%81tel%E5%AD%97%E6%AE%B5%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20HKEYS%20studentx%5Cn1)%20%5C%22name%5C%22%5Cn2)%20%5C%22age%5C%22%5Cn3)%20%5C%22email%5C%22%5Cn%5Cn-------------HINCRBY--HINCRBYFLOAT------------------------%5Cn127.0.0.1%3A6379%3E%20HINCRBY%20studentx%20age%201%20%23%20studentx%E7%9A%84age%E5%AD%97%E6%AE%B5%E6%95%B0%E5%80%BC%2B1%5Cn(integer)%2021%5Cn127.0.0.1%3A6379%3E%20HINCRBY%20studentx%20name%201%20%23%20%E9%9D%9E%E6%95%B4%E6%95%B0%E5%AD%97%E5%9E%8B%E5%AD%97%E6%AE%B5%E4%B8%8D%E5%8F%AF%E7%94%A8%5Cn(error)%20ERR%20hash%20value%20is%20not%20an%20integer%5Cn127.0.0.1%3A6379%3E%20HINCRBYFLOAT%20studentx%20weight%200.6%20%23%20weight%E5%AD%97%E6%AE%B5%E5%A2%9E%E5%8A%A00.6%5Cn%5C%2290.8%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a9ecca1e%22%7D\"></card><p data-lake-id=\"uc5d896c5\" id=\"uc5d896c5\"><br /></p><p data-lake-id=\"ua4b61029\" id=\"ua4b61029\"><span>Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！</span><strong><span>Hash更适合于对象的存储，Sring更加适合字符串存储！</span></strong></p><p data-lake-id=\"ua0ab7af1\" id=\"ua0ab7af1\"><br /></p><h3 data-lake-id=\"414c7e5f\" id=\"414c7e5f\"><span>Zset（有序集合）</span></h3><p data-lake-id=\"u56aba7ef\" id=\"u56aba7ef\"><br /></p><blockquote><p data-lake-id=\"uc32e030b\" id=\"uc32e030b\"><span>不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。</span></p><p data-lake-id=\"u403a951b\" id=\"u403a951b\"><span> </span></p><p data-lake-id=\"u3a7d5c17\" id=\"u3a7d5c17\"><span>score相同：按字典顺序排序</span></p><p data-lake-id=\"udcc34b5c\" id=\"udcc34b5c\"><span> </span></p><p data-lake-id=\"ubc4eb4f1\" id=\"ubc4eb4f1\"><span>有序集合的成员是唯一的,但分数(score)却可以重复。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%224f791c6a%22%2C%22rows%22%3A22%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%224f791c6a%5C%22%20id%3D%5C%224f791c6a%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u2e598e91%5C%22%20id%3D%5C%22u2e598e91%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua3a98dc2%5C%22%20id%3D%5C%22ua3a98dc2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u804b825d%5C%22%20id%3D%5C%22u804b825d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf70ea36f%5C%22%20id%3D%5C%22uf70ea36f%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u562086fc%5C%22%20id%3D%5C%22u562086fc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u18908c4f%5C%22%20id%3D%5C%22u18908c4f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucf07f409%5C%22%20id%3D%5C%22ucf07f409%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue8f5cb19%5C%22%20id%3D%5C%22ue8f5cb19%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u63fb6088%5C%22%20id%3D%5C%22u63fb6088%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7064c569%5C%22%20id%3D%5C%22u7064c569%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf8f43399%5C%22%20id%3D%5C%22uf8f43399%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u43962d53%5C%22%20id%3D%5C%22u43962d53%5C%22%3EZADD%20key%20score%20member1%20%5Bscore2%20member2%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u540a7cef%5C%22%20id%3D%5C%22u540a7cef%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufe66bcc4%5C%22%20id%3D%5C%22ufe66bcc4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u55bbaf0e%5C%22%20id%3D%5C%22u55bbaf0e%5C%22%3E%E5%90%91%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%8C%E6%88%96%E8%80%85%E6%9B%B4%E6%96%B0%E5%B7%B2%E5%AD%98%E5%9C%A8%E6%88%90%E5%91%98%E7%9A%84%E5%88%86%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9f82775c%5C%22%20id%3D%5C%22u9f82775c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud2b03df1%5C%22%20id%3D%5C%22ud2b03df1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u350e8085%5C%22%20id%3D%5C%22u350e8085%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucfd66f45%5C%22%20id%3D%5C%22ucfd66f45%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u959c96b2%5C%22%20id%3D%5C%22u959c96b2%5C%22%3EZCARD%20key%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u319ad79a%5C%22%20id%3D%5C%22u319ad79a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uda5fbee7%5C%22%20id%3D%5C%22uda5fbee7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u65eaf5cc%5C%22%20id%3D%5C%22u65eaf5cc%5C%22%3E%E8%8E%B7%E5%8F%96%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u860bd571%5C%22%20id%3D%5C%22u860bd571%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u630aa96a%5C%22%20id%3D%5C%22u630aa96a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub698eeac%5C%22%20id%3D%5C%22ub698eeac%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue5916397%5C%22%20id%3D%5C%22ue5916397%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u950be269%5C%22%20id%3D%5C%22u950be269%5C%22%3EZCOUNT%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u619c7a3e%5C%22%20id%3D%5C%22u619c7a3e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u324f49db%5C%22%20id%3D%5C%22u324f49db%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9af2f25f%5C%22%20id%3D%5C%22u9af2f25f%5C%22%3E%E8%AE%A1%E7%AE%97%E5%9C%A8%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4score%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5c24a67f%5C%22%20id%3D%5C%22u5c24a67f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u1532c033%5C%22%20id%3D%5C%22u1532c033%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u65e4855c%5C%22%20id%3D%5C%22u65e4855c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue9ba2309%5C%22%20id%3D%5C%22ue9ba2309%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4ff97969%5C%22%20id%3D%5C%22u4ff97969%5C%22%3EZINCRBY%20key%20n%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u409730b8%5C%22%20id%3D%5C%22u409730b8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubcfec00a%5C%22%20id%3D%5C%22ubcfec00a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uede63c3d%5C%22%20id%3D%5C%22uede63c3d%5C%22%3E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E5%AF%B9%E6%8C%87%E5%AE%9A%E6%88%90%E5%91%98%E7%9A%84%E5%88%86%E6%95%B0%E5%8A%A0%E4%B8%8A%E5%A2%9E%E9%87%8F%20n%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uae7e3dfa%5C%22%20id%3D%5C%22uae7e3dfa%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5d5f6d57%5C%22%20id%3D%5C%22u5d5f6d57%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u791004c3%5C%22%20id%3D%5C%22u791004c3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf7505750%5C%22%20id%3D%5C%22uf7505750%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u04dc5673%5C%22%20id%3D%5C%22u04dc5673%5C%22%3EZSCORE%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u0b73d5ad%5C%22%20id%3D%5C%22u0b73d5ad%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ec0010a%5C%22%20id%3D%5C%22u2ec0010a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf4625941%5C%22%20id%3D%5C%22uf4625941%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%EF%BC%8C%E6%88%90%E5%91%98%E7%9A%84%E5%88%86%E6%95%B0%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue4a680aa%5C%22%20id%3D%5C%22ue4a680aa%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u144ff97d%5C%22%20id%3D%5C%22u144ff97d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud4fcf2ba%5C%22%20id%3D%5C%22ud4fcf2ba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u103912cb%5C%22%20id%3D%5C%22u103912cb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub777d96c%5C%22%20id%3D%5C%22ub777d96c%5C%22%3EZRANK%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u12aa098d%5C%22%20id%3D%5C%22u12aa098d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf053f49b%5C%22%20id%3D%5C%22uf053f49b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub530d440%5C%22%20id%3D%5C%22ub530d440%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%88%90%E5%91%98%E7%9A%84%E7%B4%A2%E5%BC%95%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u54c5a013%5C%22%20id%3D%5C%22u54c5a013%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uce3d26f9%5C%22%20id%3D%5C%22uce3d26f9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub6f95369%5C%22%20id%3D%5C%22ub6f95369%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uaca1fbae%5C%22%20id%3D%5C%22uaca1fbae%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u70738621%5C%22%20id%3D%5C%22u70738621%5C%22%3EZRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2a8d04a9%5C%22%20id%3D%5C%22u2a8d04a9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u949096bf%5C%22%20id%3D%5C%22u949096bf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf08231da%5C%22%20id%3D%5C%22uf08231da%5C%22%3E%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%E5%8C%BA%E9%97%B4%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%88%90%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u15d6bb44%5C%22%20id%3D%5C%22u15d6bb44%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3e833873%5C%22%20id%3D%5C%22u3e833873%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0779a7dd%5C%22%20id%3D%5C%22u0779a7dd%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22udc754005%5C%22%20id%3D%5C%22udc754005%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud310550e%5C%22%20id%3D%5C%22ud310550e%5C%22%3EZRANGEBYLEX%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9ae506b5%5C%22%20id%3D%5C%22u9ae506b5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub226d42d%5C%22%20id%3D%5C%22ub226d42d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1e502051%5C%22%20id%3D%5C%22u1e502051%5C%22%3E%E9%80%9A%E8%BF%87%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u93f84dfb%5C%22%20id%3D%5C%22u93f84dfb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u750b6b24%5C%22%20id%3D%5C%22u750b6b24%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ucc877612%5C%22%20id%3D%5C%22ucc877612%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u8240217b%5C%22%20id%3D%5C%22u8240217b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2da63802%5C%22%20id%3D%5C%22u2da63802%5C%22%3EZRANGEBYSCORE%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u635622f5%5C%22%20id%3D%5C%22u635622f5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7da4832f%5C%22%20id%3D%5C%22u7da4832f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u79cac09e%5C%22%20id%3D%5C%22u79cac09e%5C%22%3E%E9%80%9A%E8%BF%87%E5%88%86%E6%95%B0%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%3D%3D-inf%20%E5%92%8C%20%2Binf%E5%88%86%E5%88%AB%E8%A1%A8%E7%A4%BA%E6%9C%80%E5%B0%8F%E6%9C%80%E5%A4%A7%E5%80%BC%EF%BC%8C%E5%8F%AA%E6%94%AF%E6%8C%81%E5%BC%80%E5%8C%BA%E9%97%B4()%3D%3D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue4e526a8%5C%22%20id%3D%5C%22ue4e526a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uea74bcc4%5C%22%20id%3D%5C%22uea74bcc4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50248b2c%5C%22%20id%3D%5C%22u50248b2c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u8d39ec94%5C%22%20id%3D%5C%22u8d39ec94%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3e772fab%5C%22%20id%3D%5C%22u3e772fab%5C%22%3EZLEXCOUNT%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u99f3869c%5C%22%20id%3D%5C%22u99f3869c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua38c6b21%5C%22%20id%3D%5C%22ua38c6b21%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6eac7040%5C%22%20id%3D%5C%22u6eac7040%5C%22%3E%E5%9C%A8%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E8%AE%A1%E7%AE%97%E6%8C%87%E5%AE%9A%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E5%86%85%E6%88%90%E5%91%98%E6%95%B0%E9%87%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9437e313%5C%22%20id%3D%5C%22u9437e313%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9bcac821%5C%22%20id%3D%5C%22u9bcac821%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3ec051e4%5C%22%20id%3D%5C%22u3ec051e4%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u605bdf31%5C%22%20id%3D%5C%22u605bdf31%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufab8d701%5C%22%20id%3D%5C%22ufab8d701%5C%22%3EZREM%20key%20member1%20%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u02bc23ce%5C%22%20id%3D%5C%22u02bc23ce%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc94cbd29%5C%22%20id%3D%5C%22uc94cbd29%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucd2aca9b%5C%22%20id%3D%5C%22ucd2aca9b%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ubb63a420%5C%22%20id%3D%5C%22ubb63a420%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uccc7dbf4%5C%22%20id%3D%5C%22uccc7dbf4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u89aec8e4%5C%22%20id%3D%5C%22u89aec8e4%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u6fc7a645%5C%22%20id%3D%5C%22u6fc7a645%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc05449c7%5C%22%20id%3D%5C%22uc05449c7%5C%22%3EZREMRANGEBYLEX%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2eab3b40%5C%22%20id%3D%5C%22u2eab3b40%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3346ccf1%5C%22%20id%3D%5C%22u3346ccf1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u79ec35d0%5C%22%20id%3D%5C%22u79ec35d0%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%BB%99%E5%AE%9A%E7%9A%84%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u9e584efb%5C%22%20id%3D%5C%22u9e584efb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0ad741b6%5C%22%20id%3D%5C%22u0ad741b6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf6eaef36%5C%22%20id%3D%5C%22uf6eaef36%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ucfdda61d%5C%22%20id%3D%5C%22ucfdda61d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6ec0ed90%5C%22%20id%3D%5C%22u6ec0ed90%5C%22%3EZREMRANGEBYRANK%20key%20start%20stop%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uce04d257%5C%22%20id%3D%5C%22uce04d257%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u17cf6602%5C%22%20id%3D%5C%22u17cf6602%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u632083f1%5C%22%20id%3D%5C%22u632083f1%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%BB%99%E5%AE%9A%E7%9A%84%E6%8E%92%E5%90%8D%E5%8C%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub7d5febe%5C%22%20id%3D%5C%22ub7d5febe%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u23966d28%5C%22%20id%3D%5C%22u23966d28%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubb240a3d%5C%22%20id%3D%5C%22ubb240a3d%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u95615d39%5C%22%20id%3D%5C%22u95615d39%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u46266ea0%5C%22%20id%3D%5C%22u46266ea0%5C%22%3EZREMRANGEBYSCORE%20key%20min%20max%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufde4325c%5C%22%20id%3D%5C%22ufde4325c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue4239c18%5C%22%20id%3D%5C%22ue4239c18%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3aefa9b5%5C%22%20id%3D%5C%22u3aefa9b5%5C%22%3E%E7%A7%BB%E9%99%A4%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%BB%99%E5%AE%9A%E7%9A%84%E5%88%86%E6%95%B0%E5%8C%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8b6f3749%5C%22%20id%3D%5C%22u8b6f3749%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uc827814d%5C%22%20id%3D%5C%22uc827814d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5e07a2ba%5C%22%20id%3D%5C%22u5e07a2ba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ue94bcb45%5C%22%20id%3D%5C%22ue94bcb45%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u35cc6815%5C%22%20id%3D%5C%22u35cc6815%5C%22%3EZREVRANGE%20key%20start%20end%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud416923f%5C%22%20id%3D%5C%22ud416923f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0511d2d0%5C%22%20id%3D%5C%22u0511d2d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6ddf2e0a%5C%22%20id%3D%5C%22u6ddf2e0a%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%EF%BC%8C%E9%80%9A%E8%BF%87%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%88%86%E6%95%B0%E4%BB%8E%E9%AB%98%E5%88%B0%E5%BA%95%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uc282fbeb%5C%22%20id%3D%5C%22uc282fbeb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua4f50073%5C%22%20id%3D%5C%22ua4f50073%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubf6a8cbe%5C%22%20id%3D%5C%22ubf6a8cbe%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u38bd382b%5C%22%20id%3D%5C%22u38bd382b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0caddf22%5C%22%20id%3D%5C%22u0caddf22%5C%22%3EZREVRANGEBYSCORRE%20key%20max%20min%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufa860ca9%5C%22%20id%3D%5C%22ufa860ca9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uaa44a3f7%5C%22%20id%3D%5C%22uaa44a3f7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9126fada%5C%22%20id%3D%5C%22u9126fada%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%88%86%E6%95%B0%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%EF%BC%8C%E5%88%86%E6%95%B0%E4%BB%8E%E9%AB%98%E5%88%B0%E4%BD%8E%E6%8E%92%E5%BA%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud49b09c4%5C%22%20id%3D%5C%22ud49b09c4%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u58d15d37%5C%22%20id%3D%5C%22u58d15d37%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1dcd5d04%5C%22%20id%3D%5C%22u1dcd5d04%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u3ef8f92b%5C%22%20id%3D%5C%22u3ef8f92b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0f939d6b%5C%22%20id%3D%5C%22u0f939d6b%5C%22%3EZREVRANGEBYLEX%20key%20max%20min%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9dea4cd3%5C%22%20id%3D%5C%22u9dea4cd3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7bd8df87%5C%22%20id%3D%5C%22u7bd8df87%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua4bb9ee6%5C%22%20id%3D%5C%22ua4bb9ee6%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E4%B8%AD%E6%8C%87%E5%AE%9A%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%EF%BC%8C%E6%8C%89%E5%AD%97%E5%85%B8%E9%A1%BA%E5%BA%8F%E5%80%92%E5%BA%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ucd9b21a8%5C%22%20id%3D%5C%22ucd9b21a8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ub792c73c%5C%22%20id%3D%5C%22ub792c73c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud9f5da55%5C%22%20id%3D%5C%22ud9f5da55%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u960e4e65%5C%22%20id%3D%5C%22u960e4e65%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4c65a54e%5C%22%20id%3D%5C%22u4c65a54e%5C%22%3EZREVRANK%20key%20member%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uebe7c511%5C%22%20id%3D%5C%22uebe7c511%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8bb20b75%5C%22%20id%3D%5C%22u8bb20b75%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u28b166eb%5C%22%20id%3D%5C%22u28b166eb%5C%22%3E%E8%BF%94%E5%9B%9E%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%88%90%E5%91%98%E7%9A%84%E6%8E%92%E5%90%8D%EF%BC%8C%E6%9C%89%E5%BA%8F%E9%9B%86%E6%88%90%E5%91%98%E6%8C%89%E5%88%86%E6%95%B0%E5%80%BC%E9%80%92%E5%87%8F(%E4%BB%8E%E5%A4%A7%E5%88%B0%E5%B0%8F)%E6%8E%92%E5%BA%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4fd60584%5C%22%20id%3D%5C%22u4fd60584%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22udf6f98d9%5C%22%20id%3D%5C%22udf6f98d9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2d1813ef%5C%22%20id%3D%5C%22u2d1813ef%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua935f391%5C%22%20id%3D%5C%22ua935f391%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u31ee5bd7%5C%22%20id%3D%5C%22u31ee5bd7%5C%22%3EZINTERSTORE%20destination%20numkeys%20key1%20%5Bkey2%20..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u2004a2d1%5C%22%20id%3D%5C%22u2004a2d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u27a0db49%5C%22%20id%3D%5C%22u27a0db49%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5cef8784%5C%22%20id%3D%5C%22u5cef8784%5C%22%3E%E8%AE%A1%E7%AE%97%E7%BB%99%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%9B%86%E7%9A%84%E4%BA%A4%E9%9B%86%E5%B9%B6%E5%B0%86%E7%BB%93%E6%9E%9C%E9%9B%86%E5%AD%98%E5%82%A8%E5%9C%A8%E6%96%B0%E7%9A%84%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%20key%20%E4%B8%AD%EF%BC%8Cnumkeys%EF%BC%9A%E8%A1%A8%E7%A4%BA%E5%8F%82%E4%B8%8E%E8%BF%90%E7%AE%97%E7%9A%84%E9%9B%86%E5%90%88%E6%95%B0%EF%BC%8C%E5%B0%86score%E7%9B%B8%E5%8A%A0%E4%BD%9C%E4%B8%BA%E7%BB%93%E6%9E%9C%E7%9A%84score%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u57bc4497%5C%22%20id%3D%5C%22u57bc4497%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubc31f509%5C%22%20id%3D%5C%22ubc31f509%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u9c0dc242%5C%22%20id%3D%5C%22u9c0dc242%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub35d01a5%5C%22%20id%3D%5C%22ub35d01a5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5fa323c2%5C%22%20id%3D%5C%22u5fa323c2%5C%22%3EZUNIONSTORE%20destination%20numkeys%20key1%20%5Bkey2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ube8eb6fc%5C%22%20id%3D%5C%22ube8eb6fc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2f7067e5%5C%22%20id%3D%5C%22u2f7067e5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2c054d93%5C%22%20id%3D%5C%22u2c054d93%5C%22%3E%E8%AE%A1%E7%AE%97%E7%BB%99%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%9B%86%E7%9A%84%E4%BA%A4%E9%9B%86%E5%B9%B6%E5%B0%86%E7%BB%93%E6%9E%9C%E9%9B%86%E5%AD%98%E5%82%A8%E5%9C%A8%E6%96%B0%E7%9A%84%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%20key%20%E4%B8%AD%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ua5b45ad5%5C%22%20id%3D%5C%22ua5b45ad5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u5488ab82%5C%22%20id%3D%5C%22u5488ab82%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u098ead73%5C%22%20id%3D%5C%22u098ead73%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u612c01d9%5C%22%20id%3D%5C%22u612c01d9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6827f079%5C%22%20id%3D%5C%22u6827f079%5C%22%3EZSCAN%20key%20cursor%20%5BMATCH%20pattern%5C%5C%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u8a265b8f%5C%22%20id%3D%5C%22u8a265b8f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud8845047%5C%22%20id%3D%5C%22ud8845047%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5e2f9a4a%5C%22%20id%3D%5C%22u5e2f9a4a%5C%22%3E%E8%BF%AD%E4%BB%A3%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%88%E5%8C%85%E6%8B%AC%E5%85%83%E7%B4%A0%E6%88%90%E5%91%98%E5%92%8C%E5%85%83%E7%B4%A0%E5%88%86%E5%80%BC%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u82969c61\" id=\"u82969c61\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22-------------------ZADD--ZCARD--ZCOUNT--------------%5Cn127.0.0.1%3A6379%3E%20ZADD%20myzset%201%20m1%202%20m2%203%20m3%20%23%20%E5%90%91%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88myzset%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%88%90%E5%91%98m1%20score%3D1%20%E4%BB%A5%E5%8F%8A%E6%88%90%E5%91%98m2%20score%3D2..%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZCARD%20myzset%20%23%20%E8%8E%B7%E5%8F%96%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZCOUNT%20myzset%200%201%20%23%20%E8%8E%B7%E5%8F%96score%E5%9C%A8%20%5B0%2C1%5D%E5%8C%BA%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%E6%95%B0%E9%87%8F%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20ZCOUNT%20myzset%200%202%5Cn(integer)%202%5Cn%5Cn----------------ZINCRBY--ZSCORE--------------------------%5Cn127.0.0.1%3A6379%3E%20ZINCRBY%20myzset%205%20m2%20%23%20%E5%B0%86%E6%88%90%E5%91%98m2%E7%9A%84score%20%2B5%5Cn%5C%227%5C%22%5Cn127.0.0.1%3A6379%3E%20ZSCORE%20myzset%20m1%20%23%20%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98m1%E7%9A%84score%5Cn%5C%221%5C%22%5Cn127.0.0.1%3A6379%3E%20ZSCORE%20myzset%20m2%5Cn%5C%227%5C%22%5Cn%5Cn--------------ZRANK--ZRANGE-----------------------------------%5Cn127.0.0.1%3A6379%3E%20ZRANK%20myzset%20m1%20%23%20%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98m1%E7%9A%84%E7%B4%A2%E5%BC%95%EF%BC%8C%E7%B4%A2%E5%BC%95%E6%8C%89%E7%85%A7score%E6%8E%92%E5%BA%8F%EF%BC%8Cscore%E7%9B%B8%E5%90%8C%E7%B4%A2%E5%BC%95%E5%80%BC%E6%8C%89%E5%AD%97%E5%85%B8%E9%A1%BA%E5%BA%8F%E9%A1%BA%E5%BA%8F%E5%A2%9E%E5%8A%A0%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20ZRANK%20myzset%20m2%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20myzset%200%201%20%23%20%E8%8E%B7%E5%8F%96%E7%B4%A2%E5%BC%95%E5%9C%A8%200~1%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20myzset%200%20-1%20%23%20%E8%8E%B7%E5%8F%96%E5%85%A8%E9%83%A8%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn%5Cn%23testset%3D%3E%7Babc%2Cadd%2Camaze%2Capple%2Cback%2Cjava%2Credis%7D%20score%E5%9D%87%E4%B8%BA0%5Cn------------------ZRANGEBYLEX---------------------------------%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20-%20%2B%20%23%20%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn1)%20%5C%22abc%5C%22%5Cn2)%20%5C%22add%5C%22%5Cn3)%20%5C%22amaze%5C%22%5Cn4)%20%5C%22apple%5C%22%5Cn5)%20%5C%22back%5C%22%5Cn6)%20%5C%22java%5C%22%5Cn7)%20%5C%22redis%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20-%20%2B%20LIMIT%200%203%20%23%20%E5%88%86%E9%A1%B5%20%E6%8C%89%E7%B4%A2%E5%BC%95%E6%98%BE%E7%A4%BA%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%200%2C1%2C2%E6%9D%A1%E8%AE%B0%E5%BD%95%5Cn1)%20%5C%22abc%5C%22%5Cn2)%20%5C%22add%5C%22%5Cn3)%20%5C%22amaze%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20-%20%2B%20LIMIT%203%203%20%23%20%E6%98%BE%E7%A4%BA%203%2C4%2C5%E6%9D%A1%E8%AE%B0%E5%BD%95%5Cn1)%20%5C%22apple%5C%22%5Cn2)%20%5C%22back%5C%22%5Cn3)%20%5C%22java%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20(-%20%5Bapple%20%23%20%E6%98%BE%E7%A4%BA%20(-%2Capple%5D%20%E5%8C%BA%E9%97%B4%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22abc%5C%22%5Cn2)%20%5C%22add%5C%22%5Cn3)%20%5C%22amaze%5C%22%5Cn4)%20%5C%22apple%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYLEX%20testset%20%5Bapple%20%5Bjava%20%23%20%E6%98%BE%E7%A4%BA%20%5Bapple%2Cjava%5D%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22apple%5C%22%5Cn2)%20%5C%22back%5C%22%5Cn3)%20%5C%22java%5C%22%5Cn%5Cn-----------------------ZRANGEBYSCORE---------------------%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYSCORE%20myzset%201%2010%20%23%20%E8%BF%94%E5%9B%9Escore%E5%9C%A8%20%5B1%2C10%5D%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn127.0.0.1%3A6379%3E%20ZRANGEBYSCORE%20myzset%201%205%5Cn1)%20%5C%22m1%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn%5Cn--------------------ZLEXCOUNT-----------------------------%5Cn127.0.0.1%3A6379%3E%20ZLEXCOUNT%20testset%20-%20%2B%5Cn(integer)%207%5Cn127.0.0.1%3A6379%3E%20ZLEXCOUNT%20testset%20%5Bapple%20%5Bjava%5Cn(integer)%203%5Cn%5Cn------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------%5Cn127.0.0.1%3A6379%3E%20ZREM%20testset%20abc%20%23%20%E7%A7%BB%E9%99%A4%E6%88%90%E5%91%98abc%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20ZREMRANGEBYLEX%20testset%20%5Bapple%20%5Bjava%20%23%20%E7%A7%BB%E9%99%A4%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%5Bapple%2Cjava%5D%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20ZREMRANGEBYRANK%20testset%200%201%20%23%20%E7%A7%BB%E9%99%A4%E6%8E%92%E5%90%8D0~1%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98%5Cn(integer)%202%5Cn127.0.0.1%3A6379%3E%20ZREMRANGEBYSCORE%20myzset%200%203%20%23%20%E7%A7%BB%E9%99%A4score%E5%9C%A8%20%5B0%2C3%5D%E7%9A%84%E6%88%90%E5%91%98%5Cn(integer)%202%5Cn%5Cn%5Cn%23%20testset%3D%3E%20%7Babc%2Cadd%2Capple%2Camaze%2Cback%2Cjava%2Credis%7D%20score%E5%9D%87%E4%B8%BA0%5Cn%23%20myzset%3D%3E%20%7B(m1%2C1)%2C(m2%2C2)%2C(m3%2C3)%2C(m4%2C4)%2C(m7%2C7)%2C(m9%2C9)%7D%5Cn----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------%5Cn127.0.0.1%3A6379%3E%20ZREVRANGE%20myzset%200%203%20%23%20%E6%8C%89score%E9%80%92%E5%87%8F%E6%8E%92%E5%BA%8F%EF%BC%8C%E7%84%B6%E5%90%8E%E6%8C%89%E7%B4%A2%E5%BC%95%EF%BC%8C%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84%200~3%5Cn1)%20%5C%22m9%5C%22%5Cn2)%20%5C%22m7%5C%22%5Cn3)%20%5C%22m4%5C%22%5Cn4)%20%5C%22m3%5C%22%5Cn127.0.0.1%3A6379%3E%20ZREVRANGE%20myzset%202%204%20%23%20%E8%BF%94%E5%9B%9E%E6%8E%92%E5%BA%8F%E7%BB%93%E6%9E%9C%E7%9A%84%20%E7%B4%A2%E5%BC%95%E7%9A%842~4%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn127.0.0.1%3A6379%3E%20ZREVRANGEBYSCORE%20myzset%206%202%20%23%20%E6%8C%89score%E9%80%92%E5%87%8F%E9%A1%BA%E5%BA%8F%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%AD%E5%88%86%E6%95%B0%E5%9C%A8%5B2%2C6%5D%E4%B9%8B%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22m4%5C%22%5Cn2)%20%5C%22m3%5C%22%5Cn3)%20%5C%22m2%5C%22%5Cn127.0.0.1%3A6379%3E%20ZREVRANGEBYLEX%20testset%20%5Bjava%20(add%20%23%20%E6%8C%89%E5%AD%97%E5%85%B8%E5%80%92%E5%BA%8F%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E4%B8%AD(add%2Cjava%5D%E5%AD%97%E5%85%B8%E5%8C%BA%E9%97%B4%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%20%5C%22java%5C%22%5Cn2)%20%5C%22back%5C%22%5Cn3)%20%5C%22apple%5C%22%5Cn4)%20%5C%22amaze%5C%22%5Cn%5Cn-------------------------ZREVRANK------------------------------%5Cn127.0.0.1%3A6379%3E%20ZREVRANK%20myzset%20m7%20%23%20%E6%8C%89score%E9%80%92%E5%87%8F%E9%A1%BA%E5%BA%8F%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%88%90%E5%91%98m7%E7%B4%A2%E5%BC%95%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20ZREVRANK%20myzset%20m2%5Cn(integer)%204%5Cn%5Cn%5Cn%23%20mathscore%3D%3E%7B(xm%2C90)%2C(xh%2C95)%2C(xg%2C87)%7D%20%E5%B0%8F%E6%98%8E%E3%80%81%E5%B0%8F%E7%BA%A2%E3%80%81%E5%B0%8F%E5%88%9A%E7%9A%84%E6%95%B0%E5%AD%A6%E6%88%90%E7%BB%A9%5Cn%23%20enscore%3D%3E%7B(xm%2C70)%2C(xh%2C93)%2C(xg%2C90)%7D%20%E5%B0%8F%E6%98%8E%E3%80%81%E5%B0%8F%E7%BA%A2%E3%80%81%E5%B0%8F%E5%88%9A%E7%9A%84%E8%8B%B1%E8%AF%AD%E6%88%90%E7%BB%A9%5Cn-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------%5Cn127.0.0.1%3A6379%3E%20ZINTERSTORE%20sumscore%202%20mathscore%20enscore%20%23%20%E5%B0%86mathscore%20enscore%E8%BF%9B%E8%A1%8C%E5%90%88%E5%B9%B6%20%E7%BB%93%E6%9E%9C%E5%AD%98%E6%94%BE%E5%88%B0sumscore%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20sumscore%200%20-1%20withscores%20%23%20%E5%90%88%E5%B9%B6%E5%90%8E%E7%9A%84score%E6%98%AF%E4%B9%8B%E5%89%8D%E9%9B%86%E5%90%88%E4%B8%AD%E6%89%80%E6%9C%89score%E7%9A%84%E5%92%8C%5Cn1)%20%5C%22xm%5C%22%5Cn2)%20%5C%22160%5C%22%5Cn3)%20%5C%22xg%5C%22%5Cn4)%20%5C%22177%5C%22%5Cn5)%20%5C%22xh%5C%22%5Cn6)%20%5C%22188%5C%22%5Cn%5Cn127.0.0.1%3A6379%3E%20ZUNIONSTORE%20lowestscore%202%20mathscore%20enscore%20AGGREGATE%20MIN%20%23%20%E5%8F%96%E4%B8%A4%E4%B8%AA%E9%9B%86%E5%90%88%E7%9A%84%E6%88%90%E5%91%98score%E6%9C%80%E5%B0%8F%E5%80%BC%E4%BD%9C%E4%B8%BA%E7%BB%93%E6%9E%9C%E7%9A%84%5Cn(integer)%203%5Cn127.0.0.1%3A6379%3E%20ZRANGE%20lowestscore%200%20-1%20withscores%5Cn1)%20%5C%22xm%5C%22%5Cn2)%20%5C%2270%5C%22%5Cn3)%20%5C%22xg%5C%22%5Cn4)%20%5C%2287%5C%22%5Cn5)%20%5C%22xh%5C%22%5Cn6)%20%5C%2293%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ef28dc6f%22%7D\"></card><p data-lake-id=\"ubc9bde0d\" id=\"ubc9bde0d\"><br /></p><p data-lake-id=\"u725bcbc9\" id=\"u725bcbc9\"><span>应用案例：</span></p><p data-lake-id=\"u6ec0e293\" id=\"u6ec0e293\"><br /></p><ul data-lake-id=\"04f6b9a91350decd3c0b4c30c40056ac_ul_28\"><li data-lake-id=\"u5621ebc7\"><span>set排序 存储班级成绩表 工资表排序！</span></li></ul><ul data-lake-id=\"1e7ccf6de54f373edf0b32c48e734cea_ul_29\"><li data-lake-id=\"u03e2ee4e\"><span>普通消息，1.重要消息 2.带权重进行判断</span></li></ul><ul data-lake-id=\"71a6fe9a66de6329481953da6073cc0c_ul_30\"><li data-lake-id=\"u13f4ce11\"><span>排行榜应用实现，取Top N测试</span></li></ul><p data-lake-id=\"ud79f5f54\" id=\"ud79f5f54\"><br /></p><h2 data-lake-id=\"d56625c6\" id=\"d56625c6\"><span>四、三种特殊数据类型</span></h2><p data-lake-id=\"u076f4a0a\" id=\"u076f4a0a\"><br /></p><h3 data-lake-id=\"57d73dd8\" id=\"57d73dd8\"><span>Geospatial(地理位置)</span></h3><p data-lake-id=\"u04a612bb\" id=\"u04a612bb\"><br /></p><blockquote><p data-lake-id=\"uea2be178\" id=\"uea2be178\"><span>使用经纬度定位地理坐标并用一个</span><strong><span>有序集合zset保存</span></strong><span>，所以zset命令也可以使用</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%2202f10621%22%2C%22rows%22%3A7%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%2202f10621%5C%22%20id%3D%5C%2202f10621%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22ua9d0c28a%5C%22%20id%3D%5C%22ua9d0c28a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2e7a531a%5C%22%20id%3D%5C%22u2e7a531a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub6fcb126%5C%22%20id%3D%5C%22ub6fcb126%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3e0cce69%5C%22%20id%3D%5C%22u3e0cce69%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1b223fbd%5C%22%20id%3D%5C%22u1b223fbd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uded8a3eb%5C%22%20id%3D%5C%22uded8a3eb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud9d28da6%5C%22%20id%3D%5C%22ud9d28da6%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4e0c72d6%5C%22%20id%3D%5C%22u4e0c72d6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u194c4386%5C%22%20id%3D%5C%22u194c4386%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ucbeaa914%5C%22%20id%3D%5C%22ucbeaa914%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub722fd69%5C%22%20id%3D%5C%22ub722fd69%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud77ab7d5%5C%22%20id%3D%5C%22ud77ab7d5%5C%22%3Egeoadd%20key%20longitud(%E7%BB%8F%E5%BA%A6)%20latitude(%E7%BA%AC%E5%BA%A6)%20member%20%5B..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u42a5c8b3%5C%22%20id%3D%5C%22u42a5c8b3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1531b59d%5C%22%20id%3D%5C%22u1531b59d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u781747ca%5C%22%20id%3D%5C%22u781747ca%5C%22%3E%E5%B0%86%E5%85%B7%E4%BD%93%E7%BB%8F%E7%BA%AC%E5%BA%A6%E7%9A%84%E5%9D%90%E6%A0%87%E5%AD%98%E5%85%A5%E4%B8%80%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8c0148e3%5C%22%20id%3D%5C%22u8c0148e3%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9e12ae0d%5C%22%20id%3D%5C%22u9e12ae0d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8ffac378%5C%22%20id%3D%5C%22u8ffac378%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u03a4ec1a%5C%22%20id%3D%5C%22u03a4ec1a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1f72c144%5C%22%20id%3D%5C%22u1f72c144%5C%22%3Egeopos%20key%20member%20%5Bmember..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua07be25e%5C%22%20id%3D%5C%22ua07be25e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf0b50681%5C%22%20id%3D%5C%22uf0b50681%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7f35f30a%5C%22%20id%3D%5C%22u7f35f30a%5C%22%3E%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%2F%E5%A4%9A%E4%B8%AA%E6%88%90%E5%91%98%E5%9D%90%E6%A0%87%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u48cc5fad%5C%22%20id%3D%5C%22u48cc5fad%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7d829f86%5C%22%20id%3D%5C%22u7d829f86%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5485fcd1%5C%22%20id%3D%5C%22u5485fcd1%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u484c7b2a%5C%22%20id%3D%5C%22u484c7b2a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2eb376ce%5C%22%20id%3D%5C%22u2eb376ce%5C%22%3Egeodist%20key%20member1%20member2%20%5Bunit%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf8280ef2%5C%22%20id%3D%5C%22uf8280ef2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2d875aca%5C%22%20id%3D%5C%22u2d875aca%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3961636a%5C%22%20id%3D%5C%22u3961636a%5C%22%3E%E8%BF%94%E5%9B%9E%E4%B8%A4%E4%B8%AA%E7%BB%99%E5%AE%9A%E4%BD%8D%E7%BD%AE%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B7%9D%E7%A6%BB%E3%80%82%E9%BB%98%E8%AE%A4%E4%BB%A5%E7%B1%B3%E4%BD%9C%E4%B8%BA%E5%8D%95%E4%BD%8D%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u62d98d37%5C%22%20id%3D%5C%22u62d98d37%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8f0611a0%5C%22%20id%3D%5C%22u8f0611a0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u96fb8ef5%5C%22%20id%3D%5C%22u96fb8ef5%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u9daeedeb%5C%22%20id%3D%5C%22u9daeedeb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u87d32ddd%5C%22%20id%3D%5C%22u87d32ddd%5C%22%3Egeoradius%20key%20longitude%20latitude%20radius%20m%7Ckm%7Cmi%7Cft%20%5BWITHCOORD%5D%5BWITHDIST%5D%20%5BWITHHASH%5D%20%5BCOUNT%20count%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uedb3fc89%5C%22%20id%3D%5C%22uedb3fc89%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u126d2a35%5C%22%20id%3D%5C%22u126d2a35%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uda9b3820%5C%22%20id%3D%5C%22uda9b3820%5C%22%3E%E4%BB%A5%E7%BB%99%E5%AE%9A%E7%9A%84%E7%BB%8F%E7%BA%AC%E5%BA%A6%E4%B8%BA%E4%B8%AD%E5%BF%83%EF%BC%8C%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88%E5%8C%85%E5%90%AB%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%85%83%E7%B4%A0%E5%BD%93%E4%B8%AD%EF%BC%8C%20%E4%B8%8E%E4%B8%AD%E5%BF%83%E7%9A%84%E8%B7%9D%E7%A6%BB%E4%B8%8D%E8%B6%85%E8%BF%87%E7%BB%99%E5%AE%9A%E6%9C%80%E5%A4%A7%E8%B7%9D%E7%A6%BB%E7%9A%84%E6%89%80%E6%9C%89%E4%BD%8D%E7%BD%AE%E5%85%83%E7%B4%A0%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5034a341%5C%22%20id%3D%5C%22u5034a341%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u98655218%5C%22%20id%3D%5C%22u98655218%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u403c1e59%5C%22%20id%3D%5C%22u403c1e59%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u6595fd4e%5C%22%20id%3D%5C%22u6595fd4e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5f99a321%5C%22%20id%3D%5C%22u5f99a321%5C%22%3EGEORADIUSBYMEMBER%20key%20member%20radius...%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua6023cb9%5C%22%20id%3D%5C%22ua6023cb9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1ea45088%5C%22%20id%3D%5C%22u1ea45088%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0eae37ff%5C%22%20id%3D%5C%22u0eae37ff%5C%22%3E%E5%8A%9F%E8%83%BD%E4%B8%8EGEORADIUS%E7%9B%B8%E5%90%8C%EF%BC%8C%E5%8F%AA%E6%98%AF%E4%B8%AD%E5%BF%83%E4%BD%8D%E7%BD%AE%E4%B8%8D%E6%98%AF%E5%85%B7%E4%BD%93%E7%9A%84%E7%BB%8F%E7%BA%AC%E5%BA%A6%EF%BC%8C%E8%80%8C%E6%98%AF%E4%BD%BF%E7%94%A8%E7%BB%93%E5%90%88%E4%B8%AD%E5%B7%B2%E6%9C%89%E7%9A%84%E6%88%90%E5%91%98%E4%BD%9C%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%82%B9%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue75fe01c%5C%22%20id%3D%5C%22ue75fe01c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud5151dbd%5C%22%20id%3D%5C%22ud5151dbd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ueb951acb%5C%22%20id%3D%5C%22ueb951acb%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u03cf6364%5C%22%20id%3D%5C%22u03cf6364%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1a68c670%5C%22%20id%3D%5C%22u1a68c670%5C%22%3Egeohash%20key%20member1%20%5Bmember2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua368b202%5C%22%20id%3D%5C%22ua368b202%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u264c21d1%5C%22%20id%3D%5C%22u264c21d1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u99094cd0%5C%22%20id%3D%5C%22u99094cd0%5C%22%3E%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E4%BD%8D%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84Geohash%E8%A1%A8%E7%A4%BA%E3%80%82%E4%BD%BF%E7%94%A8Geohash%E4%BD%8D%E7%BD%AE52%E7%82%B9%E6%95%B4%E6%95%B0%E7%BC%96%E7%A0%81%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u90ad687d\" id=\"u90ad687d\"><br /></p><p data-lake-id=\"u89210ddb\" id=\"u89210ddb\"><strong><span>有效经纬度</span></strong></p><p data-lake-id=\"u6e8bfde5\" id=\"u6e8bfde5\"><br /></p><blockquote><p data-lake-id=\"u189e45a0\" id=\"u189e45a0\"><span> </span></p><ul data-lake-id=\"b7a261377c6c811e65a2cf19e95290ae_ul_31\"><li data-lake-id=\"u58bb2218\"><span>有效的经度从-180度到180度。</span></li></ul><ul data-lake-id=\"6a9cc4ff5a0c3e82e65cb1675939f42f_ul_32\"><li data-lake-id=\"u5f0ef31c\"><span>有效的纬度从-85.05112878度到85.05112878度。</span></li></ul><p data-lake-id=\"u7fa69b79\" id=\"u7fa69b79\"><span> </span></p></blockquote><p data-lake-id=\"u228357c5\" id=\"u228357c5\"><br /></p><p data-lake-id=\"ua0daf27f\" id=\"ua0daf27f\"><span>指定单位的参数 </span><strong><span>unit</span></strong><span> 必须是以下单位的其中一个：</span></p><p data-lake-id=\"u1d910e65\" id=\"u1d910e65\"><br /></p><ul data-lake-id=\"c424810f098acd3b3e8e75347eeef39e_ul_33\"><li data-lake-id=\"u19606259\"><strong><span>m</span></strong><span> 表示单位为米。</span></li></ul><ul data-lake-id=\"5202aae09e90f5e2423d0ddd4609b3e0_ul_34\"><li data-lake-id=\"u144ad1c7\"><strong><span>km</span></strong><span> 表示单位为千米。</span></li></ul><ul data-lake-id=\"9c5dfbeeaf4ec837b8893e366aa787c3_ul_35\"><li data-lake-id=\"u22934df8\"><strong><span>mi</span></strong><span> 表示单位为英里。</span></li></ul><ul data-lake-id=\"219d1bfbbc233e5423e0e56b49ed023d_ul_36\"><li data-lake-id=\"u03401b4a\"><strong><span>ft</span></strong><span> 表示单位为英尺。</span></li></ul><p data-lake-id=\"u678d0515\" id=\"u678d0515\"><br /></p><p data-lake-id=\"u0ac76f1b\" id=\"u0ac76f1b\"><strong><span>关于GEORADIUS的参数</span></strong></p><p data-lake-id=\"u4d31fc16\" id=\"u4d31fc16\"><br /></p><blockquote><p data-lake-id=\"u980e1c82\" id=\"u980e1c82\"><span>通过</span><code><span>georadius</span></code><span>就可以完成 </span><strong><span>附近的人</span></strong><span>功能</span></p><p data-lake-id=\"ub93c0b7f\" id=\"ub93c0b7f\"><span> </span></p><p data-lake-id=\"ubee402d6\" id=\"ubee402d6\"><span>withcoord:带上坐标</span></p><p data-lake-id=\"u2fac12bc\" id=\"u2fac12bc\"><span> </span></p><p data-lake-id=\"u61d463be\" id=\"u61d463be\"><span>withdist:带上距离，单位与半径单位相同</span></p><p data-lake-id=\"ua3695ea8\" id=\"ua3695ea8\"><span> </span></p><p data-lake-id=\"ue735ff1b\" id=\"ue735ff1b\"><span>COUNT n : 只显示前n个(按距离递增排序)</span></p></blockquote><p data-lake-id=\"uc13a9f70\" id=\"uc13a9f70\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22----------------georadius---------------------%5Cn127.0.0.1%3A6379%3E%20GEORADIUS%20china%3Acity%20120%2030%20500%20km%20withcoord%20withdist%20%23%20%E6%9F%A5%E8%AF%A2%E7%BB%8F%E7%BA%AC%E5%BA%A6(120%2C30)%E5%9D%90%E6%A0%87500km%E5%8D%8A%E5%BE%84%E5%86%85%E7%9A%84%E6%88%90%E5%91%98%5Cn1)%201)%20%5C%22hangzhou%5C%22%5Cn%20%20%202)%20%5C%2229.4151%5C%22%5Cn%20%20%203)%201)%20%5C%22120.20000249147415%5C%22%5Cn%20%20%20%20%20%202)%20%5C%2230.199999888333501%5C%22%5Cn2)%201)%20%5C%22shanghai%5C%22%5Cn%20%20%202)%20%5C%22205.3611%5C%22%5Cn%20%20%203)%201)%20%5C%22121.40000134706497%5C%22%5Cn%20%20%20%20%20%202)%20%5C%2231.400000253193539%5C%22%5Cn%20%20%20%20%20%5Cn------------geohash---------------------------%5Cn127.0.0.1%3A6379%3E%20geohash%20china%3Acity%20yichang%20shanghai%20%23%20%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98%E7%BB%8F%E7%BA%AC%E5%9D%90%E6%A0%87%E7%9A%84geohash%E8%A1%A8%E7%A4%BA%5Cn1)%20%5C%22wmrjwbr5250%5C%22%5Cn2)%20%5C%22wtw6ds0y300%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2221b82748%22%7D\"></card><p data-lake-id=\"ueeceecd4\" id=\"ueeceecd4\"><br /></p><h3 data-lake-id=\"08968f7e\" id=\"08968f7e\"><span>Hyperloglog(基数统计)</span></h3><p data-lake-id=\"u1b748afc\" id=\"u1b748afc\"><br /></p><blockquote><p data-lake-id=\"u4d6a2e4d\" id=\"u4d6a2e4d\"><span>Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。</span></p><p data-lake-id=\"ud7038590\" id=\"ud7038590\"><span> </span></p><p data-lake-id=\"u49f9a075\" id=\"u49f9a075\"><span>花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。</span></p><p data-lake-id=\"u390cd0be\" id=\"u390cd0be\"><span> </span></p><p data-lake-id=\"u6fe175ee\" id=\"u6fe175ee\"><span>因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。</span></p><p data-lake-id=\"u4b829004\" id=\"u4b829004\"><span> </span></p><p data-lake-id=\"uee02779e\" id=\"uee02779e\"><span>其底层使用string数据类型</span></p></blockquote><p data-lake-id=\"u2cde94e4\" id=\"u2cde94e4\"><br /></p><p data-lake-id=\"u359f8aab\" id=\"u359f8aab\"><strong><span>什么是基数？</span></strong></p><p data-lake-id=\"u6f9d2e2d\" id=\"u6f9d2e2d\"><br /></p><blockquote><p data-lake-id=\"u9dbf9c60\" id=\"u9dbf9c60\"><span>数据集中不重复的元素的个数。</span></p></blockquote><p data-lake-id=\"u58577774\" id=\"u58577774\"><br /></p><p data-lake-id=\"u9cd29706\" id=\"u9cd29706\"><strong><span>应用场景：</span></strong></p><p data-lake-id=\"uab89ac62\" id=\"uab89ac62\"><br /></p><p data-lake-id=\"u3f46b64a\" id=\"u3f46b64a\"><span>网页的访问量（UV）：一个用户多次访问，也只能算作一个人。</span></p><p data-lake-id=\"u859a8832\" id=\"u859a8832\"><br /></p><blockquote><p data-lake-id=\"u57499926\" id=\"u57499926\"><span>传统实现，存储用户的id,然后每次进行比较。当用户变多之后这种方式及其浪费空间，而我们的目的只是</span><strong><span>计数</span></strong><span>，Hyperloglog就能帮助我们利用最小的空间完成。</span></p></blockquote><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%22a8b2d832%22%2C%22rows%22%3A4%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%22a8b2d832%5C%22%20id%3D%5C%22a8b2d832%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u813789cf%5C%22%20id%3D%5C%22u813789cf%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u1458b7e5%5C%22%20id%3D%5C%22u1458b7e5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua6ee7f33%5C%22%20id%3D%5C%22ua6ee7f33%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u39c83cb5%5C%22%20id%3D%5C%22u39c83cb5%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6d6ff4c2%5C%22%20id%3D%5C%22u6d6ff4c2%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u981f6cd5%5C%22%20id%3D%5C%22u981f6cd5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u841527e6%5C%22%20id%3D%5C%22u841527e6%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u8524da1d%5C%22%20id%3D%5C%22u8524da1d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubde84ef6%5C%22%20id%3D%5C%22ubde84ef6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6dfb6439%5C%22%20id%3D%5C%22u6dfb6439%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub0716ccd%5C%22%20id%3D%5C%22ub0716ccd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6dc5dd60%5C%22%20id%3D%5C%22u6dc5dd60%5C%22%3EPFADD%20key%20element1%20%5Belememt2..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf70930f4%5C%22%20id%3D%5C%22uf70930f4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub155547e%5C%22%20id%3D%5C%22ub155547e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3cfca09f%5C%22%20id%3D%5C%22u3cfca09f%5C%22%3E%E6%B7%BB%E5%8A%A0%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0%E5%88%B0%20HyperLogLog%20%E4%B8%AD%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0f83c6a3%5C%22%20id%3D%5C%22u0f83c6a3%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0ff71adf%5C%22%20id%3D%5C%22u0ff71adf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u64deb24b%5C%22%20id%3D%5C%22u64deb24b%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ufc3c188e%5C%22%20id%3D%5C%22ufc3c188e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u46665eed%5C%22%20id%3D%5C%22u46665eed%5C%22%3EPFCOUNT%20key%20%5Bkey%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u08d90096%5C%22%20id%3D%5C%22u08d90096%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u73940def%5C%22%20id%3D%5C%22u73940def%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u61228b04%5C%22%20id%3D%5C%22u61228b04%5C%22%3E%E8%BF%94%E5%9B%9E%E7%BB%99%E5%AE%9A%20HyperLogLog%20%E7%9A%84%E5%9F%BA%E6%95%B0%E4%BC%B0%E7%AE%97%E5%80%BC%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uff31ac85%5C%22%20id%3D%5C%22uff31ac85%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ua891479b%5C%22%20id%3D%5C%22ua891479b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3dc69af0%5C%22%20id%3D%5C%22u3dc69af0%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ud521525d%5C%22%20id%3D%5C%22ud521525d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u99886dd0%5C%22%20id%3D%5C%22u99886dd0%5C%22%3EPFMERGE%20destkey%20sourcekey%20%5Bsourcekey..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua58fce57%5C%22%20id%3D%5C%22ua58fce57%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6539d20e%5C%22%20id%3D%5C%22u6539d20e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucb34cea5%5C%22%20id%3D%5C%22ucb34cea5%5C%22%3E%E5%B0%86%E5%A4%9A%E4%B8%AA%20HyperLogLog%20%E5%90%88%E5%B9%B6%E4%B8%BA%E4%B8%80%E4%B8%AA%20HyperLogLog%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u27207a29\" id=\"u27207a29\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22----------PFADD--PFCOUNT---------------------%5Cn127.0.0.1%3A6379%3E%20PFADD%20myelemx%20a%20b%20c%20d%20e%20f%20g%20h%20i%20j%20k%20%23%20%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20type%20myelemx%20%23%20hyperloglog%E5%BA%95%E5%B1%82%E4%BD%BF%E7%94%A8String%5Cnstring%5Cn127.0.0.1%3A6379%3E%20PFCOUNT%20myelemx%20%23%20%E4%BC%B0%E7%AE%97myelemx%E7%9A%84%E5%9F%BA%E6%95%B0%5Cn(integer)%2011%5Cn127.0.0.1%3A6379%3E%20PFADD%20myelemy%20i%20j%20k%20z%20m%20c%20b%20v%20p%20q%20s%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20PFCOUNT%20myelemy%5Cn(integer)%2011%5Cn%5Cn----------------PFMERGE-----------------------%5Cn127.0.0.1%3A6379%3E%20PFMERGE%20myelemz%20myelemx%20myelemy%20%23%20%E5%90%88%E5%B9%B6myelemx%E5%92%8Cmyelemy%20%E6%88%90%E4%B8%BAmyelemz%5CnOK%5Cn127.0.0.1%3A6379%3E%20PFCOUNT%20myelemz%20%23%20%E4%BC%B0%E7%AE%97%E5%9F%BA%E6%95%B0%5Cn(integer)%2017%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226f78f4c6%22%7D\"></card><p data-lake-id=\"uc51a7276\" id=\"uc51a7276\"><br /></p><p data-lake-id=\"ue40fffcd\" id=\"ue40fffcd\"><span>如果允许容错，那么一定可以使用Hyperloglog !</span></p><p data-lake-id=\"u74158491\" id=\"u74158491\"><br /></p><p data-lake-id=\"u33d7d6c9\" id=\"u33d7d6c9\"><span>如果不允许容错，就使用set或者自己的数据类型即可 ！</span></p><p data-lake-id=\"ua29e12c4\" id=\"ua29e12c4\"><br /></p><h3 data-lake-id=\"419a74c3\" id=\"419a74c3\"><span>BitMaps(位图)</span></h3><p data-lake-id=\"uf168ebe0\" id=\"uf168ebe0\"><br /></p><blockquote><p data-lake-id=\"u3ef16793\" id=\"u3ef16793\"><span>使用位存储，信息状态只有 0 和 1</span></p><p data-lake-id=\"u7ec8679a\" id=\"u7ec8679a\"><span> </span></p><p data-lake-id=\"u01bd046b\" id=\"u01bd046b\"><span>Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)，在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。</span></p></blockquote><p data-lake-id=\"u8c8ae09d\" id=\"u8c8ae09d\"><br /></p><p data-lake-id=\"ua7e30477\" id=\"ua7e30477\"><strong><span>应用场景</span></strong></p><p data-lake-id=\"uce44943b\" id=\"uce44943b\"><br /></p><p data-lake-id=\"uae76075f\" id=\"uae76075f\"><span>签到统计、状态统计</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%221b5638fb%22%2C%22rows%22%3A6%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%221b5638fb%5C%22%20id%3D%5C%221b5638fb%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uc0da9ae7%5C%22%20id%3D%5C%22uc0da9ae7%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4e7b58e1%5C%22%20id%3D%5C%22u4e7b58e1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6eba74b6%5C%22%20id%3D%5C%22u6eba74b6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucade339d%5C%22%20id%3D%5C%22ucade339d%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1d95a4d5%5C%22%20id%3D%5C%22u1d95a4d5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua6c0e655%5C%22%20id%3D%5C%22ua6c0e655%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc02f91e3%5C%22%20id%3D%5C%22uc02f91e3%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4a023d6d%5C%22%20id%3D%5C%22u4a023d6d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u24b5ff3b%5C%22%20id%3D%5C%22u24b5ff3b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u85f91305%5C%22%20id%3D%5C%22u85f91305%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u2d2c4fdb%5C%22%20id%3D%5C%22u2d2c4fdb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u252b7ef1%5C%22%20id%3D%5C%22u252b7ef1%5C%22%3Esetbit%20key%20offset%20value%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u398b7313%5C%22%20id%3D%5C%22u398b7313%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u16c406c6%5C%22%20id%3D%5C%22u16c406c6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucb070054%5C%22%20id%3D%5C%22ucb070054%5C%22%3E%E4%B8%BA%E6%8C%87%E5%AE%9Akey%E7%9A%84offset%E4%BD%8D%E8%AE%BE%E7%BD%AE%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7aea3384%5C%22%20id%3D%5C%22u7aea3384%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u52f55be9%5C%22%20id%3D%5C%22u52f55be9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udd0c78df%5C%22%20id%3D%5C%22udd0c78df%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ua4c6dc1d%5C%22%20id%3D%5C%22ua4c6dc1d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u982b64cf%5C%22%20id%3D%5C%22u982b64cf%5C%22%3Egetbit%20key%20offset%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ua99da93b%5C%22%20id%3D%5C%22ua99da93b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0cf1eb1f%5C%22%20id%3D%5C%22u0cf1eb1f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9063162e%5C%22%20id%3D%5C%22u9063162e%5C%22%3E%E8%8E%B7%E5%8F%96offset%E4%BD%8D%E7%9A%84%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uef63b5b3%5C%22%20id%3D%5C%22uef63b5b3%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u3e1b78bf%5C%22%20id%3D%5C%22u3e1b78bf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0dc7ece3%5C%22%20id%3D%5C%22u0dc7ece3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u7cc950d1%5C%22%20id%3D%5C%22u7cc950d1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0f69ee2d%5C%22%20id%3D%5C%22u0f69ee2d%5C%22%3Ebitcount%20key%20%5Bstart%20end%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5ceb7127%5C%22%20id%3D%5C%22u5ceb7127%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2dc7e612%5C%22%20id%3D%5C%22u2dc7e612%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u50a783dd%5C%22%20id%3D%5C%22u50a783dd%5C%22%3E%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A2%AB%E8%AE%BE%E7%BD%AE%E4%B8%BA1%E7%9A%84bit%E6%95%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9A%E7%BB%9F%E8%AE%A1%E8%8C%83%E5%9B%B4%E6%8C%89%E5%AD%97%E8%8A%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u68c0c5a5%5C%22%20id%3D%5C%22u68c0c5a5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud8d7080a%5C%22%20id%3D%5C%22ud8d7080a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u14c96261%5C%22%20id%3D%5C%22u14c96261%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u21180ac3%5C%22%20id%3D%5C%22u21180ac3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua8d134b6%5C%22%20id%3D%5C%22ua8d134b6%5C%22%3Ebitop%20operration%20destkey%20key%5Bkey..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u09f6b6f3%5C%22%20id%3D%5C%22u09f6b6f3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubf4ff336%5C%22%20id%3D%5C%22ubf4ff336%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud07e76ca%5C%22%20id%3D%5C%22ud07e76ca%5C%22%3E%E5%AF%B9%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E4%BF%9D%E5%AD%98%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%20key%20%E8%BF%9B%E8%A1%8C%E4%BD%8D%E5%85%83%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%B9%B6%E5%B0%86%E7%BB%93%E6%9E%9C%E4%BF%9D%E5%AD%98%E5%88%B0%20destkey%20%E4%B8%8A%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u372129b6%5C%22%20id%3D%5C%22u372129b6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u83734589%5C%22%20id%3D%5C%22u83734589%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6bc4ec52%5C%22%20id%3D%5C%22u6bc4ec52%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u7c059abd%5C%22%20id%3D%5C%22u7c059abd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u190223a7%5C%22%20id%3D%5C%22u190223a7%5C%22%3EBITPOS%20key%20bit%20%5Bstart%5D%20%5Bend%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u525de714%5C%22%20id%3D%5C%22u525de714%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u18ae1719%5C%22%20id%3D%5C%22u18ae1719%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf9c1aa8b%5C%22%20id%3D%5C%22uf9c1aa8b%5C%22%3E%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%87%8C%E9%9D%A2%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%A2%AB%E8%AE%BE%E7%BD%AE%E4%B8%BA1%E6%88%96%E8%80%850%E7%9A%84bit%E4%BD%8D%E3%80%82start%E5%92%8Cend%E5%8F%AA%E8%83%BD%E6%8C%89%E5%AD%97%E8%8A%82%2C%E4%B8%8D%E8%83%BD%E6%8C%89%E4%BD%8D%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ua33372d8\" id=\"ua33372d8\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22------------setbit--getbit--------------%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%200%201%20%23%20%E8%AE%BE%E7%BD%AEsign%E7%9A%84%E7%AC%AC0%E4%BD%8D%E4%B8%BA%201%20%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%202%201%20%23%20%E8%AE%BE%E7%BD%AEsign%E7%9A%84%E7%AC%AC2%E4%BD%8D%E4%B8%BA%201%20%20%E4%B8%8D%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%20%E6%98%AF0%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%203%201%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20setbit%20sign%205%201%5Cn(integer)%200%5Cn127.0.0.1%3A6379%3E%20type%20sign%5Cnstring%5Cn%5Cn127.0.0.1%3A6379%3E%20getbit%20sign%202%20%23%20%E8%8E%B7%E5%8F%96%E7%AC%AC2%E4%BD%8D%E7%9A%84%E6%95%B0%E5%80%BC%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20getbit%20sign%203%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20getbit%20sign%204%20%23%20%E6%9C%AA%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E6%98%AF0%5Cn(integer)%200%5Cn%5Cn-----------bitcount----------------------------%5Cn127.0.0.1%3A6379%3E%20BITCOUNT%20sign%20%23%20%E7%BB%9F%E8%AE%A1sign%E4%B8%AD%E4%B8%BA1%E7%9A%84%E4%BD%8D%E6%95%B0%5Cn(integer)%204%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221fb5f5a6%22%7D\"></card><p data-lake-id=\"ud7c82795\" id=\"ud7c82795\"><br /></p><p data-lake-id=\"u4e589c13\" id=\"u4e589c13\"><strong><span>bitmaps的底层</span></strong></p><p data-lake-id=\"u0bfe08c9\" id=\"u0bfe08c9\"><br /></p><p data-lake-id=\"u9b9ae645\" id=\"u9b9ae645\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PlszjhS-1597890996519)(D:\\我\\MyBlog\\狂神说 Redis.assets\\image-20200803234336175.png)]</span></p><p data-lake-id=\"u09d3b7fe\" id=\"u09d3b7fe\"><br /></p><p data-lake-id=\"u21be4638\" id=\"u21be4638\"><span>这样设置以后你能get到的值是：</span><strong><span>\\xA2\\x80</span></strong><span>，所以bitmaps是一串从左到右的二进制串</span></p><p data-lake-id=\"u70e06fe8\" id=\"u70e06fe8\"><br /></p><h2 data-lake-id=\"ea4899e5\" id=\"ea4899e5\"><span>五、事务</span></h2><p data-lake-id=\"ubc8e0bb6\" id=\"ubc8e0bb6\"><br /></p><p data-lake-id=\"ud13310d0\" id=\"ud13310d0\"><span>Redis的单条命令是保证原子性的，但是redis事务不能保证原子性</span></p><p data-lake-id=\"ude24e264\" id=\"ude24e264\"><br /></p><blockquote><p data-lake-id=\"u8e137d55\" id=\"u8e137d55\"><span>Redis事务本质：一组命令的集合。</span></p><p data-lake-id=\"u58ba88df\" id=\"u58ba88df\"><span> </span></p><p data-lake-id=\"u2981c0cb\" id=\"u2981c0cb\"><span>----------------- 队列 set set set 执行 -------------------</span></p><p data-lake-id=\"u00e1351d\" id=\"u00e1351d\"><span> </span></p><p data-lake-id=\"u86c43a2f\" id=\"u86c43a2f\"><span>事务中每条命令都会被序列化，执行过程中按顺序执行，不允许其他命令进行干扰。</span></p><p data-lake-id=\"u167f2e78\" id=\"u167f2e78\"><span> </span></p><ul data-lake-id=\"c1a2073d3bcc3115af2455e2504aa81e_ul_37\"><li data-lake-id=\"ud0b283bc\"><span>一次性</span></li></ul><ul data-lake-id=\"e4d75c044a0ee9f3b366a8adb63d2afc_ul_38\"><li data-lake-id=\"ua4c8cdb7\"><span>顺序性</span></li></ul><ul data-lake-id=\"30c1aedd3e5dc2179f9b8f6a0871ab38_ul_39\"><li data-lake-id=\"uc68a1452\"><span>排他性</span></li></ul><ol data-lake-id=\"9bcfc3632f84a9fc62b09be35684e49b_ol_44\"><li data-lake-id=\"u33275b68\"><span>Redis事务没有隔离级别的概念</span></li></ol><ol start=\"2\" data-lake-id=\"d8ba89f5ac641df207760f1589840609_ol_45\"><li data-lake-id=\"uaff4b3fc\"><span>Redis单条命令是保证原子性的，但是事务不保证原子性！</span></li></ol><p data-lake-id=\"u2a1489f3\" id=\"u2a1489f3\"><span> </span></p></blockquote><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%227hEex%22%7D\"></card><p data-lake-id=\"u39f604a1\" id=\"u39f604a1\"><br /></p><h3 data-lake-id=\"7ce98419\" id=\"7ce98419\"><span>Redis事务操作过程</span></h3><p data-lake-id=\"u0b8f70bf\" id=\"u0b8f70bf\"><br /></p><ul data-lake-id=\"94ddd91e16fb0b998b74c6401c624979_ul_40\"><li data-lake-id=\"u6f7782a5\"><span>开启事务（</span><code><span>multi</span></code><span>）</span></li></ul><ul data-lake-id=\"e53c2082ac7fc716c41ade90d98a7f8d_ul_41\"><li data-lake-id=\"u4f38c807\"><span>命令入队</span></li></ul><ul data-lake-id=\"68b2e1768bb44ee37aaf8f077c38e17c_ul_42\"><li data-lake-id=\"u3305e33a\"><span>执行事务（</span><code><span>exec</span></code><span>）</span></li></ul><p data-lake-id=\"udac51676\" id=\"udac51676\"><br /></p><p data-lake-id=\"uad0711d4\" id=\"uad0711d4\"><span>所以事务中的命令在加入时都没有被执行，直到提交时才会开始执行(Exec)一次性完成。</span></p><p data-lake-id=\"u1957dfd8\" id=\"u1957dfd8\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%20%23%20%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%20%23%20%E5%91%BD%E4%BB%A4%E5%85%A5%E9%98%9F%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%20%23%20..%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20get%20k1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k3%20v3%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20keys%20*%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20exec%20%23%20%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%5Cn1)%20OK%5Cn2)%20OK%5Cn3)%20%5C%22v1%5C%22%5Cn4)%20OK%5Cn5)%201)%20%5C%22k3%5C%22%5Cn%20%20%202)%20%5C%22k2%5C%22%5Cn%20%20%203)%20%5C%22k1%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%228e02bc3a%22%7D\"></card><p data-lake-id=\"ubcd66fff\" id=\"ubcd66fff\"><br /></p><p data-lake-id=\"ubb2cd759\" id=\"ubb2cd759\"><strong><span>取消事务(</span></strong><code><strong><span>discurd</span></strong></code><strong><span>)</span></strong></p><p data-lake-id=\"ue73ecbac\" id=\"ue73ecbac\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20DISCARD%20%23%20%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1%5CnOK%5Cn127.0.0.1%3A6379%3E%20EXEC%20%5Cn(error)%20ERR%20EXEC%20without%20MULTI%20%23%20%E5%BD%93%E5%89%8D%E6%9C%AA%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1%5Cn127.0.0.1%3A6379%3E%20get%20k1%20%23%20%E8%A2%AB%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1%E4%B8%AD%E5%91%BD%E4%BB%A4%E5%B9%B6%E6%9C%AA%E6%89%A7%E8%A1%8C%5Cn(nil)%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22017b9973%22%7D\"></card><p data-lake-id=\"ua14a68bb\" id=\"ua14a68bb\"><br /></p><h3 data-lake-id=\"5bfc1a01\" id=\"5bfc1a01\"><span>事务错误</span></h3><p data-lake-id=\"uf69a66ef\" id=\"uf69a66ef\"><br /></p><blockquote><p data-lake-id=\"u2d5e42b4\" id=\"u2d5e42b4\"><span>代码语法错误（编译时异常）所有的命令都不执行</span></p></blockquote><p data-lake-id=\"u3ef34681\" id=\"u3ef34681\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20error%20k1%20%23%20%E8%BF%99%E6%98%AF%E4%B8%80%E6%9D%A1%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF%E5%91%BD%E4%BB%A4%5Cn(error)%20ERR%20unknown%20command%20%60error%60%2C%20with%20args%20beginning%20with%3A%20%60k1%60%2C%20%23%20%E4%BC%9A%E6%8A%A5%E9%94%99%E4%BD%86%E6%98%AF%E4%B8%8D%E5%BD%B1%E5%93%8D%E5%90%8E%E7%BB%AD%E5%91%BD%E4%BB%A4%E5%85%A5%E9%98%9F%20%5Cn127.0.0.1%3A6379%3E%20get%20k2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20EXEC%5Cn(error)%20EXECABORT%20Transaction%20discarded%20because%20of%20previous%20errors.%20%23%20%E6%89%A7%E8%A1%8C%E6%8A%A5%E9%94%99%5Cn127.0.0.1%3A6379%3E%20get%20k1%20%5Cn(nil)%20%23%20%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%E5%B9%B6%E6%B2%A1%E6%9C%89%E8%A2%AB%E6%89%A7%E8%A1%8C%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223472e647%22%7D\"></card><p data-lake-id=\"ud898c33a\" id=\"ud898c33a\"><br /></p><blockquote><p data-lake-id=\"u2f95d9c0\" id=\"u2f95d9c0\"><span>代码逻辑错误 (运行时异常) </span><strong><span>其他命令可以正常执行 </span></strong><span> &gt;&gt;&gt; 所以不保证事务原子性</span></p></blockquote><p data-lake-id=\"u78a34228\" id=\"u78a34228\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20k1%20v1%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20set%20k2%20v2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20INCR%20k1%20%23%20%E8%BF%99%E6%9D%A1%E5%91%BD%E4%BB%A4%E9%80%BB%E8%BE%91%E9%94%99%E8%AF%AF%EF%BC%88%E5%AF%B9%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9B%E8%A1%8C%E5%A2%9E%E9%87%8F%EF%BC%89%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20get%20k2%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20exec%5Cn1)%20OK%5Cn2)%20OK%5Cn3)%20(error)%20ERR%20value%20is%20not%20an%20integer%20or%20out%20of%20range%20%23%20%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8A%A5%E9%94%99%5Cn4)%20%5C%22v2%5C%22%20%23%20%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%E6%AD%A3%E5%B8%B8%E6%89%A7%E8%A1%8C%5Cn%5Cn%23%20%E8%99%BD%E7%84%B6%E4%B8%AD%E9%97%B4%E6%9C%89%E4%B8%80%E6%9D%A1%E5%91%BD%E4%BB%A4%E6%8A%A5%E9%94%99%E4%BA%86%EF%BC%8C%E4%BD%86%E6%98%AF%E5%90%8E%E9%9D%A2%E7%9A%84%E6%8C%87%E4%BB%A4%E4%BE%9D%E6%97%A7%E6%AD%A3%E5%B8%B8%E6%89%A7%E8%A1%8C%E6%88%90%E5%8A%9F%E4%BA%86%E3%80%82%5Cn%23%20%E6%89%80%E4%BB%A5%E8%AF%B4Redis%E5%8D%95%E6%9D%A1%E6%8C%87%E4%BB%A4%E4%BF%9D%E8%AF%81%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%8C%E4%BD%86%E6%98%AFRedis%E4%BA%8B%E5%8A%A1%E4%B8%8D%E8%83%BD%E4%BF%9D%E8%AF%81%E5%8E%9F%E5%AD%90%E6%80%A7%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223d3d9126%22%7D\"></card><p data-lake-id=\"u74adb395\" id=\"u74adb395\"><br /></p><h3 data-lake-id=\"9aff6241\" id=\"9aff6241\"><span>监控</span></h3><p data-lake-id=\"ub0ddd756\" id=\"ub0ddd756\"><br /></p><p data-lake-id=\"ub1ab6d2a\" id=\"ub1ab6d2a\"><strong><span>悲观锁：</span></strong></p><p data-lake-id=\"uab14cab1\" id=\"uab14cab1\"><br /></p><ul data-lake-id=\"0d87be10e39e99315f5835ccbd9a5cad_ul_43\"><li data-lake-id=\"u3aca9110\"><span>很悲观，认为什么时候都会出现问题，无论做什么都会加锁</span></li></ul><p data-lake-id=\"u247a38f2\" id=\"u247a38f2\"><br /></p><p data-lake-id=\"u9b7c3e2e\" id=\"u9b7c3e2e\"><strong><span>乐观锁：</span></strong></p><p data-lake-id=\"u2c7b6d8a\" id=\"u2c7b6d8a\"><br /></p><ul data-lake-id=\"0fdfccb0dfcdb701fed64d7d32327e1f_ul_44\"><li data-lake-id=\"u562f70b2\"><span>很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据</span></li></ul><ul data-lake-id=\"15498a4983d6402d9b381287d8e72c79_ul_45\"><li data-lake-id=\"u04a9d064\"><span>获取version</span></li></ul><ul data-lake-id=\"1a326b0a744475c080e0ab4a6f9e3824_ul_46\"><li data-lake-id=\"u1d6800e7\"><span>更新的时候比较version</span></li></ul><p data-lake-id=\"u937f077a\" id=\"u937f077a\"><br /></p><p data-lake-id=\"u9f1a5f4d\" id=\"u9f1a5f4d\"><span>使用</span><code><span>watch key</span></code><span>监控指定数据，相当于乐观锁加锁。</span></p><p data-lake-id=\"u41dc1b8f\" id=\"u41dc1b8f\"><br /></p><blockquote><p data-lake-id=\"u9c113fa2\" id=\"u9c113fa2\"><span>正常执行</span></p></blockquote><p data-lake-id=\"u7c064553\" id=\"u7c064553\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20set%20money%20100%20%23%20%E8%AE%BE%E7%BD%AE%E4%BD%99%E9%A2%9D%3A100%5CnOK%5Cn127.0.0.1%3A6379%3E%20set%20use%200%20%23%20%E6%94%AF%E5%87%BA%E4%BD%BF%E7%94%A8%3A0%5CnOK%5Cn127.0.0.1%3A6379%3E%20watch%20money%20%23%20%E7%9B%91%E8%A7%86money%20(%E4%B8%8A%E9%94%81)%5CnOK%5Cn127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20DECRBY%20money%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20INCRBY%20use%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20exec%20%23%20%E7%9B%91%E8%A7%86%E5%80%BC%E6%B2%A1%E6%9C%89%E8%A2%AB%E4%B8%AD%E9%80%94%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%BA%8B%E5%8A%A1%E6%AD%A3%E5%B8%B8%E6%89%A7%E8%A1%8C%5Cn1)%20(integer)%2080%5Cn2)%20(integer)%2020%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ef8600b2%22%7D\"></card><p data-lake-id=\"uf36ede29\" id=\"uf36ede29\"><br /></p><blockquote><p data-lake-id=\"u78bd959f\" id=\"u78bd959f\"><span>测试多线程修改值，使用watch可以当做redis的乐观锁操作（相当于getversion）</span></p></blockquote><p data-lake-id=\"ub65fa507\" id=\"ub65fa507\"><br /></p><p data-lake-id=\"u15b6b62f\" id=\"u15b6b62f\"><span>我们启动另外一个客户端模拟插队线程。</span></p><p data-lake-id=\"u23015e3b\" id=\"u23015e3b\"><br /></p><p data-lake-id=\"u1c156ade\" id=\"u1c156ade\"><span>线程1：</span></p><p data-lake-id=\"u501fc62d\" id=\"u501fc62d\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20watch%20money%20%23%20money%E4%B8%8A%E9%94%81%5CnOK%5Cn127.0.0.1%3A6379%3E%20multi%5CnOK%5Cn127.0.0.1%3A6379%3E%20DECRBY%20money%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20INCRBY%20use%2020%5CnQUEUED%5Cn127.0.0.1%3A6379%3E%20%5Ct%23%20%E6%AD%A4%E6%97%B6%E4%BA%8B%E5%8A%A1%E5%B9%B6%E6%B2%A1%E6%9C%89%E6%89%A7%E8%A1%8C%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2215b45c9d%22%7D\"></card><p data-lake-id=\"u7ef504af\" id=\"u7ef504af\"><br /></p><p data-lake-id=\"u975b4723\" id=\"u975b4723\"><span>模拟线程插队，线程2：</span></p><p data-lake-id=\"uf4d9d6b7\" id=\"uf4d9d6b7\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20INCRBY%20money%20500%20%23%20%E4%BF%AE%E6%94%B9%E4%BA%86%E7%BA%BF%E7%A8%8B%E4%B8%80%E4%B8%AD%E7%9B%91%E8%A7%86%E7%9A%84money%5Cn(integer)%20600%5Cn12%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2280165ada%22%7D\"></card><p data-lake-id=\"u66191b44\" id=\"u66191b44\"><br /></p><p data-lake-id=\"uf191a67e\" id=\"uf191a67e\"><span>回到线程1，执行事务：</span></p><p data-lake-id=\"u996333d5\" id=\"u996333d5\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20EXEC%20%23%20%E6%89%A7%E8%A1%8C%E4%B9%8B%E5%89%8D%EF%BC%8C%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B%E4%BF%AE%E6%94%B9%E4%BA%86%E6%88%91%E4%BB%AC%E7%9A%84%E5%80%BC%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E5%B0%B1%E4%BC%9A%E5%AF%BC%E8%87%B4%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%5Cn(nil)%20%23%20%E6%B2%A1%E6%9C%89%E7%BB%93%E6%9E%9C%EF%BC%8C%E8%AF%B4%E6%98%8E%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%5Cn%5Cn127.0.0.1%3A6379%3E%20get%20money%20%23%20%E7%BA%BF%E7%A8%8B2%20%E4%BF%AE%E6%94%B9%E7%94%9F%E6%95%88%5Cn%5C%22600%5C%22%5Cn127.0.0.1%3A6379%3E%20get%20use%20%23%20%E7%BA%BF%E7%A8%8B1%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%EF%BC%8C%E6%95%B0%E5%80%BC%E6%B2%A1%E6%9C%89%E8%A2%AB%E4%BF%AE%E6%94%B9%5Cn%5C%220%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e230f298%22%7D\"></card><p data-lake-id=\"uba2dc439\" id=\"uba2dc439\"><br /></p><blockquote><p data-lake-id=\"u6e9ce09d\" id=\"u6e9ce09d\"><span>解锁获取最新值，然后再加锁进行事务。</span></p><p data-lake-id=\"u4dec3d4f\" id=\"u4dec3d4f\"><span> </span></p><p data-lake-id=\"ub56dffc7\" id=\"ub56dffc7\"><code><span>unwatch</span></code><span>进行解锁。</span></p></blockquote><p data-lake-id=\"u3213e7af\" id=\"u3213e7af\"><br /></p><p data-lake-id=\"ueb9c9beb\" id=\"ueb9c9beb\"><span>注意：每次提交执行exec后都会自动释放锁，不管是否成功</span></p><p data-lake-id=\"u41cfd52e\" id=\"u41cfd52e\"><br /></p><h2 data-lake-id=\"c79e2752\" id=\"c79e2752\"><span>六、Jedis</span></h2><p data-lake-id=\"u6fac8135\" id=\"u6fac8135\"><br /></p><p data-lake-id=\"uf5f9cd26\" id=\"uf5f9cd26\"><span>使用Java来操作Redis，Jedis是Redis官方推荐使用的Java连接redis的客户端。</span></p><p data-lake-id=\"u963ac227\" id=\"u963ac227\"><br /></p><ol data-lake-id=\"50c03394dd25a6cdbe293e8a46491af8_ol_46\"><li data-lake-id=\"ubb20f274\"><span> 导入依赖 </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3C!--%E5%AF%BC%E5%85%A5jredis%E7%9A%84%E5%8C%85--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eredis.clients%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Ejedis%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E3.2.0%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%5Cn%3C!--fastjson--%3E%5Cn%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Ecom.alibaba%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Efastjson%3C%2FartifactId%3E%5Cn%20%20%20%20%3Cversion%3E1.2.70%3C%2Fversion%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226d473879%22%7D\"></card><ol start=\"2\" data-lake-id=\"f64eef6f591552be39bfb9efb1cf0879_ol_47\"><li data-lake-id=\"u4c394df7\"><span> 编码测试 </span></li></ol><ul data-lake-indent=\"1\" data-lake-id=\"ca349093b6bbf849ce5ccf366ee4cabc_ul_47\"><li data-lake-id=\"u104ec940\"><span> 连接数据库 </span></li></ul><ol data-lake-indent=\"2\" data-lake-id=\"3909db41c0a6c79f07d60553f1bc16ee_ol_48\"><li data-lake-id=\"u14e399d5\"><span> 修改redis的配置文件 </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22vim%20%2Fusr%2Flocal%2Fbin%2Fmyconfig%2Fredis.conf%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224ed3b6cf%22%7D\"></card><ol data-lake-indent=\"3\" data-lake-id=\"df05501a1e79821bbd141a63cbc1f28c_ol_49\"><li data-lake-id=\"u048a4212\"><span> 将只绑定本地注释<br /></span><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-4IRUFJ95-1597890996520)(狂神说 Redis.assets/image-20200813161921480.png)] </span></li><li data-lake-id=\"ub25c42c0\"><span> 保护模式改为 no<br /></span><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oKjIVapw-1597890996521)(狂神说 Redis.assets/image-20200813161939847.png)] </span></li><li data-lake-id=\"uc9983c93\"><span> 允许后台运行<br /></span><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c2IMvpZL-1597890996522)(狂神说 Redis.assets/image-20200813161954567.png)] </span></li></ol><p data-lake-id=\"ua55b8a0d\" id=\"ua55b8a0d\"><span> </span></p><ol start=\"3\" data-lake-id=\"9a1e7a4b6d0922abd02233ee6ebf12e3_ol_50\"><li data-lake-id=\"u90b22862\"><span> 开放端口6379 </span><span><br /></span><span>重启防火墙服务 </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22firewall-cmd%20--zone%3Dpublic%20--add-port%3D6379%2Ftcp%20--permanet%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222f07c43a%22%7D\"></card><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22systemctl%20restart%20firewalld.service%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223a04abb1%22%7D\"></card><ol data-lake-indent=\"1\" data-lake-id=\"18e137a9b9e1a1150458429594231a25_ol_51\"><li data-lake-id=\"u01eeb010\"><span> 阿里云服务器控制台配置安全组 </span></li><li data-lake-id=\"uc575901e\"><span> 重启redis-server </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%5Broot%40AlibabaECS%20bin%5D%23%20redis-server%20myconfig%2Fredis.conf%20%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22fa1c45f9%22%7D\"></card><p data-lake-id=\"u7e061464\" id=\"u7e061464\"><span> </span></p><ul data-lake-id=\"cd55a872a9e64aa542f307a725613ddf_ul_48\"><li data-lake-id=\"u81f05702\"><span> 操作命令<br /></span><strong><span>TestPing.java</span></strong><span> </span><span> </span></li></ul><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20TestPing%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20Jedis%20jedis%20%3D%20new%20Jedis(%5C%22192.168.xx.xxx%5C%22%2C%206379)%3B%5Cn%20%20%20%20%20%20%20%20String%20response%20%3D%20jedis.ping()%3B%5Cn%20%20%20%20%20%20%20%20System.out.println(response)%3B%20%2F%2F%20PONG%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224b1705e9%22%7D\"></card><ul data-lake-id=\"3bb2d91e13ffe2c8af9014b5d0c5dd75_ul_49\"><li data-lake-id=\"udeae81bf\"><span> 断开连接 </span></li></ul><p data-lake-id=\"u468631e1\" id=\"u468631e1\"><br /></p><ol data-lake-id=\"b0189ccc0769f682106f5222451d836a_ol_52\"><li data-lake-id=\"uebe6bd9e\"><span> </span><strong><span>事务</span></strong><span> </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22public%20class%20TestTX%20%7B%5Cn%20%20%20%20public%20static%20void%20main(String%5B%5D%20args)%20%7B%5Cn%20%20%20%20%20%20%20%20Jedis%20jedis%20%3D%20new%20Jedis(%5C%2239.99.xxx.xx%5C%22%2C%206379)%3B%5Cn%5Cn%20%20%20%20%20%20%20%20JSONObject%20jsonObject%20%3D%20new%20JSONObject()%3B%5Cn%20%20%20%20%20%20%20%20jsonObject.put(%5C%22hello%5C%22%2C%20%5C%22world%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20jsonObject.put(%5C%22name%5C%22%2C%20%5C%22kuangshen%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1%5Cn%20%20%20%20%20%20%20%20Transaction%20multi%20%3D%20jedis.multi()%3B%5Cn%20%20%20%20%20%20%20%20String%20result%20%3D%20jsonObject.toJSONString()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20jedis.watch(result)%5Cn%20%20%20%20%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.set(%5C%22user1%5C%22%2C%20result)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.set(%5C%22user2%5C%22%2C%20result)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%89%A7%E8%A1%8C%E4%BA%8B%E5%8A%A1%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.exec()%3B%5Cn%20%20%20%20%20%20%20%20%7Dcatch%20(Exception%20e)%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%94%BE%E5%BC%83%E4%BA%8B%E5%8A%A1%5Cn%20%20%20%20%20%20%20%20%20%20%20%20multi.discard()%3B%5Cn%20%20%20%20%20%20%20%20%7D%20finally%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%85%B3%E9%97%AD%E8%BF%9E%E6%8E%A5%5Cn%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(jedis.get(%5C%22user1%5C%22))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(jedis.get(%5C%22user2%5C%22))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20jedis.close()%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b0590c08%22%7D\"></card><p data-lake-id=\"u63cdf4f2\" id=\"u63cdf4f2\"><br /></p><h2 data-lake-id=\"dbb1052f\" id=\"dbb1052f\"><span>七、SpringBoot整合</span></h2><p data-lake-id=\"uc57572aa\" id=\"uc57572aa\"><br /></p><ol data-lake-id=\"02fe6ed5f40a4ac9218ba720fd7cd006_ol_53\"><li data-lake-id=\"u5cc6fd59\"><span>导入依赖</span></li></ol><p data-lake-id=\"uef0160ed\" id=\"uef0160ed\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cdependency%3E%5Cn%20%20%20%20%3CgroupId%3Eorg.springframework.boot%3C%2FgroupId%3E%5Cn%20%20%20%20%3CartifactId%3Espring-boot-starter-data-redis%3C%2FartifactId%3E%5Cn%3C%2Fdependency%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226e291667%22%7D\"></card><p data-lake-id=\"u76342334\" id=\"u76342334\"><br /></p><p data-lake-id=\"ua14fa8c0\" id=\"ua14fa8c0\"><span>springboot 2.x后 ，原来使用的 Jedis 被 lettuce 替换。</span></p><p data-lake-id=\"u65ed1496\" id=\"u65ed1496\"><br /></p><blockquote><p data-lake-id=\"u64e7ea3d\" id=\"u64e7ea3d\"><span>jedis：采用的直连，多个线程操作的话，是不安全的。如果要避免不安全，使用jedis pool连接池！更像BIO模式</span></p><p data-lake-id=\"u00065eb5\" id=\"u00065eb5\"><span> </span></p><p data-lake-id=\"u7ec5a661\" id=\"u7ec5a661\"><span>lettuce：采用netty，实例可以在多个线程中共享，不存在线程不安全的情况！可以减少线程数据了，更像NIO模式</span></p></blockquote><p data-lake-id=\"u4b2f5759\" id=\"u4b2f5759\"><br /></p><p data-lake-id=\"ub4cf4286\" id=\"ub4cf4286\"><span>我们在学习SpringBoot自动配置的原理时，整合一个组件并进行配置一定会有一个自动配置类xxxAutoConfiguration,并且在spring.factories中也一定能找到这个类的完全限定名。Redis也不例外。</span></p><p data-lake-id=\"ud963a7ad\" id=\"ud963a7ad\"><br /></p><p data-lake-id=\"u74b24581\" id=\"u74b24581\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214531573.png%22%2C%22originWidth%22%3A1147%2C%22originHeight%22%3A110%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1147%2C%22height%22%3A110%2C%22id%22%3A%22afEED%22%7D\"></card></p><p data-lake-id=\"ub4a25e08\" id=\"ub4a25e08\"><br /></p><p data-lake-id=\"uf3932b7a\" id=\"uf3932b7a\"><span>那么就一定还存在一个RedisProperties类</span></p><p data-lake-id=\"uc672aefd\" id=\"uc672aefd\"><br /></p><p data-lake-id=\"u49da5a07\" id=\"u49da5a07\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214554661.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1159%2C%22originHeight%22%3A214%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1159%2C%22height%22%3A214%2C%22id%22%3A%22S17vK%22%7D\"></card></p><p data-lake-id=\"u456359cd\" id=\"u456359cd\"><br /></p><p data-lake-id=\"u40f655f6\" id=\"u40f655f6\"><span>之前我们说SpringBoot2.x后默认使用Lettuce来替换Jedis，现在我们就能来验证了。</span></p><p data-lake-id=\"ub3c154ee\" id=\"ub3c154ee\"><br /></p><p data-lake-id=\"u58c3694e\" id=\"u58c3694e\"><span>先看Jedis:</span></p><p data-lake-id=\"u651cf34b\" id=\"u651cf34b\"><br /></p><p data-lake-id=\"u8e6c9c86\" id=\"u8e6c9c86\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214607475.png%22%2C%22originWidth%22%3A1117%2C%22originHeight%22%3A90%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1117%2C%22height%22%3A90%2C%22id%22%3A%22kGLhv%22%7D\"></card></p><p data-lake-id=\"ubd48b2aa\" id=\"ubd48b2aa\"><br /></p><p data-lake-id=\"u41728bce\" id=\"u41728bce\"><span>@ConditionalOnClass注解中有两个类是默认不存在的，所以Jedis是无法生效的</span></p><p data-lake-id=\"u11e4df9a\" id=\"u11e4df9a\"><br /></p><p data-lake-id=\"u5df44947\" id=\"u5df44947\"><span>然后再看Lettuce：</span></p><p data-lake-id=\"ub63434ed\" id=\"ub63434ed\"><br /></p><p data-lake-id=\"u0fede534\" id=\"u0fede534\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214618179.png%22%2C%22originWidth%22%3A1009%2C%22originHeight%22%3A67%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1009%2C%22height%22%3A67%2C%22id%22%3A%22qWNTA%22%7D\"></card></p><p data-lake-id=\"u28fd3a0a\" id=\"u28fd3a0a\"><br /></p><p data-lake-id=\"u2ccf167d\" id=\"u2ccf167d\"><span>完美生效。</span></p><p data-lake-id=\"uc7682537\" id=\"uc7682537\"><br /></p><p data-lake-id=\"u53a8cf89\" id=\"u53a8cf89\"><span>现在我们回到RedisAutoConfiguratio</span></p><p data-lake-id=\"u7098ca30\" id=\"u7098ca30\"><br /></p><p data-lake-id=\"u59b627f6\" id=\"u59b627f6\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321462777.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1256%2C%22originHeight%22%3A630%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1256%2C%22height%22%3A630%2C%22id%22%3A%22DKVT5%22%7D\"></card></p><p data-lake-id=\"u2f154228\" id=\"u2f154228\"><br /></p><p data-lake-id=\"uc2a33f20\" id=\"uc2a33f20\"><span>只有两个简单的Bean</span></p><p data-lake-id=\"u4b7ad2b1\" id=\"u4b7ad2b1\"><br /></p><ul data-lake-id=\"c35292948af36e59afc3bc42f19fee93_ul_50\"><li data-lake-id=\"u88705071\"><strong><span>RedisTemplate</span></strong></li></ul><ul data-lake-id=\"714cc23bfa942d4c30b9bba4e58695f6_ul_51\"><li data-lake-id=\"u907fa145\"><strong><span>StringRedisTemplate</span></strong></li></ul><p data-lake-id=\"u3df4ada3\" id=\"u3df4ada3\"><br /></p><p data-lake-id=\"u461412f5\" id=\"u461412f5\"><span>当看到xxTemplate时可以对比RestTemplat、SqlSessionTemplate,通过使用这些Template来间接操作组件。那么这俩也不会例外。分别用于操作Redis和Redis中的String数据类型。</span></p><p data-lake-id=\"u16b36888\" id=\"u16b36888\"><br /></p><p data-lake-id=\"uc2afbf19\" id=\"uc2afbf19\"><span>在RedisTemplate上也有一个条件注解，说明我们是可以对其进行定制化的</span></p><p data-lake-id=\"u8ca69cc2\" id=\"u8ca69cc2\"><br /></p><p data-lake-id=\"ue943c85e\" id=\"ue943c85e\"><span>说完这些，我们需要知道如何编写配置文件然后连接Redis，就需要阅读RedisProperties</span></p><p data-lake-id=\"ue1021c48\" id=\"ue1021c48\"><br /></p><p data-lake-id=\"ue7be1122\" id=\"ue7be1122\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214638238.png%22%2C%22originWidth%22%3A763%2C%22originHeight%22%3A128%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A763%2C%22height%22%3A128%2C%22id%22%3A%22aWu5H%22%7D\"></card></p><p data-lake-id=\"u746ce527\" id=\"u746ce527\"><br /></p><p data-lake-id=\"uea3ed292\" id=\"uea3ed292\"><span>这是一些基本的配置属性。</span></p><p data-lake-id=\"u62d20ea9\" id=\"u62d20ea9\"><br /></p><p data-lake-id=\"ua7158aaa\" id=\"ua7158aaa\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214649380.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A359%2C%22originHeight%22%3A377%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A359%2C%22height%22%3A377%2C%22id%22%3A%22i0wNu%22%7D\"></card></p><p data-lake-id=\"u0f246527\" id=\"u0f246527\"><br /></p><p data-lake-id=\"u9609576c\" id=\"u9609576c\"><span>还有一些连接池相关的配置。注意使用时一定使用Lettuce的连接池。</span></p><p data-lake-id=\"u2ec73511\" id=\"u2ec73511\"><br /></p><p data-lake-id=\"u6722df64\" id=\"u6722df64\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214700372.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A432%2C%22originHeight%22%3A490%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A432%2C%22height%22%3A490%2C%22id%22%3A%22cG4ZA%22%7D\"></card></p><p data-lake-id=\"uc26aba9b\" id=\"uc26aba9b\"><br /></p><ol data-lake-id=\"7194c3ad569604a95da1018a142db541_ol_54\"><li data-lake-id=\"u64ced2ee\"><span> 编写配置文件 </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22properties%22%2C%22code%22%3A%22%23%20%E9%85%8D%E7%BD%AEredis%5Cnspring.redis.host%3D39.99.xxx.xx%5Cnspring.redis.port%3D6379%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c4b03e2e%22%7D\"></card><ol start=\"2\" data-lake-id=\"b5bc07f94149426282e266826ddd3124_ol_55\"><li data-lake-id=\"u681025a2\"><span> 使用RedisTemplate </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%40SpringBootTest%5Cnclass%20Redis02SpringbootApplicationTests%20%7B%5Cn%5Cn%20%20%20%20%40Autowired%5Cn%20%20%20%20private%20RedisTemplate%20redisTemplate%3B%5Cn%5Cn%20%20%20%20%40Test%5Cn%20%20%20%20void%20contextLoads()%20%7B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20redisTemplate%20%E6%93%8D%E4%BD%9C%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%8Capi%E5%92%8C%E6%88%91%E4%BB%AC%E7%9A%84%E6%8C%87%E4%BB%A4%E6%98%AF%E4%B8%80%E6%A0%B7%E7%9A%84%5Cn%20%20%20%20%20%20%20%20%2F%2F%20opsForValue%20%E6%93%8D%E4%BD%9C%E5%AD%97%E7%AC%A6%E4%B8%B2%20%E7%B1%BB%E4%BC%BCString%5Cn%20%20%20%20%20%20%20%20%2F%2F%20opsForList%20%E6%93%8D%E4%BD%9CList%20%E7%B1%BB%E4%BC%BCList%5Cn%20%20%20%20%20%20%20%20%2F%2F%20opsForHah%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E9%99%A4%E4%BA%86%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E9%83%BD%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E9%80%9A%E8%BF%87redisTemplate%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%AF%94%E5%A6%82%E4%BA%8B%E5%8A%A1%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%9A%84CRUD%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E8%BF%9E%E6%8E%A5%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20%20%20%20%20%2F%2FRedisConnection%20connection%20%3D%20redisTemplate.getConnectionFactory().getConnection()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fconnection.flushDb()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2Fconnection.flushAll()%3B%5Cn%5Cn%20%20%20%20%20%20%20%20redisTemplate.opsForValue().set(%5C%22mykey%5C%22%2C%5C%22kuangshen%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20System.out.println(redisTemplate.opsForValue().get(%5C%22mykey%5C%22))%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%220108a3e6%22%7D\"></card><ol start=\"3\" data-lake-id=\"2a4dcb8aa4936e9bc92de7043b28bf92_ol_56\"><li data-lake-id=\"uf2fb7e44\"><span> 测试结果<br /></span><strong><span>此时我们回到Redis查看数据时候，惊奇发现全是乱码，可是程序中可以正常输出：</span></strong><span><br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214734520.png%22%2C%22originWidth%22%3A525%2C%22originHeight%22%3A182%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A525%2C%22height%22%3A182%2C%22id%22%3A%22l9ss1%22%7D\"></card><span><br /></span><span>这时候就关系到存储对象的序列化问题，在网络中传输的对象也是一样需要序列化，否者就全是乱码。<br /></span><span>我们转到看那个默认的RedisTemplate内部什么样子：<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214746506.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1193%2C%22originHeight%22%3A288%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1193%2C%22height%22%3A288%2C%22id%22%3A%22rZDN6%22%7D\"></card><span><br /></span><span>在最开始就能看到几个关于序列化的参数。<br /></span><span>默认的序列化器是采用JDK序列化器<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214757247.png%22%2C%22originWidth%22%3A816%2C%22originHeight%22%3A50%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A816%2C%22height%22%3A50%2C%22id%22%3A%22CbTP8%22%7D\"></card><span><br /></span><span>而默认的RedisTemplate中的所有序列化器都是使用这个序列化器：<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214809494.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A799%2C%22originHeight%22%3A586%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A799%2C%22height%22%3A586%2C%22id%22%3A%22AzzAU%22%7D\"></card><span><br /></span><span>后续我们定制RedisTemplate就可以对其进行修改。<br /></span><code><span>RedisSerializer</span></code><span>提供了多种序列化方案： </span></li></ol><ul data-lake-indent=\"1\" data-lake-id=\"7f58d971e591615527f2d2ecf3e7f7c8_ul_52\"><li data-lake-id=\"u7c9add29\"><span> 直接调用RedisSerializer的静态方法来返回序列化器，然后set<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214818682.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A457%2C%22originHeight%22%3A312%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A457%2C%22height%22%3A312%2C%22id%22%3A%22MOE1T%22%7D\"></card><span> </span></li></ul><ul data-lake-indent=\"1\" data-lake-id=\"574229e340850fba7649c7e76c972ff3_ul_53\"><li data-lake-id=\"u2b7c0209\"><span> 自己new 相应的实现类，然后set<br /></span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214827233.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A602%2C%22originHeight%22%3A335%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A602%2C%22height%22%3A335%2C%22id%22%3A%22R3cPV%22%7D\"></card><span> </span></li></ul><p data-lake-id=\"uf370af3c\" id=\"uf370af3c\"><span> </span></p><ol start=\"4\" data-lake-id=\"8b07dc9e0d69b660a20dfe88b576b1eb_ol_57\"><li data-lake-id=\"uaf1d0610\"><span> </span><strong><span>定制RedisTemplate的模板：</span></strong><span><br /></span><span>我们创建一个Bean加入容器，就会触发RedisTemplate上的条件注解使默认的RedisTemplate失效。 </span><span><br /></span><span>这样一来，只要实体类进行了序列化，我们存什么都不会有乱码的担忧了。<br /></span><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oc8kJP08-1597890996523)(狂神说 Redis.assets/image-20200817175638086.png)] </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22%40Configuration%5Cnpublic%20class%20RedisConfig%20%7B%5Cn%5Cn%20%20%20%40Bean%5Cn%20%20%20%20public%20RedisTemplate%3CString%2C%20Object%3E%20redisTemplate(RedisConnectionFactory%20redisConnectionFactory)%20throws%20UnknownHostException%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E5%B0%86template%20%E6%B3%9B%E5%9E%8B%E8%AE%BE%E7%BD%AE%E4%B8%BA%20%3CString%2C%20Object%3E%5Cn%20%20%20%20%20%20%20%20RedisTemplate%3CString%2C%20Object%3E%20template%20%3D%20new%20RedisTemplate()%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E8%BF%9E%E6%8E%A5%E5%B7%A5%E5%8E%82%EF%BC%8C%E4%B8%8D%E5%BF%85%E4%BF%AE%E6%94%B9%5Cn%20%20%20%20%20%20%20%20template.setConnectionFactory(redisConnectionFactory)%3B%5Cn%20%20%20%20%20%20%20%20%2F*%5Cn%20%20%20%20%20%20%20%20%20*%20%E5%BA%8F%E5%88%97%E5%8C%96%E8%AE%BE%E7%BD%AE%5Cn%20%20%20%20%20%20%20%20%20*%2F%5Cn%20%20%20%20%20%20%20%20%2F%2F%20key%E3%80%81hash%E7%9A%84key%20%E9%87%87%E7%94%A8%20String%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F%5Cn%20%20%20%20%20%20%20%20template.setKeySerializer(RedisSerializer.string())%3B%5Cn%20%20%20%20%20%20%20%20template.setHashKeySerializer(RedisSerializer.string())%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20value%E3%80%81hash%E7%9A%84value%20%E9%87%87%E7%94%A8%20Jackson%20%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F%5Cn%20%20%20%20%20%20%20%20template.setValueSerializer(RedisSerializer.json())%3B%5Cn%20%20%20%20%20%20%20%20template.setHashValueSerializer(RedisSerializer.json())%3B%5Cn%20%20%20%20%20%20%20%20template.afterPropertiesSet()%3B%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20return%20template%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e79cc4ab%22%7D\"></card><p data-lake-id=\"u090a86f8\" id=\"u090a86f8\"><br /></p><h2 data-lake-id=\"c3e4416a\" id=\"c3e4416a\"><span>八、自定义Redis工具类</span></h2><p data-lake-id=\"u7c3d481c\" id=\"u7c3d481c\"><br /></p><p data-lake-id=\"uadb8c77d\" id=\"uadb8c77d\"><span>使用RedisTemplate需要频繁调用</span><code><span>.opForxxx</span></code><span>然后才能进行对应的操作，这样使用起来代码效率低下，工作中一般不会这样使用，而是将这些常用的公共API抽取出来封装成为一个工具类，然后直接使用工具类来间接操作Redis,不但效率高并且易用。</span></p><p data-lake-id=\"uc11b0cb9\" id=\"uc11b0cb9\"><br /></p><p data-lake-id=\"u1e8b749f\" id=\"u1e8b749f\"><span>工具类参考博客：</span></p><p data-lake-id=\"uf07bfa10\" id=\"uf07bfa10\"><br /></p><p data-lake-id=\"ube51776e\" id=\"ube51776e\"><a href=\"https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html\" target=\"_blank\"><span>https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html</span></a></p><p data-lake-id=\"ub13f4cfd\" id=\"ub13f4cfd\"><br /></p><p data-lake-id=\"ud5e7aa08\" id=\"ud5e7aa08\"><a href=\"https://www.cnblogs.com/zhzhlong/p/11434284.html\" target=\"_blank\"><span>https://www.cnblogs.com/zhzhlong/p/11434284.html</span></a></p><p data-lake-id=\"ua1387997\" id=\"ua1387997\"><br /></p><h2 data-lake-id=\"8f0c6da4\" id=\"8f0c6da4\"><span>九、Redis.conf</span></h2><p data-lake-id=\"uc602d993\" id=\"uc602d993\"><br /></p><blockquote><p data-lake-id=\"u47f97a46\" id=\"u47f97a46\"><span>容量单位不区分大小写，G和GB有区别</span></p></blockquote><p data-lake-id=\"u8b64abea\" id=\"u8b64abea\"><br /></p><p data-lake-id=\"u7c2ca540\" id=\"u7c2ca540\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321485460.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1008%2C%22originHeight%22%3A349%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1008%2C%22height%22%3A349%2C%22id%22%3A%22yG8r0%22%7D\"></card></p><p data-lake-id=\"ube5767f0\" id=\"ube5767f0\"><br /></p><blockquote><p data-lake-id=\"ub6582592\" id=\"ub6582592\"><span>可以使用 include 组合多个配置问题</span></p></blockquote><p data-lake-id=\"u6719ddda\" id=\"u6719ddda\"><br /></p><p data-lake-id=\"u20e6ce0e\" id=\"u20e6ce0e\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214902552.png%22%2C%22originWidth%22%3A604%2C%22originHeight%22%3A99%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A604%2C%22height%22%3A99%2C%22id%22%3A%22jQb9i%22%7D\"></card></p><p data-lake-id=\"u76565c26\" id=\"u76565c26\"><br /></p><blockquote><p data-lake-id=\"u7c1f9ea4\" id=\"u7c1f9ea4\"><span>网络配置</span></p></blockquote><p data-lake-id=\"u7693dfdf\" id=\"u7693dfdf\"><br /></p><p data-lake-id=\"u1e7dd80a\" id=\"u1e7dd80a\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214912813.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1193%2C%22originHeight%22%3A741%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1193%2C%22height%22%3A741%2C%22id%22%3A%22YZOg5%22%7D\"></card></p><p data-lake-id=\"u76a49ace\" id=\"u76a49ace\"><br /></p><blockquote><p data-lake-id=\"u9f9a5fe6\" id=\"u9f9a5fe6\"><span>日志输出级别</span></p></blockquote><p data-lake-id=\"ue7f8ecb4\" id=\"ue7f8ecb4\"><br /></p><p data-lake-id=\"uf934ee99\" id=\"uf934ee99\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214923678.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A970%2C%22originHeight%22%3A261%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A970%2C%22height%22%3A261%2C%22id%22%3A%22mZ4Hy%22%7D\"></card></p><p data-lake-id=\"u42174639\" id=\"u42174639\"><br /></p><blockquote><p data-lake-id=\"udbae85eb\" id=\"udbae85eb\"><span>日志输出文件</span></p></blockquote><p data-lake-id=\"u00a254f2\" id=\"u00a254f2\"><br /></p><p data-lake-id=\"u4ca54867\" id=\"u4ca54867\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214933713.png%22%2C%22originWidth%22%3A847%2C%22originHeight%22%3A138%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A847%2C%22height%22%3A138%2C%22id%22%3A%22c28ja%22%7D\"></card></p><p data-lake-id=\"ua8b2c0f3\" id=\"ua8b2c0f3\"><br /></p><blockquote><p data-lake-id=\"u170c5b0f\" id=\"u170c5b0f\"><span>持久化规则</span></p></blockquote><p data-lake-id=\"u9a75019b\" id=\"u9a75019b\"><br /></p><p data-lake-id=\"u0b11c061\" id=\"u0b11c061\"><span>由于Redis是基于内存的数据库，需要将数据由内存持久化到文件中</span></p><p data-lake-id=\"uaffc43c9\" id=\"uaffc43c9\"><br /></p><p data-lake-id=\"u2f287fc2\" id=\"u2f287fc2\"><span>持久化方式：</span></p><p data-lake-id=\"u8fadb186\" id=\"u8fadb186\"><br /></p><ul data-lake-id=\"cd71de7481f417cc7a790a7f844028c6_ul_54\"><li data-lake-id=\"ud6689058\"><span>RDB</span></li></ul><ul data-lake-id=\"8ede90f52f58945b04655d301e402691_ul_55\"><li data-lake-id=\"u08041462\"><span>AOF</span></li></ul><p data-lake-id=\"u05bc924a\" id=\"u05bc924a\"><br /></p><p data-lake-id=\"ue0434343\" id=\"ue0434343\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214944964.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A668%2C%22originHeight%22%3A202%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A668%2C%22height%22%3A202%2C%22id%22%3A%22DYGFT%22%7D\"></card></p><p data-lake-id=\"ue643965c\" id=\"ue643965c\"><br /></p><blockquote><p data-lake-id=\"u6c37378c\" id=\"u6c37378c\"><span>RDB文件相关</span></p></blockquote><p data-lake-id=\"uf5921402\" id=\"uf5921402\"><br /></p><p data-lake-id=\"ua2e2cb1e\" id=\"ua2e2cb1e\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513214955679.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1115%2C%22originHeight%22%3A721%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1115%2C%22height%22%3A721%2C%22id%22%3A%22MXxbw%22%7D\"></card></p><p data-lake-id=\"u5dc7b793\" id=\"u5dc7b793\"><br /></p><p data-lake-id=\"ud7c71444\" id=\"ud7c71444\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215006207.png%22%2C%22originWidth%22%3A656%2C%22originHeight%22%3A88%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A656%2C%22height%22%3A88%2C%22id%22%3A%22oBhgq%22%7D\"></card></p><p data-lake-id=\"ua3ec7929\" id=\"ua3ec7929\"><br /></p><blockquote><p data-lake-id=\"u4c3ccb71\" id=\"u4c3ccb71\"><span>主从复制</span></p></blockquote><p data-lake-id=\"u3e01d9d4\" id=\"u3e01d9d4\"><br /></p><p data-lake-id=\"u53ce12fc\" id=\"u53ce12fc\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215016371.png%22%2C%22originWidth%22%3A1033%2C%22originHeight%22%3A140%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1033%2C%22height%22%3A140%2C%22id%22%3A%22FUUTH%22%7D\"></card></p><p data-lake-id=\"u1e50436b\" id=\"u1e50436b\"><br /></p><blockquote><p data-lake-id=\"u4920904b\" id=\"u4920904b\"><span>Security模块中进行密码设置</span></p></blockquote><p data-lake-id=\"uead5d736\" id=\"uead5d736\"><br /></p><p data-lake-id=\"u46a45fca\" id=\"u46a45fca\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215026143.png%22%2C%22originWidth%22%3A777%2C%22originHeight%22%3A107%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A777%2C%22height%22%3A107%2C%22id%22%3A%22TeOFZ%22%7D\"></card></p><p data-lake-id=\"uc33f5a14\" id=\"uc33f5a14\"><br /></p><blockquote><p data-lake-id=\"ub616e832\" id=\"ub616e832\"><span>客户端连接相关</span></p></blockquote><p data-lake-id=\"u379dcbfd\" id=\"u379dcbfd\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22maxclients%2010000%20%20%E6%9C%80%E5%A4%A7%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E9%87%8F%5Cnmaxmemory%20%3Cbytes%3E%20%E6%9C%80%E5%A4%A7%E5%86%85%E5%AD%98%E9%99%90%E5%88%B6%5Cnmaxmemory-policy%20noeviction%20%23%20%E5%86%85%E5%AD%98%E8%BE%BE%E5%88%B0%E9%99%90%E5%88%B6%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22aba4effa%22%7D\"></card><p data-lake-id=\"uec881814\" id=\"uec881814\"><br /></p><p data-lake-id=\"u23270475\" id=\"u23270475\"><span>redis 中的</span><strong><span>默认</span></strong><span>的过期策略是 </span><strong><span>volatile-lru</span></strong><span> 。</span></p><p data-lake-id=\"u7d998f34\" id=\"u7d998f34\"><br /></p><p data-lake-id=\"ue5238ec4\" id=\"ue5238ec4\"><strong><span>设置方式</span></strong></p><p data-lake-id=\"ue1abc440\" id=\"ue1abc440\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22config%20set%20maxmemory-policy%20volatile-lru%20%5Cn1%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ba757f23%22%7D\"></card><p data-lake-id=\"ue590e105\" id=\"ue590e105\"><br /></p><h4 data-lake-id=\"2c0ecb4b\" id=\"2c0ecb4b\"><strong><span>maxmemory-policy 六种方式</span></strong></h4><p data-lake-id=\"uc53629ec\" id=\"uc53629ec\"><br /></p><p data-lake-id=\"u644df074\" id=\"u644df074\"><strong><span>1、volatile-lru：</span></strong><span>只对设置了过期时间的key进行LRU（默认值）</span></p><p data-lake-id=\"ubffcf6c7\" id=\"ubffcf6c7\"><br /></p><p data-lake-id=\"uc4044e8b\" id=\"uc4044e8b\"><strong><span>2、allkeys-lru ：</span></strong><span> 删除lru算法的key</span></p><p data-lake-id=\"u29ebe660\" id=\"u29ebe660\"><br /></p><p data-lake-id=\"uba57087d\" id=\"uba57087d\"><strong><span>3、volatile-random：</span></strong><span>随机删除即将过期key</span></p><p data-lake-id=\"u6aa21fb9\" id=\"u6aa21fb9\"><br /></p><p data-lake-id=\"u85733ca5\" id=\"u85733ca5\"><strong><span>4、allkeys-random：</span></strong><span>随机删除</span></p><p data-lake-id=\"u9c55e500\" id=\"u9c55e500\"><br /></p><p data-lake-id=\"ud33bc804\" id=\"ud33bc804\"><strong><span>5、volatile-ttl ：</span></strong><span> 删除即将过期的</span></p><p data-lake-id=\"uf2e57554\" id=\"uf2e57554\"><br /></p><p data-lake-id=\"u8d393040\" id=\"u8d393040\"><strong><span>6、noeviction ：</span></strong><span> 永不过期，返回错误</span></p><p data-lake-id=\"u856ae119\" id=\"u856ae119\"><br /></p><blockquote><p data-lake-id=\"u393ba2f2\" id=\"u393ba2f2\"><span>AOF相关部分</span></p></blockquote><p data-lake-id=\"u67afae48\" id=\"u67afae48\"><br /></p><p data-lake-id=\"u69f9c919\" id=\"u69f9c919\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215037918.png%22%2C%22originWidth%22%3A1040%2C%22originHeight%22%3A146%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1040%2C%22height%22%3A146%2C%22id%22%3A%22gu6Y1%22%7D\"></card></p><p data-lake-id=\"ud2ef98a0\" id=\"ud2ef98a0\"><br /></p><p data-lake-id=\"uaae61804\" id=\"uaae61804\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215047999.png%22%2C%22originWidth%22%3A1014%2C%22originHeight%22%3A136%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1014%2C%22height%22%3A136%2C%22id%22%3A%22Jsq9r%22%7D\"></card></p><p data-lake-id=\"u1db2091e\" id=\"u1db2091e\"><br /></p><h2 data-lake-id=\"5bcafd56\" id=\"5bcafd56\"><span>十、持久化—RDB</span></h2><p data-lake-id=\"ud3b020c8\" id=\"ud3b020c8\"><br /></p><p data-lake-id=\"u79b2ae5b\" id=\"u79b2ae5b\"><span>RDB：Redis Databases</span></p><p data-lake-id=\"u70d93943\" id=\"u70d93943\"><br /></p><p data-lake-id=\"uba8b9e44\" id=\"uba8b9e44\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-C0mm1D4A-1597890996524)(狂神说 Redis.assets/image-20200818122236614.png)]</span></p><p data-lake-id=\"ucdc46481\" id=\"ucdc46481\"><br /></p><h3 data-lake-id=\"46096430\" id=\"46096430\"><span>什么是RDB</span></h3><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22u72aA%22%7D\"></card><p data-lake-id=\"u3d665765\" id=\"u3d665765\"><span>在指定时间间隔后，将内存中的数据集快照写入数据库 ；在恢复时候，直接读取快照文件，进行数据的恢复 ；</span></p><p data-lake-id=\"u2d4736fc\" id=\"u2d4736fc\"><br /></p><p data-lake-id=\"uad0c6a74\" id=\"uad0c6a74\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215126515.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A443%2C%22originHeight%22%3A262%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A443%2C%22height%22%3A262%2C%22id%22%3A%22WjrQk%22%7D\"></card></p><p data-lake-id=\"u48862748\" id=\"u48862748\"><br /></p><p data-lake-id=\"u14c9be62\" id=\"u14c9be62\"><span>默认情况下， Redis 将数据库快照保存在名字为 dump.rdb的二进制文件中。文件名可以在配置文件中进行自定义。</span></p><p data-lake-id=\"u371207c3\" id=\"u371207c3\"><br /></p><h3 data-lake-id=\"b3fbd195\" id=\"b3fbd195\"><span>工作原理</span></h3><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22J7jUu%22%7D\"></card><p data-lake-id=\"u80c2f7d7\" id=\"u80c2f7d7\"><span>在进行 </span><code><strong><span>RDB</span></strong></code><span> 的时候，</span><code><strong><span>redis</span></strong></code><span> 的主线程是不会做 </span><code><strong><span>io</span></strong></code><span> 操作的，主线程会 </span><code><strong><span>fork</span></strong></code><span> 一个子线程来完成该操作；</span></p><p data-lake-id=\"ubc3822e1\" id=\"ubc3822e1\"><br /></p><ol data-lake-id=\"afdfb3536185b8d4de5e6b798ecc45d6_ol_58\"><li data-lake-id=\"u0bfb3bbe\"><span>Redis 调用forks。同时拥有父进程和子进程。</span></li></ol><ol start=\"2\" data-lake-id=\"df80efa6c8921768834ad78411f0b8e0_ol_59\"><li data-lake-id=\"u5969f44b\"><span>子进程将数据集写入到一个临时 RDB 文件中。</span></li></ol><ol start=\"3\" data-lake-id=\"7692f159490bc2aa9bc9ed5d9a774079_ol_60\"><li data-lake-id=\"ue4c6ef38\"><span>当子进程完成对新 RDB 文件的写入时，Redis 用新 RDB 文件替换原来的 RDB 文件，并删除旧的 RDB 文件。</span></li></ol><p data-lake-id=\"ua08da69c\" id=\"ua08da69c\"><br /></p><p data-lake-id=\"u1f09d46e\" id=\"u1f09d46e\"><span>这种工作方式使得 Redis 可以从写时复制（copy-on-write）机制中获益(因为是使用子进程进行写操作，而父进程依然可以接收来自客户端的请求。)</span></p><p data-lake-id=\"u765edd62\" id=\"u765edd62\"><br /></p><p data-lake-id=\"u85c5a0a7\" id=\"u85c5a0a7\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215141519.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A592%2C%22originHeight%22%3A307%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A592%2C%22height%22%3A307%2C%22id%22%3A%22w9GKz%22%7D\"></card></p><p data-lake-id=\"udc2463ea\" id=\"udc2463ea\"><br /></p><h3 data-lake-id=\"5e1a77c8\" id=\"5e1a77c8\"><span>触发机制</span></h3><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22rgdYA%22%7D\"></card><ol data-lake-id=\"b606c01e74acc88a17bd3effa7cd5fb5_ol_61\"><li data-lake-id=\"u379f1399\"><span>save的规则满足的情况下，会自动触发rdb原则</span></li></ol><ol start=\"2\" data-lake-id=\"fa0024a9dda6ba742880357e03bed6aa_ol_62\"><li data-lake-id=\"ufe0062b2\"><span>执行flushall命令，也会触发我们的rdb原则</span></li></ol><ol start=\"3\" data-lake-id=\"5e99ff9d83f1feddf56bb13d00a92bdd_ol_63\"><li data-lake-id=\"ubd10a341\"><span>退出redis，也会自动产生rdb文件</span></li></ol><p data-lake-id=\"u2039d8b5\" id=\"u2039d8b5\"><br /></p><h4 data-lake-id=\"save\" id=\"save\"><span>save</span></h4><p data-lake-id=\"u0276b6c7\" id=\"u0276b6c7\"><br /></p><p data-lake-id=\"u159c3407\" id=\"u159c3407\"><span>使用 </span><code><span>save</span></code><span> 命令，会立刻对当前内存中的数据进行持久化 ,但是会阻塞，也就是不接受其他操作了；</span></p><p data-lake-id=\"u3e1839de\" id=\"u3e1839de\"><br /></p><blockquote><p data-lake-id=\"ua8efabb8\" id=\"ua8efabb8\"><span>由于 </span><code><span>save</span></code><span> 命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，</span><code><span>save</span></code><span>命令执行速度会非常慢，阻塞所有客户端的请求。</span></p></blockquote><p data-lake-id=\"ub335285e\" id=\"ub335285e\"><br /></p><p data-lake-id=\"u6fa9d7a0\" id=\"u6fa9d7a0\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215150892.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A783%2C%22originHeight%22%3A288%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A783%2C%22height%22%3A288%2C%22id%22%3A%22FG28P%22%7D\"></card></p><p data-lake-id=\"uc3a07273\" id=\"uc3a07273\"><br /></p><h4 data-lake-id=\"d23a92c1\" id=\"d23a92c1\"><span>flushall命令</span></h4><p data-lake-id=\"u3084a557\" id=\"u3084a557\"><br /></p><p data-lake-id=\"u35f17802\" id=\"u35f17802\"><code><span>flushall</span></code><span> 命令也会触发持久化 ；</span></p><p data-lake-id=\"u7b5285ba\" id=\"u7b5285ba\"><br /></p><h4 data-lake-id=\"9fa8119d\" id=\"9fa8119d\"><span>触发持久化规则</span></h4><p data-lake-id=\"u423a484f\" id=\"u423a484f\"><br /></p><p data-lake-id=\"ud64843a7\" id=\"ud64843a7\"><span>满足配置条件中的触发条件 ；</span></p><p data-lake-id=\"ub1a7ebab\" id=\"ub1a7ebab\"><br /></p><blockquote><p data-lake-id=\"u0524d539\" id=\"u0524d539\"><span>可以通过配置文件对 Redis 进行设置， 让它在“ N 秒内数据集至少有 M 个改动”这一条件被满足时， 自动进行数据集保存操作。</span></p><p data-lake-id=\"uba8f8498\" id=\"uba8f8498\"><span> </span></p><p data-lake-id=\"u214894bf\" id=\"u214894bf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215205970.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A668%2C%22originHeight%22%3A202%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A668%2C%22height%22%3A202%2C%22id%22%3A%22z1eHe%22%7D\"></card></p></blockquote><p data-lake-id=\"ue1dd8bc4\" id=\"ue1dd8bc4\"><br /></p><p data-lake-id=\"ud7149052\" id=\"ud7149052\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215220858.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A611%2C%22originHeight%22%3A253%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A611%2C%22height%22%3A253%2C%22id%22%3A%22i6khx%22%7D\"></card></p><p data-lake-id=\"ubca5b921\" id=\"ubca5b921\"><br /></p><h4 data-lake-id=\"bgsave\" id=\"bgsave\"><span>bgsave</span></h4><p data-lake-id=\"u49b326e6\" id=\"u49b326e6\"><br /></p><p data-lake-id=\"u17a8e57f\" id=\"u17a8e57f\"><code><span>bgsave</span></code><span> 是异步进行，进行持久化的时候，</span><code><span>redis</span></code><span> 还可以将继续响应客户端请求 ；</span></p><p data-lake-id=\"u79dd8bc9\" id=\"u79dd8bc9\"><br /></p><p data-lake-id=\"ue4d668be\" id=\"ue4d668be\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321523151.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A592%2C%22originHeight%22%3A307%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A592%2C%22height%22%3A307%2C%22id%22%3A%22AaUif%22%7D\"></card></p><p data-lake-id=\"u5aa7cde0\" id=\"u5aa7cde0\"><br /></p><p data-lake-id=\"u21e01cae\" id=\"u21e01cae\"><strong><span>bgsave和save对比</span></strong></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%226c9f0c4a%22%2C%22rows%22%3A6%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%226c9f0c4a%5C%22%20id%3D%5C%226c9f0c4a%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u7b0a6754%5C%22%20id%3D%5C%22u7b0a6754%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u84f5faf0%5C%22%20id%3D%5C%22u84f5faf0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u25aa148b%5C%22%20id%3D%5C%22u25aa148b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud60d0e41%5C%22%20id%3D%5C%22ud60d0e41%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u682e7903%5C%22%20id%3D%5C%22u682e7903%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8248d37e%5C%22%20id%3D%5C%22u8248d37e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1ba05d76%5C%22%20id%3D%5C%22u1ba05d76%5C%22%3Esave%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6d64b6d1%5C%22%20id%3D%5C%22u6d64b6d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc1dae374%5C%22%20id%3D%5C%22uc1dae374%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u57c559d2%5C%22%20id%3D%5C%22u57c559d2%5C%22%3Ebgsave%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u1a2155eb%5C%22%20id%3D%5C%22u1a2155eb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0b6d54ed%5C%22%20id%3D%5C%22u0b6d54ed%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u80cd5196%5C%22%20id%3D%5C%22u80cd5196%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1e8133f1%5C%22%20id%3D%5C%22u1e8133f1%5C%22%3EIO%E7%B1%BB%E5%9E%8B%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22udbbd2b87%5C%22%20id%3D%5C%22udbbd2b87%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u32204119%5C%22%20id%3D%5C%22u32204119%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udce3c497%5C%22%20id%3D%5C%22udce3c497%5C%22%3E%E5%90%8C%E6%AD%A5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6ff163c4%5C%22%20id%3D%5C%22u6ff163c4%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua1fe6840%5C%22%20id%3D%5C%22ua1fe6840%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0e35a086%5C%22%20id%3D%5C%22u0e35a086%5C%22%3E%E5%BC%82%E6%AD%A5%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uef9adc74%5C%22%20id%3D%5C%22uef9adc74%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0e99d010%5C%22%20id%3D%5C%22u0e99d010%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u549ef95e%5C%22%20id%3D%5C%22u549ef95e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u836cf95d%5C%22%20id%3D%5C%22u836cf95d%5C%22%3E%E9%98%BB%E5%A1%9E%EF%BC%9F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc0e30977%5C%22%20id%3D%5C%22uc0e30977%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2a4d1a68%5C%22%20id%3D%5C%22u2a4d1a68%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2742acdf%5C%22%20id%3D%5C%22u2742acdf%5C%22%3E%E6%98%AF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ue2d805f3%5C%22%20id%3D%5C%22ue2d805f3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uae7de3ee%5C%22%20id%3D%5C%22uae7de3ee%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u29f5079c%5C%22%20id%3D%5C%22u29f5079c%5C%22%3E%E6%98%AF%EF%BC%88%E9%98%BB%E5%A1%9E%E5%8F%91%E7%94%9F%E5%9C%A8fock()%EF%BC%8C%E9%80%9A%E5%B8%B8%E9%9D%9E%E5%B8%B8%E5%BF%AB%EF%BC%89%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub050f32d%5C%22%20id%3D%5C%22ub050f32d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uae8b45e6%5C%22%20id%3D%5C%22uae8b45e6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u18250b28%5C%22%20id%3D%5C%22u18250b28%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud54ec7cc%5C%22%20id%3D%5C%22ud54ec7cc%5C%22%3E%E5%A4%8D%E6%9D%82%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud1103723%5C%22%20id%3D%5C%22ud1103723%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1fbf78b0%5C%22%20id%3D%5C%22u1fbf78b0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf66b5a6d%5C%22%20id%3D%5C%22uf66b5a6d%5C%22%3EO(n)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ueee6a2d1%5C%22%20id%3D%5C%22ueee6a2d1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udf210631%5C%22%20id%3D%5C%22udf210631%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uc4226f39%5C%22%20id%3D%5C%22uc4226f39%5C%22%3EO(n)%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u68aba493%5C%22%20id%3D%5C%22u68aba493%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubfb00239%5C%22%20id%3D%5C%22ubfb00239%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u432f5d27%5C%22%20id%3D%5C%22u432f5d27%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u80f1b5b2%5C%22%20id%3D%5C%22u80f1b5b2%5C%22%3E%E4%BC%98%E7%82%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9eaa0cfc%5C%22%20id%3D%5C%22u9eaa0cfc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u12fa15e2%5C%22%20id%3D%5C%22u12fa15e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u58452aa1%5C%22%20id%3D%5C%22u58452aa1%5C%22%3E%E4%B8%8D%E4%BC%9A%E6%B6%88%E8%80%97%E9%A2%9D%E5%A4%96%E7%9A%84%E5%86%85%E5%AD%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u28f29f78%5C%22%20id%3D%5C%22u28f29f78%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udf03c0f6%5C%22%20id%3D%5C%22udf03c0f6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u037f084a%5C%22%20id%3D%5C%22u037f084a%5C%22%3E%E4%B8%8D%E9%98%BB%E5%A1%9E%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ucbae697e%5C%22%20id%3D%5C%22ucbae697e%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u95f9f57c%5C%22%20id%3D%5C%22u95f9f57c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3e2c3c10%5C%22%20id%3D%5C%22u3e2c3c10%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua049adeb%5C%22%20id%3D%5C%22ua049adeb%5C%22%3E%E7%BC%BA%E7%82%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ucbf7b146%5C%22%20id%3D%5C%22ucbf7b146%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1841b246%5C%22%20id%3D%5C%22u1841b246%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3b0a8606%5C%22%20id%3D%5C%22u3b0a8606%5C%22%3E%E9%98%BB%E5%A1%9E%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u496b139b%5C%22%20id%3D%5C%22u496b139b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue3205852%5C%22%20id%3D%5C%22ue3205852%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1cb30b15%5C%22%20id%3D%5C%22u1cb30b15%5C%22%3E%E9%9C%80%E8%A6%81fock%E5%AD%90%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%B6%88%E8%80%97%E5%86%85%E5%AD%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u6f3199ad\" id=\"u6f3199ad\"><br /></p><h3 data-lake-id=\"78102351\" id=\"78102351\"><span>优缺点</span></h3><p data-lake-id=\"u64d4b61d\" id=\"u64d4b61d\"><br /></p><p data-lake-id=\"u0dbc0350\" id=\"u0dbc0350\"><strong><span>优点：</span></strong></p><p data-lake-id=\"u90cfd46f\" id=\"u90cfd46f\"><br /></p><ol data-lake-id=\"2d3272e7fe89b1a29745d76223bd384b_ol_64\"><li data-lake-id=\"u0927821d\"><span>适合大规模的数据恢复</span></li></ol><ol start=\"2\" data-lake-id=\"3cb85897a02b299ed349402ac83224f4_ol_65\"><li data-lake-id=\"uf973cddb\"><span>对数据的完整性要求不高</span></li></ol><p data-lake-id=\"uc0e06e5e\" id=\"uc0e06e5e\"><br /></p><p data-lake-id=\"u95bef7da\" id=\"u95bef7da\"><strong><span>缺点：</span></strong></p><p data-lake-id=\"u13be3985\" id=\"u13be3985\"><br /></p><ol data-lake-id=\"076d03ea3e77bc4bab4cdf0105cd8235_ol_66\"><li data-lake-id=\"u094c4acf\"><span>需要一定的时间间隔进行操作，如果redis意外宕机了，这个最后一次修改的数据就没有了。</span></li></ol><ol start=\"2\" data-lake-id=\"aff839c9f1b5a28bbb0e3f21a2b4c8e1_ol_67\"><li data-lake-id=\"u894b6ad9\"><span>fork进程的时候，会占用一定的内容空间。</span></li></ol><p data-lake-id=\"u6abb57f7\" id=\"u6abb57f7\"><br /></p><h2 data-lake-id=\"17472ea0\" id=\"17472ea0\"><span>十一、持久化AOF</span></h2><p data-lake-id=\"u5f93aa86\" id=\"u5f93aa86\"><br /></p><p data-lake-id=\"u64ed7268\" id=\"u64ed7268\"><strong><span>Append Only File</span></strong></p><p data-lake-id=\"u0390e6f0\" id=\"u0390e6f0\"><br /></p><p data-lake-id=\"ucbae4a1c\" id=\"ucbae4a1c\"><span>将我们所有的命令都记录下来，history，恢复的时候就把这个文件全部再执行一遍</span></p><p data-lake-id=\"u53380480\" id=\"u53380480\"><br /></p><p data-lake-id=\"u9fb67f0b\" id=\"u9fb67f0b\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z8wr9lBW-1597890996525)(狂神说 Redis.assets/image-20200818123711375.png)]</span></p><p data-lake-id=\"ue84c2475\" id=\"ue84c2475\"><br /></p><blockquote><p data-lake-id=\"u38d5e9c6\" id=\"u38d5e9c6\"><span>以日志的形式来记录每个写的操作，将Redis执行过的所有指令记录下来（读操作不记录），只许追加文件但不可以改写文件，redis启动之初会读取该文件重新构建数据，换言之，redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作。</span></p></blockquote><p data-lake-id=\"u92f2ccdd\" id=\"u92f2ccdd\"><br /></p><h3 data-lake-id=\"95180d71\" id=\"95180d71\"><span>什么是AOF</span></h3><p data-lake-id=\"uf58a3a5a\" id=\"uf58a3a5a\"><br /></p><p data-lake-id=\"ubf7e8d8d\" id=\"ubf7e8d8d\"><span>快照功能（RDB）并不是非常耐久（durable）： 如果 Redis 因为某些原因而造成故障停机， 那么服务器将丢失最近写入、以及未保存到快照中的那些数据。 从 1.1 版本开始， Redis 增加了一种完全耐久的持久化方式： AOF 持久化。</span></p><p data-lake-id=\"uc8cee376\" id=\"uc8cee376\"><br /></p><p data-lake-id=\"ud3c3ea5e\" id=\"ud3c3ea5e\"><span>如果要使用AOF，需要修改配置文件：</span></p><p data-lake-id=\"u68a9bf32\" id=\"u68a9bf32\"><br /></p><p data-lake-id=\"u95938011\" id=\"u95938011\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215247113.png%22%2C%22originWidth%22%3A1040%2C%22originHeight%22%3A146%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1040%2C%22height%22%3A146%2C%22id%22%3A%22eDPNZ%22%7D\"></card></p><p data-lake-id=\"u35cf7438\" id=\"u35cf7438\"><br /></p><p data-lake-id=\"u27824fa6\" id=\"u27824fa6\"><code><span>appendonly no yes</span></code><span>则表示启用AOF</span></p><p data-lake-id=\"u8024b757\" id=\"u8024b757\"><br /></p><p data-lake-id=\"u715a17de\" id=\"u715a17de\"><span>默认是不开启的，我们需要手动配置，然后重启redis，就可以生效了！</span></p><p data-lake-id=\"u9186c9dd\" id=\"u9186c9dd\"><br /></p><p data-lake-id=\"u13d82eb8\" id=\"u13d82eb8\"><span>如果这个aof文件有错位，这时候redis是启动不起来的，我需要修改这个aof文件</span></p><p data-lake-id=\"u3fe023d3\" id=\"u3fe023d3\"><br /></p><p data-lake-id=\"u77a02f44\" id=\"u77a02f44\"><span>redis给我们提供了一个工具</span><code><span>redis-check-aof --fix</span></code></p><p data-lake-id=\"u41adc97a\" id=\"u41adc97a\"><br /></p><blockquote><p data-lake-id=\"u267246f3\" id=\"u267246f3\"><span>优点和缺点</span></p></blockquote><p data-lake-id=\"ua35e2b85\" id=\"ua35e2b85\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22appendonly%20yes%20%20%23%20%E9%BB%98%E8%AE%A4%E6%98%AF%E4%B8%8D%E5%BC%80%E5%90%AFaof%E6%A8%A1%E5%BC%8F%E7%9A%84%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF%E4%BD%BF%E7%94%A8rdb%E6%96%B9%E5%BC%8F%E6%8C%81%E4%B9%85%E5%8C%96%E7%9A%84%EF%BC%8C%E5%9C%A8%E5%A4%A7%E9%83%A8%E5%88%86%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8Crdb%E5%AE%8C%E5%85%A8%E5%A4%9F%E7%94%A8%5Cnappendfilename%20%5C%22appendonly.aof%5C%22%5Cn%5Cn%23%20appendfsync%20always%20%23%20%E6%AF%8F%E6%AC%A1%E4%BF%AE%E6%94%B9%E9%83%BD%E4%BC%9Async%20%E6%B6%88%E8%80%97%E6%80%A7%E8%83%BD%5Cnappendfsync%20everysec%20%23%20%E6%AF%8F%E7%A7%92%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1%20sync%20%E5%8F%AF%E8%83%BD%E4%BC%9A%E4%B8%A2%E5%A4%B1%E8%BF%99%E4%B8%80%E7%A7%92%E7%9A%84%E6%95%B0%E6%8D%AE%5Cn%23%20appendfsync%20no%20%23%20%E4%B8%8D%E6%89%A7%E8%A1%8C%20sync%20%2C%E8%BF%99%E6%97%B6%E5%80%99%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B7%B1%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%80%9F%E5%BA%A6%E6%9C%80%E5%BF%AB%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2283a59208%22%7D\"></card><p data-lake-id=\"u7ba9ac4e\" id=\"u7ba9ac4e\"><br /></p><p data-lake-id=\"u125250aa\" id=\"u125250aa\"><strong><span>优点</span></strong></p><p data-lake-id=\"u0fc9e68e\" id=\"u0fc9e68e\"><br /></p><ol data-lake-id=\"bd073d7f20ec87a87a70956ac67f0631_ol_68\"><li data-lake-id=\"u266f5620\"><span>每一次修改都会同步，文件的完整性会更加好</span></li></ol><ol start=\"2\" data-lake-id=\"a779073f1d16fd3168ad2878dd4c6dd2_ol_69\"><li data-lake-id=\"ue88cbae1\"><span>没秒同步一次，可能会丢失一秒的数据</span></li></ol><ol start=\"3\" data-lake-id=\"31de8586e916141ccc23b8a9270e15ac_ol_70\"><li data-lake-id=\"u85aa6b5a\"><span>从不同步，效率最高</span></li></ol><p data-lake-id=\"ue0639350\" id=\"ue0639350\"><br /></p><p data-lake-id=\"u29eb120a\" id=\"u29eb120a\"><strong><span>缺点</span></strong></p><p data-lake-id=\"ua2010e49\" id=\"ua2010e49\"><br /></p><ol data-lake-id=\"faf587b51754251477297700bb8d0ba7_ol_71\"><li data-lake-id=\"u5f272555\"><span>相对于数据文件来说，aof远远大于rdb，修复速度比rdb慢！</span></li></ol><ol start=\"2\" data-lake-id=\"34d1775ca85c5151136ea9a905476900_ol_72\"><li data-lake-id=\"u9e27a723\"><span>Aof运行效率也要比rdb慢，所以我们redis默认的配置就是rdb持久化</span></li></ol><p data-lake-id=\"u57d0cb83\" id=\"u57d0cb83\"><br /></p><h2 data-lake-id=\"7ee877b2\" id=\"7ee877b2\"><span>十二、RDB和AOP选择</span></h2><p data-lake-id=\"u21c34dea\" id=\"u21c34dea\"><br /></p><h3 data-lake-id=\"9a4822ca\" id=\"9a4822ca\"><span>RDB 和 AOF 对比</span></h3><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%224717e3a8%22%2C%22rows%22%3A5%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%224717e3a8%5C%22%20id%3D%5C%224717e3a8%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22u949c3da2%5C%22%20id%3D%5C%22u949c3da2%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ubeaea6de%5C%22%20id%3D%5C%22ubeaea6de%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7ae1aa36%5C%22%20id%3D%5C%22u7ae1aa36%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf8293061%5C%22%20id%3D%5C%22uf8293061%5C%22%3ERDB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u195ae755%5C%22%20id%3D%5C%22u195ae755%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u175b3640%5C%22%20id%3D%5C%22u175b3640%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub338b1ab%5C%22%20id%3D%5C%22ub338b1ab%5C%22%3EAOF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u522c3e99%5C%22%20id%3D%5C%22u522c3e99%5C%22%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u558fe6c6%5C%22%20id%3D%5C%22u558fe6c6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ud6606d07%5C%22%20id%3D%5C%22ud6606d07%5C%22%3E%3Cp%20data-lake-id%3D%5C%22udae43293%5C%22%20id%3D%5C%22udae43293%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud79356ae%5C%22%20id%3D%5C%22ud79356ae%5C%22%3E%E5%90%AF%E5%8A%A8%E4%BC%98%E5%85%88%E7%BA%A7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufa96e2ec%5C%22%20id%3D%5C%22ufa96e2ec%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3cd651b6%5C%22%20id%3D%5C%22u3cd651b6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u691c8b2d%5C%22%20id%3D%5C%22u691c8b2d%5C%22%3E%E4%BD%8E%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud6a2a162%5C%22%20id%3D%5C%22ud6a2a162%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u937d67e2%5C%22%20id%3D%5C%22u937d67e2%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uba593aec%5C%22%20id%3D%5C%22uba593aec%5C%22%3E%E9%AB%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u4bbe1924%5C%22%20id%3D%5C%22u4bbe1924%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uf834d57e%5C%22%20id%3D%5C%22uf834d57e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubaa159ec%5C%22%20id%3D%5C%22ubaa159ec%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u540865c1%5C%22%20id%3D%5C%22u540865c1%5C%22%3E%E4%BD%93%E7%A7%AF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf351a22b%5C%22%20id%3D%5C%22uf351a22b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue408dadb%5C%22%20id%3D%5C%22ue408dadb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue6820b0c%5C%22%20id%3D%5C%22ue6820b0c%5C%22%3E%E5%B0%8F%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ud2d23cb0%5C%22%20id%3D%5C%22ud2d23cb0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub1cc3ea9%5C%22%20id%3D%5C%22ub1cc3ea9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucbf55db3%5C%22%20id%3D%5C%22ucbf55db3%5C%22%3E%E5%A4%A7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u915aff8a%5C%22%20id%3D%5C%22u915aff8a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u8700873a%5C%22%20id%3D%5C%22u8700873a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u31ad7bc5%5C%22%20id%3D%5C%22u31ad7bc5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5cdb1f79%5C%22%20id%3D%5C%22u5cdb1f79%5C%22%3E%E6%81%A2%E5%A4%8D%E9%80%9F%E5%BA%A6%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufc7aef16%5C%22%20id%3D%5C%22ufc7aef16%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u754fe2ae%5C%22%20id%3D%5C%22u754fe2ae%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u055f45d1%5C%22%20id%3D%5C%22u055f45d1%5C%22%3E%E5%BF%AB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u31645900%5C%22%20id%3D%5C%22u31645900%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u15415a63%5C%22%20id%3D%5C%22u15415a63%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8c334cef%5C%22%20id%3D%5C%22u8c334cef%5C%22%3E%E6%85%A2%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5c7decff%5C%22%20id%3D%5C%22u5c7decff%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u124120a5%5C%22%20id%3D%5C%22u124120a5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub5d8ad07%5C%22%20id%3D%5C%22ub5d8ad07%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua6c084e8%5C%22%20id%3D%5C%22ua6c084e8%5C%22%3E%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8%E6%80%A7%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ufe045506%5C%22%20id%3D%5C%22ufe045506%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u4306dbf7%5C%22%20id%3D%5C%22u4306dbf7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3457778e%5C%22%20id%3D%5C%22u3457778e%5C%22%3E%E4%B8%A2%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u9fa27842%5C%22%20id%3D%5C%22u9fa27842%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0ff2542d%5C%22%20id%3D%5C%22u0ff2542d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1c603c44%5C%22%20id%3D%5C%22u1c603c44%5C%22%3E%E6%A0%B9%E6%8D%AE%E7%AD%96%E7%95%A5%E5%86%B3%E5%AE%9A%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"ufcf1656b\" id=\"ufcf1656b\"><br /></p><h3 data-lake-id=\"5e50f972\" id=\"5e50f972\"><span>如何选择使用哪种持久化方式？</span></h3><p data-lake-id=\"u50bb43f0\" id=\"u50bb43f0\"><br /></p><p data-lake-id=\"uc8304421\" id=\"uc8304421\"><span>一般来说， 如果想达到足以媲美 PostgreSQL 的数据安全性， 你应该同时使用两种持久化功能。</span></p><p data-lake-id=\"u0f982d37\" id=\"u0f982d37\"><br /></p><p data-lake-id=\"uefa264c2\" id=\"uefa264c2\"><span>如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失， 那么你可以只使用 RDB 持久化。</span></p><p data-lake-id=\"u58c5be35\" id=\"u58c5be35\"><br /></p><p data-lake-id=\"u701ee6d1\" id=\"u701ee6d1\"><span>有很多用户都只使用 AOF 持久化， 但并不推荐这种方式： 因为定时生成 RDB 快照（snapshot）非常便于进行数据库备份， 并且 RDB 恢复数据集的速度也要比 AOF 恢复的速度要快。</span></p><p data-lake-id=\"ue64f3841\" id=\"ue64f3841\"><br /></p><h2 data-lake-id=\"c71a560d\" id=\"c71a560d\"><span>十三、Redis发布与订阅</span></h2><p data-lake-id=\"u2199de74\" id=\"u2199de74\"><br /></p><p data-lake-id=\"ubf152794\" id=\"ubf152794\"><span>Redis 发布订阅(pub/sub)是一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。</span></p><p data-lake-id=\"u71d4e789\" id=\"u71d4e789\"><br /></p><p data-lake-id=\"ueee98c36\" id=\"ueee98c36\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IBT2pjCa-1597890996526)(狂神说 Redis.assets/image-20200818162849693.png)]</span></p><p data-lake-id=\"ub52e45f4\" id=\"ub52e45f4\"><br /></p><p data-lake-id=\"u6341515b\" id=\"u6341515b\"><span>下图展示了频道 channel1 ， 以及订阅这个频道的三个客户端 —— client2 、 client5 和 client1 之间的关系：</span></p><p data-lake-id=\"ub09f7213\" id=\"ub09f7213\"><br /></p><p data-lake-id=\"u4aea72c9\" id=\"u4aea72c9\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215523258.png%22%2C%22originWidth%22%3A319%2C%22originHeight%22%3A198%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A319%2C%22height%22%3A198%2C%22id%22%3A%22phjVM%22%7D\"></card></p><p data-lake-id=\"u79646f84\" id=\"u79646f84\"><br /></p><p data-lake-id=\"ubdfe0957\" id=\"ubdfe0957\"><span>当有新消息通过 PUBLISH 命令发送给频道 channel1 时， 这个消息就会被发送给订阅它的三个客户端：</span></p><p data-lake-id=\"u8cd02b5d\" id=\"u8cd02b5d\"><br /></p><p data-lake-id=\"ucb491835\" id=\"ucb491835\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321553483.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A315%2C%22originHeight%22%3A285%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A315%2C%22height%22%3A285%2C%22id%22%3A%22l5gyr%22%7D\"></card></p><p data-lake-id=\"u0dda797a\" id=\"u0dda797a\"><br /></p><h3 data-lake-id=\"ddf7d2a5\" id=\"ddf7d2a5\"><span>命令</span></h3><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%227e9bbfbf%22%2C%22rows%22%3A7%2C%22cols%22%3A2%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%227e9bbfbf%5C%22%20id%3D%5C%227e9bbfbf%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3Ccol%20width%3D%5C%22375%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uc7702c48%5C%22%20id%3D%5C%22uc7702c48%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u76df9899%5C%22%20id%3D%5C%22u76df9899%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2a2519df%5C%22%20id%3D%5C%22u2a2519df%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub463b3b4%5C%22%20id%3D%5C%22ub463b3b4%5C%22%3E%E5%91%BD%E4%BB%A4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u79b2e1e1%5C%22%20id%3D%5C%22u79b2e1e1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50650742%5C%22%20id%3D%5C%22u50650742%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9fc9baa2%5C%22%20id%3D%5C%22u9fc9baa2%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u30d27796%5C%22%20id%3D%5C%22u30d27796%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u779be3bd%5C%22%20id%3D%5C%22u779be3bd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ua3e99603%5C%22%20id%3D%5C%22ua3e99603%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u5e6de889%5C%22%20id%3D%5C%22u5e6de889%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u793d51ce%5C%22%20id%3D%5C%22u793d51ce%5C%22%3EPSUBSCRIBE%20pattern%20%5Bpattern..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc3f5379b%5C%22%20id%3D%5C%22uc3f5379b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u055e85af%5C%22%20id%3D%5C%22u055e85af%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud76f2c54%5C%22%20id%3D%5C%22ud76f2c54%5C%22%3E%E8%AE%A2%E9%98%85%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E7%AC%A6%E5%90%88%E7%BB%99%E5%AE%9A%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%A2%91%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22uad89be08%5C%22%20id%3D%5C%22uad89be08%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9d826d4d%5C%22%20id%3D%5C%22u9d826d4d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf1db206c%5C%22%20id%3D%5C%22uf1db206c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u40641f11%5C%22%20id%3D%5C%22u40641f11%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u91783e31%5C%22%20id%3D%5C%22u91783e31%5C%22%3EPUNSUBSCRIBE%20pattern%20%5Bpattern..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uefa64ce8%5C%22%20id%3D%5C%22uefa64ce8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uff95b1a4%5C%22%20id%3D%5C%22uff95b1a4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub904502e%5C%22%20id%3D%5C%22ub904502e%5C%22%3E%E9%80%80%E8%AE%A2%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E7%AC%A6%E5%90%88%E7%BB%99%E5%AE%9A%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%A2%91%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u0074afb9%5C%22%20id%3D%5C%22u0074afb9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ue9dec94a%5C%22%20id%3D%5C%22ue9dec94a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u50fcebdf%5C%22%20id%3D%5C%22u50fcebdf%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u12b7f3ca%5C%22%20id%3D%5C%22u12b7f3ca%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uee68de48%5C%22%20id%3D%5C%22uee68de48%5C%22%3EPUBSUB%20subcommand%20%5Bargument%5Bargument%5D%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uad3ec2c1%5C%22%20id%3D%5C%22uad3ec2c1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud9aca228%5C%22%20id%3D%5C%22ud9aca228%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u38553850%5C%22%20id%3D%5C%22u38553850%5C%22%3E%E6%9F%A5%E7%9C%8B%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u88f99493%5C%22%20id%3D%5C%22u88f99493%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u9f54ab87%5C%22%20id%3D%5C%22u9f54ab87%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u78de27a5%5C%22%20id%3D%5C%22u78de27a5%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u1f83fcd8%5C%22%20id%3D%5C%22u1f83fcd8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u944f20ec%5C%22%20id%3D%5C%22u944f20ec%5C%22%3EPUBLISH%20channel%20message%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u7e3479b6%5C%22%20id%3D%5C%22u7e3479b6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u490901f9%5C%22%20id%3D%5C%22u490901f9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9d264899%5C%22%20id%3D%5C%22u9d264899%5C%22%3E%E5%90%91%E6%8C%87%E5%AE%9A%E9%A2%91%E9%81%93%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ube6558fb%5C%22%20id%3D%5C%22ube6558fb%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7cb13255%5C%22%20id%3D%5C%22u7cb13255%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u30b98691%5C%22%20id%3D%5C%22u30b98691%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u2e2831f1%5C%22%20id%3D%5C%22u2e2831f1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3f5e1275%5C%22%20id%3D%5C%22u3f5e1275%5C%22%3ESUBSCRIBE%20channel%20%5Bchannel..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uef0b1393%5C%22%20id%3D%5C%22uef0b1393%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub2750fd9%5C%22%20id%3D%5C%22ub2750fd9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubfc7d73a%5C%22%20id%3D%5C%22ubfc7d73a%5C%22%3E%E8%AE%A2%E9%98%85%E7%BB%99%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E9%A2%91%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7617070c%5C%22%20id%3D%5C%22u7617070c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7d831101%5C%22%20id%3D%5C%22u7d831101%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ub3d2acde%5C%22%20id%3D%5C%22ub3d2acde%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u9aeb42e4%5C%22%20id%3D%5C%22u9aeb42e4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4c370ab9%5C%22%20id%3D%5C%22u4c370ab9%5C%22%3ESUBSCRIBE%20channel%20%5Bchannel..%5D%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u49d87f68%5C%22%20id%3D%5C%22u49d87f68%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7d2071d9%5C%22%20id%3D%5C%22u7d2071d9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6d1be8b4%5C%22%20id%3D%5C%22u6d1be8b4%5C%22%3E%E9%80%80%E8%AE%A2%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E9%A2%91%E9%81%93%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u4e74ca57\" id=\"u4e74ca57\"><br /></p><h3 data-lake-id=\"1a63ac23\" id=\"1a63ac23\"><span>示例</span></h3><p data-lake-id=\"ucc83b6c3\" id=\"ucc83b6c3\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22------------%E8%AE%A2%E9%98%85%E7%AB%AF----------------------%5Cn127.0.0.1%3A6379%3E%20SUBSCRIBE%20sakura%20%23%20%E8%AE%A2%E9%98%85sakura%E9%A2%91%E9%81%93%5CnReading%20messages...%20(press%20Ctrl-C%20to%20quit)%20%23%20%E7%AD%89%E5%BE%85%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF%5Cn1)%20%5C%22subscribe%5C%22%20%23%20%E8%AE%A2%E9%98%85%E6%88%90%E5%8A%9F%E7%9A%84%E6%B6%88%E6%81%AF%5Cn2)%20%5C%22sakura%5C%22%5Cn3)%20(integer)%201%5Cn1)%20%5C%22message%5C%22%20%23%20%E6%8E%A5%E6%94%B6%E5%88%B0%E6%9D%A5%E8%87%AAsakura%E9%A2%91%E9%81%93%E7%9A%84%E6%B6%88%E6%81%AF%20%5C%22hello%20world%5C%22%5Cn2)%20%5C%22sakura%5C%22%5Cn3)%20%5C%22hello%20world%5C%22%5Cn1)%20%5C%22message%5C%22%20%23%20%E6%8E%A5%E6%94%B6%E5%88%B0%E6%9D%A5%E8%87%AAsakura%E9%A2%91%E9%81%93%E7%9A%84%E6%B6%88%E6%81%AF%20%5C%22hello%20i%20am%20sakura%5C%22%5Cn2)%20%5C%22sakura%5C%22%5Cn3)%20%5C%22hello%20i%20am%20sakura%5C%22%5Cn%5Cn--------------%E6%B6%88%E6%81%AF%E5%8F%91%E5%B8%83%E7%AB%AF-------------------%5Cn127.0.0.1%3A6379%3E%20PUBLISH%20sakura%20%5C%22hello%20world%5C%22%20%23%20%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF%E5%88%B0sakura%E9%A2%91%E9%81%93%5Cn(integer)%201%5Cn127.0.0.1%3A6379%3E%20PUBLISH%20sakura%20%5C%22hello%20i%20am%20sakura%5C%22%20%23%20%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF%5Cn(integer)%201%5Cn%5Cn-----------------%E6%9F%A5%E7%9C%8B%E6%B4%BB%E8%B7%83%E7%9A%84%E9%A2%91%E9%81%93------------%5Cn127.0.0.1%3A6379%3E%20PUBSUB%20channels%5Cn1)%20%5C%22sakura%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223692820d%22%7D\"></card><p data-lake-id=\"u9d4457a9\" id=\"u9d4457a9\"><br /></p><h3 data-lake-id=\"b6724cff\" id=\"b6724cff\"><span>原理</span></h3><p data-lake-id=\"uff4df0d1\" id=\"uff4df0d1\"><br /></p><p data-lake-id=\"u799af2ce\" id=\"u799af2ce\"><span>每个 Redis 服务器进程都维持着一个表示服务器状态的 redis.h/redisServer 结构， 结构的 pubsub_channels 属性是一个字典， 这个字典就用于保存订阅频道的信息，其中，字典的键为正在被订阅的频道， 而字典的值则是一个链表， 链表中保存了所有订阅这个频道的客户端。</span></p><p data-lake-id=\"udc95f87a\" id=\"udc95f87a\"><br /></p><p data-lake-id=\"u6ae22c72\" id=\"u6ae22c72\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F2020051321554964.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A709%2C%22originHeight%22%3A216%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A709%2C%22height%22%3A216%2C%22id%22%3A%22HaVKA%22%7D\"></card></p><p data-lake-id=\"uba500619\" id=\"uba500619\"><br /></p><p data-lake-id=\"udba3783c\" id=\"udba3783c\"><span>客户端订阅，就被链接到对应频道的链表的尾部，退订则就是将客户端节点从链表中移除。</span></p><p data-lake-id=\"ud0117a9a\" id=\"ud0117a9a\"><br /></p><h3 data-lake-id=\"2e769a75\" id=\"2e769a75\"><span>缺点</span></h3><p data-lake-id=\"ud82d6dce\" id=\"ud82d6dce\"><br /></p><ol data-lake-id=\"6f4ba6d55e6ba110aa0b9e703aa04955_ol_73\"><li data-lake-id=\"u98f500f0\"><span>如果一个客户端订阅了频道，但自己读取消息的速度却不够快的话，那么不断积压的消息会使redis输出缓冲区的体积变得越来越大，这可能使得redis本身的速度变慢，甚至直接崩溃。</span></li></ol><ol start=\"2\" data-lake-id=\"71b8168f19ad1c44923a7bbd2a88c62c_ol_74\"><li data-lake-id=\"uf6221adf\"><span>这和数据传输可靠性有关，如果在订阅方断线，那么他将会丢失所有在短线期间发布者发布的消息。</span></li></ol><p data-lake-id=\"u758389b8\" id=\"u758389b8\"><br /></p><h3 data-lake-id=\"5b0520a9\" id=\"5b0520a9\"><span>应用</span></h3><p data-lake-id=\"u5ad91f65\" id=\"u5ad91f65\"><br /></p><ol data-lake-id=\"cb294fab71e676330f0e7a4ab7472784_ol_75\"><li data-lake-id=\"ub4005d05\"><span>消息订阅：公众号订阅，微博关注等等（起始更多是使用消息队列来进行实现）</span></li></ol><ol start=\"2\" data-lake-id=\"8cfb374f3fed0bd7d2c83bf4acc41ac2_ol_76\"><li data-lake-id=\"uc08a7965\"><span>多人在线聊天室。</span></li></ol><p data-lake-id=\"uf08ed8de\" id=\"uf08ed8de\"><br /></p><p data-lake-id=\"ucd6d42c7\" id=\"ucd6d42c7\"><span>稍微复杂的场景，我们就会使用消息中间件MQ处理。</span></p><p data-lake-id=\"ud5caf0be\" id=\"ud5caf0be\"><br /></p><h2 data-lake-id=\"ca07c665\" id=\"ca07c665\"><span>十四、Redis主从复制</span></h2><p data-lake-id=\"u52397c88\" id=\"u52397c88\"><br /></p><h3 data-lake-id=\"b59c9e0f\" id=\"b59c9e0f\"><span>概念</span></h3><p data-lake-id=\"u33cb76b3\" id=\"u33cb76b3\"><br /></p><p data-lake-id=\"u1441638b\" id=\"u1441638b\"><span>主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点（Master/Leader）,后者称为从节点（Slave/Follower）， 数据的复制是单向的！只能由主节点复制到从节点（主节点以写为主、从节点以读为主）。</span></p><p data-lake-id=\"u8622da00\" id=\"u8622da00\"><br /></p><p data-lake-id=\"u24872622\" id=\"u24872622\"><span>默认情况下，每台Redis服务器都是主节点，一个主节点可以有0个或者多个从节点，但每个从节点只能由一个主节点。</span></p><p data-lake-id=\"u8b229e0e\" id=\"u8b229e0e\"><br /></p><h3 data-lake-id=\"69fa3701\" id=\"69fa3701\"><span>作用</span></h3><p data-lake-id=\"uaf856e08\" id=\"uaf856e08\"><br /></p><ol data-lake-id=\"1d42e0920df37854b7d3d34f3ea1ce8a_ol_77\"><li data-lake-id=\"ub3628ceb\"><span>数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余的方式。</span></li></ol><ol start=\"2\" data-lake-id=\"1181cd8c7280bf5f270b02a7e48ffb5c_ol_78\"><li data-lake-id=\"ue184f608\"><span>故障恢复：当主节点故障时，从节点可以暂时替代主节点提供服务，是一种服务冗余的方式</span></li></ol><ol start=\"3\" data-lake-id=\"8f852a90e0017191d12812e1d8068f41_ol_79\"><li data-lake-id=\"u7b27de33\"><span>负载均衡：在主从复制的基础上，配合读写分离，由主节点进行写操作，从节点进行读操作，分担服务器的负载；尤其是在多读少写的场景下，通过多个从节点分担负载，提高并发量。</span></li></ol><ol start=\"4\" data-lake-id=\"bd92371e888d36fe4c6535e2d1abb68e_ol_80\"><li data-lake-id=\"u0649d7cb\"><span>高可用基石：主从复制还是哨兵和集群能够实施的基础。</span></li></ol><p data-lake-id=\"u1e0b4acc\" id=\"u1e0b4acc\"><br /></p><h3 data-lake-id=\"7f831a7b\" id=\"7f831a7b\"><span>为什么使用集群</span></h3><p data-lake-id=\"ub1d147f5\" id=\"ub1d147f5\"><br /></p><ol data-lake-id=\"7f2bd4b40bea467eeaffbd1b0177d6c5_ol_81\"><li data-lake-id=\"u047891a9\"><span>单台服务器难以负载大量的请求</span></li></ol><ol start=\"2\" data-lake-id=\"56aaccfe53d258c601da520e79a0c5d1_ol_82\"><li data-lake-id=\"uaef353bd\"><span>单台服务器故障率高，系统崩坏概率大</span></li></ol><ol start=\"3\" data-lake-id=\"279f9adf1d765d6e83ff41df32439fc4_ol_83\"><li data-lake-id=\"u9f781224\"><span>单台服务器内存容量有限。</span></li></ol><p data-lake-id=\"u55927770\" id=\"u55927770\"><br /></p><h3 data-lake-id=\"a69f6882\" id=\"a69f6882\"><span>环境配置</span></h3><p data-lake-id=\"u51d71321\" id=\"u51d71321\"><br /></p><p data-lake-id=\"u349341a9\" id=\"u349341a9\"><span>我们在讲解配置文件的时候，注意到有一个</span><code><span>replication</span></code><span>模块 (见Redis.conf中第8条)</span></p><p data-lake-id=\"u27d2da83\" id=\"u27d2da83\"><br /></p><p data-lake-id=\"uf68f7964\" id=\"uf68f7964\"><span>查看当前库的信息：</span><code><span>info replication</span></code></p><p data-lake-id=\"ufaab808f\" id=\"ufaab808f\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22127.0.0.1%3A6379%3E%20info%20replication%5Cn%23%20Replication%5Cnrole%3Amaster%20%23%20%E8%A7%92%E8%89%B2%5Cnconnected_slaves%3A0%20%23%20%E4%BB%8E%E6%9C%BA%E6%95%B0%E9%87%8F%5Cnmaster_replid%3A3b54deef5b7b7b7f7dd8acefa23be48879b4fcff%5Cnmaster_replid2%3A0000000000000000000000000000000000000000%5Cnmaster_repl_offset%3A0%5Cnsecond_repl_offset%3A-1%5Cnrepl_backlog_active%3A0%5Cnrepl_backlog_size%3A1048576%5Cnrepl_backlog_first_byte_offset%3A0%5Cnrepl_backlog_histlen%3A0%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224d144627%22%7D\"></card><p data-lake-id=\"u5f644e02\" id=\"u5f644e02\"><br /></p><p data-lake-id=\"u4c1e3900\" id=\"u4c1e3900\"><span>既然需要启动多个服务，就需要多个配置文件。每个配置文件对应修改以下信息：</span></p><p data-lake-id=\"ua4445a1b\" id=\"ua4445a1b\"><br /></p><ul data-lake-id=\"298c1f1f4163b84bb12c3482a56e30a0_ul_56\"><li data-lake-id=\"u8d6c52f5\"><span>端口号</span></li></ul><ul data-lake-id=\"94e61e0c020a91c5dc06fa47eac8d87e_ul_57\"><li data-lake-id=\"u8acc922d\"><span>pid文件名</span></li></ul><ul data-lake-id=\"8e1e5a4483a9671c279a9fc9b458ca9f_ul_58\"><li data-lake-id=\"u2da5b755\"><span>日志文件名</span></li></ul><ul data-lake-id=\"03033742ff552007c38067dba13cf67f_ul_59\"><li data-lake-id=\"u5da73e7f\"><span>rdb文件名</span></li></ul><p data-lake-id=\"uecaea04b\" id=\"uecaea04b\"><br /></p><p data-lake-id=\"u44ccef12\" id=\"u44ccef12\"><span>启动单机多服务集群：</span></p><p data-lake-id=\"u3e6e5508\" id=\"u3e6e5508\"><br /></p><p data-lake-id=\"u3a2b784b\" id=\"u3a2b784b\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215610163.png%22%2C%22originWidth%22%3A993%2C%22originHeight%22%3A108%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A993%2C%22height%22%3A108%2C%22id%22%3A%22m6Aax%22%7D\"></card></p><p data-lake-id=\"uae73a5be\" id=\"uae73a5be\"><br /></p><h3 data-lake-id=\"391961da\" id=\"391961da\"><span>一主二从配置</span></h3><p data-lake-id=\"u265d7d43\" id=\"u265d7d43\"><br /></p><p data-lake-id=\"ufbe85226\" id=\"ufbe85226\"><span>==默认情况下，每台Redis服务器都是主节点；==我们一般情况下只用配置从机就好了！</span></p><p data-lake-id=\"ua27f8360\" id=\"ua27f8360\"><br /></p><p data-lake-id=\"uf24408e0\" id=\"uf24408e0\"><span>认老大！一主（79）二从（80，81）</span></p><p data-lake-id=\"u0405f463\" id=\"u0405f463\"><br /></p><p data-lake-id=\"uff4dca22\" id=\"uff4dca22\"><span>使用</span><code><span>SLAVEOF host port</span></code><span>就可以为从机配置主机了。</span></p><p data-lake-id=\"u681b8373\" id=\"u681b8373\"><br /></p><p data-lake-id=\"u8c8d7692\" id=\"u8c8d7692\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215637483.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1226%2C%22originHeight%22%3A410%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1226%2C%22height%22%3A410%2C%22id%22%3A%22ciaCd%22%7D\"></card></p><p data-lake-id=\"u9e01b616\" id=\"u9e01b616\"><br /></p><p data-lake-id=\"u1ea08db5\" id=\"u1ea08db5\"><span>然后主机上也能看到从机的状态：</span></p><p data-lake-id=\"u8bbd7339\" id=\"u8bbd7339\"><br /></p><p data-lake-id=\"ubdd77076\" id=\"ubdd77076\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215645778.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A818%2C%22originHeight%22%3A378%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A818%2C%22height%22%3A378%2C%22id%22%3A%22Z1x5f%22%7D\"></card></p><p data-lake-id=\"u399192f3\" id=\"u399192f3\"><br /></p><p data-lake-id=\"u1f22fff2\" id=\"u1f22fff2\"><span>我们这里是使用命令搭建，是暂时的，==真实开发中应该在从机的配置文件中进行配置，==这样的话是永久的。</span></p><p data-lake-id=\"u561fd948\" id=\"u561fd948\"><br /></p><p data-lake-id=\"u9bdbf783\" id=\"u9bdbf783\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215654634.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A912%2C%22originHeight%22%3A253%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A912%2C%22height%22%3A253%2C%22id%22%3A%22uO75y%22%7D\"></card></p><p data-lake-id=\"u68d9413f\" id=\"u68d9413f\"><br /></p><h3 data-lake-id=\"1ebbd644\" id=\"1ebbd644\"><span>使用规则</span></h3><p data-lake-id=\"ub136a0b3\" id=\"ub136a0b3\"><br /></p><ol data-lake-id=\"dfccc18e4807f7a6aa1446f9e4b57e5d_ol_84\"><li data-lake-id=\"u5036049f\"><span> 从机只能读，不能写，主机可读可写但是多用于写。 </span><span> </span></li></ol><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%20127.0.0.1%3A6381%3E%20set%20name%20sakura%20%23%20%E4%BB%8E%E6%9C%BA6381%E5%86%99%E5%85%A5%E5%A4%B1%E8%B4%A5%5Cn(error)%20READONLY%20You%20can't%20write%20against%20a%20read%20only%20replica.%5Cn%5Cn127.0.0.1%3A6380%3E%20set%20name%20sakura%20%23%20%E4%BB%8E%E6%9C%BA6380%E5%86%99%E5%85%A5%E5%A4%B1%E8%B4%A5%5Cn(error)%20READONLY%20You%20can't%20write%20against%20a%20read%20only%20replica.%5Cn%5Cn127.0.0.1%3A6379%3E%20set%20name%20sakura%5CnOK%5Cn127.0.0.1%3A6379%3E%20get%20name%5Cn%5C%22sakura%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%222a0d2c36%22%7D\"></card><ol start=\"2\" data-lake-id=\"85bf4e942afef9920a825675af7bd7fa_ol_85\"><li data-lake-id=\"uf8c8b134\"><span> 当主机断电宕机后，默认情况下从机的角色不会发生变化 ，集群中只是失去了写操作，当主机恢复以后，又会连接上从机恢复原状。 </span></li></ol><ol start=\"3\" data-lake-id=\"1cc188dcad6f77a2ca0e66f8ef1e8622_ol_86\"><li data-lake-id=\"u656c345c\"><span> 当从机断电宕机后，若不是使用配置文件配置的从机，再次启动后作为主机是无法获取之前主机的数据的，若此时重新配置称为从机，又可以获取到主机的所有数据。这里就要提到一个同步原理。 </span></li></ol><ol start=\"4\" data-lake-id=\"d0958597cbefeef0c19fa010b1aae909_ol_87\"><li data-lake-id=\"uc16646d9\"><span> 第二条中提到，默认情况下，主机故障后，不会出现新的主机，有两种方式可以产生新的主机： </span></li></ol><ul data-lake-indent=\"1\" data-lake-id=\"cfec90c253d75c77c7b5813ebbe1846f_ul_60\"><li data-lake-id=\"uc72b2824\"><span>从机手动执行命令</span><code><span>slaveof no one</span></code><span>,这样执行以后从机会独立出来成为一个主机</span></li></ul><ul data-lake-indent=\"1\" data-lake-id=\"acd3c21222ba383e06a0ae6d65b1e42e_ul_61\"><li data-lake-id=\"u459ddabc\"><span>使用哨兵模式（自动选举）</span></li></ul><p data-lake-id=\"uc2743b55\" id=\"uc2743b55\"><span> </span></p><blockquote><p data-lake-id=\"u2341817c\" id=\"u2341817c\"><span>如果没有老大了，这个时候能不能选择出来一个老大呢？手动！</span></p></blockquote><p data-lake-id=\"u129d8758\" id=\"u129d8758\"><br /></p><p data-lake-id=\"u95f93025\" id=\"u95f93025\"><span>如果主机断开了连接，我们可以使用</span><code><span>SLAVEOF no one</span></code><span>让自己变成主机！其他的节点就可以手动连接到最新的主节点（手动）！如果这个时候老大修复了，那么久重新连接！</span></p><p data-lake-id=\"ue5535332\" id=\"ue5535332\"><br /></p><h2 data-lake-id=\"94816f45\" id=\"94816f45\"><span>十五、哨兵模式</span></h2><p data-lake-id=\"u545f8342\" id=\"u545f8342\"><br /></p><p data-lake-id=\"u1181e697\" id=\"u1181e697\"><span>更多信息参考博客：</span><a href=\"https://www.jianshu.com/p/06ab9daf921d\" target=\"_blank\"><span>https://www.jianshu.com/p/06ab9daf921d</span></a></p><p data-lake-id=\"u0eb83bbf\" id=\"u0eb83bbf\"><br /></p><p data-lake-id=\"u057e868d\" id=\"u057e868d\"><strong><span>主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。</span></strong><span>这不是一种推荐的方式，更多时候，我们优先考虑</span><strong><span>哨兵模式</span></strong><span>。</span></p><p data-lake-id=\"ue8ac40dc\" id=\"ue8ac40dc\"><br /></p><p data-lake-id=\"u7516f7a3\" id=\"u7516f7a3\"><span>单机单个哨兵</span></p><p data-lake-id=\"ucb143e93\" id=\"ucb143e93\"><br /></p><p data-lake-id=\"u9c9094f7\" id=\"u9c9094f7\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2ENYVAPp-1597890996527)(狂神说 Redis.assets/image-20200818233231154.png)]</span></p><p data-lake-id=\"u387bc8ea\" id=\"u387bc8ea\"><br /></p><p data-lake-id=\"uba13124f\" id=\"uba13124f\"><span>哨兵的作用：</span></p><p data-lake-id=\"u1e193a6a\" id=\"u1e193a6a\"><br /></p><ul data-lake-id=\"176ad5ece70619e2e9a0d39a5fcbc723_ul_62\"><li data-lake-id=\"u9c4fb88b\"><span>通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。</span></li></ul><ul data-lake-id=\"ad0154c640de691d71e4a31ff996eb4c_ul_63\"><li data-lake-id=\"u3ffd2c3c\"><span>当哨兵监测到master宕机，会自动将slave切换成master，然后通过</span><strong><span>发布订阅模式</span></strong><span>通知其他的从服务器，修改配置文件，让它们切换主机。</span></li></ul><p data-lake-id=\"u84e4f8c2\" id=\"u84e4f8c2\"><br /></p><p data-lake-id=\"u67812ae6\" id=\"u67812ae6\"><span>多哨兵模式</span></p><p data-lake-id=\"u8d570377\" id=\"u8d570377\"><br /></p><p data-lake-id=\"ucf6c3e8b\" id=\"ucf6c3e8b\"><span>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Ga1RyfVc-1597890996528)(狂神说 Redis.assets/image-20200818233316478.png)]</span></p><p data-lake-id=\"u9f286ff4\" id=\"u9f286ff4\"><br /></p><p data-lake-id=\"u5469d503\" id=\"u5469d503\"><span>哨兵的核心配置</span></p><p data-lake-id=\"u9b920194\" id=\"u9b920194\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sentinel%20monitor%20mymaster%20127.0.0.1%206379%201%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%220e977aad%22%7D\"></card><p data-lake-id=\"u1e5cd025\" id=\"u1e5cd025\"><br /></p><ul data-lake-id=\"a596a2a2e86e613005bf3f53dda22387_ul_64\"><li data-lake-id=\"ud42e7792\"><span>数字1表示 ：当一个哨兵主观认为主机断开，就可以客观认为主机故障，然后开始选举新的主机。</span></li></ul><p data-lake-id=\"ub2b0b2c9\" id=\"ub2b0b2c9\"><br /></p><blockquote><p data-lake-id=\"u2d9ee991\" id=\"u2d9ee991\"><span>测试</span></p></blockquote><p data-lake-id=\"u73864a3e\" id=\"u73864a3e\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22redis-sentinel%20xxx%2Fsentinel.conf%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22292caa93%22%7D\"></card><p data-lake-id=\"uc90c9410\" id=\"uc90c9410\"><br /></p><p data-lake-id=\"u70e30c59\" id=\"u70e30c59\"><span>成功启动哨兵模式</span></p><p data-lake-id=\"u8de67442\" id=\"u8de67442\"><br /></p><p data-lake-id=\"u3f394502\" id=\"u3f394502\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215752444.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A890%2C%22originHeight%22%3A582%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A890%2C%22height%22%3A582%2C%22id%22%3A%22CsjCy%22%7D\"></card></p><p data-lake-id=\"udee2a647\" id=\"udee2a647\"><br /></p><p data-lake-id=\"u16e233ad\" id=\"u16e233ad\"><span>此时哨兵监视着我们的主机6379，当我们断开主机后：</span></p><p data-lake-id=\"uc509d12f\" id=\"uc509d12f\"><br /></p><p data-lake-id=\"u82fc113d\" id=\"u82fc113d\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215806972.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A1255%2C%22originHeight%22%3A736%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A1255%2C%22height%22%3A736%2C%22id%22%3A%22rI5rm%22%7D\"></card></p><p data-lake-id=\"u76fa8b26\" id=\"u76fa8b26\"><br /></p><blockquote><p data-lake-id=\"ude3b7f7d\" id=\"ude3b7f7d\"><span>哨兵模式优缺点</span></p></blockquote><p data-lake-id=\"uc2a2e25a\" id=\"uc2a2e25a\"><br /></p><p data-lake-id=\"u71356679\" id=\"u71356679\"><strong><span>优点：</span></strong></p><p data-lake-id=\"u0219fd1f\" id=\"u0219fd1f\"><br /></p><ol data-lake-id=\"d72188c98263322eeefb7c99790bdbbf_ol_88\"><li data-lake-id=\"uce242cc5\"><span>哨兵集群，基于主从复制模式，所有主从复制的优点，它都有</span></li></ol><ol start=\"2\" data-lake-id=\"39a640b86ef54b67c739d1d70109e29e_ol_89\"><li data-lake-id=\"u9a058d44\"><span>主从可以切换，故障可以转移，系统的可用性更好</span></li></ol><ol start=\"3\" data-lake-id=\"d115cc32bb25852e1f44fdd7abb76384_ol_90\"><li data-lake-id=\"u7f64c0e9\"><span>哨兵模式是主从模式的升级，手动到自动，更加健壮</span></li></ol><p data-lake-id=\"u31b0b3f6\" id=\"u31b0b3f6\"><br /></p><p data-lake-id=\"ufef22543\" id=\"ufef22543\"><strong><span>缺点：</span></strong></p><p data-lake-id=\"u03f26180\" id=\"u03f26180\"><br /></p><ol data-lake-id=\"561a515cca46ddce37b583671350b93b_ol_91\"><li data-lake-id=\"u23aed9ed\"><span>Redis不好在线扩容，集群容量一旦达到上限，在线扩容就十分麻烦</span></li></ol><ol start=\"2\" data-lake-id=\"a8d586a3b8ea1665bab6bd9c64449796_ol_92\"><li data-lake-id=\"u5630cf68\"><span>实现哨兵模式的配置其实是很麻烦的，里面有很多配置项</span></li></ol><p data-lake-id=\"u0ec4b165\" id=\"u0ec4b165\"><br /></p><blockquote><p data-lake-id=\"u5384b4a4\" id=\"u5384b4a4\"><span>哨兵模式的全部配置</span></p></blockquote><p data-lake-id=\"u5b47f021\" id=\"u5b47f021\"><br /></p><p data-lake-id=\"ue93d9763\" id=\"ue93d9763\"><span>完整的哨兵模式配置文件 sentinel.conf</span></p><p data-lake-id=\"ued247184\" id=\"ued247184\"><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20Example%20sentinel.conf%5Cn%20%5Cn%23%20%E5%93%A8%E5%85%B5sentinel%E5%AE%9E%E4%BE%8B%E8%BF%90%E8%A1%8C%E7%9A%84%E7%AB%AF%E5%8F%A3%20%E9%BB%98%E8%AE%A426379%5Cnport%2026379%5Cn%20%5Cn%23%20%E5%93%A8%E5%85%B5sentinel%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%5Cndir%20%2Ftmp%5Cn%20%5Cn%23%20%E5%93%A8%E5%85%B5sentinel%E7%9B%91%E6%8E%A7%E7%9A%84redis%E4%B8%BB%E8%8A%82%E7%82%B9%E7%9A%84%20ip%20port%20%5Cn%23%20master-name%20%20%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%B7%B1%E5%91%BD%E5%90%8D%E7%9A%84%E4%B8%BB%E8%8A%82%E7%82%B9%E5%90%8D%E5%AD%97%20%E5%8F%AA%E8%83%BD%E7%94%B1%E5%AD%97%E6%AF%8DA-z%E3%80%81%E6%95%B0%E5%AD%970-9%20%E3%80%81%E8%BF%99%E4%B8%89%E4%B8%AA%E5%AD%97%E7%AC%A6%5C%22.-_%5C%22%E7%BB%84%E6%88%90%E3%80%82%5Cn%23%20quorum%20%E5%BD%93%E8%BF%99%E4%BA%9Bquorum%E4%B8%AA%E6%95%B0sentinel%E5%93%A8%E5%85%B5%E8%AE%A4%E4%B8%BAmaster%E4%B8%BB%E8%8A%82%E7%82%B9%E5%A4%B1%E8%81%94%20%E9%82%A3%E4%B9%88%E8%BF%99%E6%97%B6%20%E5%AE%A2%E8%A7%82%E4%B8%8A%E8%AE%A4%E4%B8%BA%E4%B8%BB%E8%8A%82%E7%82%B9%E5%A4%B1%E8%81%94%E4%BA%86%5Cn%23%20sentinel%20monitor%20%3Cmaster-name%3E%20%3Cip%3E%20%3Credis-port%3E%20%3Cquorum%3E%5Cnsentinel%20monitor%20mymaster%20127.0.0.1%206379%201%5Cn%20%5Cn%23%20%E5%BD%93%E5%9C%A8Redis%E5%AE%9E%E4%BE%8B%E4%B8%AD%E5%BC%80%E5%90%AF%E4%BA%86requirepass%20foobared%20%E6%8E%88%E6%9D%83%E5%AF%86%E7%A0%81%20%E8%BF%99%E6%A0%B7%E6%89%80%E6%9C%89%E8%BF%9E%E6%8E%A5Redis%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E8%A6%81%E6%8F%90%E4%BE%9B%E5%AF%86%E7%A0%81%5Cn%23%20%E8%AE%BE%E7%BD%AE%E5%93%A8%E5%85%B5sentinel%20%E8%BF%9E%E6%8E%A5%E4%B8%BB%E4%BB%8E%E7%9A%84%E5%AF%86%E7%A0%81%20%E6%B3%A8%E6%84%8F%E5%BF%85%E9%A1%BB%E4%B8%BA%E4%B8%BB%E4%BB%8E%E8%AE%BE%E7%BD%AE%E4%B8%80%E6%A0%B7%E7%9A%84%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81%5Cn%23%20sentinel%20auth-pass%20%3Cmaster-name%3E%20%3Cpassword%3E%5Cnsentinel%20auth-pass%20mymaster%20MySUPER--secret-0123passw0rd%5Cn%20%5Cn%20%5Cn%23%20%E6%8C%87%E5%AE%9A%E5%A4%9A%E5%B0%91%E6%AF%AB%E7%A7%92%E4%B9%8B%E5%90%8E%20%E4%B8%BB%E8%8A%82%E7%82%B9%E6%B2%A1%E6%9C%89%E5%BA%94%E7%AD%94%E5%93%A8%E5%85%B5sentinel%20%E6%AD%A4%E6%97%B6%20%E5%93%A8%E5%85%B5%E4%B8%BB%E8%A7%82%E4%B8%8A%E8%AE%A4%E4%B8%BA%E4%B8%BB%E8%8A%82%E7%82%B9%E4%B8%8B%E7%BA%BF%20%E9%BB%98%E8%AE%A430%E7%A7%92%5Cn%23%20sentinel%20down-after-milliseconds%20%3Cmaster-name%3E%20%3Cmilliseconds%3E%5Cnsentinel%20down-after-milliseconds%20mymaster%2030000%5Cn%20%5Cn%23%20%E8%BF%99%E4%B8%AA%E9%85%8D%E7%BD%AE%E9%A1%B9%E6%8C%87%E5%AE%9A%E4%BA%86%E5%9C%A8%E5%8F%91%E7%94%9Ffailover%E4%B8%BB%E5%A4%87%E5%88%87%E6%8D%A2%E6%97%B6%E6%9C%80%E5%A4%9A%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E5%B0%91%E4%B8%AAslave%E5%90%8C%E6%97%B6%E5%AF%B9%E6%96%B0%E7%9A%84master%E8%BF%9B%E8%A1%8C%20%E5%90%8C%E6%AD%A5%EF%BC%8C%5Cn%E8%BF%99%E4%B8%AA%E6%95%B0%E5%AD%97%E8%B6%8A%E5%B0%8F%EF%BC%8C%E5%AE%8C%E6%88%90failover%E6%89%80%E9%9C%80%E7%9A%84%E6%97%B6%E9%97%B4%E5%B0%B1%E8%B6%8A%E9%95%BF%EF%BC%8C%5Cn%E4%BD%86%E6%98%AF%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E6%95%B0%E5%AD%97%E8%B6%8A%E5%A4%A7%EF%BC%8C%E5%B0%B1%E6%84%8F%E5%91%B3%E7%9D%80%E8%B6%8A%20%E5%A4%9A%E7%9A%84slave%E5%9B%A0%E4%B8%BAreplication%E8%80%8C%E4%B8%8D%E5%8F%AF%E7%94%A8%E3%80%82%5Cn%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%B0%86%E8%BF%99%E4%B8%AA%E5%80%BC%E8%AE%BE%E4%B8%BA%201%20%E6%9D%A5%E4%BF%9D%E8%AF%81%E6%AF%8F%E6%AC%A1%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAslave%20%E5%A4%84%E4%BA%8E%E4%B8%8D%E8%83%BD%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%AF%B7%E6%B1%82%E7%9A%84%E7%8A%B6%E6%80%81%E3%80%82%5Cn%23%20sentinel%20parallel-syncs%20%3Cmaster-name%3E%20%3Cnumslaves%3E%5Cnsentinel%20parallel-syncs%20mymaster%201%5Cn%20%5Cn%20%5Cn%20%5Cn%23%20%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB%E7%9A%84%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%20failover-timeout%20%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%9C%A8%E4%BB%A5%E4%B8%8B%E8%BF%99%E4%BA%9B%E6%96%B9%E9%9D%A2%EF%BC%9A%20%5Cn%231.%20%E5%90%8C%E4%B8%80%E4%B8%AAsentinel%E5%AF%B9%E5%90%8C%E4%B8%80%E4%B8%AAmaster%E4%B8%A4%E6%AC%A1failover%E4%B9%8B%E9%97%B4%E7%9A%84%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4%E3%80%82%5Cn%232.%20%E5%BD%93%E4%B8%80%E4%B8%AAslave%E4%BB%8E%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%E7%9A%84master%E9%82%A3%E9%87%8C%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%BC%80%E5%A7%8B%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%E3%80%82%E7%9B%B4%E5%88%B0slave%E8%A2%AB%E7%BA%A0%E6%AD%A3%E4%B8%BA%E5%90%91%E6%AD%A3%E7%A1%AE%E7%9A%84master%E9%82%A3%E9%87%8C%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE%E6%97%B6%E3%80%82%5Cn%233.%E5%BD%93%E6%83%B3%E8%A6%81%E5%8F%96%E6%B6%88%E4%B8%80%E4%B8%AA%E6%AD%A3%E5%9C%A8%E8%BF%9B%E8%A1%8C%E7%9A%84failover%E6%89%80%E9%9C%80%E8%A6%81%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%20%20%5Cn%234.%E5%BD%93%E8%BF%9B%E8%A1%8Cfailover%E6%97%B6%EF%BC%8C%E9%85%8D%E7%BD%AE%E6%89%80%E6%9C%89slaves%E6%8C%87%E5%90%91%E6%96%B0%E7%9A%84master%E6%89%80%E9%9C%80%E7%9A%84%E6%9C%80%E5%A4%A7%E6%97%B6%E9%97%B4%E3%80%82%E4%B8%8D%E8%BF%87%EF%BC%8C%E5%8D%B3%E4%BD%BF%E8%BF%87%E4%BA%86%E8%BF%99%E4%B8%AA%E8%B6%85%E6%97%B6%EF%BC%8Cslaves%E4%BE%9D%E7%84%B6%E4%BC%9A%E8%A2%AB%E6%AD%A3%E7%A1%AE%E9%85%8D%E7%BD%AE%E4%B8%BA%E6%8C%87%E5%90%91master%EF%BC%8C%E4%BD%86%E6%98%AF%E5%B0%B1%E4%B8%8D%E6%8C%89parallel-syncs%E6%89%80%E9%85%8D%E7%BD%AE%E7%9A%84%E8%A7%84%E5%88%99%E6%9D%A5%E4%BA%86%5Cn%23%20%E9%BB%98%E8%AE%A4%E4%B8%89%E5%88%86%E9%92%9F%5Cn%23%20sentinel%20failover-timeout%20%3Cmaster-name%3E%20%3Cmilliseconds%3E%5Cnsentinel%20failover-timeout%20mymaster%20180000%5Cn%20%5Cn%23%20SCRIPTS%20EXECUTION%5Cn%20%5Cn%23%E9%85%8D%E7%BD%AE%E5%BD%93%E6%9F%90%E4%B8%80%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E6%97%B6%E6%89%80%E9%9C%80%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%E8%84%9A%E6%9C%AC%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%84%9A%E6%9C%AC%E6%9D%A5%E9%80%9A%E7%9F%A5%E7%AE%A1%E7%90%86%E5%91%98%EF%BC%8C%E4%BE%8B%E5%A6%82%E5%BD%93%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E4%B8%8D%E6%AD%A3%E5%B8%B8%E6%97%B6%E5%8F%91%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5%E7%9B%B8%E5%85%B3%E4%BA%BA%E5%91%98%E3%80%82%5Cn%23%E5%AF%B9%E4%BA%8E%E8%84%9A%E6%9C%AC%E7%9A%84%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%E6%9C%89%E4%BB%A5%E4%B8%8B%E8%A7%84%E5%88%99%EF%BC%9A%5Cn%23%E8%8B%A5%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8E%E8%BF%94%E5%9B%9E1%EF%BC%8C%E9%82%A3%E4%B9%88%E8%AF%A5%E8%84%9A%E6%9C%AC%E7%A8%8D%E5%90%8E%E5%B0%86%E4%BC%9A%E8%A2%AB%E5%86%8D%E6%AC%A1%E6%89%A7%E8%A1%8C%EF%BC%8C%E9%87%8D%E5%A4%8D%E6%AC%A1%E6%95%B0%E7%9B%AE%E5%89%8D%E9%BB%98%E8%AE%A4%E4%B8%BA10%5Cn%23%E8%8B%A5%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8E%E8%BF%94%E5%9B%9E2%EF%BC%8C%E6%88%96%E8%80%85%E6%AF%942%E6%9B%B4%E9%AB%98%E7%9A%84%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%8C%E8%84%9A%E6%9C%AC%E5%B0%86%E4%B8%8D%E4%BC%9A%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C%E3%80%82%5Cn%23%E5%A6%82%E6%9E%9C%E8%84%9A%E6%9C%AC%E5%9C%A8%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%94%B1%E4%BA%8E%E6%94%B6%E5%88%B0%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%96%AD%E4%BF%A1%E5%8F%B7%E8%A2%AB%E7%BB%88%E6%AD%A2%E4%BA%86%EF%BC%8C%E5%88%99%E5%90%8C%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BA1%E6%97%B6%E7%9A%84%E8%A1%8C%E4%B8%BA%E7%9B%B8%E5%90%8C%E3%80%82%5Cn%23%E4%B8%80%E4%B8%AA%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9C%80%E5%A4%A7%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4%E4%B8%BA60s%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%B6%85%E8%BF%87%E8%BF%99%E4%B8%AA%E6%97%B6%E9%97%B4%EF%BC%8C%E8%84%9A%E6%9C%AC%E5%B0%86%E4%BC%9A%E8%A2%AB%E4%B8%80%E4%B8%AASIGKILL%E4%BF%A1%E5%8F%B7%E7%BB%88%E6%AD%A2%EF%BC%8C%E4%B9%8B%E5%90%8E%E9%87%8D%E6%96%B0%E6%89%A7%E8%A1%8C%E3%80%82%5Cn%20%5Cn%23%E9%80%9A%E7%9F%A5%E5%9E%8B%E8%84%9A%E6%9C%AC%3A%E5%BD%93sentinel%E6%9C%89%E4%BB%BB%E4%BD%95%E8%AD%A6%E5%91%8A%E7%BA%A7%E5%88%AB%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E6%97%B6%EF%BC%88%E6%AF%94%E5%A6%82%E8%AF%B4redis%E5%AE%9E%E4%BE%8B%E7%9A%84%E4%B8%BB%E8%A7%82%E5%A4%B1%E6%95%88%E5%92%8C%E5%AE%A2%E8%A7%82%E5%A4%B1%E6%95%88%E7%AD%89%E7%AD%89%EF%BC%89%EF%BC%8C%E5%B0%86%E4%BC%9A%E5%8E%BB%E8%B0%83%E7%94%A8%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%EF%BC%8C%5Cn%23%E8%BF%99%E6%97%B6%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%BA%94%E8%AF%A5%E9%80%9A%E8%BF%87%E9%82%AE%E4%BB%B6%EF%BC%8CSMS%E7%AD%89%E6%96%B9%E5%BC%8F%E5%8E%BB%E9%80%9A%E7%9F%A5%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98%E5%85%B3%E4%BA%8E%E7%B3%BB%E7%BB%9F%E4%B8%8D%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%E8%B0%83%E7%94%A8%E8%AF%A5%E8%84%9A%E6%9C%AC%E6%97%B6%EF%BC%8C%E5%B0%86%E4%BC%A0%E7%BB%99%E8%84%9A%E6%9C%AC%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%5Cn%23%E4%B8%80%E4%B8%AA%E6%98%AF%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%8C%5Cn%23%E4%B8%80%E4%B8%AA%E6%98%AF%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%8F%8F%E8%BF%B0%E3%80%82%5Cn%23%E5%A6%82%E6%9E%9Csentinel.conf%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE%E4%BA%86%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E8%B7%AF%E5%BE%84%EF%BC%8C%E9%82%A3%E4%B9%88%E5%BF%85%E9%A1%BB%E4%BF%9D%E8%AF%81%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%AD%98%E5%9C%A8%E4%BA%8E%E8%BF%99%E4%B8%AA%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%98%AF%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%8C%E5%90%A6%E5%88%99sentinel%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F%E3%80%82%5Cn%23%E9%80%9A%E7%9F%A5%E8%84%9A%E6%9C%AC%5Cn%23%20sentinel%20notification-script%20%3Cmaster-name%3E%20%3Cscript-path%3E%5Cn%20%20sentinel%20notification-script%20mymaster%20%2Fvar%2Fredis%2Fnotify.sh%5Cn%20%5Cn%23%20%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%87%8D%E6%96%B0%E9%85%8D%E7%BD%AE%E4%B8%BB%E8%8A%82%E7%82%B9%E5%8F%82%E6%95%B0%E8%84%9A%E6%9C%AC%5Cn%23%20%E5%BD%93%E4%B8%80%E4%B8%AAmaster%E7%94%B1%E4%BA%8Efailover%E8%80%8C%E5%8F%91%E7%94%9F%E6%94%B9%E5%8F%98%E6%97%B6%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%B0%86%E4%BC%9A%E8%A2%AB%E8%B0%83%E7%94%A8%EF%BC%8C%E9%80%9A%E7%9F%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%85%B3%E4%BA%8Emaster%E5%9C%B0%E5%9D%80%E5%B7%B2%E7%BB%8F%E5%8F%91%E7%94%9F%E6%94%B9%E5%8F%98%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%5Cn%23%20%E4%BB%A5%E4%B8%8B%E5%8F%82%E6%95%B0%E5%B0%86%E4%BC%9A%E5%9C%A8%E8%B0%83%E7%94%A8%E8%84%9A%E6%9C%AC%E6%97%B6%E4%BC%A0%E7%BB%99%E8%84%9A%E6%9C%AC%3A%5Cn%23%20%3Cmaster-name%3E%20%3Crole%3E%20%3Cstate%3E%20%3Cfrom-ip%3E%20%3Cfrom-port%3E%20%3Cto-ip%3E%20%3Cto-port%3E%5Cn%23%20%E7%9B%AE%E5%89%8D%3Cstate%3E%E6%80%BB%E6%98%AF%E2%80%9Cfailover%E2%80%9D%2C%5Cn%23%20%3Crole%3E%E6%98%AF%E2%80%9Cleader%E2%80%9D%E6%88%96%E8%80%85%E2%80%9Cobserver%E2%80%9D%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E3%80%82%20%5Cn%23%20%E5%8F%82%E6%95%B0%20from-ip%2C%20from-port%2C%20to-ip%2C%20to-port%E6%98%AF%E7%94%A8%E6%9D%A5%E5%92%8C%E6%97%A7%E7%9A%84master%E5%92%8C%E6%96%B0%E7%9A%84master(%E5%8D%B3%E6%97%A7%E7%9A%84slave)%E9%80%9A%E4%BF%A1%E7%9A%84%5Cn%23%20%E8%BF%99%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%BA%94%E8%AF%A5%E6%98%AF%E9%80%9A%E7%94%A8%E7%9A%84%EF%BC%8C%E8%83%BD%E8%A2%AB%E5%A4%9A%E6%AC%A1%E8%B0%83%E7%94%A8%EF%BC%8C%E4%B8%8D%E6%98%AF%E9%92%88%E5%AF%B9%E6%80%A7%E7%9A%84%E3%80%82%5Cn%23%20sentinel%20client-reconfig-script%20%3Cmaster-name%3E%20%3Cscript-path%3E%5Cnsentinel%20client-reconfig-script%20mymaster%20%2Fvar%2Fredis%2Freconfig.sh%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%223a53dda0%22%7D\"></card><p data-lake-id=\"u0aee0aff\" id=\"u0aee0aff\"><br /></p><h2 data-lake-id=\"1b8920bd\" id=\"1b8920bd\"><span>十六、缓存穿透与雪崩</span></h2><p data-lake-id=\"u51c66912\" id=\"u51c66912\"><br /></p><h3 data-lake-id=\"d9526f37\" id=\"d9526f37\"><span>缓存穿透（查不到）</span></h3><p data-lake-id=\"u3e2a5037\" id=\"u3e2a5037\"><br /></p><blockquote><p data-lake-id=\"ua12b80eb\" id=\"ua12b80eb\"><span>概念</span></p></blockquote><p data-lake-id=\"ue6757b12\" id=\"ue6757b12\"><br /></p><p data-lake-id=\"u33f59470\" id=\"u33f59470\"><span>在默认情况下，用户请求数据时，会先在缓存(Redis)中查找，若没找到即缓存未命中，再在数据库中进行查找，数量少可能问题不大，可是一旦大量的请求数据（例如秒杀场景）缓存都没有命中的话，就会全部转移到数据库上，造成数据库极大的压力，就有可能导致数据库崩溃。网络安全中也有人恶意使用这种手段进行攻击被称为洪水攻击。</span></p><p data-lake-id=\"u4150b2a6\" id=\"u4150b2a6\"><br /></p><blockquote><p data-lake-id=\"ucf08adb3\" id=\"ucf08adb3\"><span>解决方案</span></p></blockquote><p data-lake-id=\"u09957e43\" id=\"u09957e43\"><br /></p><p data-lake-id=\"ud8953def\" id=\"ud8953def\"><strong><span>布隆过滤器</span></strong></p><p data-lake-id=\"u507e7d8d\" id=\"u507e7d8d\"><br /></p><p data-lake-id=\"u3c5077da\" id=\"u3c5077da\"><span>对所有可能查询的参数以Hash的形式存储，以便快速确定是否存在这个值，在控制层先进行拦截校验，校验不通过直接打回，减轻了存储系统的压力。</span></p><p data-lake-id=\"ud990adc6\" id=\"ud990adc6\"><br /></p><p data-lake-id=\"u75940f27\" id=\"u75940f27\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215824722.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A342%2C%22originHeight%22%3A416%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A342%2C%22height%22%3A416%2C%22id%22%3A%22UaX6n%22%7D\"></card></p><p data-lake-id=\"u7f377301\" id=\"u7f377301\"><br /></p><p data-lake-id=\"uc625ddba\" id=\"uc625ddba\"><strong><span>缓存空对象</span></strong></p><p data-lake-id=\"ue0c7a86c\" id=\"ue0c7a86c\"><br /></p><p data-lake-id=\"u491099d5\" id=\"u491099d5\"><span>一次请求若在缓存和数据库中都没找到，就在缓存中方一个空对象用于处理后续这个请求。</span></p><p data-lake-id=\"u21269232\" id=\"u21269232\"><br /></p><p data-lake-id=\"ua7d2698f\" id=\"ua7d2698f\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215836317.jpg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A573%2C%22originHeight%22%3A610%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A573%2C%22height%22%3A610%2C%22id%22%3A%22kwSAl%22%7D\"></card></p><p data-lake-id=\"ucedc4e12\" id=\"ucedc4e12\"><br /></p><p data-lake-id=\"u777cda25\" id=\"u777cda25\"><span>这样做有一个缺陷：存储空对象也需要空间，大量的空对象会耗费一定的空间，存储效率并不高。解决这个缺陷的方式就是设置较短过期时间</span></p><p data-lake-id=\"u43db2415\" id=\"u43db2415\"><br /></p><p data-lake-id=\"ub195224b\" id=\"ub195224b\"><span>即使对空值设置了过期时间，还是会存在缓存层和存储层的数据会有一段时间窗口的不一致，这对于需要保持一致性的业务会有影响。</span></p><p data-lake-id=\"ub1be3e83\" id=\"ub1be3e83\"><br /></p><h3 data-lake-id=\"1f3d8099\" id=\"1f3d8099\"><span>缓存击穿（量太大，缓存过期）</span></h3><p data-lake-id=\"u6ee63687\" id=\"u6ee63687\"><br /></p><blockquote><p data-lake-id=\"uc6f6174a\" id=\"uc6f6174a\"><span>概念</span></p></blockquote><p data-lake-id=\"u2a76b38d\" id=\"u2a76b38d\"><br /></p><p data-lake-id=\"ub86262fb\" id=\"ub86262fb\"><span>相较于缓存穿透，缓存击穿的目的性更强，一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB，造成瞬时DB请求量大、压力骤增。这就是缓存被击穿，只是针对其中某个key的缓存不可用而导致击穿，但是其他的key依然可以使用缓存响应。</span></p><p data-lake-id=\"ufb993a14\" id=\"ufb993a14\"><br /></p><p data-lake-id=\"u3e272cca\" id=\"u3e272cca\"><span>比如热搜排行上，一个热点新闻被同时大量访问就可能导致缓存击穿。</span></p><p data-lake-id=\"u1c3baf46\" id=\"u1c3baf46\"><br /></p><blockquote><p data-lake-id=\"u03b559d7\" id=\"u03b559d7\"><span>解决方案</span></p></blockquote><p data-lake-id=\"ua1244afa\" id=\"ua1244afa\"><br /></p><ol data-lake-id=\"ec05ca8d2e9e809a38244b1ef1dc3ad4_ol_93\"><li data-lake-id=\"u43cccf4f\"><span> </span><strong><span>设置热点数据永不过期</span></strong><span><br /></span><span>这样就不会出现热点数据过期的情况，但是当Redis内存空间满的时候也会清理部分数据，而且此种方案会占用空间，一旦热点数据多了起来，就会占用部分空间。 </span></li></ol><ol start=\"2\" data-lake-id=\"3b3f13e6fd9086b9c7846c837ab28763_ol_94\"><li data-lake-id=\"udb7f5a3c\"><span> </span><strong><span>加互斥锁(分布式锁)</span></strong><span><br /></span><span>在访问key之前，采用SETNX（set if not exists）来设置另一个短期key来锁住当前key的访问，访问结束再删除该短期key。保证同时刻只有一个线程访问。这样对锁的要求就十分高。 </span></li></ol><p data-lake-id=\"u1fa6f6fe\" id=\"u1fa6f6fe\"><br /></p><h3 data-lake-id=\"b901facc\" id=\"b901facc\"><span>缓存雪崩</span></h3><p data-lake-id=\"u9ba8ac75\" id=\"u9ba8ac75\"><br /></p><blockquote><p data-lake-id=\"uab7f7cab\" id=\"uab7f7cab\"><span>概念</span></p></blockquote><p data-lake-id=\"u8a62b626\" id=\"u8a62b626\"><br /></p><p data-lake-id=\"u60a70d7e\" id=\"u60a70d7e\"><span>大量的key设置了相同的过期时间，导致在缓存在同一时刻全部失效，造成瞬时DB请求量大、压力骤增，引起雪崩。</span></p><p data-lake-id=\"uc7d535d6\" id=\"uc7d535d6\"><br /></p><p data-lake-id=\"uee1b79dd\" id=\"uee1b79dd\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fimg-blog.csdnimg.cn%2F20200513215850428.jpeg%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22%2C%22originWidth%22%3A636%2C%22originHeight%22%3A385%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Afalse%2C%22bottom%22%3Afalse%7D%2C%22width%22%3A636%2C%22height%22%3A385%2C%22id%22%3A%22m7I1r%22%7D\"></card></p><p data-lake-id=\"u10bf0441\" id=\"u10bf0441\"><br /></p><blockquote><p data-lake-id=\"u1f07b76a\" id=\"u1f07b76a\"><span>解决方案</span></p></blockquote><p data-lake-id=\"u7f0cd8c0\" id=\"u7f0cd8c0\"><br /></p><ul data-lake-id=\"e5d8217c7368f53db5156af7b7c1e407_ul_65\"><li data-lake-id=\"u14106fdf\"><span> redis高可用<br /></span><span>这个思想的含义是，既然redis有可能挂掉，那我多增设几台redis，这样一台挂掉之后其他的还可以继续工作，其实就是搭建的集群 </span></li></ul><ul data-lake-id=\"a0ef87803c90dc536c61ba445ff4a7aa_ul_66\"><li data-lake-id=\"ucf86e4d5\"><span> 限流降级<br /></span><span>这个解决方案的思想是，在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。 </span></li></ul><ul data-lake-id=\"892f9af788b0b8467f51d212a2ea5d4c_ul_67\"><li data-lake-id=\"u5c4bb6e2\"><span> 数据预热<br /></span><span>数据加热的含义就是在正式部署之前，我先把可能的数据先预先访问一遍，这样部分可能大量访问的数据就会加载到缓存中。在即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。 </span></li></ul>",
    "public": 1,
    "status": 0,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2021-07-06T08:13:06.000Z",
    "deleted_at": null,
    "created_at": "2021-07-05T07:24:05.000Z",
    "updated_at": "2021-07-06T08:13:06.000Z",
    "published_at": "2021-07-05T08:17:30.000Z",
    "first_published_at": "2021-07-05T07:24:05.000Z",
    "word_count": 18439,
    "cover": null,
    "description": "一、Nosql概述为什么使用Nosql1、单机Mysql时代90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题数据量增加到一定程度，单机数据库就放不下了数据的索引（B+ Tree）,一个机器内存也存放不下访问量变大后（读写混合），一台服务器承受不住。2、...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 48609182,
    "slug": "czmr1f",
    "title": "hexo-theme-matery说明文档",
    "book_id": 20286859,
    "book": {
      "id": 20286859,
      "type": "Book",
      "slug": "qeaqxg",
      "name": "阿松博客",
      "user_id": 21990331,
      "description": "阿松博客",
      "creator_id": 21990331,
      "public": 1,
      "items_count": 3,
      "likes_count": 0,
      "watches_count": 1,
      "content_updated_at": "2021-07-08T07:43:47.259Z",
      "updated_at": "2021-07-08T07:43:47.000Z",
      "created_at": "2021-07-04T05:51:02.000Z",
      "namespace": "asong-m4h1o/qeaqxg",
      "user": {
        "id": 21990331,
        "type": "User",
        "login": "asong-m4h1o",
        "name": "阿松",
        "description": null,
        "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
        "books_count": 1,
        "public_books_count": 1,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2021-07-01T06:12:00.000Z",
        "updated_at": "2021-07-08T07:42:35.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 21990331,
    "creator": {
      "id": 21990331,
      "type": "User",
      "login": "asong-m4h1o",
      "name": "阿松",
      "description": null,
      "avatar_url": "https://gw.alipayobjects.com/zos/rmsportal/wYnHWSXDmBhiEmuwXsym.png",
      "books_count": 1,
      "public_books_count": 1,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2021-07-01T06:12:00.000Z",
      "updated_at": "2021-07-08T07:42:35.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "> 这是一个采用 `Material Design` 和响应式设计的 Hexo 博客主题。\n\n\n\n<a name=\"c666ad11\"></a>\n## 特性\n\n\n- 简单漂亮，文章内容美观易读\n- [Material Design](https://material.io/) 设计\n- 响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现\n- 首页轮播文章及每天动态切换 `Banner` 图片\n- 瀑布流式的博客文章列表（文章无特色图片时会有 `24` 张漂亮的图片代替）\n- 时间轴式的归档页\n- **词云**的标签页和**雷达图**的分类页\n- 丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）\n- 可自定义的数据的友情链接页面\n- 支持文章置顶和文章打赏\n- 支持 `MathJax`\n- `TOC` 目录\n- 可设置复制文章内容时追加版权信息\n- 可设置阅读文章时做密码验证\n- [Gitalk](https://gitalk.github.io/)、[Gitment](https://imsun.github.io/gitment/)、[Valine](https://valine.js.org/) 和 [Disqus](https://disqus.com/) 评论模块（推荐使用 `Gitalk`）\n- 集成了[不蒜子统计](http://busuanzi.ibruce.info/)、谷歌分析（`Google Analytics`）和文章字数统计等功能\n- 支持在首页的音乐播放和视频播放功能\n- 支持`emoji`表情，用`markdown emoji`语法书写直接生成对应的能**跳跃**的表情。\n- 支持 [DaoVoice](http://www.daovoice.io/)、[Tidio](https://www.tidio.com/) 在线聊天功能。\n\n\n\n<a name=\"5584b352\"></a>\n## 贡献者\n\n<br />感谢下面列出的贡献者，没有他们，hexo-theme-matery 不会这么完美。<br />\n\n- [@HarborZeng](https://github.com/HarborZeng)\n- [@shw2018](https://github.com/shw2018)\n- [@L1cardo](https://github.com/L1cardo)\n- [@Five-great](https://github.com/Five-great)\n\n\n\n<a name=\"f26ef914\"></a>\n## 下载\n\n<br />本主题**推荐你使用 Hexo 5.0.0 及以上的版本**。如果，你已经有一个自己的 [Hexo](https://hexo.io/zh-cn/) 博客了，建议你将 Hexo 升级到最新稳定的版本。<br />\n<br />点击 [这里](https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master) 下载 `master` 分支的最新稳定版的代码，解压缩后，将 `hexo-theme-matery` 的文件夹复制到你 Hexo 的 `themes` 文件夹中即可。<br />\n<br />当然你也可以在你的 `themes` 文件夹下使用 `git clone` 命令来下载:<br />\n\n```bash\ngit clone https://github.com/blinkfox/hexo-theme-matery.git\n```\n\n\n<a name=\"224e2ccd\"></a>\n## 配置\n\n\n<a name=\"583547cc\"></a>\n### 切换主题\n\n<br />修改 Hexo 根目录下的 `_config.yml` 的  `theme` 的值：`theme: hexo-theme-matery`<br />\n\n<a name=\"d2b1f64c\"></a>\n#### `_config.yml` 文件的其它修改建议:\n\n\n- 请修改 `_config.yml` 的 `url` 的值为你的网站主 `URL`（如：`http://xxx.github.io`）。\n- 建议修改两个 `per_page` 的分页条数值为 `6` 的倍数，如：`12`、`18` 等，这样文章列表在各个屏幕下都能较好的显示。\n- 如果你是中文用户，则建议修改 `language` 的值为 `zh-CN`。\n\n\n\n<a name=\"0fe7d221\"></a>\n### 新建分类 categories 页\n\n<br />`categories` 页是用来展示所有分类的页面，如果在你的博客 `source` 目录下还没有 `categories/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"categories\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/categories/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: categories\ndate: 2018-09-30 17:25:30\ntype: \"categories\"\nlayout: \"categories\"\n---\n```\n\n\n<a name=\"1ae9b7f3\"></a>\n### 新建标签 tags 页\n\n<br />`tags` 页是用来展示所有标签的页面，如果在你的博客 `source` 目录下还没有 `tags/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"tags\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/tags/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: tags\ndate: 2018-09-30 18:23:38\ntype: \"tags\"\nlayout: \"tags\"\n---\n```\n\n\n<a name=\"ea164841\"></a>\n### 新建关于我 about 页\n\n<br />`about` 页是用来展示**关于我和我的博客**信息的页面，如果在你的博客 `source` 目录下还没有 `about/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"about\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/about/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: about\ndate: 2018-09-30 17:25:30\ntype: \"about\"\nlayout: \"about\"\n---\n```\n\n\n<a name=\"7cbe81da\"></a>\n### 新建留言板 contact 页（可选的）\n\n<br />`contact` 页是用来展示**留言板**信息的页面，如果在你的博客 `source` 目录下还没有 `contact/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"contact\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/contact/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: contact\ndate: 2018-09-30 17:25:30\ntype: \"contact\"\nlayout: \"contact\"\n---\n```\n\n\n> **注**：本留言板功能依赖于第三方评论系统，请**激活**你的评论系统才有效果。并且在主题的 `_config.yml` 文件中，第 `19` 至 `21` 行的“**菜单**”配置，取消关于留言板的注释即可。\n\n\n\n<a name=\"f42b41b9\"></a>\n### 新建友情链接 friends 页（可选的）\n\n<br />`friends` 页是用来展示**友情链接**信息的页面，如果在你的博客 `source` 目录下还没有 `friends/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"friends\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/friends/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: friends\ndate: 2018-12-12 21:25:30\ntype: \"friends\"\nlayout: \"friends\"\n---\n```\n\n<br />同时，在你的博客 `source` 目录下新建 `_data` 目录，在 `_data` 目录中新建 `friends.json` 文件，文件内容如下所示：<br />\n\n```json\n[{\n    \"avatar\": \"http://image.luokangyuan.com/1_qq_27922023.jpg\",\n    \"name\": \"码酱\",\n    \"introduction\": \"我不是大佬，只是在追寻大佬的脚步\",\n    \"url\": \"http://luokangyuan.com/\",\n    \"title\": \"前去学习\"\n}, {\n    \"avatar\": \"http://image.luokangyuan.com/4027734.jpeg\",\n    \"name\": \"闪烁之狐\",\n    \"introduction\": \"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬\",\n    \"url\": \"https://blinkfox.github.io/\",\n    \"title\": \"前去学习\"\n}, {\n    \"avatar\": \"http://image.luokangyuan.com/avatar.jpg\",\n    \"name\": \"ja_rome\",\n    \"introduction\": \"平凡的脚步也可以走出伟大的行程\",\n    \"url\": \"https://me.csdn.net/jlh912008548\",\n    \"title\": \"前去学习\"\n}]\n```\n\n\n<a name=\"46dd66e0\"></a>\n### 新建 404 页\n\n<br />如果在你的博客 `source` 目录下还没有 `404.md` 文件，那么你就需要新建一个<br />\n\n```bash\nhexo new page 404\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/404/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: 404\ndate: 2018-09-30 17:25:30\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Oops～，我崩溃了！找不到你想要的页面 :(\"\n---\n```\n\n\n<a name=\"8464a785\"></a>\n### 菜单导航配置\n\n\n<a name=\"1a6527d0\"></a>\n#### 配置基本菜单导航的名称、路径url和图标icon.\n\n<br />1.菜单导航名称可以是中文也可以是英文(如：`Index`或`主页`)<br />2.图标icon 可以在[Font Awesome](https://fontawesome.com/icons) 中查找<br />\n\n```yaml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n```\n\n\n<a name=\"5b0f493d\"></a>\n#### 二级菜单配置方法\n\n<br />如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作<br />\n\n1. 在需要添加二级菜单的一级菜单下添加`children`关键字(如:`About`菜单下添加`children`)\n2. 在`children`下创建二级菜单的 名称name,路径url和图标icon.\n3. 注意每个二级菜单模块前要加 `-`.\n4. 注意缩进格式\n\n\n\n```yaml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Music\n        url: /music\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image\n```\n\n\n<a name=\"38bbd995\"></a>\n### 代码高亮\n\n<br />从 Hexo5.0 版本开始自带了 `prismjs` 代码语法高亮的支持，本主题对此进行了改造支持。<br />\n<br />如果你的博客中曾经安装过 `hexo-prism-plugin` 的插件，那么你须要执行 `npm uninstall hexo-prism-plugin` 来卸载掉它，否则生成的代码中会有 `&#123;` 和 `&#125;` 的转义字符。<br />\n<br />然后，修改 Hexo 根目录下 `_config.yml` 文件中 `highlight.enable` 的值为 `false`，并将 `prismjs.enable` 的值设置为 `true`，主要配置如下：<br />\n\n```yaml\nhighlight:\n  enable: false\n  line_number: true\n  auto_detect: false\n  tab_replace: ''\n  wrap: true\n  hljs: false\nprismjs:\n  enable: true\n  preprocess: true\n  line_number: true\n  tab_replace: ''\n```\n\n<br />主题中默认的 `prismjs` 主题是 `Tomorrow Night`，如果你想定制自己的主题，可以前往 [prismjs 下载页面](https://prismjs.com/download.html) 定制下载自己喜欢的主题 `css` 文件，然后将此 css 主题文件取名为 `prism.css`，替换掉 `hexo-theme-matery` 主题文件夹中的 `source/libs/prism/prism.css` 文件即可。<br />\n\n<a name=\"e5f71fc3\"></a>\n### 搜索\n\n<br />本主题中还使用到了 [hexo-generator-search](https://github.com/wzpan/hexo-generator-search) 的 Hexo 插件来做内容搜索，安装命令如下：<br />\n\n```bash\nnpm install hexo-generator-search --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\nsearch:\n  path: search.xml\n  field: post\n```\n\n\n<a name=\"bfe676d1\"></a>\n### 中文链接转拼音（建议安装）\n\n<br />如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 `SEO`，且 `gitment` 评论对中文链接也不支持。我们可以用 [hexo-permalink-pinyin](https://github.com/viko16/hexo-permalink-pinyin) Hexo 插件使在生成文章时生成中文拼音的永久链接。<br />\n<br />安装命令如下：<br />\n\n```bash\nnpm i hexo-permalink-pinyin --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\npermalink_pinyin:\n  enable: true\n  separator: '-' # default: '-'\n```\n\n\n> **注**：除了此插件外，[hexo-abbrlink](https://github.com/rozbo/hexo-abbrlink) 插件也可以生成非中文的链接。\n\n\n\n<a name=\"d913dca0\"></a>\n### 文章字数统计插件（建议安装）\n\n<br />如果你想要在文章中显示文章字数、阅读时长信息，可以安装 [hexo-wordcount](https://github.com/willin/hexo-wordcount)插件。<br />\n<br />安装命令如下：<br />\n\n```bash\nnpm i --save hexo-wordcount\n```\n\n<br />然后只需在本主题下的 `_config.yml` 文件中，将各个文章字数相关的配置激活即可：<br />\n\n```yaml\npostInfo:\n  date: true\n  update: false\n  wordCount: false # 设置文章字数统计为 true.\n  totalCount: false # 设置站点文章总字数统计为 true.\n  min2read: false # 阅读时长.\n  readCount: false # 阅读次数.\n```\n\n\n<a name=\"2a5faabd\"></a>\n### 添加emoji表情支持（可选的）\n\n<br />本主题新增了对`emoji`表情的支持，使用到了 [hexo-filter-github-emojis](https://npm.taobao.org/package/hexo-filter-github-emojis) 的 Hexo 插件来支持 `emoji`表情的生成，把对应的`markdown emoji`语法（`::`,例如：`:smile:`）转变成会跳跃的`emoji`表情，安装命令如下：<br />\n\n```bash\nnpm install hexo-filter-github-emojis --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\ngithubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:\n```\n\n<br />执行 `hexo clean && hexo g` 重新生成博客文件，然后就可以在文章中对应位置看到你用`emoji`语法写的表情了。<br />\n\n<a name=\"93a6c56a\"></a>\n### 添加 RSS 订阅支持（可选的）\n\n<br />本主题中还使用到了 [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed) 的 Hexo 插件来做 `RSS`，安装命令如下：<br />\n\n```bash\nnpm install hexo-generator-feed --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\nfeed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date\n```\n\n<br />执行 `hexo clean && hexo g` 重新生成博客文件，然后在 `public` 文件夹中即可看到 `atom.xml` 文件，说明你已经安装成功了。<br />\n\n<a name=\"97dc6720\"></a>\n### 添加 [DaoVoice](http://www.daovoice.io/) 在线聊天功能（可选的）\n\n<br />前往 [DaoVoice](http://www.daovoice.io/) 官网注册并且获取 `app_id`，并将 `app_id` 填入主题的 `_config.yml` 文件中。<br />\n\n<a name=\"a4e75667\"></a>\n### 添加 [Tidio](https://www.tidio.com/) 在线聊天功能（可选的）\n\n<br />前往 [Tidio](https://www.tidio.com/) 官网注册并且获取 `Public Key`，并将 `Public Key` 填入主题的 `_config.yml` 文件中。<br />\n\n<a name=\"0cc7004f\"></a>\n### 修改页脚\n\n<br />页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 `/layout/_partial/footer.ejs` 文件中，包括站点、使用的主题、访问量等。<br />\n\n<a name=\"02c0f2fd\"></a>\n### 修改社交链接\n\n<br />在主题的 `_config.yml` 文件中，默认支持 `QQ`、`GitHub` 和邮箱等的配置，你可以在主题文件的 `/layout/_partial/social-link.ejs` 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：<br />\n\n```html\n<% if (theme.socialLink.github) { %>\n    <a href=\"<%= theme.socialLink.github %>\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"访问我的GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fab fa-github\"></i>\n    </a>\n<% } %>\n```\n\n<br />其中，社交图标（如：`fa-github`）你可以在 [Font Awesome](https://fontawesome.com/icons) 中搜索找到。以下是常用社交图标的标识，供你参考：<br />\n\n- Facebook: `fab fa-facebook`\n- Twitter: `fab fa-twitter`\n- Google-plus: `fab fa-google-plus`\n- Linkedin: `fab fa-linkedin`\n- Tumblr: `fab fa-tumblr`\n- Medium: `fab fa-medium`\n- Slack: `fab fa-slack`\n- Sina Weibo: `fab fa-weibo`\n- Wechat: `fab fa-weixin`\n- QQ: `fab fa-qq`\n- Zhihu: `fab fa-zhihu`\n\n\n\n> **注意**: 本主题中使用的 `Font Awesome` 版本为 `5.11.0`。\n\n\n\n<a name=\"1ea40b9f\"></a>\n### 修改打赏的二维码图片\n\n<br />在主题文件的 `source/medias/reward` 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。<br />\n\n<a name=\"e979df71\"></a>\n### 配置音乐播放器（可选的）\n\n<br />要支持音乐播放，在主题的 `_config.yml` 配置文件中激活music配置即可：<br />\n\n```yaml\n# 是否在首页显示音乐\nmusic:\n  enable: true\n  title:     \t    # 非吸底模式有效\n    enable: true\n    show: 听听音乐\n  server: netease   # require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    # require song, playlist, album, search, artist\n  id: 503838841     # require song id / playlist id / album id / search keyword\n  fixed: false      # 开启吸底模式\n  autoplay: false   # 是否自动播放\n  theme: '#42b983'\n  loop: 'all'       # 音频循环播放, 可选值: 'all', 'one', 'none'\n  order: 'random'   # 音频循环顺序, 可选值: 'list', 'random'\n  preload: 'auto'   # 预加载，可选值: 'none', 'metadata', 'auto'\n  volume: 0.7       # 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效\n  listFolded: true  # 列表默认折叠\n```\n\n\n> `server`可选`netease`（网易云音乐），`tencent`（QQ音乐），`kugou`（酷狗音乐），`xiami`（虾米音乐），\n>  \n> `baidu`（百度音乐）。\n>  \n> `type`可选`song`（歌曲），`playlist`（歌单），`album`（专辑），`search`（搜索关键字），`artist`（歌手）\n>  \n> `id`获取方法示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，浏览器地址栏后面会有一串数字，`playlist`的`id`\n>  \n> 即为这串数字。\n\n\n\n<a name=\"c105517c\"></a>\n## 文章 Front-matter 介绍\n\n\n<a name=\"1ac1f175\"></a>\n### Front-matter 选项详解\n\n<br />`Front-matter` 选项中的所有内容均为**非必填**的。但我仍然建议至少填写 `title` 和 `date` 的值。\n\n| 配置选项 | 默认值 | 描述 |\n| --- | --- | --- |\n| title | `Markdown`<br /> 的文件标题 | 文章标题，强烈建议填写此选项 |\n| date | 文件创建时的日期时间 | 发布时间，强烈建议填写此选项，且最好保证全局唯一 |\n| author | 根 `_config.yml`<br /> 中的 `author` | 文章作者 |\n| img | `featureImages`<br /> 中的某个值 | 文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: `http://xxx.com/xxx.jpg` |\n| top | `true` | 推荐文章（文章是否置顶），如果 `top`<br /> 值为 `true`<br />，则会作为首页推荐文章 |\n| hide | `false` | 隐藏文章，如果`hide`<br />值为`true`<br />，则文章不会在首页显示 |\n| cover | `false` | `v1.0.2`<br />版本新增，表示该文章是否需要加入到首页轮播封面中 |\n| coverImg | 无 | `v1.0.2`<br />版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片 |\n| password | 无 | 文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 `password`<br /> 的值，该值必须是用 `SHA256`<br /> 加密后的密码，防止被他人识破。前提是在主题的 `config.yml`<br /> 中激活了 `verifyPassword`<br /> 选项 |\n| toc | `true` | 是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 `config.yml`<br /> 中激活了 `toc`<br /> 选项 |\n| mathjax | `false` | 是否开启数学公式支持 ，本文章是否开启 `mathjax`<br />，且需要在主题的 `_config.yml`<br /> 文件中也需要开启才行 |\n| summary | 无 | 文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要 |\n| categories | 无 | 文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类 |\n| tags | 无 | 文章标签，一篇文章可以多个标签 |\n| keywords | 文章标题 | 文章关键字，SEO 时需要 |\n| reprintPolicy | cc_by | 文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个 |\n\n\n\n> **注意**:\n>  \n> 1. 如果 `img` 属性不填写的话，文章特色图会根据文章标题的 `hashcode` 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章的特色图**各有特色**。\n> 2. `date` 的值尽量保证每篇文章是唯一的，因为本主题中 `Gitalk` 和 `Gitment` 识别 `id` 是通过 `date` 的值来作为唯一标识的。\n> 3. 如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 `_config.yml` 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：[开源中国在线工具](http://tool.oschina.net/encrypt?type=2)、[chahuo](http://encode.chahuo.com/)、[站长工具](http://tool.chinaz.com/tools/hash.aspx)。\n> 4. 您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则\n> \n \n\n\n<br />以下为文章的 `Front-matter` 示例。<br />\n\n<a name=\"acc8fdeb\"></a>\n### 最简示例\n\n\n```yaml\n---\ntitle: typora-vue-theme主题介绍\ndate: 2018-09-07 09:25:00\n---\n```\n\n\n<a name=\"d65a0c85\"></a>\n### 最全示例\n\n\n```yaml\n---\ntitle: typora-vue-theme主题介绍\ndate: 2018-09-07 09:25:00\nauthor: 赵奇\nimg: /source/images/xxx.jpg\ntop: true\nhide: false\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要\ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---\n```\n\n\n<a name=\"d01e1d9f\"></a>\n## 效果截图\n\n<br />![](http://static.blinkfox.com/matery-20181202-1.png#id=Vdjjt&originHeight=616&originWidth=1280&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-2.png#id=nG9fd&originHeight=799&originWidth=1280&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-3.png#id=UAEeA&originHeight=791&originWidth=1277&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-7.png#id=SdiVz&originHeight=755&originWidth=1265&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-8.png#id=cSOUu&originHeight=751&originWidth=1278&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"68ec7375\"></a>\n## 自定制修改\n\n<br />在本主题的 `_config.yml` 中可以修改部分自定义信息，有以下几个部分：<br />\n\n- 菜单\n- 我的梦想\n- 首页的音乐播放器和视频播放器配置\n- 是否显示推荐文章名称和按钮配置\n- `favicon` 和 `Logo`\n- 个人信息\n- TOC 目录\n- 文章打赏信息\n- 复制文章内容时追加版权信息\n- MathJax\n- 文章字数统计、阅读时长\n- 点击页面的'爱心'效果\n- 我的项目\n- 我的技能\n- 我的相册\n- `Gitalk`、`Gitment`、`Valine` 和 `disqus` 评论配置\n- [不蒜子统计](http://busuanzi.ibruce.info/)和谷歌分析（`Google Analytics`）\n- 默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 `hashcode` 值取余，来选择展示对应的特色图\n\n\n<br />**我认为个人博客应该都有自己的风格和特色**。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 `_config.yml` 中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：<br />\n\n<a name=\"eae5850e\"></a>\n### 修改主题颜色\n\n<br />在主题文件的 `/source/css/matery.css` 文件中，搜索 `.bg-color` 来修改背景颜色：<br />\n\n```css\n/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */\n.bg-color {\n    background-image: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%);\n}\n\n@-webkit-keyframes rainbow {\n   /* 动态切换背景颜色. */\n}\n\n@keyframes rainbow {\n    /* 动态切换背景颜色. */\n}\n```\n\n\n<a name=\"f06f3b27\"></a>\n### 修改 banner 图和文章特色图\n\n<br />你可以直接在 `/source/medias/banner` 文件夹中更换你喜欢的 `banner` 图片，主题代码中是每天动态切换一张，只需 `7` 张即可。如果你会 `JavaScript` 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，`banner` 切换的代码位置在 `/layout/_partial/bg-cover-content.ejs` 文件的 `<script></script>` 代码中：<br />\n\n```javascript\n$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');\n```\n\n<br />在 `/source/medias/featureimages` 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 `_config.yml` 做同步修改。<br />\n\n<a name=\"a60df95b\"></a>\n## 版本变更记录\n\n<br />参见 [CHANGELOG.md](https://github.com/blinkfox/hexo-theme-matery/blob/master/CHANGELOG.md)\n",
    "body_draft": "> 这是一个采用 `Material Design` 和响应式设计的 Hexo 博客主题。\n\n\n\n<a name=\"c666ad11\"></a>\n## 特性\n\n\n- 简单漂亮，文章内容美观易读\n- [Material Design](https://material.io/) 设计\n- 响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现\n- 首页轮播文章及每天动态切换 `Banner` 图片\n- 瀑布流式的博客文章列表（文章无特色图片时会有 `24` 张漂亮的图片代替）\n- 时间轴式的归档页\n- **词云**的标签页和**雷达图**的分类页\n- 丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）\n- 可自定义的数据的友情链接页面\n- 支持文章置顶和文章打赏\n- 支持 `MathJax`\n- `TOC` 目录\n- 可设置复制文章内容时追加版权信息\n- 可设置阅读文章时做密码验证\n- [Gitalk](https://gitalk.github.io/)、[Gitment](https://imsun.github.io/gitment/)、[Valine](https://valine.js.org/) 和 [Disqus](https://disqus.com/) 评论模块（推荐使用 `Gitalk`）\n- 集成了[不蒜子统计](http://busuanzi.ibruce.info/)、谷歌分析（`Google Analytics`）和文章字数统计等功能\n- 支持在首页的音乐播放和视频播放功能\n- 支持`emoji`表情，用`markdown emoji`语法书写直接生成对应的能**跳跃**的表情。\n- 支持 [DaoVoice](http://www.daovoice.io/)、[Tidio](https://www.tidio.com/) 在线聊天功能。\n\n\n\n<a name=\"5584b352\"></a>\n## 贡献者\n\n<br />感谢下面列出的贡献者，没有他们，hexo-theme-matery 不会这么完美。<br />\n\n- [@HarborZeng](https://github.com/HarborZeng)\n- [@shw2018](https://github.com/shw2018)\n- [@L1cardo](https://github.com/L1cardo)\n- [@Five-great](https://github.com/Five-great)\n\n\n\n<a name=\"f26ef914\"></a>\n## 下载\n\n<br />本主题**推荐你使用 Hexo 5.0.0 及以上的版本**。如果，你已经有一个自己的 [Hexo](https://hexo.io/zh-cn/) 博客了，建议你将 Hexo 升级到最新稳定的版本。<br />\n<br />点击 [这里](https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master) 下载 `master` 分支的最新稳定版的代码，解压缩后，将 `hexo-theme-matery` 的文件夹复制到你 Hexo 的 `themes` 文件夹中即可。<br />\n<br />当然你也可以在你的 `themes` 文件夹下使用 `git clone` 命令来下载:<br />\n\n```bash\ngit clone https://github.com/blinkfox/hexo-theme-matery.git\n```\n\n\n<a name=\"224e2ccd\"></a>\n## 配置\n\n\n<a name=\"583547cc\"></a>\n### 切换主题\n\n<br />修改 Hexo 根目录下的 `_config.yml` 的  `theme` 的值：`theme: hexo-theme-matery`<br />\n\n<a name=\"d2b1f64c\"></a>\n#### `_config.yml` 文件的其它修改建议:\n\n\n- 请修改 `_config.yml` 的 `url` 的值为你的网站主 `URL`（如：`http://xxx.github.io`）。\n- 建议修改两个 `per_page` 的分页条数值为 `6` 的倍数，如：`12`、`18` 等，这样文章列表在各个屏幕下都能较好的显示。\n- 如果你是中文用户，则建议修改 `language` 的值为 `zh-CN`。\n\n\n\n<a name=\"0fe7d221\"></a>\n### 新建分类 categories 页\n\n<br />`categories` 页是用来展示所有分类的页面，如果在你的博客 `source` 目录下还没有 `categories/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"categories\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/categories/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: categories\ndate: 2018-09-30 17:25:30\ntype: \"categories\"\nlayout: \"categories\"\n---\n```\n\n\n<a name=\"1ae9b7f3\"></a>\n### 新建标签 tags 页\n\n<br />`tags` 页是用来展示所有标签的页面，如果在你的博客 `source` 目录下还没有 `tags/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"tags\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/tags/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: tags\ndate: 2018-09-30 18:23:38\ntype: \"tags\"\nlayout: \"tags\"\n---\n```\n\n\n<a name=\"ea164841\"></a>\n### 新建关于我 about 页\n\n<br />`about` 页是用来展示**关于我和我的博客**信息的页面，如果在你的博客 `source` 目录下还没有 `about/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"about\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/about/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: about\ndate: 2018-09-30 17:25:30\ntype: \"about\"\nlayout: \"about\"\n---\n```\n\n\n<a name=\"7cbe81da\"></a>\n### 新建留言板 contact 页（可选的）\n\n<br />`contact` 页是用来展示**留言板**信息的页面，如果在你的博客 `source` 目录下还没有 `contact/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"contact\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/contact/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: contact\ndate: 2018-09-30 17:25:30\ntype: \"contact\"\nlayout: \"contact\"\n---\n```\n\n\n> **注**：本留言板功能依赖于第三方评论系统，请**激活**你的评论系统才有效果。并且在主题的 `_config.yml` 文件中，第 `19` 至 `21` 行的“**菜单**”配置，取消关于留言板的注释即可。\n\n\n\n<a name=\"f42b41b9\"></a>\n### 新建友情链接 friends 页（可选的）\n\n<br />`friends` 页是用来展示**友情链接**信息的页面，如果在你的博客 `source` 目录下还没有 `friends/index.md` 文件，那么你就需要新建一个，命令如下：<br />\n\n```bash\nhexo new page \"friends\"\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/friends/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: friends\ndate: 2018-12-12 21:25:30\ntype: \"friends\"\nlayout: \"friends\"\n---\n```\n\n<br />同时，在你的博客 `source` 目录下新建 `_data` 目录，在 `_data` 目录中新建 `friends.json` 文件，文件内容如下所示：<br />\n\n```json\n[{\n    \"avatar\": \"http://image.luokangyuan.com/1_qq_27922023.jpg\",\n    \"name\": \"码酱\",\n    \"introduction\": \"我不是大佬，只是在追寻大佬的脚步\",\n    \"url\": \"http://luokangyuan.com/\",\n    \"title\": \"前去学习\"\n}, {\n    \"avatar\": \"http://image.luokangyuan.com/4027734.jpeg\",\n    \"name\": \"闪烁之狐\",\n    \"introduction\": \"编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬\",\n    \"url\": \"https://blinkfox.github.io/\",\n    \"title\": \"前去学习\"\n}, {\n    \"avatar\": \"http://image.luokangyuan.com/avatar.jpg\",\n    \"name\": \"ja_rome\",\n    \"introduction\": \"平凡的脚步也可以走出伟大的行程\",\n    \"url\": \"https://me.csdn.net/jlh912008548\",\n    \"title\": \"前去学习\"\n}]\n```\n\n\n<a name=\"46dd66e0\"></a>\n### 新建 404 页\n\n<br />如果在你的博客 `source` 目录下还没有 `404.md` 文件，那么你就需要新建一个<br />\n\n```bash\nhexo new page 404\n```\n\n<br />编辑你刚刚新建的页面文件 `/source/404/index.md`，至少需要以下内容：<br />\n\n```yaml\n---\ntitle: 404\ndate: 2018-09-30 17:25:30\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Oops～，我崩溃了！找不到你想要的页面 :(\"\n---\n```\n\n\n<a name=\"8464a785\"></a>\n### 菜单导航配置\n\n\n<a name=\"1a6527d0\"></a>\n#### 配置基本菜单导航的名称、路径url和图标icon.\n\n<br />1.菜单导航名称可以是中文也可以是英文(如：`Index`或`主页`)<br />2.图标icon 可以在[Font Awesome](https://fontawesome.com/icons) 中查找<br />\n\n```yaml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n```\n\n\n<a name=\"5b0f493d\"></a>\n#### 二级菜单配置方法\n\n<br />如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作<br />\n\n1. 在需要添加二级菜单的一级菜单下添加`children`关键字(如:`About`菜单下添加`children`)\n2. 在`children`下创建二级菜单的 名称name,路径url和图标icon.\n3. 注意每个二级菜单模块前要加 `-`.\n4. 注意缩进格式\n\n\n\n```yaml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Music\n        url: /music\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image\n```\n\n\n<a name=\"38bbd995\"></a>\n### 代码高亮\n\n<br />从 Hexo5.0 版本开始自带了 `prismjs` 代码语法高亮的支持，本主题对此进行了改造支持。<br />\n<br />如果你的博客中曾经安装过 `hexo-prism-plugin` 的插件，那么你须要执行 `npm uninstall hexo-prism-plugin` 来卸载掉它，否则生成的代码中会有 `&#123;` 和 `&#125;` 的转义字符。<br />\n<br />然后，修改 Hexo 根目录下 `_config.yml` 文件中 `highlight.enable` 的值为 `false`，并将 `prismjs.enable` 的值设置为 `true`，主要配置如下：<br />\n\n```yaml\nhighlight:\n  enable: false\n  line_number: true\n  auto_detect: false\n  tab_replace: ''\n  wrap: true\n  hljs: false\nprismjs:\n  enable: true\n  preprocess: true\n  line_number: true\n  tab_replace: ''\n```\n\n<br />主题中默认的 `prismjs` 主题是 `Tomorrow Night`，如果你想定制自己的主题，可以前往 [prismjs 下载页面](https://prismjs.com/download.html) 定制下载自己喜欢的主题 `css` 文件，然后将此 css 主题文件取名为 `prism.css`，替换掉 `hexo-theme-matery` 主题文件夹中的 `source/libs/prism/prism.css` 文件即可。<br />\n\n<a name=\"e5f71fc3\"></a>\n### 搜索\n\n<br />本主题中还使用到了 [hexo-generator-search](https://github.com/wzpan/hexo-generator-search) 的 Hexo 插件来做内容搜索，安装命令如下：<br />\n\n```bash\nnpm install hexo-generator-search --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\nsearch:\n  path: search.xml\n  field: post\n```\n\n\n<a name=\"bfe676d1\"></a>\n### 中文链接转拼音（建议安装）\n\n<br />如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 `SEO`，且 `gitment` 评论对中文链接也不支持。我们可以用 [hexo-permalink-pinyin](https://github.com/viko16/hexo-permalink-pinyin) Hexo 插件使在生成文章时生成中文拼音的永久链接。<br />\n<br />安装命令如下：<br />\n\n```bash\nnpm i hexo-permalink-pinyin --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\npermalink_pinyin:\n  enable: true\n  separator: '-' # default: '-'\n```\n\n\n> **注**：除了此插件外，[hexo-abbrlink](https://github.com/rozbo/hexo-abbrlink) 插件也可以生成非中文的链接。\n\n\n\n<a name=\"d913dca0\"></a>\n### 文章字数统计插件（建议安装）\n\n<br />如果你想要在文章中显示文章字数、阅读时长信息，可以安装 [hexo-wordcount](https://github.com/willin/hexo-wordcount)插件。<br />\n<br />安装命令如下：<br />\n\n```bash\nnpm i --save hexo-wordcount\n```\n\n<br />然后只需在本主题下的 `_config.yml` 文件中，将各个文章字数相关的配置激活即可：<br />\n\n```yaml\npostInfo:\n  date: true\n  update: false\n  wordCount: false # 设置文章字数统计为 true.\n  totalCount: false # 设置站点文章总字数统计为 true.\n  min2read: false # 阅读时长.\n  readCount: false # 阅读次数.\n```\n\n\n<a name=\"2a5faabd\"></a>\n### 添加emoji表情支持（可选的）\n\n<br />本主题新增了对`emoji`表情的支持，使用到了 [hexo-filter-github-emojis](https://npm.taobao.org/package/hexo-filter-github-emojis) 的 Hexo 插件来支持 `emoji`表情的生成，把对应的`markdown emoji`语法（`::`,例如：`:smile:`）转变成会跳跃的`emoji`表情，安装命令如下：<br />\n\n```bash\nnpm install hexo-filter-github-emojis --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\ngithubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:\n```\n\n<br />执行 `hexo clean && hexo g` 重新生成博客文件，然后就可以在文章中对应位置看到你用`emoji`语法写的表情了。<br />\n\n<a name=\"93a6c56a\"></a>\n### 添加 RSS 订阅支持（可选的）\n\n<br />本主题中还使用到了 [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed) 的 Hexo 插件来做 `RSS`，安装命令如下：<br />\n\n```bash\nnpm install hexo-generator-feed --save\n```\n\n<br />在 Hexo 根目录下的 `_config.yml` 文件中，新增以下的配置项：<br />\n\n```yaml\nfeed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date\n```\n\n<br />执行 `hexo clean && hexo g` 重新生成博客文件，然后在 `public` 文件夹中即可看到 `atom.xml` 文件，说明你已经安装成功了。<br />\n\n<a name=\"97dc6720\"></a>\n### 添加 [DaoVoice](http://www.daovoice.io/) 在线聊天功能（可选的）\n\n<br />前往 [DaoVoice](http://www.daovoice.io/) 官网注册并且获取 `app_id`，并将 `app_id` 填入主题的 `_config.yml` 文件中。<br />\n\n<a name=\"a4e75667\"></a>\n### 添加 [Tidio](https://www.tidio.com/) 在线聊天功能（可选的）\n\n<br />前往 [Tidio](https://www.tidio.com/) 官网注册并且获取 `Public Key`，并将 `Public Key` 填入主题的 `_config.yml` 文件中。<br />\n\n<a name=\"0cc7004f\"></a>\n### 修改页脚\n\n<br />页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 `/layout/_partial/footer.ejs` 文件中，包括站点、使用的主题、访问量等。<br />\n\n<a name=\"02c0f2fd\"></a>\n### 修改社交链接\n\n<br />在主题的 `_config.yml` 文件中，默认支持 `QQ`、`GitHub` 和邮箱等的配置，你可以在主题文件的 `/layout/_partial/social-link.ejs` 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：<br />\n\n```html\n<% if (theme.socialLink.github) { %>\n    <a href=\"<%= theme.socialLink.github %>\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"访问我的GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fab fa-github\"></i>\n    </a>\n<% } %>\n```\n\n<br />其中，社交图标（如：`fa-github`）你可以在 [Font Awesome](https://fontawesome.com/icons) 中搜索找到。以下是常用社交图标的标识，供你参考：<br />\n\n- Facebook: `fab fa-facebook`\n- Twitter: `fab fa-twitter`\n- Google-plus: `fab fa-google-plus`\n- Linkedin: `fab fa-linkedin`\n- Tumblr: `fab fa-tumblr`\n- Medium: `fab fa-medium`\n- Slack: `fab fa-slack`\n- Sina Weibo: `fab fa-weibo`\n- Wechat: `fab fa-weixin`\n- QQ: `fab fa-qq`\n- Zhihu: `fab fa-zhihu`\n\n\n\n> **注意**: 本主题中使用的 `Font Awesome` 版本为 `5.11.0`。\n\n\n\n<a name=\"1ea40b9f\"></a>\n### 修改打赏的二维码图片\n\n<br />在主题文件的 `source/medias/reward` 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。<br />\n\n<a name=\"e979df71\"></a>\n### 配置音乐播放器（可选的）\n\n<br />要支持音乐播放，在主题的 `_config.yml` 配置文件中激活music配置即可：<br />\n\n```yaml\n# 是否在首页显示音乐\nmusic:\n  enable: true\n  title:     \t    # 非吸底模式有效\n    enable: true\n    show: 听听音乐\n  server: netease   # require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    # require song, playlist, album, search, artist\n  id: 503838841     # require song id / playlist id / album id / search keyword\n  fixed: false      # 开启吸底模式\n  autoplay: false   # 是否自动播放\n  theme: '#42b983'\n  loop: 'all'       # 音频循环播放, 可选值: 'all', 'one', 'none'\n  order: 'random'   # 音频循环顺序, 可选值: 'list', 'random'\n  preload: 'auto'   # 预加载，可选值: 'none', 'metadata', 'auto'\n  volume: 0.7       # 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效\n  listFolded: true  # 列表默认折叠\n```\n\n\n> `server`可选`netease`（网易云音乐），`tencent`（QQ音乐），`kugou`（酷狗音乐），`xiami`（虾米音乐），\n>  \n> `baidu`（百度音乐）。\n>  \n> `type`可选`song`（歌曲），`playlist`（歌单），`album`（专辑），`search`（搜索关键字），`artist`（歌手）\n>  \n> `id`获取方法示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，浏览器地址栏后面会有一串数字，`playlist`的`id`\n>  \n> 即为这串数字。\n\n\n\n<a name=\"c105517c\"></a>\n## 文章 Front-matter 介绍\n\n\n<a name=\"1ac1f175\"></a>\n### Front-matter 选项详解\n\n<br />`Front-matter` 选项中的所有内容均为**非必填**的。但我仍然建议至少填写 `title` 和 `date` 的值。\n\n| 配置选项 | 默认值 | 描述 |\n| --- | --- | --- |\n| title | `Markdown`<br /> 的文件标题 | 文章标题，强烈建议填写此选项 |\n| date | 文件创建时的日期时间 | 发布时间，强烈建议填写此选项，且最好保证全局唯一 |\n| author | 根 `_config.yml`<br /> 中的 `author` | 文章作者 |\n| img | `featureImages`<br /> 中的某个值 | 文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: `http://xxx.com/xxx.jpg` |\n| top | `true` | 推荐文章（文章是否置顶），如果 `top`<br /> 值为 `true`<br />，则会作为首页推荐文章 |\n| hide | `false` | 隐藏文章，如果`hide`<br />值为`true`<br />，则文章不会在首页显示 |\n| cover | `false` | `v1.0.2`<br />版本新增，表示该文章是否需要加入到首页轮播封面中 |\n| coverImg | 无 | `v1.0.2`<br />版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片 |\n| password | 无 | 文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 `password`<br /> 的值，该值必须是用 `SHA256`<br /> 加密后的密码，防止被他人识破。前提是在主题的 `config.yml`<br /> 中激活了 `verifyPassword`<br /> 选项 |\n| toc | `true` | 是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 `config.yml`<br /> 中激活了 `toc`<br /> 选项 |\n| mathjax | `false` | 是否开启数学公式支持 ，本文章是否开启 `mathjax`<br />，且需要在主题的 `_config.yml`<br /> 文件中也需要开启才行 |\n| summary | 无 | 文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要 |\n| categories | 无 | 文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类 |\n| tags | 无 | 文章标签，一篇文章可以多个标签 |\n| keywords | 文章标题 | 文章关键字，SEO 时需要 |\n| reprintPolicy | cc_by | 文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个 |\n\n\n\n> **注意**:\n>  \n> 1. 如果 `img` 属性不填写的话，文章特色图会根据文章标题的 `hashcode` 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章的特色图**各有特色**。\n> 2. `date` 的值尽量保证每篇文章是唯一的，因为本主题中 `Gitalk` 和 `Gitment` 识别 `id` 是通过 `date` 的值来作为唯一标识的。\n> 3. 如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 `_config.yml` 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：[开源中国在线工具](http://tool.oschina.net/encrypt?type=2)、[chahuo](http://encode.chahuo.com/)、[站长工具](http://tool.chinaz.com/tools/hash.aspx)。\n> 4. 您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则\n> \n \n\n\n<br />以下为文章的 `Front-matter` 示例。<br />\n\n<a name=\"acc8fdeb\"></a>\n### 最简示例\n\n\n```yaml\n---\ntitle: typora-vue-theme主题介绍\ndate: 2018-09-07 09:25:00\n---\n```\n\n\n<a name=\"d65a0c85\"></a>\n### 最全示例\n\n\n```yaml\n---\ntitle: typora-vue-theme主题介绍\ndate: 2018-09-07 09:25:00\nauthor: 赵奇\nimg: /source/images/xxx.jpg\ntop: true\nhide: false\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要\ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---\n```\n\n\n<a name=\"d01e1d9f\"></a>\n## 效果截图\n\n<br />![](http://static.blinkfox.com/matery-20181202-1.png#id=Vdjjt&originHeight=616&originWidth=1280&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-2.png#id=nG9fd&originHeight=799&originWidth=1280&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-3.png#id=UAEeA&originHeight=791&originWidth=1277&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-7.png#id=SdiVz&originHeight=755&originWidth=1265&originalType=binary&ratio=1&status=done&style=none)<br />\n<br />![](http://static.blinkfox.com/matery-20181202-8.png#id=cSOUu&originHeight=751&originWidth=1278&originalType=binary&ratio=1&status=done&style=none)<br />\n\n<a name=\"68ec7375\"></a>\n## 自定制修改\n\n<br />在本主题的 `_config.yml` 中可以修改部分自定义信息，有以下几个部分：<br />\n\n- 菜单\n- 我的梦想\n- 首页的音乐播放器和视频播放器配置\n- 是否显示推荐文章名称和按钮配置\n- `favicon` 和 `Logo`\n- 个人信息\n- TOC 目录\n- 文章打赏信息\n- 复制文章内容时追加版权信息\n- MathJax\n- 文章字数统计、阅读时长\n- 点击页面的'爱心'效果\n- 我的项目\n- 我的技能\n- 我的相册\n- `Gitalk`、`Gitment`、`Valine` 和 `disqus` 评论配置\n- [不蒜子统计](http://busuanzi.ibruce.info/)和谷歌分析（`Google Analytics`）\n- 默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 `hashcode` 值取余，来选择展示对应的特色图\n\n\n<br />**我认为个人博客应该都有自己的风格和特色**。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 `_config.yml` 中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：<br />\n\n<a name=\"eae5850e\"></a>\n### 修改主题颜色\n\n<br />在主题文件的 `/source/css/matery.css` 文件中，搜索 `.bg-color` 来修改背景颜色：<br />\n\n```css\n/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */\n.bg-color {\n    background-image: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%);\n}\n\n@-webkit-keyframes rainbow {\n   /* 动态切换背景颜色. */\n}\n\n@keyframes rainbow {\n    /* 动态切换背景颜色. */\n}\n```\n\n\n<a name=\"f06f3b27\"></a>\n### 修改 banner 图和文章特色图\n\n<br />你可以直接在 `/source/medias/banner` 文件夹中更换你喜欢的 `banner` 图片，主题代码中是每天动态切换一张，只需 `7` 张即可。如果你会 `JavaScript` 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，`banner` 切换的代码位置在 `/layout/_partial/bg-cover-content.ejs` 文件的 `<script></script>` 代码中：<br />\n\n```javascript\n$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');\n```\n\n<br />在 `/source/medias/featureimages` 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 `_config.yml` 做同步修改。<br />\n\n<a name=\"a60df95b\"></a>\n## 版本变更记录\n\n<br />参见 [CHANGELOG.md](https://github.com/blinkfox/hexo-theme-matery/blob/master/CHANGELOG.md)\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"traditional\"><div class=\"ne-quote\"><p id=\"uf3c13715\" class=\"ne-p\"><span class=\"ne-text\">这是一个采用 </span><code class=\"ne-code\"><span class=\"ne-text\">Material Design</span></code><span class=\"ne-text\"> 和响应式设计的 Hexo 博客主题。</span></p></div><p id=\"ua94bef1a\" class=\"ne-p\"><br></p><h2 id=\"c666ad11\"><span class=\"ne-text\">特性</span></h2><p id=\"u676debef\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u8b224731\"><span class=\"ne-text\">简单漂亮，文章内容美观易读</span></li></ul><ul class=\"ne-ul\"><li id=\"u78f22053\"><a href=\"https://material.io/\" data-href=\"https://material.io/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Material Design</span></a><span class=\"ne-text\"> 设计</span></li></ul><ul class=\"ne-ul\"><li id=\"ue77aef63\"><span class=\"ne-text\">响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</span></li></ul><ul class=\"ne-ul\"><li id=\"u663910c2\"><span class=\"ne-text\">首页轮播文章及每天动态切换 </span><code class=\"ne-code\"><span class=\"ne-text\">Banner</span></code><span class=\"ne-text\"> 图片</span></li></ul><ul class=\"ne-ul\"><li id=\"u30d1cb4f\"><span class=\"ne-text\">瀑布流式的博客文章列表（文章无特色图片时会有 </span><code class=\"ne-code\"><span class=\"ne-text\">24</span></code><span class=\"ne-text\"> 张漂亮的图片代替）</span></li></ul><ul class=\"ne-ul\"><li id=\"ua540b699\"><span class=\"ne-text\">时间轴式的归档页</span></li></ul><ul class=\"ne-ul\"><li id=\"u4ac68ef0\"><strong><span class=\"ne-text\">词云</span></strong><span class=\"ne-text\">的标签页和</span><strong><span class=\"ne-text\">雷达图</span></strong><span class=\"ne-text\">的分类页</span></li></ul><ul class=\"ne-ul\"><li id=\"u51eabcca\"><span class=\"ne-text\">丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）</span></li></ul><ul class=\"ne-ul\"><li id=\"uf39d5700\"><span class=\"ne-text\">可自定义的数据的友情链接页面</span></li></ul><ul class=\"ne-ul\"><li id=\"u079af402\"><span class=\"ne-text\">支持文章置顶和文章打赏</span></li></ul><ul class=\"ne-ul\"><li id=\"ub4b7d7ef\"><span class=\"ne-text\">支持 </span><code class=\"ne-code\"><span class=\"ne-text\">MathJax</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u739c1491\"><code class=\"ne-code\"><span class=\"ne-text\">TOC</span></code><span class=\"ne-text\"> 目录</span></li></ul><ul class=\"ne-ul\"><li id=\"u299ec020\"><span class=\"ne-text\">可设置复制文章内容时追加版权信息</span></li></ul><ul class=\"ne-ul\"><li id=\"ue00b423f\"><span class=\"ne-text\">可设置阅读文章时做密码验证</span></li></ul><ul class=\"ne-ul\"><li id=\"uf934127e\"><a href=\"https://gitalk.github.io/\" data-href=\"https://gitalk.github.io/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Gitalk</span></a><span class=\"ne-text\">、</span><a href=\"https://imsun.github.io/gitment/\" data-href=\"https://imsun.github.io/gitment/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Gitment</span></a><span class=\"ne-text\">、</span><a href=\"https://valine.js.org/\" data-href=\"https://valine.js.org/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Valine</span></a><span class=\"ne-text\"> 和 </span><a href=\"https://disqus.com/\" data-href=\"https://disqus.com/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Disqus</span></a><span class=\"ne-text\"> 评论模块（推荐使用 </span><code class=\"ne-code\"><span class=\"ne-text\">Gitalk</span></code><span class=\"ne-text\">）</span></li></ul><ul class=\"ne-ul\"><li id=\"ub6548ee6\"><span class=\"ne-text\">集成了</span><a href=\"http://busuanzi.ibruce.info/\" data-href=\"http://busuanzi.ibruce.info/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">不蒜子统计</span></a><span class=\"ne-text\">、谷歌分析（</span><code class=\"ne-code\"><span class=\"ne-text\">Google Analytics</span></code><span class=\"ne-text\">）和文章字数统计等功能</span></li></ul><ul class=\"ne-ul\"><li id=\"uf30bd63a\"><span class=\"ne-text\">支持在首页的音乐播放和视频播放功能</span></li></ul><ul class=\"ne-ul\"><li id=\"ue0181f94\"><span class=\"ne-text\">支持</span><code class=\"ne-code\"><span class=\"ne-text\">emoji</span></code><span class=\"ne-text\">表情，用</span><code class=\"ne-code\"><span class=\"ne-text\">markdown emoji</span></code><span class=\"ne-text\">语法书写直接生成对应的能</span><strong><span class=\"ne-text\">跳跃</span></strong><span class=\"ne-text\">的表情。</span></li></ul><ul class=\"ne-ul\"><li id=\"u9608aef0\"><span class=\"ne-text\">支持 </span><a href=\"http://www.daovoice.io/\" data-href=\"http://www.daovoice.io/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">DaoVoice</span></a><span class=\"ne-text\">、</span><a href=\"https://www.tidio.com/\" data-href=\"https://www.tidio.com/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Tidio</span></a><span class=\"ne-text\"> 在线聊天功能。</span></li></ul><p id=\"u8d1fa7d5\" class=\"ne-p\"><br></p><h2 id=\"5584b352\"><span class=\"ne-text\">贡献者</span></h2><p id=\"ueddc28ea\" class=\"ne-p\"><br></p><p id=\"u8269da17\" class=\"ne-p\"><span class=\"ne-text\">感谢下面列出的贡献者，没有他们，hexo-theme-matery 不会这么完美。</span></p><p id=\"u9340b783\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u35806387\"><a href=\"https://github.com/HarborZeng\" data-href=\"https://github.com/HarborZeng\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">@HarborZeng</span></a></li></ul><ul class=\"ne-ul\"><li id=\"u8abb5332\"><a href=\"https://github.com/shw2018\" data-href=\"https://github.com/shw2018\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">@shw2018</span></a></li></ul><ul class=\"ne-ul\"><li id=\"ue1c5c54c\"><a href=\"https://github.com/L1cardo\" data-href=\"https://github.com/L1cardo\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">@L1cardo</span></a></li></ul><ul class=\"ne-ul\"><li id=\"u84881055\"><a href=\"https://github.com/Five-great\" data-href=\"https://github.com/Five-great\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">@Five-great</span></a></li></ul><p id=\"ud6a73a81\" class=\"ne-p\"><br></p><h2 id=\"f26ef914\"><span class=\"ne-text\">下载</span></h2><p id=\"u04caaa3f\" class=\"ne-p\"><br></p><p id=\"u07b48ed8\" class=\"ne-p\"><span class=\"ne-text\">本主题</span><strong><span class=\"ne-text\">推荐你使用 Hexo 5.0.0 及以上的版本</span></strong><span class=\"ne-text\">。如果，你已经有一个自己的 </span><a href=\"https://hexo.io/zh-cn/\" data-href=\"https://hexo.io/zh-cn/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Hexo</span></a><span class=\"ne-text\"> 博客了，建议你将 Hexo 升级到最新稳定的版本。</span></p><p id=\"udbecd9b9\" class=\"ne-p\"><br></p><p id=\"u87d54826\" class=\"ne-p\"><span class=\"ne-text\">点击 </span><a href=\"https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master\" data-href=\"https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">这里</span></a><span class=\"ne-text\"> 下载 </span><code class=\"ne-code\"><span class=\"ne-text\">master</span></code><span class=\"ne-text\"> 分支的最新稳定版的代码，解压缩后，将 </span><code class=\"ne-code\"><span class=\"ne-text\">hexo-theme-matery</span></code><span class=\"ne-text\"> 的文件夹复制到你 Hexo 的 </span><code class=\"ne-code\"><span class=\"ne-text\">themes</span></code><span class=\"ne-text\"> 文件夹中即可。</span></p><p id=\"uccb8c075\" class=\"ne-p\"><br></p><p id=\"u30b2f552\" class=\"ne-p\"><span class=\"ne-text\">当然你也可以在你的 </span><code class=\"ne-code\"><span class=\"ne-text\">themes</span></code><span class=\"ne-text\"> 文件夹下使用 </span><code class=\"ne-code\"><span class=\"ne-text\">git clone</span></code><span class=\"ne-text\"> 命令来下载:</span></p><p id=\"ud157ff33\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"a1f414e5\" class=\"ne-codeblock\">git clone https://github.com/blinkfox/hexo-theme-matery.git</pre><p id=\"ub248c6f8\" class=\"ne-p\"><br></p><h2 id=\"224e2ccd\"><span class=\"ne-text\">配置</span></h2><p id=\"u37ff7c3f\" class=\"ne-p\"><br></p><h3 id=\"583547cc\"><span class=\"ne-text\">切换主题</span></h3><p id=\"u7167fb03\" class=\"ne-p\"><br></p><p id=\"u2e98e30a\" class=\"ne-p\"><span class=\"ne-text\">修改 Hexo 根目录下的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 的  </span><code class=\"ne-code\"><span class=\"ne-text\">theme</span></code><span class=\"ne-text\"> 的值：</span><code class=\"ne-code\"><span class=\"ne-text\">theme: hexo-theme-matery</span></code></p><p id=\"ub790f6f0\" class=\"ne-p\"><br></p><h4 id=\"d2b1f64c\"><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件的其它修改建议:</span></h4><p id=\"u9ea0acab\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ua36ed93e\"><span class=\"ne-text\">请修改 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 的 </span><code class=\"ne-code\"><span class=\"ne-text\">url</span></code><span class=\"ne-text\"> 的值为你的网站主 </span><code class=\"ne-code\"><span class=\"ne-text\">URL</span></code><span class=\"ne-text\">（如：</span><code class=\"ne-code\"><span class=\"ne-text\">http://xxx.github.io</span></code><span class=\"ne-text\">）。</span></li></ul><ul class=\"ne-ul\"><li id=\"ubda7070a\"><span class=\"ne-text\">建议修改两个 </span><code class=\"ne-code\"><span class=\"ne-text\">per_page</span></code><span class=\"ne-text\"> 的分页条数值为 </span><code class=\"ne-code\"><span class=\"ne-text\">6</span></code><span class=\"ne-text\"> 的倍数，如：</span><code class=\"ne-code\"><span class=\"ne-text\">12</span></code><span class=\"ne-text\">、</span><code class=\"ne-code\"><span class=\"ne-text\">18</span></code><span class=\"ne-text\"> 等，这样文章列表在各个屏幕下都能较好的显示。</span></li></ul><ul class=\"ne-ul\"><li id=\"u290c87e0\"><span class=\"ne-text\">如果你是中文用户，则建议修改 </span><code class=\"ne-code\"><span class=\"ne-text\">language</span></code><span class=\"ne-text\"> 的值为 </span><code class=\"ne-code\"><span class=\"ne-text\">zh-CN</span></code><span class=\"ne-text\">。</span></li></ul><p id=\"u991a5280\" class=\"ne-p\"><br></p><h3 id=\"0fe7d221\"><span class=\"ne-text\">新建分类 categories 页</span></h3><p id=\"uc0692634\" class=\"ne-p\"><br></p><p id=\"u9925e9d4\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">categories</span></code><span class=\"ne-text\"> 页是用来展示所有分类的页面，如果在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下还没有 </span><code class=\"ne-code\"><span class=\"ne-text\">categories/index.md</span></code><span class=\"ne-text\"> 文件，那么你就需要新建一个，命令如下：</span></p><p id=\"u41b8d9d9\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"38f3b3f7\" class=\"ne-codeblock\">hexo new page &quot;categories&quot;</pre><p id=\"u23659e90\" class=\"ne-p\"><br></p><p id=\"ub93906c5\" class=\"ne-p\"><span class=\"ne-text\">编辑你刚刚新建的页面文件 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/categories/index.md</span></code><span class=\"ne-text\">，至少需要以下内容：</span></p><p id=\"u2076d387\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"e1569199\" class=\"ne-codeblock\">---\ntitle: categories\ndate: 2018-09-30 17:25:30\ntype: &quot;categories&quot;\nlayout: &quot;categories&quot;\n---</pre><p id=\"u4a9e88bc\" class=\"ne-p\"><br></p><h3 id=\"1ae9b7f3\"><span class=\"ne-text\">新建标签 tags 页</span></h3><p id=\"u6bac6644\" class=\"ne-p\"><br></p><p id=\"u3da5793f\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">tags</span></code><span class=\"ne-text\"> 页是用来展示所有标签的页面，如果在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下还没有 </span><code class=\"ne-code\"><span class=\"ne-text\">tags/index.md</span></code><span class=\"ne-text\"> 文件，那么你就需要新建一个，命令如下：</span></p><p id=\"u8af2b94f\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"788934cf\" class=\"ne-codeblock\">hexo new page &quot;tags&quot;</pre><p id=\"u76198f00\" class=\"ne-p\"><br></p><p id=\"u1ead5676\" class=\"ne-p\"><span class=\"ne-text\">编辑你刚刚新建的页面文件 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/tags/index.md</span></code><span class=\"ne-text\">，至少需要以下内容：</span></p><p id=\"ub186dc32\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"91169731\" class=\"ne-codeblock\">---\ntitle: tags\ndate: 2018-09-30 18:23:38\ntype: &quot;tags&quot;\nlayout: &quot;tags&quot;\n---</pre><p id=\"ua197d13a\" class=\"ne-p\"><br></p><h3 id=\"ea164841\"><span class=\"ne-text\">新建关于我 about 页</span></h3><p id=\"u8741edb9\" class=\"ne-p\"><br></p><p id=\"ubdbbd035\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">about</span></code><span class=\"ne-text\"> 页是用来展示</span><strong><span class=\"ne-text\">关于我和我的博客</span></strong><span class=\"ne-text\">信息的页面，如果在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下还没有 </span><code class=\"ne-code\"><span class=\"ne-text\">about/index.md</span></code><span class=\"ne-text\"> 文件，那么你就需要新建一个，命令如下：</span></p><p id=\"u63737614\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"5fae1368\" class=\"ne-codeblock\">hexo new page &quot;about&quot;</pre><p id=\"u4f9c085c\" class=\"ne-p\"><br></p><p id=\"u65084750\" class=\"ne-p\"><span class=\"ne-text\">编辑你刚刚新建的页面文件 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/about/index.md</span></code><span class=\"ne-text\">，至少需要以下内容：</span></p><p id=\"u279e24c1\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"aecac7ea\" class=\"ne-codeblock\">---\ntitle: about\ndate: 2018-09-30 17:25:30\ntype: &quot;about&quot;\nlayout: &quot;about&quot;\n---</pre><p id=\"u414e60cf\" class=\"ne-p\"><br></p><h3 id=\"7cbe81da\"><span class=\"ne-text\">新建留言板 contact 页（可选的）</span></h3><p id=\"u64ee2cb4\" class=\"ne-p\"><br></p><p id=\"uc5f70bcf\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">contact</span></code><span class=\"ne-text\"> 页是用来展示</span><strong><span class=\"ne-text\">留言板</span></strong><span class=\"ne-text\">信息的页面，如果在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下还没有 </span><code class=\"ne-code\"><span class=\"ne-text\">contact/index.md</span></code><span class=\"ne-text\"> 文件，那么你就需要新建一个，命令如下：</span></p><p id=\"u7a3aefc0\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"c7743a7a\" class=\"ne-codeblock\">hexo new page &quot;contact&quot;</pre><p id=\"u4e4901b2\" class=\"ne-p\"><br></p><p id=\"u9a03b812\" class=\"ne-p\"><span class=\"ne-text\">编辑你刚刚新建的页面文件 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/contact/index.md</span></code><span class=\"ne-text\">，至少需要以下内容：</span></p><p id=\"ubd2f813c\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"4a854438\" class=\"ne-codeblock\">---\ntitle: contact\ndate: 2018-09-30 17:25:30\ntype: &quot;contact&quot;\nlayout: &quot;contact&quot;\n---</pre><p id=\"u3f1c2fb2\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u28dab0de\" class=\"ne-p\"><strong><span class=\"ne-text\">注</span></strong><span class=\"ne-text\">：本留言板功能依赖于第三方评论系统，请</span><strong><span class=\"ne-text\">激活</span></strong><span class=\"ne-text\">你的评论系统才有效果。并且在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，第 </span><code class=\"ne-code\"><span class=\"ne-text\">19</span></code><span class=\"ne-text\"> 至 </span><code class=\"ne-code\"><span class=\"ne-text\">21</span></code><span class=\"ne-text\"> 行的“</span><strong><span class=\"ne-text\">菜单</span></strong><span class=\"ne-text\">”配置，取消关于留言板的注释即可。</span></p></div><p id=\"u44d97afa\" class=\"ne-p\"><br></p><h3 id=\"f42b41b9\"><span class=\"ne-text\">新建友情链接 friends 页（可选的）</span></h3><p id=\"u4823aad8\" class=\"ne-p\"><br></p><p id=\"u3bdba874\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">friends</span></code><span class=\"ne-text\"> 页是用来展示</span><strong><span class=\"ne-text\">友情链接</span></strong><span class=\"ne-text\">信息的页面，如果在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下还没有 </span><code class=\"ne-code\"><span class=\"ne-text\">friends/index.md</span></code><span class=\"ne-text\"> 文件，那么你就需要新建一个，命令如下：</span></p><p id=\"ufd8abc3e\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"84c23dc5\" class=\"ne-codeblock\">hexo new page &quot;friends&quot;</pre><p id=\"uc28c0fd0\" class=\"ne-p\"><br></p><p id=\"u51a6679f\" class=\"ne-p\"><span class=\"ne-text\">编辑你刚刚新建的页面文件 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/friends/index.md</span></code><span class=\"ne-text\">，至少需要以下内容：</span></p><p id=\"u2af792ea\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"25194a3a\" class=\"ne-codeblock\">---\ntitle: friends\ndate: 2018-12-12 21:25:30\ntype: &quot;friends&quot;\nlayout: &quot;friends&quot;\n---</pre><p id=\"u0ce10f77\" class=\"ne-p\"><br></p><p id=\"ua725e649\" class=\"ne-p\"><span class=\"ne-text\">同时，在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下新建 </span><code class=\"ne-code\"><span class=\"ne-text\">_data</span></code><span class=\"ne-text\"> 目录，在 </span><code class=\"ne-code\"><span class=\"ne-text\">_data</span></code><span class=\"ne-text\"> 目录中新建 </span><code class=\"ne-code\"><span class=\"ne-text\">friends.json</span></code><span class=\"ne-text\"> 文件，文件内容如下所示：</span></p><p id=\"u6ca9fc12\" class=\"ne-p\"><br></p><pre data-language=\"json\" id=\"ec83b335\" class=\"ne-codeblock\">[{\n    &quot;avatar&quot;: &quot;http://image.luokangyuan.com/1_qq_27922023.jpg&quot;,\n    &quot;name&quot;: &quot;码酱&quot;,\n    &quot;introduction&quot;: &quot;我不是大佬，只是在追寻大佬的脚步&quot;,\n    &quot;url&quot;: &quot;http://luokangyuan.com/&quot;,\n    &quot;title&quot;: &quot;前去学习&quot;\n}, {\n    &quot;avatar&quot;: &quot;http://image.luokangyuan.com/4027734.jpeg&quot;,\n    &quot;name&quot;: &quot;闪烁之狐&quot;,\n    &quot;introduction&quot;: &quot;编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬&quot;,\n    &quot;url&quot;: &quot;https://blinkfox.github.io/&quot;,\n    &quot;title&quot;: &quot;前去学习&quot;\n}, {\n    &quot;avatar&quot;: &quot;http://image.luokangyuan.com/avatar.jpg&quot;,\n    &quot;name&quot;: &quot;ja_rome&quot;,\n    &quot;introduction&quot;: &quot;平凡的脚步也可以走出伟大的行程&quot;,\n    &quot;url&quot;: &quot;https://me.csdn.net/jlh912008548&quot;,\n    &quot;title&quot;: &quot;前去学习&quot;\n}]</pre><p id=\"ue4bd3bb6\" class=\"ne-p\"><br></p><h3 id=\"46dd66e0\"><span class=\"ne-text\">新建 404 页</span></h3><p id=\"u692d8604\" class=\"ne-p\"><br></p><p id=\"u6a480448\" class=\"ne-p\"><span class=\"ne-text\">如果在你的博客 </span><code class=\"ne-code\"><span class=\"ne-text\">source</span></code><span class=\"ne-text\"> 目录下还没有 </span><code class=\"ne-code\"><span class=\"ne-text\">404.md</span></code><span class=\"ne-text\"> 文件，那么你就需要新建一个</span></p><p id=\"u6e13a4ce\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"00937270\" class=\"ne-codeblock\">hexo new page 404</pre><p id=\"u65ed2807\" class=\"ne-p\"><br></p><p id=\"ub565af56\" class=\"ne-p\"><span class=\"ne-text\">编辑你刚刚新建的页面文件 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/404/index.md</span></code><span class=\"ne-text\">，至少需要以下内容：</span></p><p id=\"ue41539dd\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"5b3b3988\" class=\"ne-codeblock\">---\ntitle: 404\ndate: 2018-09-30 17:25:30\ntype: &quot;404&quot;\nlayout: &quot;404&quot;\ndescription: &quot;Oops～，我崩溃了！找不到你想要的页面 :(&quot;\n---</pre><p id=\"ue9e92405\" class=\"ne-p\"><br></p><h3 id=\"8464a785\"><span class=\"ne-text\">菜单导航配置</span></h3><p id=\"u7db76fe2\" class=\"ne-p\"><br></p><h4 id=\"1a6527d0\"><span class=\"ne-text\">配置基本菜单导航的名称、路径url和图标icon.</span></h4><p id=\"u7d3f9728\" class=\"ne-p\"><br></p><p id=\"u52baf7db\" class=\"ne-p\"><span class=\"ne-text\">1.菜单导航名称可以是中文也可以是英文(如：</span><code class=\"ne-code\"><span class=\"ne-text\">Index</span></code><span class=\"ne-text\">或</span><code class=\"ne-code\"><span class=\"ne-text\">主页</span></code><span class=\"ne-text\">)<br /></span><span class=\"ne-text\">2.图标icon 可以在</span><a href=\"https://fontawesome.com/icons\" data-href=\"https://fontawesome.com/icons\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Font Awesome</span></a><span class=\"ne-text\"> 中查找</span></p><p id=\"uc5930d8c\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"78cbd64d\" class=\"ne-codeblock\">menu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book</pre><p id=\"u43711e63\" class=\"ne-p\"><br></p><h4 id=\"5b0f493d\"><span class=\"ne-text\">二级菜单配置方法</span></h4><p id=\"u3a2d637b\" class=\"ne-p\"><br></p><p id=\"u08c2e703\" class=\"ne-p\"><span class=\"ne-text\">如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作</span></p><p id=\"ucb1daf17\" class=\"ne-p\"><br></p><ol class=\"ne-ol\"><li id=\"ub626539c\"><span class=\"ne-text\">在需要添加二级菜单的一级菜单下添加</span><code class=\"ne-code\"><span class=\"ne-text\">children</span></code><span class=\"ne-text\">关键字(如:</span><code class=\"ne-code\"><span class=\"ne-text\">About</span></code><span class=\"ne-text\">菜单下添加</span><code class=\"ne-code\"><span class=\"ne-text\">children</span></code><span class=\"ne-text\">)</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u31a9ffa6\"><span class=\"ne-text\">在</span><code class=\"ne-code\"><span class=\"ne-text\">children</span></code><span class=\"ne-text\">下创建二级菜单的 名称name,路径url和图标icon.</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"u96d2cfba\"><span class=\"ne-text\">注意每个二级菜单模块前要加 </span><code class=\"ne-code\"><span class=\"ne-text\">-</span></code><span class=\"ne-text\">.</span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"u9807234f\"><span class=\"ne-text\">注意缩进格式</span></li></ol><p id=\"u17ab91bb\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"d9b0ee30\" class=\"ne-codeblock\">menu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Music\n        url: /music\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image</pre><p id=\"u532fe467\" class=\"ne-p\"><br></p><h3 id=\"38bbd995\"><span class=\"ne-text\">代码高亮</span></h3><p id=\"u2b920783\" class=\"ne-p\"><br></p><p id=\"ub0e420b9\" class=\"ne-p\"><span class=\"ne-text\">从 Hexo5.0 版本开始自带了 </span><code class=\"ne-code\"><span class=\"ne-text\">prismjs</span></code><span class=\"ne-text\"> 代码语法高亮的支持，本主题对此进行了改造支持。</span></p><p id=\"u6649e4ca\" class=\"ne-p\"><br></p><p id=\"ue1a356b0\" class=\"ne-p\"><span class=\"ne-text\">如果你的博客中曾经安装过 </span><code class=\"ne-code\"><span class=\"ne-text\">hexo-prism-plugin</span></code><span class=\"ne-text\"> 的插件，那么你须要执行 </span><code class=\"ne-code\"><span class=\"ne-text\">npm uninstall hexo-prism-plugin</span></code><span class=\"ne-text\"> 来卸载掉它，否则生成的代码中会有 </span><code class=\"ne-code\"><span class=\"ne-text\">&amp;#123;</span></code><span class=\"ne-text\"> 和 </span><code class=\"ne-code\"><span class=\"ne-text\">&amp;#125;</span></code><span class=\"ne-text\"> 的转义字符。</span></p><p id=\"u9d89c586\" class=\"ne-p\"><br></p><p id=\"u42d44e89\" class=\"ne-p\"><span class=\"ne-text\">然后，修改 Hexo 根目录下 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中 </span><code class=\"ne-code\"><span class=\"ne-text\">highlight.enable</span></code><span class=\"ne-text\"> 的值为 </span><code class=\"ne-code\"><span class=\"ne-text\">false</span></code><span class=\"ne-text\">，并将 </span><code class=\"ne-code\"><span class=\"ne-text\">prismjs.enable</span></code><span class=\"ne-text\"> 的值设置为 </span><code class=\"ne-code\"><span class=\"ne-text\">true</span></code><span class=\"ne-text\">，主要配置如下：</span></p><p id=\"u6caa8fa3\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"b87420f5\" class=\"ne-codeblock\">highlight:\n  enable: false\n  line_number: true\n  auto_detect: false\n  tab_replace: ''\n  wrap: true\n  hljs: false\nprismjs:\n  enable: true\n  preprocess: true\n  line_number: true\n  tab_replace: ''</pre><p id=\"uc81947bc\" class=\"ne-p\"><br></p><p id=\"u7fefb6dd\" class=\"ne-p\"><span class=\"ne-text\">主题中默认的 </span><code class=\"ne-code\"><span class=\"ne-text\">prismjs</span></code><span class=\"ne-text\"> 主题是 </span><code class=\"ne-code\"><span class=\"ne-text\">Tomorrow Night</span></code><span class=\"ne-text\">，如果你想定制自己的主题，可以前往 </span><a href=\"https://prismjs.com/download.html\" data-href=\"https://prismjs.com/download.html\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">prismjs 下载页面</span></a><span class=\"ne-text\"> 定制下载自己喜欢的主题 </span><code class=\"ne-code\"><span class=\"ne-text\">css</span></code><span class=\"ne-text\"> 文件，然后将此 css 主题文件取名为 </span><code class=\"ne-code\"><span class=\"ne-text\">prism.css</span></code><span class=\"ne-text\">，替换掉 </span><code class=\"ne-code\"><span class=\"ne-text\">hexo-theme-matery</span></code><span class=\"ne-text\"> 主题文件夹中的 </span><code class=\"ne-code\"><span class=\"ne-text\">source/libs/prism/prism.css</span></code><span class=\"ne-text\"> 文件即可。</span></p><p id=\"u1c0068d8\" class=\"ne-p\"><br></p><h3 id=\"e5f71fc3\"><span class=\"ne-text\">搜索</span></h3><p id=\"u523df8d4\" class=\"ne-p\"><br></p><p id=\"udd5801b8\" class=\"ne-p\"><span class=\"ne-text\">本主题中还使用到了 </span><a href=\"https://github.com/wzpan/hexo-generator-search\" data-href=\"https://github.com/wzpan/hexo-generator-search\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hexo-generator-search</span></a><span class=\"ne-text\"> 的 Hexo 插件来做内容搜索，安装命令如下：</span></p><p id=\"u0dee8562\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"7270f801\" class=\"ne-codeblock\">npm install hexo-generator-search --save</pre><p id=\"ue1c9a87e\" class=\"ne-p\"><br></p><p id=\"udaea13de\" class=\"ne-p\"><span class=\"ne-text\">在 Hexo 根目录下的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，新增以下的配置项：</span></p><p id=\"uaae6d251\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"00790eb3\" class=\"ne-codeblock\">search:\n  path: search.xml\n  field: post</pre><p id=\"ufd6b5ce0\" class=\"ne-p\"><br></p><h3 id=\"bfe676d1\"><span class=\"ne-text\">中文链接转拼音（建议安装）</span></h3><p id=\"u1333cc00\" class=\"ne-p\"><br></p><p id=\"u70b69831\" class=\"ne-p\"><span class=\"ne-text\">如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 </span><code class=\"ne-code\"><span class=\"ne-text\">SEO</span></code><span class=\"ne-text\">，且 </span><code class=\"ne-code\"><span class=\"ne-text\">gitment</span></code><span class=\"ne-text\"> 评论对中文链接也不支持。我们可以用 </span><a href=\"https://github.com/viko16/hexo-permalink-pinyin\" data-href=\"https://github.com/viko16/hexo-permalink-pinyin\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hexo-permalink-pinyin</span></a><span class=\"ne-text\"> Hexo 插件使在生成文章时生成中文拼音的永久链接。</span></p><p id=\"u8d17b7f7\" class=\"ne-p\"><br></p><p id=\"uaa4184fc\" class=\"ne-p\"><span class=\"ne-text\">安装命令如下：</span></p><p id=\"u2ed31ed1\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"6c67f6af\" class=\"ne-codeblock\">npm i hexo-permalink-pinyin --save</pre><p id=\"u257612b2\" class=\"ne-p\"><br></p><p id=\"u25806065\" class=\"ne-p\"><span class=\"ne-text\">在 Hexo 根目录下的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，新增以下的配置项：</span></p><p id=\"ub599eecc\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"bde97b43\" class=\"ne-codeblock\">permalink_pinyin:\n  enable: true\n  separator: '-' # default: '-'</pre><p id=\"u86dc76db\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ue168795f\" class=\"ne-p\"><strong><span class=\"ne-text\">注</span></strong><span class=\"ne-text\">：除了此插件外，</span><a href=\"https://github.com/rozbo/hexo-abbrlink\" data-href=\"https://github.com/rozbo/hexo-abbrlink\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hexo-abbrlink</span></a><span class=\"ne-text\"> 插件也可以生成非中文的链接。</span></p></div><p id=\"uc493329d\" class=\"ne-p\"><br></p><h3 id=\"d913dca0\"><span class=\"ne-text\">文章字数统计插件（建议安装）</span></h3><p id=\"uddaa964d\" class=\"ne-p\"><br></p><p id=\"uae2875cd\" class=\"ne-p\"><span class=\"ne-text\">如果你想要在文章中显示文章字数、阅读时长信息，可以安装 </span><a href=\"https://github.com/willin/hexo-wordcount\" data-href=\"https://github.com/willin/hexo-wordcount\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hexo-wordcount</span></a><span class=\"ne-text\">插件。</span></p><p id=\"u0995dfd8\" class=\"ne-p\"><br></p><p id=\"ue7e1c5a6\" class=\"ne-p\"><span class=\"ne-text\">安装命令如下：</span></p><p id=\"u5d39786d\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"1b09e7db\" class=\"ne-codeblock\">npm i --save hexo-wordcount</pre><p id=\"uebce8d66\" class=\"ne-p\"><br></p><p id=\"u2117be37\" class=\"ne-p\"><span class=\"ne-text\">然后只需在本主题下的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，将各个文章字数相关的配置激活即可：</span></p><p id=\"ue441ffca\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"88a8614b\" class=\"ne-codeblock\">postInfo:\n  date: true\n  update: false\n  wordCount: false # 设置文章字数统计为 true.\n  totalCount: false # 设置站点文章总字数统计为 true.\n  min2read: false # 阅读时长.\n  readCount: false # 阅读次数.</pre><p id=\"u3db6dd2a\" class=\"ne-p\"><br></p><h3 id=\"2a5faabd\"><span class=\"ne-text\">添加emoji表情支持（可选的）</span></h3><p id=\"u8903bf3a\" class=\"ne-p\"><br></p><p id=\"u8935248b\" class=\"ne-p\"><span class=\"ne-text\">本主题新增了对</span><code class=\"ne-code\"><span class=\"ne-text\">emoji</span></code><span class=\"ne-text\">表情的支持，使用到了 </span><a href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\" data-href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hexo-filter-github-emojis</span></a><span class=\"ne-text\"> 的 Hexo 插件来支持 </span><code class=\"ne-code\"><span class=\"ne-text\">emoji</span></code><span class=\"ne-text\">表情的生成，把对应的</span><code class=\"ne-code\"><span class=\"ne-text\">markdown emoji</span></code><span class=\"ne-text\">语法（</span><code class=\"ne-code\"><span class=\"ne-text\">::</span></code><span class=\"ne-text\">,例如：</span><code class=\"ne-code\"><span class=\"ne-text\">:smile:</span></code><span class=\"ne-text\">）转变成会跳跃的</span><code class=\"ne-code\"><span class=\"ne-text\">emoji</span></code><span class=\"ne-text\">表情，安装命令如下：</span></p><p id=\"u37e2c0f7\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"059a943f\" class=\"ne-codeblock\">npm install hexo-filter-github-emojis --save</pre><p id=\"u4e63b5e6\" class=\"ne-p\"><br></p><p id=\"uec6e685a\" class=\"ne-p\"><span class=\"ne-text\">在 Hexo 根目录下的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，新增以下的配置项：</span></p><p id=\"u96a2df14\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"f573d599\" class=\"ne-codeblock\">githubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:</pre><p id=\"ud392d8a2\" class=\"ne-p\"><br></p><p id=\"uaf2f848b\" class=\"ne-p\"><span class=\"ne-text\">执行 </span><code class=\"ne-code\"><span class=\"ne-text\">hexo clean &amp;&amp; hexo g</span></code><span class=\"ne-text\"> 重新生成博客文件，然后就可以在文章中对应位置看到你用</span><code class=\"ne-code\"><span class=\"ne-text\">emoji</span></code><span class=\"ne-text\">语法写的表情了。</span></p><p id=\"u01f957ab\" class=\"ne-p\"><br></p><h3 id=\"93a6c56a\"><span class=\"ne-text\">添加 RSS 订阅支持（可选的）</span></h3><p id=\"u3c6c1942\" class=\"ne-p\"><br></p><p id=\"u4ac018b1\" class=\"ne-p\"><span class=\"ne-text\">本主题中还使用到了 </span><a href=\"https://github.com/hexojs/hexo-generator-feed\" data-href=\"https://github.com/hexojs/hexo-generator-feed\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">hexo-generator-feed</span></a><span class=\"ne-text\"> 的 Hexo 插件来做 </span><code class=\"ne-code\"><span class=\"ne-text\">RSS</span></code><span class=\"ne-text\">，安装命令如下：</span></p><p id=\"uf256a891\" class=\"ne-p\"><br></p><pre data-language=\"bash\" id=\"5053cdf9\" class=\"ne-codeblock\">npm install hexo-generator-feed --save</pre><p id=\"u1bb64213\" class=\"ne-p\"><br></p><p id=\"u7e4698ba\" class=\"ne-p\"><span class=\"ne-text\">在 Hexo 根目录下的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，新增以下的配置项：</span></p><p id=\"u8e89796a\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"c9f8aae9\" class=\"ne-codeblock\">feed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date</pre><p id=\"uc0f05af2\" class=\"ne-p\"><br></p><p id=\"uace16395\" class=\"ne-p\"><span class=\"ne-text\">执行 </span><code class=\"ne-code\"><span class=\"ne-text\">hexo clean &amp;&amp; hexo g</span></code><span class=\"ne-text\"> 重新生成博客文件，然后在 </span><code class=\"ne-code\"><span class=\"ne-text\">public</span></code><span class=\"ne-text\"> 文件夹中即可看到 </span><code class=\"ne-code\"><span class=\"ne-text\">atom.xml</span></code><span class=\"ne-text\"> 文件，说明你已经安装成功了。</span></p><p id=\"u59b939a7\" class=\"ne-p\"><br></p><h3 id=\"97dc6720\"><span class=\"ne-text\">添加 </span><a href=\"http://www.daovoice.io/\" data-href=\"http://www.daovoice.io/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">DaoVoice</span></a><span class=\"ne-text\"> 在线聊天功能（可选的）</span></h3><p id=\"u6ba8248c\" class=\"ne-p\"><br></p><p id=\"u9ba6c2c1\" class=\"ne-p\"><span class=\"ne-text\">前往 </span><a href=\"http://www.daovoice.io/\" data-href=\"http://www.daovoice.io/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">DaoVoice</span></a><span class=\"ne-text\"> 官网注册并且获取 </span><code class=\"ne-code\"><span class=\"ne-text\">app_id</span></code><span class=\"ne-text\">，并将 </span><code class=\"ne-code\"><span class=\"ne-text\">app_id</span></code><span class=\"ne-text\"> 填入主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中。</span></p><p id=\"ucc321545\" class=\"ne-p\"><br></p><h3 id=\"a4e75667\"><span class=\"ne-text\">添加 </span><a href=\"https://www.tidio.com/\" data-href=\"https://www.tidio.com/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Tidio</span></a><span class=\"ne-text\"> 在线聊天功能（可选的）</span></h3><p id=\"ua1338c52\" class=\"ne-p\"><br></p><p id=\"uf8cd35b1\" class=\"ne-p\"><span class=\"ne-text\">前往 </span><a href=\"https://www.tidio.com/\" data-href=\"https://www.tidio.com/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Tidio</span></a><span class=\"ne-text\"> 官网注册并且获取 </span><code class=\"ne-code\"><span class=\"ne-text\">Public Key</span></code><span class=\"ne-text\">，并将 </span><code class=\"ne-code\"><span class=\"ne-text\">Public Key</span></code><span class=\"ne-text\"> 填入主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中。</span></p><p id=\"uba30dc02\" class=\"ne-p\"><br></p><h3 id=\"0cc7004f\"><span class=\"ne-text\">修改页脚</span></h3><p id=\"u1bd88406\" class=\"ne-p\"><br></p><p id=\"ub51f5c72\" class=\"ne-p\"><span class=\"ne-text\">页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 </span><code class=\"ne-code\"><span class=\"ne-text\">/layout/_partial/footer.ejs</span></code><span class=\"ne-text\"> 文件中，包括站点、使用的主题、访问量等。</span></p><p id=\"u64935535\" class=\"ne-p\"><br></p><h3 id=\"02c0f2fd\"><span class=\"ne-text\">修改社交链接</span></h3><p id=\"ud00d1c03\" class=\"ne-p\"><br></p><p id=\"u34dcb1cd\" class=\"ne-p\"><span class=\"ne-text\">在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 文件中，默认支持 </span><code class=\"ne-code\"><span class=\"ne-text\">QQ</span></code><span class=\"ne-text\">、</span><code class=\"ne-code\"><span class=\"ne-text\">GitHub</span></code><span class=\"ne-text\"> 和邮箱等的配置，你可以在主题文件的 </span><code class=\"ne-code\"><span class=\"ne-text\">/layout/_partial/social-link.ejs</span></code><span class=\"ne-text\"> 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：</span></p><p id=\"ubeaa1405\" class=\"ne-p\"><br></p><pre data-language=\"html\" id=\"6731cc66\" class=\"ne-codeblock\">&lt;% if (theme.socialLink.github) { %&gt;\n    &lt;a href=&quot;&lt;%= theme.socialLink.github %&gt;&quot; class=&quot;tooltipped&quot; target=&quot;_blank&quot; data-tooltip=&quot;访问我的GitHub&quot; data-position=&quot;top&quot; data-delay=&quot;50&quot;&gt;\n        &lt;i class=&quot;fab fa-github&quot;&gt;&lt;/i&gt;\n    &lt;/a&gt;\n&lt;% } %&gt;</pre><p id=\"u7ad08731\" class=\"ne-p\"><br></p><p id=\"u61fe7224\" class=\"ne-p\"><span class=\"ne-text\">其中，社交图标（如：</span><code class=\"ne-code\"><span class=\"ne-text\">fa-github</span></code><span class=\"ne-text\">）你可以在 </span><a href=\"https://fontawesome.com/icons\" data-href=\"https://fontawesome.com/icons\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Font Awesome</span></a><span class=\"ne-text\"> 中搜索找到。以下是常用社交图标的标识，供你参考：</span></p><p id=\"uf38dff5e\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"ud6faccf7\"><span class=\"ne-text\">Facebook: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-facebook</span></code></li></ul><ul class=\"ne-ul\"><li id=\"ud2c29052\"><span class=\"ne-text\">Twitter: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-twitter</span></code></li></ul><ul class=\"ne-ul\"><li id=\"ua2107516\"><span class=\"ne-text\">Google-plus: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-google-plus</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u8c2579b4\"><span class=\"ne-text\">Linkedin: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-linkedin</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u5929c734\"><span class=\"ne-text\">Tumblr: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-tumblr</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u04b1916f\"><span class=\"ne-text\">Medium: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-medium</span></code></li></ul><ul class=\"ne-ul\"><li id=\"uc8b47783\"><span class=\"ne-text\">Slack: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-slack</span></code></li></ul><ul class=\"ne-ul\"><li id=\"uf854b8e2\"><span class=\"ne-text\">Sina Weibo: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-weibo</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u593dd941\"><span class=\"ne-text\">Wechat: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-weixin</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u133aa5ed\"><span class=\"ne-text\">QQ: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-qq</span></code></li></ul><ul class=\"ne-ul\"><li id=\"uf3d8f0ee\"><span class=\"ne-text\">Zhihu: </span><code class=\"ne-code\"><span class=\"ne-text\">fab fa-zhihu</span></code></li></ul><p id=\"u1d9fc507\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u4af6d214\" class=\"ne-p\"><strong><span class=\"ne-text\">注意</span></strong><span class=\"ne-text\">: 本主题中使用的 </span><code class=\"ne-code\"><span class=\"ne-text\">Font Awesome</span></code><span class=\"ne-text\"> 版本为 </span><code class=\"ne-code\"><span class=\"ne-text\">5.11.0</span></code><span class=\"ne-text\">。</span></p></div><p id=\"u488c4ac3\" class=\"ne-p\"><br></p><h3 id=\"1ea40b9f\"><span class=\"ne-text\">修改打赏的二维码图片</span></h3><p id=\"u6f0506b3\" class=\"ne-p\"><br></p><p id=\"ud73a45d3\" class=\"ne-p\"><span class=\"ne-text\">在主题文件的 </span><code class=\"ne-code\"><span class=\"ne-text\">source/medias/reward</span></code><span class=\"ne-text\"> 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。</span></p><p id=\"u4aadb362\" class=\"ne-p\"><br></p><h3 id=\"e979df71\"><span class=\"ne-text\">配置音乐播放器（可选的）</span></h3><p id=\"ub128e2b9\" class=\"ne-p\"><br></p><p id=\"udc1912d2\" class=\"ne-p\"><span class=\"ne-text\">要支持音乐播放，在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 配置文件中激活music配置即可：</span></p><p id=\"u569029f3\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"76ff3ec8\" class=\"ne-codeblock\"># 是否在首页显示音乐\nmusic:\n  enable: true\n  title:     \t    # 非吸底模式有效\n    enable: true\n    show: 听听音乐\n  server: netease   # require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    # require song, playlist, album, search, artist\n  id: 503838841     # require song id / playlist id / album id / search keyword\n  fixed: false      # 开启吸底模式\n  autoplay: false   # 是否自动播放\n  theme: '#42b983'\n  loop: 'all'       # 音频循环播放, 可选值: 'all', 'one', 'none'\n  order: 'random'   # 音频循环顺序, 可选值: 'list', 'random'\n  preload: 'auto'   # 预加载，可选值: 'none', 'metadata', 'auto'\n  volume: 0.7       # 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效\n  listFolded: true  # 列表默认折叠</pre><p id=\"u03721977\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"ua7572534\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">server</span></code><span class=\"ne-text\">可选</span><code class=\"ne-code\"><span class=\"ne-text\">netease</span></code><span class=\"ne-text\">（网易云音乐），</span><code class=\"ne-code\"><span class=\"ne-text\">tencent</span></code><span class=\"ne-text\">（QQ音乐），</span><code class=\"ne-code\"><span class=\"ne-text\">kugou</span></code><span class=\"ne-text\">（酷狗音乐），</span><code class=\"ne-code\"><span class=\"ne-text\">xiami</span></code><span class=\"ne-text\">（虾米音乐），</span></p><p id=\"ue4dc68b0\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u3d4bccaf\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">baidu</span></code><span class=\"ne-text\">（百度音乐）。</span></p><p id=\"u663ec405\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u6c3b645e\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">type</span></code><span class=\"ne-text\">可选</span><code class=\"ne-code\"><span class=\"ne-text\">song</span></code><span class=\"ne-text\">（歌曲），</span><code class=\"ne-code\"><span class=\"ne-text\">playlist</span></code><span class=\"ne-text\">（歌单），</span><code class=\"ne-code\"><span class=\"ne-text\">album</span></code><span class=\"ne-text\">（专辑），</span><code class=\"ne-code\"><span class=\"ne-text\">search</span></code><span class=\"ne-text\">（搜索关键字），</span><code class=\"ne-code\"><span class=\"ne-text\">artist</span></code><span class=\"ne-text\">（歌手）</span></p><p id=\"ubbc45025\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u14c884cd\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">id</span></code><span class=\"ne-text\">获取方法示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，浏览器地址栏后面会有一串数字，</span><code class=\"ne-code\"><span class=\"ne-text\">playlist</span></code><span class=\"ne-text\">的</span><code class=\"ne-code\"><span class=\"ne-text\">id</span></code></p><p id=\"ufbfea646\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><p id=\"u362d0e3d\" class=\"ne-p\"><span class=\"ne-text\">即为这串数字。</span></p></div><p id=\"u2b52a998\" class=\"ne-p\"><br></p><h2 id=\"c105517c\"><span class=\"ne-text\">文章 Front-matter 介绍</span></h2><p id=\"u6f9c7fb7\" class=\"ne-p\"><br></p><h3 id=\"1ac1f175\"><span class=\"ne-text\">Front-matter 选项详解</span></h3><p id=\"uff095cb3\" class=\"ne-p\"><br></p><p id=\"u264a547d\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Front-matter</span></code><span class=\"ne-text\"> 选项中的所有内容均为</span><strong><span class=\"ne-text\">非必填</span></strong><span class=\"ne-text\">的。但我仍然建议至少填写 </span><code class=\"ne-code\"><span class=\"ne-text\">title</span></code><span class=\"ne-text\"> 和 </span><code class=\"ne-code\"><span class=\"ne-text\">date</span></code><span class=\"ne-text\"> 的值。</span></p><table id=\"2a022d38\" class=\"ne-table\" style=\"width: 750px\"><tbody><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u3bc0e560\" class=\"ne-p\"><span class=\"ne-text\">配置选项</span></p></td><td width=\"250\"><p id=\"u2ee63a93\" class=\"ne-p\"><span class=\"ne-text\">默认值</span></p></td><td width=\"250\"><p id=\"u675994c3\" class=\"ne-p\"><span class=\"ne-text\">描述</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u1f06b63f\" class=\"ne-p\"><span class=\"ne-text\">title</span></p></td><td width=\"250\"><p id=\"u719f5f2c\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">Markdown</span></code></p><p id=\"uf152ba96\" class=\"ne-p\"><span class=\"ne-text\"> 的文件标题</span></p></td><td width=\"250\"><p id=\"u92ebe5ec\" class=\"ne-p\"><span class=\"ne-text\">文章标题，强烈建议填写此选项</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"uaed6a91a\" class=\"ne-p\"><span class=\"ne-text\">date</span></p></td><td width=\"250\"><p id=\"u6ae3cde1\" class=\"ne-p\"><span class=\"ne-text\">文件创建时的日期时间</span></p></td><td width=\"250\"><p id=\"u1001c2be\" class=\"ne-p\"><span class=\"ne-text\">发布时间，强烈建议填写此选项，且最好保证全局唯一</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ue8b44023\" class=\"ne-p\"><span class=\"ne-text\">author</span></p></td><td width=\"250\"><p id=\"u8fc7855d\" class=\"ne-p\"><span class=\"ne-text\">根 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code></p><p id=\"ud7e2ae2f\" class=\"ne-p\"><span class=\"ne-text\"> 中的 </span><code class=\"ne-code\"><span class=\"ne-text\">author</span></code></p></td><td width=\"250\"><p id=\"u30013837\" class=\"ne-p\"><span class=\"ne-text\">文章作者</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u70f7e42a\" class=\"ne-p\"><span class=\"ne-text\">img</span></p></td><td width=\"250\"><p id=\"u92c67dc3\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">featureImages</span></code></p><p id=\"u3544f98e\" class=\"ne-p\"><span class=\"ne-text\"> 中的某个值</span></p></td><td width=\"250\"><p id=\"ufefbd5b3\" class=\"ne-p\"><span class=\"ne-text\">文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: </span><code class=\"ne-code\"><span class=\"ne-text\">http://xxx.com/xxx.jpg</span></code></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"uc874850a\" class=\"ne-p\"><span class=\"ne-text\">top</span></p></td><td width=\"250\"><p id=\"u6fc57b3c\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">true</span></code></p></td><td width=\"250\"><p id=\"u8a440ffa\" class=\"ne-p\"><span class=\"ne-text\">推荐文章（文章是否置顶），如果 </span><code class=\"ne-code\"><span class=\"ne-text\">top</span></code></p><p id=\"u672bd5e8\" class=\"ne-p\"><span class=\"ne-text\"> 值为 </span><code class=\"ne-code\"><span class=\"ne-text\">true</span></code></p><p id=\"ud9c014f4\" class=\"ne-p\"><span class=\"ne-text\">，则会作为首页推荐文章</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u7fff03d6\" class=\"ne-p\"><span class=\"ne-text\">hide</span></p></td><td width=\"250\"><p id=\"uced8afea\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">false</span></code></p></td><td width=\"250\"><p id=\"uc8f594b9\" class=\"ne-p\"><span class=\"ne-text\">隐藏文章，如果</span><code class=\"ne-code\"><span class=\"ne-text\">hide</span></code></p><p id=\"u8be31a04\" class=\"ne-p\"><span class=\"ne-text\">值为</span><code class=\"ne-code\"><span class=\"ne-text\">true</span></code></p><p id=\"uf9052015\" class=\"ne-p\"><span class=\"ne-text\">，则文章不会在首页显示</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u125b770f\" class=\"ne-p\"><span class=\"ne-text\">cover</span></p></td><td width=\"250\"><p id=\"u41f7d515\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">false</span></code></p></td><td width=\"250\"><p id=\"u5d867467\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">v1.0.2</span></code></p><p id=\"ua2248411\" class=\"ne-p\"><span class=\"ne-text\">版本新增，表示该文章是否需要加入到首页轮播封面中</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"uf966d16d\" class=\"ne-p\"><span class=\"ne-text\">coverImg</span></p></td><td width=\"250\"><p id=\"uf47ca700\" class=\"ne-p\"><span class=\"ne-text\">无</span></p></td><td width=\"250\"><p id=\"u465c3e41\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">v1.0.2</span></code></p><p id=\"ufc3305a7\" class=\"ne-p\"><span class=\"ne-text\">版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u81f4efee\" class=\"ne-p\"><span class=\"ne-text\">password</span></p></td><td width=\"250\"><p id=\"ud3fc32b9\" class=\"ne-p\"><span class=\"ne-text\">无</span></p></td><td width=\"250\"><p id=\"ufe55bcef\" class=\"ne-p\"><span class=\"ne-text\">文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 </span><code class=\"ne-code\"><span class=\"ne-text\">password</span></code></p><p id=\"u8aa7af27\" class=\"ne-p\"><span class=\"ne-text\"> 的值，该值必须是用 </span><code class=\"ne-code\"><span class=\"ne-text\">SHA256</span></code></p><p id=\"u7d5b3755\" class=\"ne-p\"><span class=\"ne-text\"> 加密后的密码，防止被他人识破。前提是在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">config.yml</span></code></p><p id=\"u34d62a42\" class=\"ne-p\"><span class=\"ne-text\"> 中激活了 </span><code class=\"ne-code\"><span class=\"ne-text\">verifyPassword</span></code></p><p id=\"uf32c6271\" class=\"ne-p\"><span class=\"ne-text\"> 选项</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u60014343\" class=\"ne-p\"><span class=\"ne-text\">toc</span></p></td><td width=\"250\"><p id=\"u0a093cba\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">true</span></code></p></td><td width=\"250\"><p id=\"u48f7c534\" class=\"ne-p\"><span class=\"ne-text\">是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">config.yml</span></code></p><p id=\"uac5a03fb\" class=\"ne-p\"><span class=\"ne-text\"> 中激活了 </span><code class=\"ne-code\"><span class=\"ne-text\">toc</span></code></p><p id=\"ua6084f68\" class=\"ne-p\"><span class=\"ne-text\"> 选项</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"uf25f61be\" class=\"ne-p\"><span class=\"ne-text\">mathjax</span></p></td><td width=\"250\"><p id=\"u261d0572\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">false</span></code></p></td><td width=\"250\"><p id=\"u0aac6efb\" class=\"ne-p\"><span class=\"ne-text\">是否开启数学公式支持 ，本文章是否开启 </span><code class=\"ne-code\"><span class=\"ne-text\">mathjax</span></code></p><p id=\"u28b72b92\" class=\"ne-p\"><span class=\"ne-text\">，且需要在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code></p><p id=\"ue8d10778\" class=\"ne-p\"><span class=\"ne-text\"> 文件中也需要开启才行</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u1d1af7d0\" class=\"ne-p\"><span class=\"ne-text\">summary</span></p></td><td width=\"250\"><p id=\"u2db2d8e7\" class=\"ne-p\"><span class=\"ne-text\">无</span></p></td><td width=\"250\"><p id=\"u6c817ddb\" class=\"ne-p\"><span class=\"ne-text\">文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ue029f29c\" class=\"ne-p\"><span class=\"ne-text\">categories</span></p></td><td width=\"250\"><p id=\"ue84caca8\" class=\"ne-p\"><span class=\"ne-text\">无</span></p></td><td width=\"250\"><p id=\"u599e842e\" class=\"ne-p\"><span class=\"ne-text\">文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u164e5377\" class=\"ne-p\"><span class=\"ne-text\">tags</span></p></td><td width=\"250\"><p id=\"u0e765164\" class=\"ne-p\"><span class=\"ne-text\">无</span></p></td><td width=\"250\"><p id=\"ud19d38f6\" class=\"ne-p\"><span class=\"ne-text\">文章标签，一篇文章可以多个标签</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"ubd3a6276\" class=\"ne-p\"><span class=\"ne-text\">keywords</span></p></td><td width=\"250\"><p id=\"u5b6071b8\" class=\"ne-p\"><span class=\"ne-text\">文章标题</span></p></td><td width=\"250\"><p id=\"u467a8448\" class=\"ne-p\"><span class=\"ne-text\">文章关键字，SEO 时需要</span></p></td></tr><tr style=\"height: 33px\"><td width=\"250\"><p id=\"u1f686adf\" class=\"ne-p\"><span class=\"ne-text\">reprintPolicy</span></p></td><td width=\"250\"><p id=\"u77bf6092\" class=\"ne-p\"><span class=\"ne-text\">cc_by</span></p></td><td width=\"250\"><p id=\"uaca1a01f\" class=\"ne-p\"><span class=\"ne-text\">文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</span></p></td></tr></tbody></table><p id=\"u41b8773f\" class=\"ne-p\"><br></p><div class=\"ne-quote\"><p id=\"u6cd1ed2a\" class=\"ne-p\"><strong><span class=\"ne-text\">注意</span></strong><span class=\"ne-text\">:</span></p><p id=\"u7c249378\" class=\"ne-p\"><span class=\"ne-text\"> </span></p><ol class=\"ne-ol\"><li id=\"u772b4f85\"><span class=\"ne-text\">如果 </span><code class=\"ne-code\"><span class=\"ne-text\">img</span></code><span class=\"ne-text\"> 属性不填写的话，文章特色图会根据文章标题的 </span><code class=\"ne-code\"><span class=\"ne-text\">hashcode</span></code><span class=\"ne-text\"> 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章的特色图</span><strong><span class=\"ne-text\">各有特色</span></strong><span class=\"ne-text\">。</span></li></ol><ol start=\"2\" class=\"ne-ol\"><li id=\"u7932899f\"><code class=\"ne-code\"><span class=\"ne-text\">date</span></code><span class=\"ne-text\"> 的值尽量保证每篇文章是唯一的，因为本主题中 </span><code class=\"ne-code\"><span class=\"ne-text\">Gitalk</span></code><span class=\"ne-text\"> 和 </span><code class=\"ne-code\"><span class=\"ne-text\">Gitment</span></code><span class=\"ne-text\"> 识别 </span><code class=\"ne-code\"><span class=\"ne-text\">id</span></code><span class=\"ne-text\"> 是通过 </span><code class=\"ne-code\"><span class=\"ne-text\">date</span></code><span class=\"ne-text\"> 的值来作为唯一标识的。</span></li></ol><ol start=\"3\" class=\"ne-ol\"><li id=\"ue541e540\"><span class=\"ne-text\">如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：</span><a href=\"http://tool.oschina.net/encrypt?type=2\" data-href=\"http://tool.oschina.net/encrypt?type=2\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">开源中国在线工具</span></a><span class=\"ne-text\">、</span><a href=\"http://encode.chahuo.com/\" data-href=\"http://encode.chahuo.com/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">chahuo</span></a><span class=\"ne-text\">、</span><a href=\"http://tool.chinaz.com/tools/hash.aspx\" data-href=\"http://tool.chinaz.com/tools/hash.aspx\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">站长工具</span></a><span class=\"ne-text\">。</span></li></ol><ol start=\"4\" class=\"ne-ol\"><li id=\"ubf64fc3f\"><span class=\"ne-text\">您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则</span></li></ol><p id=\"u8ab0e825\" class=\"ne-p\"><span class=\"ne-text\"> </span></p></div><p id=\"u09d2b366\" class=\"ne-p\"><br></p><p id=\"ud964ca74\" class=\"ne-p\"><span class=\"ne-text\">以下为文章的 </span><code class=\"ne-code\"><span class=\"ne-text\">Front-matter</span></code><span class=\"ne-text\"> 示例。</span></p><p id=\"ud183c128\" class=\"ne-p\"><br></p><h3 id=\"acc8fdeb\"><span class=\"ne-text\">最简示例</span></h3><p id=\"ub1f4a413\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"49910120\" class=\"ne-codeblock\">---\ntitle: typora-vue-theme主题介绍\ndate: 2018-09-07 09:25:00\n---</pre><p id=\"uad48b4ee\" class=\"ne-p\"><br></p><h3 id=\"d65a0c85\"><span class=\"ne-text\">最全示例</span></h3><p id=\"ub4de882a\" class=\"ne-p\"><br></p><pre data-language=\"yaml\" id=\"09ceb3ea\" class=\"ne-codeblock\">---\ntitle: typora-vue-theme主题介绍\ndate: 2018-09-07 09:25:00\nauthor: 赵奇\nimg: /source/images/xxx.jpg\ntop: true\nhide: false\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要\ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---</pre><p id=\"u080c1dc1\" class=\"ne-p\"><br></p><h2 id=\"d01e1d9f\"><span class=\"ne-text\">效果截图</span></h2><p id=\"u27c4eb68\" class=\"ne-p\"><br></p><p id=\"u8bd2daaf\" class=\"ne-p\"><img src=\"http://static.blinkfox.com/matery-20181202-1.png\" width=\"1280\" id=\"Vdjjt\" class=\"ne-image\"></p><p id=\"uf194e5bc\" class=\"ne-p\"><br></p><p id=\"u2cb89dbf\" class=\"ne-p\"><img src=\"http://static.blinkfox.com/matery-20181202-2.png\" width=\"1280\" id=\"nG9fd\" class=\"ne-image\"></p><p id=\"u9d88f83e\" class=\"ne-p\"><br></p><p id=\"u1943a9d9\" class=\"ne-p\"><img src=\"http://static.blinkfox.com/matery-20181202-3.png\" width=\"1277\" id=\"UAEeA\" class=\"ne-image\"></p><p id=\"ua85108ed\" class=\"ne-p\"><br></p><p id=\"ua12e62c8\" class=\"ne-p\"><img src=\"http://static.blinkfox.com/matery-20181202-7.png\" width=\"1265\" id=\"SdiVz\" class=\"ne-image\"></p><p id=\"u82209149\" class=\"ne-p\"><br></p><p id=\"ufc3dbbea\" class=\"ne-p\"><img src=\"http://static.blinkfox.com/matery-20181202-8.png\" width=\"1278\" id=\"cSOUu\" class=\"ne-image\"></p><p id=\"u351a5634\" class=\"ne-p\"><br></p><h2 id=\"68ec7375\"><span class=\"ne-text\">自定制修改</span></h2><p id=\"u3aea40c1\" class=\"ne-p\"><br></p><p id=\"u03dc80d7\" class=\"ne-p\"><span class=\"ne-text\">在本主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 中可以修改部分自定义信息，有以下几个部分：</span></p><p id=\"uc9899d54\" class=\"ne-p\"><br></p><ul class=\"ne-ul\"><li id=\"u3b79abc9\"><span class=\"ne-text\">菜单</span></li></ul><ul class=\"ne-ul\"><li id=\"u1ba44b5b\"><span class=\"ne-text\">我的梦想</span></li></ul><ul class=\"ne-ul\"><li id=\"u354a4bfd\"><span class=\"ne-text\">首页的音乐播放器和视频播放器配置</span></li></ul><ul class=\"ne-ul\"><li id=\"uc2806479\"><span class=\"ne-text\">是否显示推荐文章名称和按钮配置</span></li></ul><ul class=\"ne-ul\"><li id=\"ud37d3f01\"><code class=\"ne-code\"><span class=\"ne-text\">favicon</span></code><span class=\"ne-text\"> 和 </span><code class=\"ne-code\"><span class=\"ne-text\">Logo</span></code></li></ul><ul class=\"ne-ul\"><li id=\"u5af2e8c9\"><span class=\"ne-text\">个人信息</span></li></ul><ul class=\"ne-ul\"><li id=\"ueead241a\"><span class=\"ne-text\">TOC 目录</span></li></ul><ul class=\"ne-ul\"><li id=\"u07181950\"><span class=\"ne-text\">文章打赏信息</span></li></ul><ul class=\"ne-ul\"><li id=\"u464d2439\"><span class=\"ne-text\">复制文章内容时追加版权信息</span></li></ul><ul class=\"ne-ul\"><li id=\"ubfdb9765\"><span class=\"ne-text\">MathJax</span></li></ul><ul class=\"ne-ul\"><li id=\"u5bb675e9\"><span class=\"ne-text\">文章字数统计、阅读时长</span></li></ul><ul class=\"ne-ul\"><li id=\"u30224fce\"><span class=\"ne-text\">点击页面的'爱心'效果</span></li></ul><ul class=\"ne-ul\"><li id=\"u00520467\"><span class=\"ne-text\">我的项目</span></li></ul><ul class=\"ne-ul\"><li id=\"uf92fa5c1\"><span class=\"ne-text\">我的技能</span></li></ul><ul class=\"ne-ul\"><li id=\"ue570f2fd\"><span class=\"ne-text\">我的相册</span></li></ul><ul class=\"ne-ul\"><li id=\"u671878f4\"><code class=\"ne-code\"><span class=\"ne-text\">Gitalk</span></code><span class=\"ne-text\">、</span><code class=\"ne-code\"><span class=\"ne-text\">Gitment</span></code><span class=\"ne-text\">、</span><code class=\"ne-code\"><span class=\"ne-text\">Valine</span></code><span class=\"ne-text\"> 和 </span><code class=\"ne-code\"><span class=\"ne-text\">disqus</span></code><span class=\"ne-text\"> 评论配置</span></li></ul><ul class=\"ne-ul\"><li id=\"u02d2e610\"><a href=\"http://busuanzi.ibruce.info/\" data-href=\"http://busuanzi.ibruce.info/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">不蒜子统计</span></a><span class=\"ne-text\">和谷歌分析（</span><code class=\"ne-code\"><span class=\"ne-text\">Google Analytics</span></code><span class=\"ne-text\">）</span></li></ul><ul class=\"ne-ul\"><li id=\"uf93b2644\"><span class=\"ne-text\">默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 </span><code class=\"ne-code\"><span class=\"ne-text\">hashcode</span></code><span class=\"ne-text\"> 值取余，来选择展示对应的特色图</span></li></ul><p id=\"u693fd7a0\" class=\"ne-p\"><br></p><p id=\"ubb1e3a1a\" class=\"ne-p\"><strong><span class=\"ne-text\">我认为个人博客应该都有自己的风格和特色</span></strong><span class=\"ne-text\">。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：</span></p><p id=\"u6db73004\" class=\"ne-p\"><br></p><h3 id=\"eae5850e\"><span class=\"ne-text\">修改主题颜色</span></h3><p id=\"ufb440692\" class=\"ne-p\"><br></p><p id=\"u6281cb65\" class=\"ne-p\"><span class=\"ne-text\">在主题文件的 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/css/matery.css</span></code><span class=\"ne-text\"> 文件中，搜索 </span><code class=\"ne-code\"><span class=\"ne-text\">.bg-color</span></code><span class=\"ne-text\"> 来修改背景颜色：</span></p><p id=\"u70dbb199\" class=\"ne-p\"><br></p><pre data-language=\"css\" id=\"e990e251\" class=\"ne-codeblock\">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */\n.bg-color {\n    background-image: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%);\n}\n\n@-webkit-keyframes rainbow {\n   /* 动态切换背景颜色. */\n}\n\n@keyframes rainbow {\n    /* 动态切换背景颜色. */\n}</pre><p id=\"uc4e16e23\" class=\"ne-p\"><br></p><h3 id=\"f06f3b27\"><span class=\"ne-text\">修改 banner 图和文章特色图</span></h3><p id=\"u8b917ffb\" class=\"ne-p\"><br></p><p id=\"u97102c19\" class=\"ne-p\"><span class=\"ne-text\">你可以直接在 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/medias/banner</span></code><span class=\"ne-text\"> 文件夹中更换你喜欢的 </span><code class=\"ne-code\"><span class=\"ne-text\">banner</span></code><span class=\"ne-text\"> 图片，主题代码中是每天动态切换一张，只需 </span><code class=\"ne-code\"><span class=\"ne-text\">7</span></code><span class=\"ne-text\"> 张即可。如果你会 </span><code class=\"ne-code\"><span class=\"ne-text\">JavaScript</span></code><span class=\"ne-text\"> 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，</span><code class=\"ne-code\"><span class=\"ne-text\">banner</span></code><span class=\"ne-text\"> 切换的代码位置在 </span><code class=\"ne-code\"><span class=\"ne-text\">/layout/_partial/bg-cover-content.ejs</span></code><span class=\"ne-text\"> 文件的 </span><code class=\"ne-code\"><span class=\"ne-text\">&lt;script&gt;&lt;/script&gt;</span></code><span class=\"ne-text\"> 代码中：</span></p><p id=\"u0a5c9530\" class=\"ne-p\"><br></p><pre data-language=\"javascript\" id=\"790f03e9\" class=\"ne-codeblock\">$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');</pre><p id=\"u85941fef\" class=\"ne-p\"><br></p><p id=\"u6bfd33af\" class=\"ne-p\"><span class=\"ne-text\">在 </span><code class=\"ne-code\"><span class=\"ne-text\">/source/medias/featureimages</span></code><span class=\"ne-text\"> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 </span><code class=\"ne-code\"><span class=\"ne-text\">_config.yml</span></code><span class=\"ne-text\"> 做同步修改。</span></p><p id=\"u7e457665\" class=\"ne-p\"><br></p><h2 id=\"a60df95b\"><span class=\"ne-text\">版本变更记录</span></h2><p id=\"u2e3f64da\" class=\"ne-p\"><br></p><p id=\"ub6f482bf\" class=\"ne-p\"><span class=\"ne-text\">参见 </span><a href=\"https://github.com/blinkfox/hexo-theme-matery/blob/master/CHANGELOG.md\" data-href=\"https://github.com/blinkfox/hexo-theme-matery/blob/master/CHANGELOG.md\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">CHANGELOG.md</span></a></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"traditional\" /><meta name=\"viewport\" content=\"fixed\" /><blockquote data-lake-id=\"ub935d377\" id=\"ub935d377\"><p data-lake-id=\"uf3c13715\" id=\"uf3c13715\"><span data-lake-id=\"u1c43f23a\" id=\"u1c43f23a\">这是一个采用 </span><code data-lake-id=\"ua869010a\" id=\"ua869010a\"><span data-lake-id=\"ucf518f1d\" id=\"ucf518f1d\">Material Design</span></code><span data-lake-id=\"uc2923076\" id=\"uc2923076\"> 和响应式设计的 Hexo 博客主题。</span></p></blockquote><p data-lake-id=\"ua94bef1a\" id=\"ua94bef1a\"><br></p><h2 data-lake-id=\"c666ad11\" id=\"c666ad11\"><span data-lake-id=\"u47c97e0d\" id=\"u47c97e0d\">特性</span></h2><p data-lake-id=\"u676debef\" id=\"u676debef\"><br></p><ul list=\"u8b416de5\"><li fid=\"uece29290\" data-lake-id=\"u8b224731\" id=\"u8b224731\"><span data-lake-id=\"u56fbbe43\" id=\"u56fbbe43\">简单漂亮，文章内容美观易读</span></li></ul><ul list=\"ud029453f\"><li fid=\"u8d7503ce\" data-lake-id=\"u78f22053\" id=\"u78f22053\"><a href=\"https://material.io/\" target=\"_blank\" data-lake-id=\"u5c6ce663\" id=\"u5c6ce663\"><span data-lake-id=\"u76baa9af\" id=\"u76baa9af\">Material Design</span></a><span data-lake-id=\"ufd1e64da\" id=\"ufd1e64da\"> 设计</span></li></ul><ul list=\"u2d43ae47\"><li fid=\"u2fac91b8\" data-lake-id=\"ue77aef63\" id=\"ue77aef63\"><span data-lake-id=\"ubc4623a3\" id=\"ubc4623a3\">响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</span></li></ul><ul list=\"uf564ba1e\"><li fid=\"u06343748\" data-lake-id=\"u663910c2\" id=\"u663910c2\"><span data-lake-id=\"uaf1744cd\" id=\"uaf1744cd\">首页轮播文章及每天动态切换 </span><code data-lake-id=\"u3dd36aba\" id=\"u3dd36aba\"><span data-lake-id=\"u3ad16ecb\" id=\"u3ad16ecb\">Banner</span></code><span data-lake-id=\"u2f9bf967\" id=\"u2f9bf967\"> 图片</span></li></ul><ul list=\"u261daa4f\"><li fid=\"u2c0abdc6\" data-lake-id=\"u30d1cb4f\" id=\"u30d1cb4f\"><span data-lake-id=\"u83f77420\" id=\"u83f77420\">瀑布流式的博客文章列表（文章无特色图片时会有 </span><code data-lake-id=\"ued345a3c\" id=\"ued345a3c\"><span data-lake-id=\"u235c017d\" id=\"u235c017d\">24</span></code><span data-lake-id=\"u9516a912\" id=\"u9516a912\"> 张漂亮的图片代替）</span></li></ul><ul list=\"u0873e121\"><li fid=\"u29179f9a\" data-lake-id=\"ua540b699\" id=\"ua540b699\"><span data-lake-id=\"ucd568156\" id=\"ucd568156\">时间轴式的归档页</span></li></ul><ul list=\"u7327522d\"><li fid=\"u8a56085e\" data-lake-id=\"u4ac68ef0\" id=\"u4ac68ef0\"><strong><span data-lake-id=\"u92110df2\" id=\"u92110df2\">词云</span></strong><span data-lake-id=\"u987c67c6\" id=\"u987c67c6\">的标签页和</span><strong><span data-lake-id=\"u44b99a7b\" id=\"u44b99a7b\">雷达图</span></strong><span data-lake-id=\"uc36740ca\" id=\"uc36740ca\">的分类页</span></li></ul><ul list=\"u7a85cf2f\"><li fid=\"uf3d8b6b5\" data-lake-id=\"u51eabcca\" id=\"u51eabcca\"><span data-lake-id=\"ub931f782\" id=\"ub931f782\">丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）</span></li></ul><ul list=\"u93f55f72\"><li fid=\"u09bb64a4\" data-lake-id=\"uf39d5700\" id=\"uf39d5700\"><span data-lake-id=\"ube481900\" id=\"ube481900\">可自定义的数据的友情链接页面</span></li></ul><ul list=\"uce45c116\"><li fid=\"u990a6418\" data-lake-id=\"u079af402\" id=\"u079af402\"><span data-lake-id=\"u2f7b7d0c\" id=\"u2f7b7d0c\">支持文章置顶和文章打赏</span></li></ul><ul list=\"uebf6417a\"><li fid=\"ud4fa3e67\" data-lake-id=\"ub4b7d7ef\" id=\"ub4b7d7ef\"><span data-lake-id=\"u916e6c1e\" id=\"u916e6c1e\">支持 </span><code data-lake-id=\"u9cc5ef2c\" id=\"u9cc5ef2c\"><span data-lake-id=\"uaf7b8e91\" id=\"uaf7b8e91\">MathJax</span></code></li></ul><ul list=\"u93325bd1\"><li fid=\"u16b512d9\" data-lake-id=\"u739c1491\" id=\"u739c1491\"><code data-lake-id=\"uc4bb4414\" id=\"uc4bb4414\"><span data-lake-id=\"u70f89463\" id=\"u70f89463\">TOC</span></code><span data-lake-id=\"u93ac07d4\" id=\"u93ac07d4\"> 目录</span></li></ul><ul list=\"udd1863e3\"><li fid=\"u373dd312\" data-lake-id=\"u299ec020\" id=\"u299ec020\"><span data-lake-id=\"u7fa359dd\" id=\"u7fa359dd\">可设置复制文章内容时追加版权信息</span></li></ul><ul list=\"uba7cdd42\"><li fid=\"ua91c074b\" data-lake-id=\"ue00b423f\" id=\"ue00b423f\"><span data-lake-id=\"u02a22509\" id=\"u02a22509\">可设置阅读文章时做密码验证</span></li></ul><ul list=\"u47721032\"><li fid=\"ub5ac393f\" data-lake-id=\"uf934127e\" id=\"uf934127e\"><a href=\"https://gitalk.github.io/\" target=\"_blank\" data-lake-id=\"u7eb909c3\" id=\"u7eb909c3\"><span data-lake-id=\"ub0686e40\" id=\"ub0686e40\">Gitalk</span></a><span data-lake-id=\"ue8a492a6\" id=\"ue8a492a6\">、</span><a href=\"https://imsun.github.io/gitment/\" target=\"_blank\" data-lake-id=\"ud9a54c23\" id=\"ud9a54c23\"><span data-lake-id=\"u1cb3df92\" id=\"u1cb3df92\">Gitment</span></a><span data-lake-id=\"u8400c5cf\" id=\"u8400c5cf\">、</span><a href=\"https://valine.js.org/\" target=\"_blank\" data-lake-id=\"u2a6829d1\" id=\"u2a6829d1\"><span data-lake-id=\"u414b56eb\" id=\"u414b56eb\">Valine</span></a><span data-lake-id=\"u686ded26\" id=\"u686ded26\"> 和 </span><a href=\"https://disqus.com/\" target=\"_blank\" data-lake-id=\"uf5cc5d85\" id=\"uf5cc5d85\"><span data-lake-id=\"u64bcf149\" id=\"u64bcf149\">Disqus</span></a><span data-lake-id=\"u52e1b5a2\" id=\"u52e1b5a2\"> 评论模块（推荐使用 </span><code data-lake-id=\"u64b98993\" id=\"u64b98993\"><span data-lake-id=\"u32fb4568\" id=\"u32fb4568\">Gitalk</span></code><span data-lake-id=\"ub2c74570\" id=\"ub2c74570\">）</span></li></ul><ul list=\"uc1dd1d5d\"><li fid=\"u861d4c05\" data-lake-id=\"ub6548ee6\" id=\"ub6548ee6\"><span data-lake-id=\"u391de559\" id=\"u391de559\">集成了</span><a href=\"http://busuanzi.ibruce.info/\" target=\"_blank\" data-lake-id=\"ua1742db4\" id=\"ua1742db4\"><span data-lake-id=\"ua0b63298\" id=\"ua0b63298\">不蒜子统计</span></a><span data-lake-id=\"ue7ee1bdc\" id=\"ue7ee1bdc\">、谷歌分析（</span><code data-lake-id=\"ud5d362bc\" id=\"ud5d362bc\"><span data-lake-id=\"ue87ec741\" id=\"ue87ec741\">Google Analytics</span></code><span data-lake-id=\"u171bc615\" id=\"u171bc615\">）和文章字数统计等功能</span></li></ul><ul list=\"u7d4b553e\"><li fid=\"u58ac5c65\" data-lake-id=\"uf30bd63a\" id=\"uf30bd63a\"><span data-lake-id=\"u1a48fbfe\" id=\"u1a48fbfe\">支持在首页的音乐播放和视频播放功能</span></li></ul><ul list=\"uaae7f233\"><li fid=\"uf9c4aa51\" data-lake-id=\"ue0181f94\" id=\"ue0181f94\"><span data-lake-id=\"uf59f854f\" id=\"uf59f854f\">支持</span><code data-lake-id=\"u2858d471\" id=\"u2858d471\"><span data-lake-id=\"uc752dc9f\" id=\"uc752dc9f\">emoji</span></code><span data-lake-id=\"ua47cf1ef\" id=\"ua47cf1ef\">表情，用</span><code data-lake-id=\"u23d8e309\" id=\"u23d8e309\"><span data-lake-id=\"u55307076\" id=\"u55307076\">markdown emoji</span></code><span data-lake-id=\"u73d2f51f\" id=\"u73d2f51f\">语法书写直接生成对应的能</span><strong><span data-lake-id=\"u6f3299d1\" id=\"u6f3299d1\">跳跃</span></strong><span data-lake-id=\"ucd0d8a68\" id=\"ucd0d8a68\">的表情。</span></li></ul><ul list=\"u5b7717db\"><li fid=\"u08c9887f\" data-lake-id=\"u9608aef0\" id=\"u9608aef0\"><span data-lake-id=\"u9c7b33e5\" id=\"u9c7b33e5\">支持 </span><a href=\"http://www.daovoice.io/\" target=\"_blank\" data-lake-id=\"u7598c19a\" id=\"u7598c19a\"><span data-lake-id=\"u9f5ca207\" id=\"u9f5ca207\">DaoVoice</span></a><span data-lake-id=\"ucc10716e\" id=\"ucc10716e\">、</span><a href=\"https://www.tidio.com/\" target=\"_blank\" data-lake-id=\"u4f7e2051\" id=\"u4f7e2051\"><span data-lake-id=\"uc5df49a3\" id=\"uc5df49a3\">Tidio</span></a><span data-lake-id=\"ue0b021e0\" id=\"ue0b021e0\"> 在线聊天功能。</span></li></ul><p data-lake-id=\"u8d1fa7d5\" id=\"u8d1fa7d5\"><br></p><h2 data-lake-id=\"5584b352\" id=\"5584b352\"><span data-lake-id=\"ua71c5365\" id=\"ua71c5365\">贡献者</span></h2><p data-lake-id=\"ueddc28ea\" id=\"ueddc28ea\"><br></p><p data-lake-id=\"u8269da17\" id=\"u8269da17\"><span data-lake-id=\"ua0a743a8\" id=\"ua0a743a8\">感谢下面列出的贡献者，没有他们，hexo-theme-matery 不会这么完美。</span></p><p data-lake-id=\"u9340b783\" id=\"u9340b783\"><br></p><ul list=\"ufbc54a65\"><li fid=\"u41b40eb6\" data-lake-id=\"u35806387\" id=\"u35806387\"><a href=\"https://github.com/HarborZeng\" target=\"_blank\" data-lake-id=\"u3d06f95f\" id=\"u3d06f95f\"><span data-lake-id=\"u51f97f51\" id=\"u51f97f51\">@HarborZeng</span></a></li></ul><ul list=\"u3701c9a2\"><li fid=\"u70ac5e09\" data-lake-id=\"u8abb5332\" id=\"u8abb5332\"><a href=\"https://github.com/shw2018\" target=\"_blank\" data-lake-id=\"u30c32dfb\" id=\"u30c32dfb\"><span data-lake-id=\"u7d580c6c\" id=\"u7d580c6c\">@shw2018</span></a></li></ul><ul list=\"uab4e2f0f\"><li fid=\"u04f49eaa\" data-lake-id=\"ue1c5c54c\" id=\"ue1c5c54c\"><a href=\"https://github.com/L1cardo\" target=\"_blank\" data-lake-id=\"u85ee5c22\" id=\"u85ee5c22\"><span data-lake-id=\"u7725fca2\" id=\"u7725fca2\">@L1cardo</span></a></li></ul><ul list=\"u190f9b48\"><li fid=\"u7a276c6a\" data-lake-id=\"u84881055\" id=\"u84881055\"><a href=\"https://github.com/Five-great\" target=\"_blank\" data-lake-id=\"u258a9997\" id=\"u258a9997\"><span data-lake-id=\"u026441d2\" id=\"u026441d2\">@Five-great</span></a></li></ul><p data-lake-id=\"ud6a73a81\" id=\"ud6a73a81\"><br></p><h2 data-lake-id=\"f26ef914\" id=\"f26ef914\"><span data-lake-id=\"ua8b2585e\" id=\"ua8b2585e\">下载</span></h2><p data-lake-id=\"u04caaa3f\" id=\"u04caaa3f\"><br></p><p data-lake-id=\"u07b48ed8\" id=\"u07b48ed8\"><span data-lake-id=\"u83bebcf3\" id=\"u83bebcf3\">本主题</span><strong><span data-lake-id=\"ubddbd4c6\" id=\"ubddbd4c6\">推荐你使用 Hexo 5.0.0 及以上的版本</span></strong><span data-lake-id=\"uc90be464\" id=\"uc90be464\">。如果，你已经有一个自己的 </span><a href=\"https://hexo.io/zh-cn/\" target=\"_blank\" data-lake-id=\"u9fd79abc\" id=\"u9fd79abc\"><span data-lake-id=\"u5a7221b9\" id=\"u5a7221b9\">Hexo</span></a><span data-lake-id=\"ub93051aa\" id=\"ub93051aa\"> 博客了，建议你将 Hexo 升级到最新稳定的版本。</span></p><p data-lake-id=\"udbecd9b9\" id=\"udbecd9b9\"><br></p><p data-lake-id=\"u87d54826\" id=\"u87d54826\"><span data-lake-id=\"u44b7967f\" id=\"u44b7967f\">点击 </span><a href=\"https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master\" target=\"_blank\" data-lake-id=\"u6d0e3442\" id=\"u6d0e3442\"><span data-lake-id=\"u64ea7ba0\" id=\"u64ea7ba0\">这里</span></a><span data-lake-id=\"u59869fe6\" id=\"u59869fe6\"> 下载 </span><code data-lake-id=\"ue35e3991\" id=\"ue35e3991\"><span data-lake-id=\"ufb98ff7a\" id=\"ufb98ff7a\">master</span></code><span data-lake-id=\"uf9d6d639\" id=\"uf9d6d639\"> 分支的最新稳定版的代码，解压缩后，将 </span><code data-lake-id=\"ucd95ce2f\" id=\"ucd95ce2f\"><span data-lake-id=\"ud3216d7c\" id=\"ud3216d7c\">hexo-theme-matery</span></code><span data-lake-id=\"u9ba14e3b\" id=\"u9ba14e3b\"> 的文件夹复制到你 Hexo 的 </span><code data-lake-id=\"ud6221bf5\" id=\"ud6221bf5\"><span data-lake-id=\"u2f7048dc\" id=\"u2f7048dc\">themes</span></code><span data-lake-id=\"uc3b83731\" id=\"uc3b83731\"> 文件夹中即可。</span></p><p data-lake-id=\"uccb8c075\" id=\"uccb8c075\"><br></p><p data-lake-id=\"u30b2f552\" id=\"u30b2f552\"><span data-lake-id=\"u9133dec5\" id=\"u9133dec5\">当然你也可以在你的 </span><code data-lake-id=\"u41b738ba\" id=\"u41b738ba\"><span data-lake-id=\"u7bb48d92\" id=\"u7bb48d92\">themes</span></code><span data-lake-id=\"u70fa9b38\" id=\"u70fa9b38\"> 文件夹下使用 </span><code data-lake-id=\"uf619dfe0\" id=\"uf619dfe0\"><span data-lake-id=\"u88250ea3\" id=\"u88250ea3\">git clone</span></code><span data-lake-id=\"u5e61ae4e\" id=\"u5e61ae4e\"> 命令来下载:</span></p><p data-lake-id=\"ud157ff33\" id=\"ud157ff33\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22git%20clone%20https%3A%2F%2Fgithub.com%2Fblinkfox%2Fhexo-theme-matery.git%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a1f414e5%22%7D\"></card><p data-lake-id=\"ub248c6f8\" id=\"ub248c6f8\"><br></p><h2 data-lake-id=\"224e2ccd\" id=\"224e2ccd\"><span data-lake-id=\"u9e5d207b\" id=\"u9e5d207b\">配置</span></h2><p data-lake-id=\"u37ff7c3f\" id=\"u37ff7c3f\"><br></p><h3 data-lake-id=\"583547cc\" id=\"583547cc\"><span data-lake-id=\"ue052fbc0\" id=\"ue052fbc0\">切换主题</span></h3><p data-lake-id=\"u7167fb03\" id=\"u7167fb03\"><br></p><p data-lake-id=\"u2e98e30a\" id=\"u2e98e30a\"><span data-lake-id=\"u86152ae4\" id=\"u86152ae4\">修改 Hexo 根目录下的 </span><code data-lake-id=\"ub9e46adf\" id=\"ub9e46adf\"><span data-lake-id=\"u66115920\" id=\"u66115920\">_config.yml</span></code><span data-lake-id=\"u853ceb93\" id=\"u853ceb93\"> 的  </span><code data-lake-id=\"udd961394\" id=\"udd961394\"><span data-lake-id=\"uf022488a\" id=\"uf022488a\">theme</span></code><span data-lake-id=\"u5ede160e\" id=\"u5ede160e\"> 的值：</span><code data-lake-id=\"u4a6b9985\" id=\"u4a6b9985\"><span data-lake-id=\"ubd73aadc\" id=\"ubd73aadc\">theme: hexo-theme-matery</span></code></p><p data-lake-id=\"ub790f6f0\" id=\"ub790f6f0\"><br></p><h4 data-lake-id=\"d2b1f64c\" id=\"d2b1f64c\"><code data-lake-id=\"u57895783\" id=\"u57895783\"><span data-lake-id=\"ub802e3d4\" id=\"ub802e3d4\">_config.yml</span></code><span data-lake-id=\"u31ef13f3\" id=\"u31ef13f3\"> 文件的其它修改建议:</span></h4><p data-lake-id=\"u9ea0acab\" id=\"u9ea0acab\"><br></p><ul list=\"udacd5719\"><li fid=\"u16b0b508\" data-lake-id=\"ua36ed93e\" id=\"ua36ed93e\"><span data-lake-id=\"u82b53d3a\" id=\"u82b53d3a\">请修改 </span><code data-lake-id=\"ub09eac95\" id=\"ub09eac95\"><span data-lake-id=\"ua9752134\" id=\"ua9752134\">_config.yml</span></code><span data-lake-id=\"ud8faaee9\" id=\"ud8faaee9\"> 的 </span><code data-lake-id=\"udb911c81\" id=\"udb911c81\"><span data-lake-id=\"u71593225\" id=\"u71593225\">url</span></code><span data-lake-id=\"u43d5e543\" id=\"u43d5e543\"> 的值为你的网站主 </span><code data-lake-id=\"u1a8dd663\" id=\"u1a8dd663\"><span data-lake-id=\"uf6c36072\" id=\"uf6c36072\">URL</span></code><span data-lake-id=\"u48fe7a34\" id=\"u48fe7a34\">（如：</span><code data-lake-id=\"u04a7c2c5\" id=\"u04a7c2c5\"><span data-lake-id=\"u18e15987\" id=\"u18e15987\">http://xxx.github.io</span></code><span data-lake-id=\"ub92fff6f\" id=\"ub92fff6f\">）。</span></li></ul><ul list=\"udd8f8474\"><li fid=\"uef1ce137\" data-lake-id=\"ubda7070a\" id=\"ubda7070a\"><span data-lake-id=\"u7177dbd3\" id=\"u7177dbd3\">建议修改两个 </span><code data-lake-id=\"uc4087534\" id=\"uc4087534\"><span data-lake-id=\"ub20c1f5a\" id=\"ub20c1f5a\">per_page</span></code><span data-lake-id=\"u4ea1ed01\" id=\"u4ea1ed01\"> 的分页条数值为 </span><code data-lake-id=\"uc576d617\" id=\"uc576d617\"><span data-lake-id=\"u6ab77dcf\" id=\"u6ab77dcf\">6</span></code><span data-lake-id=\"uefe545ef\" id=\"uefe545ef\"> 的倍数，如：</span><code data-lake-id=\"uf27e0cc6\" id=\"uf27e0cc6\"><span data-lake-id=\"u9eae066f\" id=\"u9eae066f\">12</span></code><span data-lake-id=\"u5788fd5f\" id=\"u5788fd5f\">、</span><code data-lake-id=\"u19d7510e\" id=\"u19d7510e\"><span data-lake-id=\"u991d5fab\" id=\"u991d5fab\">18</span></code><span data-lake-id=\"ua8e744ff\" id=\"ua8e744ff\"> 等，这样文章列表在各个屏幕下都能较好的显示。</span></li></ul><ul list=\"u5ab7df50\"><li fid=\"u92fd3e71\" data-lake-id=\"u290c87e0\" id=\"u290c87e0\"><span data-lake-id=\"uf33a2677\" id=\"uf33a2677\">如果你是中文用户，则建议修改 </span><code data-lake-id=\"uf0f4090b\" id=\"uf0f4090b\"><span data-lake-id=\"uac08dc1b\" id=\"uac08dc1b\">language</span></code><span data-lake-id=\"u287160f7\" id=\"u287160f7\"> 的值为 </span><code data-lake-id=\"u57da5277\" id=\"u57da5277\"><span data-lake-id=\"u89b3557c\" id=\"u89b3557c\">zh-CN</span></code><span data-lake-id=\"uc4110269\" id=\"uc4110269\">。</span></li></ul><p data-lake-id=\"u991a5280\" id=\"u991a5280\"><br></p><h3 data-lake-id=\"0fe7d221\" id=\"0fe7d221\"><span data-lake-id=\"u065a3513\" id=\"u065a3513\">新建分类 categories 页</span></h3><p data-lake-id=\"uc0692634\" id=\"uc0692634\"><br></p><p data-lake-id=\"u9925e9d4\" id=\"u9925e9d4\"><code data-lake-id=\"u88dd98c6\" id=\"u88dd98c6\"><span data-lake-id=\"u5fb40d97\" id=\"u5fb40d97\">categories</span></code><span data-lake-id=\"u9744513d\" id=\"u9744513d\"> 页是用来展示所有分类的页面，如果在你的博客 </span><code data-lake-id=\"ucfd014cf\" id=\"ucfd014cf\"><span data-lake-id=\"u928b61ed\" id=\"u928b61ed\">source</span></code><span data-lake-id=\"u61e2b634\" id=\"u61e2b634\"> 目录下还没有 </span><code data-lake-id=\"ud56b091a\" id=\"ud56b091a\"><span data-lake-id=\"u4480dc51\" id=\"u4480dc51\">categories/index.md</span></code><span data-lake-id=\"u7c93268c\" id=\"u7c93268c\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u41b8d9d9\" id=\"u41b8d9d9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22categories%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2238f3b3f7%22%7D\"></card><p data-lake-id=\"u23659e90\" id=\"u23659e90\"><br></p><p data-lake-id=\"ub93906c5\" id=\"ub93906c5\"><span data-lake-id=\"uc26e9d4a\" id=\"uc26e9d4a\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"u34acecc0\" id=\"u34acecc0\"><span data-lake-id=\"ue819e6e0\" id=\"ue819e6e0\">/source/categories/index.md</span></code><span data-lake-id=\"u095dc856\" id=\"u095dc856\">，至少需要以下内容：</span></p><p data-lake-id=\"u2076d387\" id=\"u2076d387\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20categories%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22categories%5C%22%5Cnlayout%3A%20%5C%22categories%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e1569199%22%7D\"></card><p data-lake-id=\"u4a9e88bc\" id=\"u4a9e88bc\"><br></p><h3 data-lake-id=\"1ae9b7f3\" id=\"1ae9b7f3\"><span data-lake-id=\"uf8c53ac2\" id=\"uf8c53ac2\">新建标签 tags 页</span></h3><p data-lake-id=\"u6bac6644\" id=\"u6bac6644\"><br></p><p data-lake-id=\"u3da5793f\" id=\"u3da5793f\"><code data-lake-id=\"u8ca40c3a\" id=\"u8ca40c3a\"><span data-lake-id=\"uddb3fccd\" id=\"uddb3fccd\">tags</span></code><span data-lake-id=\"ue260f3b6\" id=\"ue260f3b6\"> 页是用来展示所有标签的页面，如果在你的博客 </span><code data-lake-id=\"uf6fded3b\" id=\"uf6fded3b\"><span data-lake-id=\"u6bc6df16\" id=\"u6bc6df16\">source</span></code><span data-lake-id=\"uf362f5d9\" id=\"uf362f5d9\"> 目录下还没有 </span><code data-lake-id=\"ucc86d0a3\" id=\"ucc86d0a3\"><span data-lake-id=\"u77798ea8\" id=\"u77798ea8\">tags/index.md</span></code><span data-lake-id=\"u58eb91e7\" id=\"u58eb91e7\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u8af2b94f\" id=\"u8af2b94f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22tags%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22788934cf%22%7D\"></card><p data-lake-id=\"u76198f00\" id=\"u76198f00\"><br></p><p data-lake-id=\"u1ead5676\" id=\"u1ead5676\"><span data-lake-id=\"ua1a90767\" id=\"ua1a90767\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"uf36152db\" id=\"uf36152db\"><span data-lake-id=\"u8e4ad1fe\" id=\"u8e4ad1fe\">/source/tags/index.md</span></code><span data-lake-id=\"ubd2744a0\" id=\"ubd2744a0\">，至少需要以下内容：</span></p><p data-lake-id=\"ub186dc32\" id=\"ub186dc32\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20tags%5Cndate%3A%202018-09-30%2018%3A23%3A38%5Cntype%3A%20%5C%22tags%5C%22%5Cnlayout%3A%20%5C%22tags%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2291169731%22%7D\"></card><p data-lake-id=\"ua197d13a\" id=\"ua197d13a\"><br></p><h3 data-lake-id=\"ea164841\" id=\"ea164841\"><span data-lake-id=\"ua14b3559\" id=\"ua14b3559\">新建关于我 about 页</span></h3><p data-lake-id=\"u8741edb9\" id=\"u8741edb9\"><br></p><p data-lake-id=\"ubdbbd035\" id=\"ubdbbd035\"><code data-lake-id=\"u69b2e1fc\" id=\"u69b2e1fc\"><span data-lake-id=\"uf416bae4\" id=\"uf416bae4\">about</span></code><span data-lake-id=\"ua9e8b537\" id=\"ua9e8b537\"> 页是用来展示</span><strong><span data-lake-id=\"u139f11ed\" id=\"u139f11ed\">关于我和我的博客</span></strong><span data-lake-id=\"u4206674f\" id=\"u4206674f\">信息的页面，如果在你的博客 </span><code data-lake-id=\"u9838eee9\" id=\"u9838eee9\"><span data-lake-id=\"u679fd68b\" id=\"u679fd68b\">source</span></code><span data-lake-id=\"u0ed4f1d6\" id=\"u0ed4f1d6\"> 目录下还没有 </span><code data-lake-id=\"uca646968\" id=\"uca646968\"><span data-lake-id=\"uea2faf7d\" id=\"uea2faf7d\">about/index.md</span></code><span data-lake-id=\"u968169c2\" id=\"u968169c2\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u63737614\" id=\"u63737614\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22about%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225fae1368%22%7D\"></card><p data-lake-id=\"u4f9c085c\" id=\"u4f9c085c\"><br></p><p data-lake-id=\"u65084750\" id=\"u65084750\"><span data-lake-id=\"ue9d5b415\" id=\"ue9d5b415\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"ud39fbaa8\" id=\"ud39fbaa8\"><span data-lake-id=\"udefde78a\" id=\"udefde78a\">/source/about/index.md</span></code><span data-lake-id=\"u1db147fb\" id=\"u1db147fb\">，至少需要以下内容：</span></p><p data-lake-id=\"u279e24c1\" id=\"u279e24c1\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20about%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22about%5C%22%5Cnlayout%3A%20%5C%22about%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22aecac7ea%22%7D\"></card><p data-lake-id=\"u414e60cf\" id=\"u414e60cf\"><br></p><h3 data-lake-id=\"7cbe81da\" id=\"7cbe81da\"><span data-lake-id=\"u30659858\" id=\"u30659858\">新建留言板 contact 页（可选的）</span></h3><p data-lake-id=\"u64ee2cb4\" id=\"u64ee2cb4\"><br></p><p data-lake-id=\"uc5f70bcf\" id=\"uc5f70bcf\"><code data-lake-id=\"u34a5b35e\" id=\"u34a5b35e\"><span data-lake-id=\"u184550b3\" id=\"u184550b3\">contact</span></code><span data-lake-id=\"udd4a9e36\" id=\"udd4a9e36\"> 页是用来展示</span><strong><span data-lake-id=\"ub1b9e481\" id=\"ub1b9e481\">留言板</span></strong><span data-lake-id=\"u98fafd05\" id=\"u98fafd05\">信息的页面，如果在你的博客 </span><code data-lake-id=\"ub6499278\" id=\"ub6499278\"><span data-lake-id=\"uc9069c12\" id=\"uc9069c12\">source</span></code><span data-lake-id=\"ud119cd7e\" id=\"ud119cd7e\"> 目录下还没有 </span><code data-lake-id=\"ua649bdc8\" id=\"ua649bdc8\"><span data-lake-id=\"u1ba36a1e\" id=\"u1ba36a1e\">contact/index.md</span></code><span data-lake-id=\"u770d207f\" id=\"u770d207f\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u7a3aefc0\" id=\"u7a3aefc0\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22contact%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c7743a7a%22%7D\"></card><p data-lake-id=\"u4e4901b2\" id=\"u4e4901b2\"><br></p><p data-lake-id=\"u9a03b812\" id=\"u9a03b812\"><span data-lake-id=\"u52cd6441\" id=\"u52cd6441\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"u9e741d24\" id=\"u9e741d24\"><span data-lake-id=\"u0d8e9e72\" id=\"u0d8e9e72\">/source/contact/index.md</span></code><span data-lake-id=\"u86e6cd80\" id=\"u86e6cd80\">，至少需要以下内容：</span></p><p data-lake-id=\"ubd2f813c\" id=\"ubd2f813c\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20contact%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22contact%5C%22%5Cnlayout%3A%20%5C%22contact%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224a854438%22%7D\"></card><p data-lake-id=\"u3f1c2fb2\" id=\"u3f1c2fb2\"><br></p><blockquote data-lake-id=\"u579be605\" id=\"u579be605\"><p data-lake-id=\"u28dab0de\" id=\"u28dab0de\"><strong><span data-lake-id=\"u7a5b4494\" id=\"u7a5b4494\">注</span></strong><span data-lake-id=\"u8ed8fd42\" id=\"u8ed8fd42\">：本留言板功能依赖于第三方评论系统，请</span><strong><span data-lake-id=\"u338057e4\" id=\"u338057e4\">激活</span></strong><span data-lake-id=\"ucf56c995\" id=\"ucf56c995\">你的评论系统才有效果。并且在主题的 </span><code data-lake-id=\"u04f481a8\" id=\"u04f481a8\"><span data-lake-id=\"u42943b32\" id=\"u42943b32\">_config.yml</span></code><span data-lake-id=\"u6461b590\" id=\"u6461b590\"> 文件中，第 </span><code data-lake-id=\"u66c3515d\" id=\"u66c3515d\"><span data-lake-id=\"uc52295b9\" id=\"uc52295b9\">19</span></code><span data-lake-id=\"u9ebbb9e1\" id=\"u9ebbb9e1\"> 至 </span><code data-lake-id=\"u009209e4\" id=\"u009209e4\"><span data-lake-id=\"u3be37c0c\" id=\"u3be37c0c\">21</span></code><span data-lake-id=\"ua89ba8ef\" id=\"ua89ba8ef\"> 行的“</span><strong><span data-lake-id=\"u8e454d48\" id=\"u8e454d48\">菜单</span></strong><span data-lake-id=\"uf3031850\" id=\"uf3031850\">”配置，取消关于留言板的注释即可。</span></p></blockquote><p data-lake-id=\"u44d97afa\" id=\"u44d97afa\"><br></p><h3 data-lake-id=\"f42b41b9\" id=\"f42b41b9\"><span data-lake-id=\"ua2befa1d\" id=\"ua2befa1d\">新建友情链接 friends 页（可选的）</span></h3><p data-lake-id=\"u4823aad8\" id=\"u4823aad8\"><br></p><p data-lake-id=\"u3bdba874\" id=\"u3bdba874\"><code data-lake-id=\"u73400982\" id=\"u73400982\"><span data-lake-id=\"ua77c086a\" id=\"ua77c086a\">friends</span></code><span data-lake-id=\"ua74dd457\" id=\"ua74dd457\"> 页是用来展示</span><strong><span data-lake-id=\"u7a6de201\" id=\"u7a6de201\">友情链接</span></strong><span data-lake-id=\"u56c4dc9e\" id=\"u56c4dc9e\">信息的页面，如果在你的博客 </span><code data-lake-id=\"u23677614\" id=\"u23677614\"><span data-lake-id=\"u5209952d\" id=\"u5209952d\">source</span></code><span data-lake-id=\"u36aed7eb\" id=\"u36aed7eb\"> 目录下还没有 </span><code data-lake-id=\"u5d49cdb3\" id=\"u5d49cdb3\"><span data-lake-id=\"u9db26a84\" id=\"u9db26a84\">friends/index.md</span></code><span data-lake-id=\"u107ce05b\" id=\"u107ce05b\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"ufd8abc3e\" id=\"ufd8abc3e\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22friends%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2284c23dc5%22%7D\"></card><p data-lake-id=\"uc28c0fd0\" id=\"uc28c0fd0\"><br></p><p data-lake-id=\"u51a6679f\" id=\"u51a6679f\"><span data-lake-id=\"uce8201a6\" id=\"uce8201a6\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"uf6cb2948\" id=\"uf6cb2948\"><span data-lake-id=\"uc5b5e662\" id=\"uc5b5e662\">/source/friends/index.md</span></code><span data-lake-id=\"uae1cb76d\" id=\"uae1cb76d\">，至少需要以下内容：</span></p><p data-lake-id=\"u2af792ea\" id=\"u2af792ea\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20friends%5Cndate%3A%202018-12-12%2021%3A25%3A30%5Cntype%3A%20%5C%22friends%5C%22%5Cnlayout%3A%20%5C%22friends%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2225194a3a%22%7D\"></card><p data-lake-id=\"u0ce10f77\" id=\"u0ce10f77\"><br></p><p data-lake-id=\"ua725e649\" id=\"ua725e649\"><span data-lake-id=\"u2b2a4377\" id=\"u2b2a4377\">同时，在你的博客 </span><code data-lake-id=\"ue55db927\" id=\"ue55db927\"><span data-lake-id=\"u0d82b45e\" id=\"u0d82b45e\">source</span></code><span data-lake-id=\"u1fc3d0cb\" id=\"u1fc3d0cb\"> 目录下新建 </span><code data-lake-id=\"udfd14106\" id=\"udfd14106\"><span data-lake-id=\"u43b5b56b\" id=\"u43b5b56b\">_data</span></code><span data-lake-id=\"uea2b3289\" id=\"uea2b3289\"> 目录，在 </span><code data-lake-id=\"u1c8e8c1e\" id=\"u1c8e8c1e\"><span data-lake-id=\"uabd494f0\" id=\"uabd494f0\">_data</span></code><span data-lake-id=\"u204bd1e0\" id=\"u204bd1e0\"> 目录中新建 </span><code data-lake-id=\"u5303795f\" id=\"u5303795f\"><span data-lake-id=\"u9eb92dd8\" id=\"u9eb92dd8\">friends.json</span></code><span data-lake-id=\"u8870b31f\" id=\"u8870b31f\"> 文件，文件内容如下所示：</span></p><p data-lake-id=\"u6ca9fc12\" id=\"u6ca9fc12\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%7B%5Cn%20%20%20%20%5C%22avatar%5C%22%3A%20%5C%22http%3A%2F%2Fimage.luokangyuan.com%2F1_qq_27922023.jpg%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22%E7%A0%81%E9%85%B1%5C%22%2C%5Cn%20%20%20%20%5C%22introduction%5C%22%3A%20%5C%22%E6%88%91%E4%B8%8D%E6%98%AF%E5%A4%A7%E4%BD%AC%EF%BC%8C%E5%8F%AA%E6%98%AF%E5%9C%A8%E8%BF%BD%E5%AF%BB%E5%A4%A7%E4%BD%AC%E7%9A%84%E8%84%9A%E6%AD%A5%5C%22%2C%5Cn%20%20%20%20%5C%22url%5C%22%3A%20%5C%22http%3A%2F%2Fluokangyuan.com%2F%5C%22%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E5%89%8D%E5%8E%BB%E5%AD%A6%E4%B9%A0%5C%22%5Cn%7D%2C%20%7B%5Cn%20%20%20%20%5C%22avatar%5C%22%3A%20%5C%22http%3A%2F%2Fimage.luokangyuan.com%2F4027734.jpeg%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22%E9%97%AA%E7%83%81%E4%B9%8B%E7%8B%90%5C%22%2C%5Cn%20%20%20%20%5C%22introduction%5C%22%3A%20%5C%22%E7%BC%96%E7%A8%8B%E7%95%8C%E5%A4%A7%E4%BD%AC%EF%BC%8C%E6%8A%80%E6%9C%AF%E7%89%9B%EF%BC%8C%E4%BA%BA%E8%BF%98%E7%89%B9%E5%88%AB%E5%A5%BD%EF%BC%8C%E4%B8%8D%E6%87%82%E7%9A%84%E9%83%BD%E5%8F%AF%E4%BB%A5%E8%AF%B7%E6%95%99%E5%A4%A7%E4%BD%AC%5C%22%2C%5Cn%20%20%20%20%5C%22url%5C%22%3A%20%5C%22https%3A%2F%2Fblinkfox.github.io%2F%5C%22%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E5%89%8D%E5%8E%BB%E5%AD%A6%E4%B9%A0%5C%22%5Cn%7D%2C%20%7B%5Cn%20%20%20%20%5C%22avatar%5C%22%3A%20%5C%22http%3A%2F%2Fimage.luokangyuan.com%2Favatar.jpg%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22ja_rome%5C%22%2C%5Cn%20%20%20%20%5C%22introduction%5C%22%3A%20%5C%22%E5%B9%B3%E5%87%A1%E7%9A%84%E8%84%9A%E6%AD%A5%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%B5%B0%E5%87%BA%E4%BC%9F%E5%A4%A7%E7%9A%84%E8%A1%8C%E7%A8%8B%5C%22%2C%5Cn%20%20%20%20%5C%22url%5C%22%3A%20%5C%22https%3A%2F%2Fme.csdn.net%2Fjlh912008548%5C%22%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E5%89%8D%E5%8E%BB%E5%AD%A6%E4%B9%A0%5C%22%5Cn%7D%5D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ec83b335%22%7D\"></card><p data-lake-id=\"ue4bd3bb6\" id=\"ue4bd3bb6\"><br></p><h3 data-lake-id=\"46dd66e0\" id=\"46dd66e0\"><span data-lake-id=\"u0b41b06b\" id=\"u0b41b06b\">新建 404 页</span></h3><p data-lake-id=\"u692d8604\" id=\"u692d8604\"><br></p><p data-lake-id=\"u6a480448\" id=\"u6a480448\"><span data-lake-id=\"ua773187c\" id=\"ua773187c\">如果在你的博客 </span><code data-lake-id=\"u7488aaae\" id=\"u7488aaae\"><span data-lake-id=\"u73001416\" id=\"u73001416\">source</span></code><span data-lake-id=\"u056da3cf\" id=\"u056da3cf\"> 目录下还没有 </span><code data-lake-id=\"u4d7e3f57\" id=\"u4d7e3f57\"><span data-lake-id=\"u3dc34a40\" id=\"u3dc34a40\">404.md</span></code><span data-lake-id=\"u0d1d3014\" id=\"u0d1d3014\"> 文件，那么你就需要新建一个</span></p><p data-lake-id=\"u6e13a4ce\" id=\"u6e13a4ce\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20404%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2200937270%22%7D\"></card><p data-lake-id=\"u65ed2807\" id=\"u65ed2807\"><br></p><p data-lake-id=\"ub565af56\" id=\"ub565af56\"><span data-lake-id=\"u3e875d87\" id=\"u3e875d87\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"u3a301056\" id=\"u3a301056\"><span data-lake-id=\"uf3cad2f1\" id=\"uf3cad2f1\">/source/404/index.md</span></code><span data-lake-id=\"u9f981992\" id=\"u9f981992\">，至少需要以下内容：</span></p><p data-lake-id=\"ue41539dd\" id=\"ue41539dd\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20404%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22404%5C%22%5Cnlayout%3A%20%5C%22404%5C%22%5Cndescription%3A%20%5C%22Oops%EF%BD%9E%EF%BC%8C%E6%88%91%E5%B4%A9%E6%BA%83%E4%BA%86%EF%BC%81%E6%89%BE%E4%B8%8D%E5%88%B0%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84%E9%A1%B5%E9%9D%A2%20%3A(%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225b3b3988%22%7D\"></card><p data-lake-id=\"ue9e92405\" id=\"ue9e92405\"><br></p><h3 data-lake-id=\"8464a785\" id=\"8464a785\"><span data-lake-id=\"ude5c9f44\" id=\"ude5c9f44\">菜单导航配置</span></h3><p data-lake-id=\"u7db76fe2\" id=\"u7db76fe2\"><br></p><h4 data-lake-id=\"1a6527d0\" id=\"1a6527d0\"><span data-lake-id=\"u29302177\" id=\"u29302177\">配置基本菜单导航的名称、路径url和图标icon.</span></h4><p data-lake-id=\"u7d3f9728\" id=\"u7d3f9728\"><br></p><p data-lake-id=\"u52baf7db\" id=\"u52baf7db\"><span data-lake-id=\"u2b9132af\" id=\"u2b9132af\">1.菜单导航名称可以是中文也可以是英文(如：</span><code data-lake-id=\"u32beb4bd\" id=\"u32beb4bd\"><span data-lake-id=\"ud1f643b9\" id=\"ud1f643b9\">Index</span></code><span data-lake-id=\"ufc911d0e\" id=\"ufc911d0e\">或</span><code data-lake-id=\"udb49d677\" id=\"udb49d677\"><span data-lake-id=\"u3595213d\" id=\"u3595213d\">主页</span></code><span data-lake-id=\"u6f6a548f\" id=\"u6f6a548f\">)<br /></span><span data-lake-id=\"u3d169ad3\" id=\"u3d169ad3\">2.图标icon 可以在</span><a href=\"https://fontawesome.com/icons\" target=\"_blank\" data-lake-id=\"udabf9f4e\" id=\"udabf9f4e\"><span data-lake-id=\"u7ded8621\" id=\"u7ded8621\">Font Awesome</span></a><span data-lake-id=\"u60a8ee99\" id=\"u60a8ee99\"> 中查找</span></p><p data-lake-id=\"uc5930d8c\" id=\"uc5930d8c\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22menu%3A%5Cn%20%20Index%3A%5Cn%20%20%20%20url%3A%20%2F%5Cn%20%20%20%20icon%3A%20fas%20fa-home%5Cn%20%20Tags%3A%5Cn%20%20%20%20url%3A%20%2Ftags%5Cn%20%20%20%20icon%3A%20fas%20fa-tags%5Cn%20%20Categories%3A%5Cn%20%20%20%20url%3A%20%2Fcategories%5Cn%20%20%20%20icon%3A%20fas%20fa-bookmark%5Cn%20%20Archives%3A%5Cn%20%20%20%20url%3A%20%2Farchives%5Cn%20%20%20%20icon%3A%20fas%20fa-archive%5Cn%20%20About%3A%5Cn%20%20%20%20url%3A%20%2Fabout%5Cn%20%20%20%20icon%3A%20fas%20fa-user-circle%5Cn%20%20Friends%3A%5Cn%20%20%20%20url%3A%20%2Ffriends%5Cn%20%20%20%20icon%3A%20fas%20fa-address-book%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2278cbd64d%22%7D\"></card><p data-lake-id=\"u43711e63\" id=\"u43711e63\"><br></p><h4 data-lake-id=\"5b0f493d\" id=\"5b0f493d\"><span data-lake-id=\"u9a3ddbc9\" id=\"u9a3ddbc9\">二级菜单配置方法</span></h4><p data-lake-id=\"u3a2d637b\" id=\"u3a2d637b\"><br></p><p data-lake-id=\"u08c2e703\" id=\"u08c2e703\"><span data-lake-id=\"u35e38ffa\" id=\"u35e38ffa\">如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作</span></p><p data-lake-id=\"ucb1daf17\" id=\"ucb1daf17\"><br></p><ol list=\"uef4f83b3\"><li fid=\"u9237f134\" data-lake-id=\"ub626539c\" id=\"ub626539c\"><span data-lake-id=\"u3ccaa100\" id=\"u3ccaa100\">在需要添加二级菜单的一级菜单下添加</span><code data-lake-id=\"u8dec3d1f\" id=\"u8dec3d1f\"><span data-lake-id=\"ud3f1fcf2\" id=\"ud3f1fcf2\">children</span></code><span data-lake-id=\"u8f218846\" id=\"u8f218846\">关键字(如:</span><code data-lake-id=\"ua1d478b8\" id=\"ua1d478b8\"><span data-lake-id=\"u2dfcdbb6\" id=\"u2dfcdbb6\">About</span></code><span data-lake-id=\"udaaec005\" id=\"udaaec005\">菜单下添加</span><code data-lake-id=\"ucf70af77\" id=\"ucf70af77\"><span data-lake-id=\"ub74df345\" id=\"ub74df345\">children</span></code><span data-lake-id=\"ud7016266\" id=\"ud7016266\">)</span></li></ol><ol list=\"u595044b4\" start=\"2\"><li fid=\"u8beebe07\" data-lake-id=\"u31a9ffa6\" id=\"u31a9ffa6\"><span data-lake-id=\"ue604a3e2\" id=\"ue604a3e2\">在</span><code data-lake-id=\"u3ec21aa8\" id=\"u3ec21aa8\"><span data-lake-id=\"u02a65ba7\" id=\"u02a65ba7\">children</span></code><span data-lake-id=\"u222dfa3a\" id=\"u222dfa3a\">下创建二级菜单的 名称name,路径url和图标icon.</span></li></ol><ol list=\"u5ab19ac1\" start=\"3\"><li fid=\"u2d0067f1\" data-lake-id=\"u96d2cfba\" id=\"u96d2cfba\"><span data-lake-id=\"u2d65679b\" id=\"u2d65679b\">注意每个二级菜单模块前要加 </span><code data-lake-id=\"ua26cbad8\" id=\"ua26cbad8\"><span data-lake-id=\"u4e0bde7e\" id=\"u4e0bde7e\">-</span></code><span data-lake-id=\"ub90cc630\" id=\"ub90cc630\">.</span></li></ol><ol list=\"u6f6d4f81\" start=\"4\"><li fid=\"ub8113200\" data-lake-id=\"u9807234f\" id=\"u9807234f\"><span data-lake-id=\"u8e9ca2cb\" id=\"u8e9ca2cb\">注意缩进格式</span></li></ol><p data-lake-id=\"u17ab91bb\" id=\"u17ab91bb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22menu%3A%5Cn%20%20Index%3A%5Cn%20%20%20%20url%3A%20%2F%5Cn%20%20%20%20icon%3A%20fas%20fa-home%5Cn%20%20Tags%3A%5Cn%20%20%20%20url%3A%20%2Ftags%5Cn%20%20%20%20icon%3A%20fas%20fa-tags%5Cn%20%20Categories%3A%5Cn%20%20%20%20url%3A%20%2Fcategories%5Cn%20%20%20%20icon%3A%20fas%20fa-bookmark%5Cn%20%20Archives%3A%5Cn%20%20%20%20url%3A%20%2Farchives%5Cn%20%20%20%20icon%3A%20fas%20fa-archive%5Cn%20%20About%3A%5Cn%20%20%20%20url%3A%20%2Fabout%5Cn%20%20%20%20icon%3A%20fas%20fa-user-circle-o%5Cn%20%20Friends%3A%5Cn%20%20%20%20url%3A%20%2Ffriends%5Cn%20%20%20%20icon%3A%20fas%20fa-address-book%5Cn%20%20Medias%3A%5Cn%20%20%20%20icon%3A%20fas%20fa-list%5Cn%20%20%20%20children%3A%5Cn%20%20%20%20%20%20-%20name%3A%20Music%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fmusic%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-music%5Cn%20%20%20%20%20%20-%20name%3A%20Movies%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fmovies%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-film%5Cn%20%20%20%20%20%20-%20name%3A%20Books%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fbooks%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-book%5Cn%20%20%20%20%20%20-%20name%3A%20Galleries%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fgalleries%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-image%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22d9b0ee30%22%7D\"></card><p data-lake-id=\"u532fe467\" id=\"u532fe467\"><br></p><h3 data-lake-id=\"38bbd995\" id=\"38bbd995\"><span data-lake-id=\"u369c774b\" id=\"u369c774b\">代码高亮</span></h3><p data-lake-id=\"u2b920783\" id=\"u2b920783\"><br></p><p data-lake-id=\"ub0e420b9\" id=\"ub0e420b9\"><span data-lake-id=\"uffc5d178\" id=\"uffc5d178\">从 Hexo5.0 版本开始自带了 </span><code data-lake-id=\"u2ead1f04\" id=\"u2ead1f04\"><span data-lake-id=\"ufa52d0e1\" id=\"ufa52d0e1\">prismjs</span></code><span data-lake-id=\"ued45bb1c\" id=\"ued45bb1c\"> 代码语法高亮的支持，本主题对此进行了改造支持。</span></p><p data-lake-id=\"u6649e4ca\" id=\"u6649e4ca\"><br></p><p data-lake-id=\"ue1a356b0\" id=\"ue1a356b0\"><span data-lake-id=\"u460ecbb4\" id=\"u460ecbb4\">如果你的博客中曾经安装过 </span><code data-lake-id=\"uec5e202b\" id=\"uec5e202b\"><span data-lake-id=\"u7710118a\" id=\"u7710118a\">hexo-prism-plugin</span></code><span data-lake-id=\"udefac40d\" id=\"udefac40d\"> 的插件，那么你须要执行 </span><code data-lake-id=\"u1a4dbcb8\" id=\"u1a4dbcb8\"><span data-lake-id=\"u87eb70bb\" id=\"u87eb70bb\">npm uninstall hexo-prism-plugin</span></code><span data-lake-id=\"u572f82a6\" id=\"u572f82a6\"> 来卸载掉它，否则生成的代码中会有 </span><code data-lake-id=\"u833517dd\" id=\"u833517dd\"><span data-lake-id=\"u63128db1\" id=\"u63128db1\">&amp;#123;</span></code><span data-lake-id=\"ufc4e3653\" id=\"ufc4e3653\"> 和 </span><code data-lake-id=\"uc11389b3\" id=\"uc11389b3\"><span data-lake-id=\"u441f9382\" id=\"u441f9382\">&amp;#125;</span></code><span data-lake-id=\"u2539d5ee\" id=\"u2539d5ee\"> 的转义字符。</span></p><p data-lake-id=\"u9d89c586\" id=\"u9d89c586\"><br></p><p data-lake-id=\"u42d44e89\" id=\"u42d44e89\"><span data-lake-id=\"u954c8232\" id=\"u954c8232\">然后，修改 Hexo 根目录下 </span><code data-lake-id=\"u3d09cbac\" id=\"u3d09cbac\"><span data-lake-id=\"ue7ee5a7f\" id=\"ue7ee5a7f\">_config.yml</span></code><span data-lake-id=\"ufdb6deb9\" id=\"ufdb6deb9\"> 文件中 </span><code data-lake-id=\"ueda4c388\" id=\"ueda4c388\"><span data-lake-id=\"ud3967567\" id=\"ud3967567\">highlight.enable</span></code><span data-lake-id=\"ua63b3303\" id=\"ua63b3303\"> 的值为 </span><code data-lake-id=\"u6e4eb964\" id=\"u6e4eb964\"><span data-lake-id=\"ue1b4065f\" id=\"ue1b4065f\">false</span></code><span data-lake-id=\"u7fa324d2\" id=\"u7fa324d2\">，并将 </span><code data-lake-id=\"uac37db5b\" id=\"uac37db5b\"><span data-lake-id=\"u6387223f\" id=\"u6387223f\">prismjs.enable</span></code><span data-lake-id=\"u7cf662d4\" id=\"u7cf662d4\"> 的值设置为 </span><code data-lake-id=\"ub36f1ccb\" id=\"ub36f1ccb\"><span data-lake-id=\"uf6a1f80a\" id=\"uf6a1f80a\">true</span></code><span data-lake-id=\"u11236a4c\" id=\"u11236a4c\">，主要配置如下：</span></p><p data-lake-id=\"u6caa8fa3\" id=\"u6caa8fa3\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22highlight%3A%5Cn%20%20enable%3A%20false%5Cn%20%20line_number%3A%20true%5Cn%20%20auto_detect%3A%20false%5Cn%20%20tab_replace%3A%20''%5Cn%20%20wrap%3A%20true%5Cn%20%20hljs%3A%20false%5Cnprismjs%3A%5Cn%20%20enable%3A%20true%5Cn%20%20preprocess%3A%20true%5Cn%20%20line_number%3A%20true%5Cn%20%20tab_replace%3A%20''%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b87420f5%22%7D\"></card><p data-lake-id=\"uc81947bc\" id=\"uc81947bc\"><br></p><p data-lake-id=\"u7fefb6dd\" id=\"u7fefb6dd\"><span data-lake-id=\"u0b19b5c3\" id=\"u0b19b5c3\">主题中默认的 </span><code data-lake-id=\"u91a0263b\" id=\"u91a0263b\"><span data-lake-id=\"u557e2ec0\" id=\"u557e2ec0\">prismjs</span></code><span data-lake-id=\"u4af89244\" id=\"u4af89244\"> 主题是 </span><code data-lake-id=\"u765a7a60\" id=\"u765a7a60\"><span data-lake-id=\"ub62195a6\" id=\"ub62195a6\">Tomorrow Night</span></code><span data-lake-id=\"uf7bb7d68\" id=\"uf7bb7d68\">，如果你想定制自己的主题，可以前往 </span><a href=\"https://prismjs.com/download.html\" target=\"_blank\" data-lake-id=\"u175e242a\" id=\"u175e242a\"><span data-lake-id=\"u24d591b4\" id=\"u24d591b4\">prismjs 下载页面</span></a><span data-lake-id=\"ua8a83ad2\" id=\"ua8a83ad2\"> 定制下载自己喜欢的主题 </span><code data-lake-id=\"u7697a694\" id=\"u7697a694\"><span data-lake-id=\"ua0815552\" id=\"ua0815552\">css</span></code><span data-lake-id=\"u1003b906\" id=\"u1003b906\"> 文件，然后将此 css 主题文件取名为 </span><code data-lake-id=\"u322df076\" id=\"u322df076\"><span data-lake-id=\"u5aeb43a0\" id=\"u5aeb43a0\">prism.css</span></code><span data-lake-id=\"u141425e2\" id=\"u141425e2\">，替换掉 </span><code data-lake-id=\"u55c164e3\" id=\"u55c164e3\"><span data-lake-id=\"ua44f227b\" id=\"ua44f227b\">hexo-theme-matery</span></code><span data-lake-id=\"ue770e0f1\" id=\"ue770e0f1\"> 主题文件夹中的 </span><code data-lake-id=\"u5671191d\" id=\"u5671191d\"><span data-lake-id=\"uc4d12b08\" id=\"uc4d12b08\">source/libs/prism/prism.css</span></code><span data-lake-id=\"ue55b93ad\" id=\"ue55b93ad\"> 文件即可。</span></p><p data-lake-id=\"u1c0068d8\" id=\"u1c0068d8\"><br></p><h3 data-lake-id=\"e5f71fc3\" id=\"e5f71fc3\"><span data-lake-id=\"u58e2f4a2\" id=\"u58e2f4a2\">搜索</span></h3><p data-lake-id=\"u523df8d4\" id=\"u523df8d4\"><br></p><p data-lake-id=\"udd5801b8\" id=\"udd5801b8\"><span data-lake-id=\"udaadf8d6\" id=\"udaadf8d6\">本主题中还使用到了 </span><a href=\"https://github.com/wzpan/hexo-generator-search\" target=\"_blank\" data-lake-id=\"udb4949ae\" id=\"udb4949ae\"><span data-lake-id=\"u1615281e\" id=\"u1615281e\">hexo-generator-search</span></a><span data-lake-id=\"u284b98a2\" id=\"u284b98a2\"> 的 Hexo 插件来做内容搜索，安装命令如下：</span></p><p data-lake-id=\"u0dee8562\" id=\"u0dee8562\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20install%20hexo-generator-search%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227270f801%22%7D\"></card><p data-lake-id=\"ue1c9a87e\" id=\"ue1c9a87e\"><br></p><p data-lake-id=\"udaea13de\" id=\"udaea13de\"><span data-lake-id=\"uf7271dec\" id=\"uf7271dec\">在 Hexo 根目录下的 </span><code data-lake-id=\"uaaffd865\" id=\"uaaffd865\"><span data-lake-id=\"u93014ac4\" id=\"u93014ac4\">_config.yml</span></code><span data-lake-id=\"u8b731b61\" id=\"u8b731b61\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"uaae6d251\" id=\"uaae6d251\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22search%3A%5Cn%20%20path%3A%20search.xml%5Cn%20%20field%3A%20post%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2200790eb3%22%7D\"></card><p data-lake-id=\"ufd6b5ce0\" id=\"ufd6b5ce0\"><br></p><h3 data-lake-id=\"bfe676d1\" id=\"bfe676d1\"><span data-lake-id=\"u295fa19e\" id=\"u295fa19e\">中文链接转拼音（建议安装）</span></h3><p data-lake-id=\"u1333cc00\" id=\"u1333cc00\"><br></p><p data-lake-id=\"u70b69831\" id=\"u70b69831\"><span data-lake-id=\"u155ed21a\" id=\"u155ed21a\">如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 </span><code data-lake-id=\"ub0e4e84e\" id=\"ub0e4e84e\"><span data-lake-id=\"u16ab1d30\" id=\"u16ab1d30\">SEO</span></code><span data-lake-id=\"u21eb63bb\" id=\"u21eb63bb\">，且 </span><code data-lake-id=\"ua2044e09\" id=\"ua2044e09\"><span data-lake-id=\"u3000fc15\" id=\"u3000fc15\">gitment</span></code><span data-lake-id=\"u98fce821\" id=\"u98fce821\"> 评论对中文链接也不支持。我们可以用 </span><a href=\"https://github.com/viko16/hexo-permalink-pinyin\" target=\"_blank\" data-lake-id=\"ucf473f4e\" id=\"ucf473f4e\"><span data-lake-id=\"u4b05b2ba\" id=\"u4b05b2ba\">hexo-permalink-pinyin</span></a><span data-lake-id=\"u6d94d64d\" id=\"u6d94d64d\"> Hexo 插件使在生成文章时生成中文拼音的永久链接。</span></p><p data-lake-id=\"u8d17b7f7\" id=\"u8d17b7f7\"><br></p><p data-lake-id=\"uaa4184fc\" id=\"uaa4184fc\"><span data-lake-id=\"uef27396f\" id=\"uef27396f\">安装命令如下：</span></p><p data-lake-id=\"u2ed31ed1\" id=\"u2ed31ed1\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20i%20hexo-permalink-pinyin%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226c67f6af%22%7D\"></card><p data-lake-id=\"u257612b2\" id=\"u257612b2\"><br></p><p data-lake-id=\"u25806065\" id=\"u25806065\"><span data-lake-id=\"u2df00474\" id=\"u2df00474\">在 Hexo 根目录下的 </span><code data-lake-id=\"ua10aa1ec\" id=\"ua10aa1ec\"><span data-lake-id=\"u46cd7a55\" id=\"u46cd7a55\">_config.yml</span></code><span data-lake-id=\"ub0e66e05\" id=\"ub0e66e05\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"ub599eecc\" id=\"ub599eecc\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22permalink_pinyin%3A%5Cn%20%20enable%3A%20true%5Cn%20%20separator%3A%20'-'%20%23%20default%3A%20'-'%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22bde97b43%22%7D\"></card><p data-lake-id=\"u86dc76db\" id=\"u86dc76db\"><br></p><blockquote data-lake-id=\"ue4a38401\" id=\"ue4a38401\"><p data-lake-id=\"ue168795f\" id=\"ue168795f\"><strong><span data-lake-id=\"u5cf487ea\" id=\"u5cf487ea\">注</span></strong><span data-lake-id=\"u69209184\" id=\"u69209184\">：除了此插件外，</span><a href=\"https://github.com/rozbo/hexo-abbrlink\" target=\"_blank\" data-lake-id=\"u370da748\" id=\"u370da748\"><span data-lake-id=\"u5d8e924b\" id=\"u5d8e924b\">hexo-abbrlink</span></a><span data-lake-id=\"u4998cf07\" id=\"u4998cf07\"> 插件也可以生成非中文的链接。</span></p></blockquote><p data-lake-id=\"uc493329d\" id=\"uc493329d\"><br></p><h3 data-lake-id=\"d913dca0\" id=\"d913dca0\"><span data-lake-id=\"u70895691\" id=\"u70895691\">文章字数统计插件（建议安装）</span></h3><p data-lake-id=\"uddaa964d\" id=\"uddaa964d\"><br></p><p data-lake-id=\"uae2875cd\" id=\"uae2875cd\"><span data-lake-id=\"uf4e80f4c\" id=\"uf4e80f4c\">如果你想要在文章中显示文章字数、阅读时长信息，可以安装 </span><a href=\"https://github.com/willin/hexo-wordcount\" target=\"_blank\" data-lake-id=\"uc47b6a8e\" id=\"uc47b6a8e\"><span data-lake-id=\"u39b3e5e8\" id=\"u39b3e5e8\">hexo-wordcount</span></a><span data-lake-id=\"u431723b1\" id=\"u431723b1\">插件。</span></p><p data-lake-id=\"u0995dfd8\" id=\"u0995dfd8\"><br></p><p data-lake-id=\"ue7e1c5a6\" id=\"ue7e1c5a6\"><span data-lake-id=\"u5e8fd811\" id=\"u5e8fd811\">安装命令如下：</span></p><p data-lake-id=\"u5d39786d\" id=\"u5d39786d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20i%20--save%20hexo-wordcount%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221b09e7db%22%7D\"></card><p data-lake-id=\"uebce8d66\" id=\"uebce8d66\"><br></p><p data-lake-id=\"u2117be37\" id=\"u2117be37\"><span data-lake-id=\"u14997cd2\" id=\"u14997cd2\">然后只需在本主题下的 </span><code data-lake-id=\"uf312e675\" id=\"uf312e675\"><span data-lake-id=\"u431c2518\" id=\"u431c2518\">_config.yml</span></code><span data-lake-id=\"u3405e5b6\" id=\"u3405e5b6\"> 文件中，将各个文章字数相关的配置激活即可：</span></p><p data-lake-id=\"ue441ffca\" id=\"ue441ffca\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22postInfo%3A%5Cn%20%20date%3A%20true%5Cn%20%20update%3A%20false%5Cn%20%20wordCount%3A%20false%20%23%20%E8%AE%BE%E7%BD%AE%E6%96%87%E7%AB%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E4%B8%BA%20true.%5Cn%20%20totalCount%3A%20false%20%23%20%E8%AE%BE%E7%BD%AE%E7%AB%99%E7%82%B9%E6%96%87%E7%AB%A0%E6%80%BB%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E4%B8%BA%20true.%5Cn%20%20min2read%3A%20false%20%23%20%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF.%5Cn%20%20readCount%3A%20false%20%23%20%E9%98%85%E8%AF%BB%E6%AC%A1%E6%95%B0.%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2288a8614b%22%7D\"></card><p data-lake-id=\"u3db6dd2a\" id=\"u3db6dd2a\"><br></p><h3 data-lake-id=\"2a5faabd\" id=\"2a5faabd\"><span data-lake-id=\"u3d308e38\" id=\"u3d308e38\">添加emoji表情支持（可选的）</span></h3><p data-lake-id=\"u8903bf3a\" id=\"u8903bf3a\"><br></p><p data-lake-id=\"u8935248b\" id=\"u8935248b\"><span data-lake-id=\"u4a75a22a\" id=\"u4a75a22a\">本主题新增了对</span><code data-lake-id=\"u4b84e76b\" id=\"u4b84e76b\"><span data-lake-id=\"u02bd41f4\" id=\"u02bd41f4\">emoji</span></code><span data-lake-id=\"u08241b67\" id=\"u08241b67\">表情的支持，使用到了 </span><a href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\" target=\"_blank\" data-lake-id=\"u8fdeaaca\" id=\"u8fdeaaca\"><span data-lake-id=\"u32af0594\" id=\"u32af0594\">hexo-filter-github-emojis</span></a><span data-lake-id=\"u71bab4f7\" id=\"u71bab4f7\"> 的 Hexo 插件来支持 </span><code data-lake-id=\"u7008e341\" id=\"u7008e341\"><span data-lake-id=\"ub2c8c880\" id=\"ub2c8c880\">emoji</span></code><span data-lake-id=\"u1eb1a192\" id=\"u1eb1a192\">表情的生成，把对应的</span><code data-lake-id=\"uab95c363\" id=\"uab95c363\"><span data-lake-id=\"ua484a26e\" id=\"ua484a26e\">markdown emoji</span></code><span data-lake-id=\"u98b775a1\" id=\"u98b775a1\">语法（</span><code data-lake-id=\"ua4d7a4c3\" id=\"ua4d7a4c3\"><span data-lake-id=\"u56356347\" id=\"u56356347\">::</span></code><span data-lake-id=\"u60639064\" id=\"u60639064\">,例如：</span><code data-lake-id=\"u36e46c6a\" id=\"u36e46c6a\"><span data-lake-id=\"u794edab8\" id=\"u794edab8\">:smile:</span></code><span data-lake-id=\"u16a4e0ef\" id=\"u16a4e0ef\">）转变成会跳跃的</span><code data-lake-id=\"u55c973eb\" id=\"u55c973eb\"><span data-lake-id=\"u90a03dd3\" id=\"u90a03dd3\">emoji</span></code><span data-lake-id=\"u38432a5b\" id=\"u38432a5b\">表情，安装命令如下：</span></p><p data-lake-id=\"u37e2c0f7\" id=\"u37e2c0f7\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20install%20hexo-filter-github-emojis%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22059a943f%22%7D\"></card><p data-lake-id=\"u4e63b5e6\" id=\"u4e63b5e6\"><br></p><p data-lake-id=\"uec6e685a\" id=\"uec6e685a\"><span data-lake-id=\"ud84ed3ef\" id=\"ud84ed3ef\">在 Hexo 根目录下的 </span><code data-lake-id=\"ue261bdba\" id=\"ue261bdba\"><span data-lake-id=\"u42dc3570\" id=\"u42dc3570\">_config.yml</span></code><span data-lake-id=\"uce90a633\" id=\"uce90a633\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"u96a2df14\" id=\"u96a2df14\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22githubEmojis%3A%5Cn%20%20enable%3A%20true%5Cn%20%20className%3A%20github-emoji%5Cn%20%20inject%3A%20true%5Cn%20%20styles%3A%5Cn%20%20customEmojis%3A%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f573d599%22%7D\"></card><p data-lake-id=\"ud392d8a2\" id=\"ud392d8a2\"><br></p><p data-lake-id=\"uaf2f848b\" id=\"uaf2f848b\"><span data-lake-id=\"u88c08a01\" id=\"u88c08a01\">执行 </span><code data-lake-id=\"u69bdd7ef\" id=\"u69bdd7ef\"><span data-lake-id=\"ufb8bdb22\" id=\"ufb8bdb22\">hexo clean &amp;&amp; hexo g</span></code><span data-lake-id=\"u3b128ddf\" id=\"u3b128ddf\"> 重新生成博客文件，然后就可以在文章中对应位置看到你用</span><code data-lake-id=\"u9df364b3\" id=\"u9df364b3\"><span data-lake-id=\"u4c9c5960\" id=\"u4c9c5960\">emoji</span></code><span data-lake-id=\"u20058442\" id=\"u20058442\">语法写的表情了。</span></p><p data-lake-id=\"u01f957ab\" id=\"u01f957ab\"><br></p><h3 data-lake-id=\"93a6c56a\" id=\"93a6c56a\"><span data-lake-id=\"u58f5782b\" id=\"u58f5782b\">添加 RSS 订阅支持（可选的）</span></h3><p data-lake-id=\"u3c6c1942\" id=\"u3c6c1942\"><br></p><p data-lake-id=\"u4ac018b1\" id=\"u4ac018b1\"><span data-lake-id=\"u0dbd9908\" id=\"u0dbd9908\">本主题中还使用到了 </span><a href=\"https://github.com/hexojs/hexo-generator-feed\" target=\"_blank\" data-lake-id=\"u1eba1665\" id=\"u1eba1665\"><span data-lake-id=\"uef8d5d1e\" id=\"uef8d5d1e\">hexo-generator-feed</span></a><span data-lake-id=\"u848b8c83\" id=\"u848b8c83\"> 的 Hexo 插件来做 </span><code data-lake-id=\"u9a3da841\" id=\"u9a3da841\"><span data-lake-id=\"ub432291c\" id=\"ub432291c\">RSS</span></code><span data-lake-id=\"u8df91e71\" id=\"u8df91e71\">，安装命令如下：</span></p><p data-lake-id=\"uf256a891\" id=\"uf256a891\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20install%20hexo-generator-feed%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225053cdf9%22%7D\"></card><p data-lake-id=\"u1bb64213\" id=\"u1bb64213\"><br></p><p data-lake-id=\"u7e4698ba\" id=\"u7e4698ba\"><span data-lake-id=\"u4cb2d7e5\" id=\"u4cb2d7e5\">在 Hexo 根目录下的 </span><code data-lake-id=\"u2c99ade0\" id=\"u2c99ade0\"><span data-lake-id=\"udf37c434\" id=\"udf37c434\">_config.yml</span></code><span data-lake-id=\"uc4f0f2f0\" id=\"uc4f0f2f0\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"u8e89796a\" id=\"u8e89796a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22feed%3A%5Cn%20%20type%3A%20atom%5Cn%20%20path%3A%20atom.xml%5Cn%20%20limit%3A%2020%5Cn%20%20hub%3A%5Cn%20%20content%3A%5Cn%20%20content_limit%3A%20140%5Cn%20%20content_limit_delim%3A%20'%20'%5Cn%20%20order_by%3A%20-date%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c9f8aae9%22%7D\"></card><p data-lake-id=\"uc0f05af2\" id=\"uc0f05af2\"><br></p><p data-lake-id=\"uace16395\" id=\"uace16395\"><span data-lake-id=\"u02c6baa8\" id=\"u02c6baa8\">执行 </span><code data-lake-id=\"uab373efc\" id=\"uab373efc\"><span data-lake-id=\"u8154d262\" id=\"u8154d262\">hexo clean &amp;&amp; hexo g</span></code><span data-lake-id=\"u50e0ce68\" id=\"u50e0ce68\"> 重新生成博客文件，然后在 </span><code data-lake-id=\"u07e546c6\" id=\"u07e546c6\"><span data-lake-id=\"uff2b7d3e\" id=\"uff2b7d3e\">public</span></code><span data-lake-id=\"ub47837b5\" id=\"ub47837b5\"> 文件夹中即可看到 </span><code data-lake-id=\"u5bae33bd\" id=\"u5bae33bd\"><span data-lake-id=\"u68cd9d65\" id=\"u68cd9d65\">atom.xml</span></code><span data-lake-id=\"uf6eda1ee\" id=\"uf6eda1ee\"> 文件，说明你已经安装成功了。</span></p><p data-lake-id=\"u59b939a7\" id=\"u59b939a7\"><br></p><h3 data-lake-id=\"97dc6720\" id=\"97dc6720\"><span data-lake-id=\"u1c93db78\" id=\"u1c93db78\">添加 </span><a href=\"http://www.daovoice.io/\" target=\"_blank\" data-lake-id=\"u0689f55a\" id=\"u0689f55a\"><span data-lake-id=\"u19425d75\" id=\"u19425d75\">DaoVoice</span></a><span data-lake-id=\"u8f7b8442\" id=\"u8f7b8442\"> 在线聊天功能（可选的）</span></h3><p data-lake-id=\"u6ba8248c\" id=\"u6ba8248c\"><br></p><p data-lake-id=\"u9ba6c2c1\" id=\"u9ba6c2c1\"><span data-lake-id=\"u4b86ebae\" id=\"u4b86ebae\">前往 </span><a href=\"http://www.daovoice.io/\" target=\"_blank\" data-lake-id=\"u96236b2a\" id=\"u96236b2a\"><span data-lake-id=\"u73da600e\" id=\"u73da600e\">DaoVoice</span></a><span data-lake-id=\"ub0904a6c\" id=\"ub0904a6c\"> 官网注册并且获取 </span><code data-lake-id=\"ufc6fe71d\" id=\"ufc6fe71d\"><span data-lake-id=\"u9817d524\" id=\"u9817d524\">app_id</span></code><span data-lake-id=\"ud94e104a\" id=\"ud94e104a\">，并将 </span><code data-lake-id=\"udc5b64ee\" id=\"udc5b64ee\"><span data-lake-id=\"u6cb70751\" id=\"u6cb70751\">app_id</span></code><span data-lake-id=\"uee5639a9\" id=\"uee5639a9\"> 填入主题的 </span><code data-lake-id=\"u5b6b9f8e\" id=\"u5b6b9f8e\"><span data-lake-id=\"ucecf7553\" id=\"ucecf7553\">_config.yml</span></code><span data-lake-id=\"uf1ce8f0c\" id=\"uf1ce8f0c\"> 文件中。</span></p><p data-lake-id=\"ucc321545\" id=\"ucc321545\"><br></p><h3 data-lake-id=\"a4e75667\" id=\"a4e75667\"><span data-lake-id=\"uee9f6cce\" id=\"uee9f6cce\">添加 </span><a href=\"https://www.tidio.com/\" target=\"_blank\" data-lake-id=\"uade01e81\" id=\"uade01e81\"><span data-lake-id=\"uc85fa568\" id=\"uc85fa568\">Tidio</span></a><span data-lake-id=\"ud88c756e\" id=\"ud88c756e\"> 在线聊天功能（可选的）</span></h3><p data-lake-id=\"ua1338c52\" id=\"ua1338c52\"><br></p><p data-lake-id=\"uf8cd35b1\" id=\"uf8cd35b1\"><span data-lake-id=\"ub04abb69\" id=\"ub04abb69\">前往 </span><a href=\"https://www.tidio.com/\" target=\"_blank\" data-lake-id=\"u7c811e1c\" id=\"u7c811e1c\"><span data-lake-id=\"u4f8f104d\" id=\"u4f8f104d\">Tidio</span></a><span data-lake-id=\"u0b28eb46\" id=\"u0b28eb46\"> 官网注册并且获取 </span><code data-lake-id=\"u52359257\" id=\"u52359257\"><span data-lake-id=\"uc771201c\" id=\"uc771201c\">Public Key</span></code><span data-lake-id=\"u710981e6\" id=\"u710981e6\">，并将 </span><code data-lake-id=\"u01582c47\" id=\"u01582c47\"><span data-lake-id=\"u6ca3cf61\" id=\"u6ca3cf61\">Public Key</span></code><span data-lake-id=\"u1ec83dee\" id=\"u1ec83dee\"> 填入主题的 </span><code data-lake-id=\"ub24a582c\" id=\"ub24a582c\"><span data-lake-id=\"ud4c70a7e\" id=\"ud4c70a7e\">_config.yml</span></code><span data-lake-id=\"u89635019\" id=\"u89635019\"> 文件中。</span></p><p data-lake-id=\"uba30dc02\" id=\"uba30dc02\"><br></p><h3 data-lake-id=\"0cc7004f\" id=\"0cc7004f\"><span data-lake-id=\"ud8e15125\" id=\"ud8e15125\">修改页脚</span></h3><p data-lake-id=\"u1bd88406\" id=\"u1bd88406\"><br></p><p data-lake-id=\"ub51f5c72\" id=\"ub51f5c72\"><span data-lake-id=\"u7b1e33bc\" id=\"u7b1e33bc\">页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 </span><code data-lake-id=\"u4cdb7035\" id=\"u4cdb7035\"><span data-lake-id=\"ue767503e\" id=\"ue767503e\">/layout/_partial/footer.ejs</span></code><span data-lake-id=\"ub8a27e18\" id=\"ub8a27e18\"> 文件中，包括站点、使用的主题、访问量等。</span></p><p data-lake-id=\"u64935535\" id=\"u64935535\"><br></p><h3 data-lake-id=\"02c0f2fd\" id=\"02c0f2fd\"><span data-lake-id=\"u92bafc4b\" id=\"u92bafc4b\">修改社交链接</span></h3><p data-lake-id=\"ud00d1c03\" id=\"ud00d1c03\"><br></p><p data-lake-id=\"u34dcb1cd\" id=\"u34dcb1cd\"><span data-lake-id=\"ub7c273df\" id=\"ub7c273df\">在主题的 </span><code data-lake-id=\"u7c995ece\" id=\"u7c995ece\"><span data-lake-id=\"u9d2e2022\" id=\"u9d2e2022\">_config.yml</span></code><span data-lake-id=\"uf14d9c7a\" id=\"uf14d9c7a\"> 文件中，默认支持 </span><code data-lake-id=\"uda92d3c0\" id=\"uda92d3c0\"><span data-lake-id=\"u6ab01c45\" id=\"u6ab01c45\">QQ</span></code><span data-lake-id=\"ufa2c6f61\" id=\"ufa2c6f61\">、</span><code data-lake-id=\"uf51f9086\" id=\"uf51f9086\"><span data-lake-id=\"ue99cd938\" id=\"ue99cd938\">GitHub</span></code><span data-lake-id=\"uedafe585\" id=\"uedafe585\"> 和邮箱等的配置，你可以在主题文件的 </span><code data-lake-id=\"u10c95ecd\" id=\"u10c95ecd\"><span data-lake-id=\"u6ef87fc5\" id=\"u6ef87fc5\">/layout/_partial/social-link.ejs</span></code><span data-lake-id=\"u0f91d90d\" id=\"u0f91d90d\"> 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：</span></p><p data-lake-id=\"ubeaa1405\" id=\"ubeaa1405\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3C%25%20if%20(theme.socialLink.github)%20%7B%20%25%3E%5Cn%20%20%20%20%3Ca%20href%3D%5C%22%3C%25%3D%20theme.socialLink.github%20%25%3E%5C%22%20class%3D%5C%22tooltipped%5C%22%20target%3D%5C%22_blank%5C%22%20data-tooltip%3D%5C%22%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84GitHub%5C%22%20data-position%3D%5C%22top%5C%22%20data-delay%3D%5C%2250%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Ci%20class%3D%5C%22fab%20fa-github%5C%22%3E%3C%2Fi%3E%5Cn%20%20%20%20%3C%2Fa%3E%5Cn%3C%25%20%7D%20%25%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226731cc66%22%7D\"></card><p data-lake-id=\"u7ad08731\" id=\"u7ad08731\"><br></p><p data-lake-id=\"u61fe7224\" id=\"u61fe7224\"><span data-lake-id=\"u45896500\" id=\"u45896500\">其中，社交图标（如：</span><code data-lake-id=\"u7b539599\" id=\"u7b539599\"><span data-lake-id=\"u0e71a257\" id=\"u0e71a257\">fa-github</span></code><span data-lake-id=\"u2ec6f041\" id=\"u2ec6f041\">）你可以在 </span><a href=\"https://fontawesome.com/icons\" target=\"_blank\" data-lake-id=\"u4adf4d38\" id=\"u4adf4d38\"><span data-lake-id=\"u37b0297c\" id=\"u37b0297c\">Font Awesome</span></a><span data-lake-id=\"u9c2e5b67\" id=\"u9c2e5b67\"> 中搜索找到。以下是常用社交图标的标识，供你参考：</span></p><p data-lake-id=\"uf38dff5e\" id=\"uf38dff5e\"><br></p><ul list=\"ufef12b42\"><li fid=\"u3d5b73ec\" data-lake-id=\"ud6faccf7\" id=\"ud6faccf7\"><span data-lake-id=\"u1857fd8a\" id=\"u1857fd8a\">Facebook: </span><code data-lake-id=\"udab1d7bf\" id=\"udab1d7bf\"><span data-lake-id=\"u6e274629\" id=\"u6e274629\">fab fa-facebook</span></code></li></ul><ul list=\"u72526e6e\"><li fid=\"u7e8f39b4\" data-lake-id=\"ud2c29052\" id=\"ud2c29052\"><span data-lake-id=\"u63b1398b\" id=\"u63b1398b\">Twitter: </span><code data-lake-id=\"uc645ac41\" id=\"uc645ac41\"><span data-lake-id=\"u15ddc8fd\" id=\"u15ddc8fd\">fab fa-twitter</span></code></li></ul><ul list=\"u5728f90b\"><li fid=\"udeb31a04\" data-lake-id=\"ua2107516\" id=\"ua2107516\"><span data-lake-id=\"ua65a7607\" id=\"ua65a7607\">Google-plus: </span><code data-lake-id=\"ue6a12009\" id=\"ue6a12009\"><span data-lake-id=\"u0eb97a2a\" id=\"u0eb97a2a\">fab fa-google-plus</span></code></li></ul><ul list=\"u1630dd9d\"><li fid=\"u93ba1010\" data-lake-id=\"u8c2579b4\" id=\"u8c2579b4\"><span data-lake-id=\"ud258c2c3\" id=\"ud258c2c3\">Linkedin: </span><code data-lake-id=\"uf167d2c2\" id=\"uf167d2c2\"><span data-lake-id=\"udbb8cf6c\" id=\"udbb8cf6c\">fab fa-linkedin</span></code></li></ul><ul list=\"ub6ff1f4e\"><li fid=\"uee94fc23\" data-lake-id=\"u5929c734\" id=\"u5929c734\"><span data-lake-id=\"ua9cd2633\" id=\"ua9cd2633\">Tumblr: </span><code data-lake-id=\"u1fdde016\" id=\"u1fdde016\"><span data-lake-id=\"u154ab30c\" id=\"u154ab30c\">fab fa-tumblr</span></code></li></ul><ul list=\"ucf939e91\"><li fid=\"u2aad114e\" data-lake-id=\"u04b1916f\" id=\"u04b1916f\"><span data-lake-id=\"u831c7137\" id=\"u831c7137\">Medium: </span><code data-lake-id=\"u47aa0f89\" id=\"u47aa0f89\"><span data-lake-id=\"u158e32b4\" id=\"u158e32b4\">fab fa-medium</span></code></li></ul><ul list=\"uc5a9066f\"><li fid=\"u98c60a54\" data-lake-id=\"uc8b47783\" id=\"uc8b47783\"><span data-lake-id=\"u532108b3\" id=\"u532108b3\">Slack: </span><code data-lake-id=\"u2758517a\" id=\"u2758517a\"><span data-lake-id=\"u11701157\" id=\"u11701157\">fab fa-slack</span></code></li></ul><ul list=\"u7c8f8c7a\"><li fid=\"ude0786ee\" data-lake-id=\"uf854b8e2\" id=\"uf854b8e2\"><span data-lake-id=\"u92d856eb\" id=\"u92d856eb\">Sina Weibo: </span><code data-lake-id=\"u6bd446a1\" id=\"u6bd446a1\"><span data-lake-id=\"u6da7a4c4\" id=\"u6da7a4c4\">fab fa-weibo</span></code></li></ul><ul list=\"u93795701\"><li fid=\"uede08259\" data-lake-id=\"u593dd941\" id=\"u593dd941\"><span data-lake-id=\"u24d34166\" id=\"u24d34166\">Wechat: </span><code data-lake-id=\"u0fa9dbc4\" id=\"u0fa9dbc4\"><span data-lake-id=\"uf40d43e7\" id=\"uf40d43e7\">fab fa-weixin</span></code></li></ul><ul list=\"u4d012be7\"><li fid=\"u89853e95\" data-lake-id=\"u133aa5ed\" id=\"u133aa5ed\"><span data-lake-id=\"u91c49b48\" id=\"u91c49b48\">QQ: </span><code data-lake-id=\"ue6b048cb\" id=\"ue6b048cb\"><span data-lake-id=\"u1982a7dd\" id=\"u1982a7dd\">fab fa-qq</span></code></li></ul><ul list=\"u8b5e1c33\"><li fid=\"ud90c30e7\" data-lake-id=\"uf3d8f0ee\" id=\"uf3d8f0ee\"><span data-lake-id=\"u0840b4bb\" id=\"u0840b4bb\">Zhihu: </span><code data-lake-id=\"uebaea5a4\" id=\"uebaea5a4\"><span data-lake-id=\"u09b2f122\" id=\"u09b2f122\">fab fa-zhihu</span></code></li></ul><p data-lake-id=\"u1d9fc507\" id=\"u1d9fc507\"><br></p><blockquote data-lake-id=\"ua402383d\" id=\"ua402383d\"><p data-lake-id=\"u4af6d214\" id=\"u4af6d214\"><strong><span data-lake-id=\"ud77aad42\" id=\"ud77aad42\">注意</span></strong><span data-lake-id=\"uabdc1f26\" id=\"uabdc1f26\">: 本主题中使用的 </span><code data-lake-id=\"ubba3e14a\" id=\"ubba3e14a\"><span data-lake-id=\"u2897838b\" id=\"u2897838b\">Font Awesome</span></code><span data-lake-id=\"u20e8679d\" id=\"u20e8679d\"> 版本为 </span><code data-lake-id=\"u87cb5970\" id=\"u87cb5970\"><span data-lake-id=\"ue55691f0\" id=\"ue55691f0\">5.11.0</span></code><span data-lake-id=\"ude9782da\" id=\"ude9782da\">。</span></p></blockquote><p data-lake-id=\"u488c4ac3\" id=\"u488c4ac3\"><br></p><h3 data-lake-id=\"1ea40b9f\" id=\"1ea40b9f\"><span data-lake-id=\"u253a6ea9\" id=\"u253a6ea9\">修改打赏的二维码图片</span></h3><p data-lake-id=\"u6f0506b3\" id=\"u6f0506b3\"><br></p><p data-lake-id=\"ud73a45d3\" id=\"ud73a45d3\"><span data-lake-id=\"u5a48e6cb\" id=\"u5a48e6cb\">在主题文件的 </span><code data-lake-id=\"u580f03ce\" id=\"u580f03ce\"><span data-lake-id=\"ub4fca1e8\" id=\"ub4fca1e8\">source/medias/reward</span></code><span data-lake-id=\"uc2f18816\" id=\"uc2f18816\"> 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。</span></p><p data-lake-id=\"u4aadb362\" id=\"u4aadb362\"><br></p><h3 data-lake-id=\"e979df71\" id=\"e979df71\"><span data-lake-id=\"ud6e63761\" id=\"ud6e63761\">配置音乐播放器（可选的）</span></h3><p data-lake-id=\"ub128e2b9\" id=\"ub128e2b9\"><br></p><p data-lake-id=\"udc1912d2\" id=\"udc1912d2\"><span data-lake-id=\"u8a1eb3e9\" id=\"u8a1eb3e9\">要支持音乐播放，在主题的 </span><code data-lake-id=\"u189837e8\" id=\"u189837e8\"><span data-lake-id=\"u2968c44d\" id=\"u2968c44d\">_config.yml</span></code><span data-lake-id=\"ubffc0df7\" id=\"ubffc0df7\"> 配置文件中激活music配置即可：</span></p><p data-lake-id=\"u569029f3\" id=\"u569029f3\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22%23%20%E6%98%AF%E5%90%A6%E5%9C%A8%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E9%9F%B3%E4%B9%90%5Cnmusic%3A%5Cn%20%20enable%3A%20true%5Cn%20%20title%3A%20%20%20%20%20%5Ct%20%20%20%20%23%20%E9%9D%9E%E5%90%B8%E5%BA%95%E6%A8%A1%E5%BC%8F%E6%9C%89%E6%95%88%5Cn%20%20%20%20enable%3A%20true%5Cn%20%20%20%20show%3A%20%E5%90%AC%E5%90%AC%E9%9F%B3%E4%B9%90%5Cn%20%20server%3A%20netease%20%20%20%23%20require%20music%20platform%3A%20netease%2C%20tencent%2C%20kugou%2C%20xiami%2C%20baidu%5Cn%20%20type%3A%20playlist%20%20%20%20%23%20require%20song%2C%20playlist%2C%20album%2C%20search%2C%20artist%5Cn%20%20id%3A%20503838841%20%20%20%20%20%23%20require%20song%20id%20%2F%20playlist%20id%20%2F%20album%20id%20%2F%20search%20keyword%5Cn%20%20fixed%3A%20false%20%20%20%20%20%20%23%20%E5%BC%80%E5%90%AF%E5%90%B8%E5%BA%95%E6%A8%A1%E5%BC%8F%5Cn%20%20autoplay%3A%20false%20%20%20%23%20%E6%98%AF%E5%90%A6%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE%5Cn%20%20theme%3A%20'%2342b983'%5Cn%20%20loop%3A%20'all'%20%20%20%20%20%20%20%23%20%E9%9F%B3%E9%A2%91%E5%BE%AA%E7%8E%AF%E6%92%AD%E6%94%BE%2C%20%E5%8F%AF%E9%80%89%E5%80%BC%3A%20'all'%2C%20'one'%2C%20'none'%5Cn%20%20order%3A%20'random'%20%20%20%23%20%E9%9F%B3%E9%A2%91%E5%BE%AA%E7%8E%AF%E9%A1%BA%E5%BA%8F%2C%20%E5%8F%AF%E9%80%89%E5%80%BC%3A%20'list'%2C%20'random'%5Cn%20%20preload%3A%20'auto'%20%20%20%23%20%E9%A2%84%E5%8A%A0%E8%BD%BD%EF%BC%8C%E5%8F%AF%E9%80%89%E5%80%BC%3A%20'none'%2C%20'metadata'%2C%20'auto'%5Cn%20%20volume%3A%200.7%20%20%20%20%20%20%20%23%20%E9%BB%98%E8%AE%A4%E9%9F%B3%E9%87%8F%EF%BC%8C%E8%AF%B7%E6%B3%A8%E6%84%8F%E6%92%AD%E6%94%BE%E5%99%A8%E4%BC%9A%E8%AE%B0%E5%BF%86%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%EF%BC%8C%E7%94%A8%E6%88%B7%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE%E9%9F%B3%E9%87%8F%E5%90%8E%E9%BB%98%E8%AE%A4%E9%9F%B3%E9%87%8F%E5%8D%B3%E5%A4%B1%E6%95%88%5Cn%20%20listFolded%3A%20true%20%20%23%20%E5%88%97%E8%A1%A8%E9%BB%98%E8%AE%A4%E6%8A%98%E5%8F%A0%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2276ff3ec8%22%7D\"></card><p data-lake-id=\"u03721977\" id=\"u03721977\"><br></p><blockquote data-lake-id=\"u717b0280\" id=\"u717b0280\"><p data-lake-id=\"ua7572534\" id=\"ua7572534\"><code data-lake-id=\"ubb23fb13\" id=\"ubb23fb13\"><span data-lake-id=\"ue1160169\" id=\"ue1160169\">server</span></code><span data-lake-id=\"u1014d795\" id=\"u1014d795\">可选</span><code data-lake-id=\"u969c097e\" id=\"u969c097e\"><span data-lake-id=\"u78cbb448\" id=\"u78cbb448\">netease</span></code><span data-lake-id=\"u118095d2\" id=\"u118095d2\">（网易云音乐），</span><code data-lake-id=\"udbf889ea\" id=\"udbf889ea\"><span data-lake-id=\"ubb94d9c2\" id=\"ubb94d9c2\">tencent</span></code><span data-lake-id=\"u6d831691\" id=\"u6d831691\">（QQ音乐），</span><code data-lake-id=\"u4525c271\" id=\"u4525c271\"><span data-lake-id=\"u9c4989fd\" id=\"u9c4989fd\">kugou</span></code><span data-lake-id=\"ue8d77c28\" id=\"ue8d77c28\">（酷狗音乐），</span><code data-lake-id=\"ub79b4154\" id=\"ub79b4154\"><span data-lake-id=\"uc446fb8b\" id=\"uc446fb8b\">xiami</span></code><span data-lake-id=\"u14eb67a5\" id=\"u14eb67a5\">（虾米音乐），</span></p><p data-lake-id=\"ue4dc68b0\" id=\"ue4dc68b0\"><span data-lake-id=\"uacc037d9\" id=\"uacc037d9\"> </span></p><p data-lake-id=\"u3d4bccaf\" id=\"u3d4bccaf\"><code data-lake-id=\"ua2a63c2c\" id=\"ua2a63c2c\"><span data-lake-id=\"uf586403c\" id=\"uf586403c\">baidu</span></code><span data-lake-id=\"u3420b926\" id=\"u3420b926\">（百度音乐）。</span></p><p data-lake-id=\"u663ec405\" id=\"u663ec405\"><span data-lake-id=\"u7e28de47\" id=\"u7e28de47\"> </span></p><p data-lake-id=\"u6c3b645e\" id=\"u6c3b645e\"><code data-lake-id=\"u31ac8d5c\" id=\"u31ac8d5c\"><span data-lake-id=\"ue84a0c82\" id=\"ue84a0c82\">type</span></code><span data-lake-id=\"ubd395bdf\" id=\"ubd395bdf\">可选</span><code data-lake-id=\"ufb45528a\" id=\"ufb45528a\"><span data-lake-id=\"uc05912b9\" id=\"uc05912b9\">song</span></code><span data-lake-id=\"u44e7cbd9\" id=\"u44e7cbd9\">（歌曲），</span><code data-lake-id=\"ub84770e9\" id=\"ub84770e9\"><span data-lake-id=\"u0adab45d\" id=\"u0adab45d\">playlist</span></code><span data-lake-id=\"ufde28c45\" id=\"ufde28c45\">（歌单），</span><code data-lake-id=\"u53de0555\" id=\"u53de0555\"><span data-lake-id=\"ub9fb5110\" id=\"ub9fb5110\">album</span></code><span data-lake-id=\"u2077c943\" id=\"u2077c943\">（专辑），</span><code data-lake-id=\"u1d601eb8\" id=\"u1d601eb8\"><span data-lake-id=\"u90cd8c74\" id=\"u90cd8c74\">search</span></code><span data-lake-id=\"u89b474bc\" id=\"u89b474bc\">（搜索关键字），</span><code data-lake-id=\"ub205487d\" id=\"ub205487d\"><span data-lake-id=\"u4f696560\" id=\"u4f696560\">artist</span></code><span data-lake-id=\"ue50aad43\" id=\"ue50aad43\">（歌手）</span></p><p data-lake-id=\"ubbc45025\" id=\"ubbc45025\"><span data-lake-id=\"udf76b3f6\" id=\"udf76b3f6\"> </span></p><p data-lake-id=\"u14c884cd\" id=\"u14c884cd\"><code data-lake-id=\"uf784883e\" id=\"uf784883e\"><span data-lake-id=\"u3dd40e04\" id=\"u3dd40e04\">id</span></code><span data-lake-id=\"uacf25873\" id=\"uacf25873\">获取方法示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，浏览器地址栏后面会有一串数字，</span><code data-lake-id=\"u9f3916b0\" id=\"u9f3916b0\"><span data-lake-id=\"ub9e22297\" id=\"ub9e22297\">playlist</span></code><span data-lake-id=\"uc21b310b\" id=\"uc21b310b\">的</span><code data-lake-id=\"ud676613a\" id=\"ud676613a\"><span data-lake-id=\"ub35af853\" id=\"ub35af853\">id</span></code></p><p data-lake-id=\"ufbfea646\" id=\"ufbfea646\"><span data-lake-id=\"ue87115a5\" id=\"ue87115a5\"> </span></p><p data-lake-id=\"u362d0e3d\" id=\"u362d0e3d\"><span data-lake-id=\"ub950218a\" id=\"ub950218a\">即为这串数字。</span></p></blockquote><p data-lake-id=\"u2b52a998\" id=\"u2b52a998\"><br></p><h2 data-lake-id=\"c105517c\" id=\"c105517c\"><span data-lake-id=\"ue9ba9ebf\" id=\"ue9ba9ebf\">文章 Front-matter 介绍</span></h2><p data-lake-id=\"u6f9c7fb7\" id=\"u6f9c7fb7\"><br></p><h3 data-lake-id=\"1ac1f175\" id=\"1ac1f175\"><span data-lake-id=\"u370484ae\" id=\"u370484ae\">Front-matter 选项详解</span></h3><p data-lake-id=\"uff095cb3\" id=\"uff095cb3\"><br></p><p data-lake-id=\"u264a547d\" id=\"u264a547d\"><code data-lake-id=\"ub2665f0e\" id=\"ub2665f0e\"><span data-lake-id=\"u6b1377f2\" id=\"u6b1377f2\">Front-matter</span></code><span data-lake-id=\"u6ee70cbe\" id=\"u6ee70cbe\"> 选项中的所有内容均为</span><strong><span data-lake-id=\"ub01c7904\" id=\"ub01c7904\">非必填</span></strong><span data-lake-id=\"u02ac1efd\" id=\"u02ac1efd\">的。但我仍然建议至少填写 </span><code data-lake-id=\"ua4e01fa4\" id=\"ua4e01fa4\"><span data-lake-id=\"u3cca822b\" id=\"u3cca822b\">title</span></code><span data-lake-id=\"u15b3a452\" id=\"u15b3a452\"> 和 </span><code data-lake-id=\"u95352e93\" id=\"u95352e93\"><span data-lake-id=\"u11ece046\" id=\"u11ece046\">date</span></code><span data-lake-id=\"ubfeb8219\" id=\"ubfeb8219\"> 的值。</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%222a022d38%22%2C%22rows%22%3A17%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%222a022d38%5C%22%20id%3D%5C%222a022d38%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uf8d7a619%5C%22%20id%3D%5C%22uf8d7a619%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u40a40aa0%5C%22%20id%3D%5C%22u40a40aa0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3bc0e560%5C%22%20id%3D%5C%22u3bc0e560%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5f77c6a3%5C%22%20id%3D%5C%22u5f77c6a3%5C%22%3E%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ubdb744e3%5C%22%20id%3D%5C%22ubdb744e3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ee63a93%5C%22%20id%3D%5C%22u2ee63a93%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue6dcd22b%5C%22%20id%3D%5C%22ue6dcd22b%5C%22%3E%E9%BB%98%E8%AE%A4%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u97d64239%5C%22%20id%3D%5C%22u97d64239%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u675994c3%5C%22%20id%3D%5C%22u675994c3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u17dbee68%5C%22%20id%3D%5C%22u17dbee68%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud35ccd1a%5C%22%20id%3D%5C%22ud35ccd1a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7aabed8f%5C%22%20id%3D%5C%22u7aabed8f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1f06b63f%5C%22%20id%3D%5C%22u1f06b63f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua055a174%5C%22%20id%3D%5C%22ua055a174%5C%22%3Etitle%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u07a0ec08%5C%22%20id%3D%5C%22u07a0ec08%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u719f5f2c%5C%22%20id%3D%5C%22u719f5f2c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub2b7a070%5C%22%20id%3D%5C%22ub2b7a070%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubbe7196b%5C%22%20id%3D%5C%22ubbe7196b%5C%22%3EMarkdown%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uf152ba96%5C%22%20id%3D%5C%22uf152ba96%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8fb03656%5C%22%20id%3D%5C%22u8fb03656%5C%22%3E%20%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%87%E9%A2%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u73797221%5C%22%20id%3D%5C%22u73797221%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u92ebe5ec%5C%22%20id%3D%5C%22u92ebe5ec%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uafe53d06%5C%22%20id%3D%5C%22uafe53d06%5C%22%3E%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%EF%BC%8C%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%E5%A1%AB%E5%86%99%E6%AD%A4%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue61df9c2%5C%22%20id%3D%5C%22ue61df9c2%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6a7a1533%5C%22%20id%3D%5C%22u6a7a1533%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uaed6a91a%5C%22%20id%3D%5C%22uaed6a91a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue91c7ec8%5C%22%20id%3D%5C%22ue91c7ec8%5C%22%3Edate%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u438d81f6%5C%22%20id%3D%5C%22u438d81f6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6ae3cde1%5C%22%20id%3D%5C%22u6ae3cde1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1c2a97ba%5C%22%20id%3D%5C%22u1c2a97ba%5C%22%3E%E6%96%87%E4%BB%B6%E5%88%9B%E5%BB%BA%E6%97%B6%E7%9A%84%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf0eba95c%5C%22%20id%3D%5C%22uf0eba95c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1001c2be%5C%22%20id%3D%5C%22u1001c2be%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue99e9c03%5C%22%20id%3D%5C%22ue99e9c03%5C%22%3E%E5%8F%91%E5%B8%83%E6%97%B6%E9%97%B4%EF%BC%8C%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%E5%A1%AB%E5%86%99%E6%AD%A4%E9%80%89%E9%A1%B9%EF%BC%8C%E4%B8%94%E6%9C%80%E5%A5%BD%E4%BF%9D%E8%AF%81%E5%85%A8%E5%B1%80%E5%94%AF%E4%B8%80%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7ddfc3f9%5C%22%20id%3D%5C%22u7ddfc3f9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0ad298dc%5C%22%20id%3D%5C%22u0ad298dc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue8b44023%5C%22%20id%3D%5C%22ue8b44023%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2b594569%5C%22%20id%3D%5C%22u2b594569%5C%22%3Eauthor%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6518328f%5C%22%20id%3D%5C%22u6518328f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8fc7855d%5C%22%20id%3D%5C%22u8fc7855d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u75a10bf3%5C%22%20id%3D%5C%22u75a10bf3%5C%22%3E%E6%A0%B9%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u1b879d69%5C%22%20id%3D%5C%22u1b879d69%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uac5764aa%5C%22%20id%3D%5C%22uac5764aa%5C%22%3E_config.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ud7e2ae2f%5C%22%20id%3D%5C%22ud7e2ae2f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue10c5b8f%5C%22%20id%3D%5C%22ue10c5b8f%5C%22%3E%20%E4%B8%AD%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u2c0bf86d%5C%22%20id%3D%5C%22u2c0bf86d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf502304f%5C%22%20id%3D%5C%22uf502304f%5C%22%3Eauthor%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uefa36258%5C%22%20id%3D%5C%22uefa36258%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u30013837%5C%22%20id%3D%5C%22u30013837%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u52dba603%5C%22%20id%3D%5C%22u52dba603%5C%22%3E%E6%96%87%E7%AB%A0%E4%BD%9C%E8%80%85%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ued4b9893%5C%22%20id%3D%5C%22ued4b9893%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uda32d29a%5C%22%20id%3D%5C%22uda32d29a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u70f7e42a%5C%22%20id%3D%5C%22u70f7e42a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0697e7a3%5C%22%20id%3D%5C%22u0697e7a3%5C%22%3Eimg%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5613dc68%5C%22%20id%3D%5C%22u5613dc68%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u92c67dc3%5C%22%20id%3D%5C%22u92c67dc3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u28dc92d1%5C%22%20id%3D%5C%22u28dc92d1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud6802e60%5C%22%20id%3D%5C%22ud6802e60%5C%22%3EfeatureImages%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u3544f98e%5C%22%20id%3D%5C%22u3544f98e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1a6b56be%5C%22%20id%3D%5C%22u1a6b56be%5C%22%3E%20%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%AA%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u096730f9%5C%22%20id%3D%5C%22u096730f9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufefbd5b3%5C%22%20id%3D%5C%22ufefbd5b3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3cf0c0a3%5C%22%20id%3D%5C%22u3cf0c0a3%5C%22%3E%E6%96%87%E7%AB%A0%E7%89%B9%E5%BE%81%E5%9B%BE%EF%BC%8C%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BA%8A(%E8%85%BE%E8%AE%AF%E4%BA%91%E3%80%81%E4%B8%83%E7%89%9B%E4%BA%91%E3%80%81%E5%8F%88%E6%8B%8D%E4%BA%91%E7%AD%89)%E6%9D%A5%E5%81%9A%E5%9B%BE%E7%89%87%E7%9A%84%E8%B7%AF%E5%BE%84.%E5%A6%82%3A%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u150804fe%5C%22%20id%3D%5C%22u150804fe%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9567cae4%5C%22%20id%3D%5C%22u9567cae4%5C%22%3Ehttp%3A%2F%2Fxxx.com%2Fxxx.jpg%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5fb6f27d%5C%22%20id%3D%5C%22u5fb6f27d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uaf4120ad%5C%22%20id%3D%5C%22uaf4120ad%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc874850a%5C%22%20id%3D%5C%22uc874850a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u90b9c8e9%5C%22%20id%3D%5C%22u90b9c8e9%5C%22%3Etop%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u09260dcf%5C%22%20id%3D%5C%22u09260dcf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6fc57b3c%5C%22%20id%3D%5C%22u6fc57b3c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf5666069%5C%22%20id%3D%5C%22uf5666069%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9e7655c3%5C%22%20id%3D%5C%22u9e7655c3%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6c22c36b%5C%22%20id%3D%5C%22u6c22c36b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8a440ffa%5C%22%20id%3D%5C%22u8a440ffa%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u810a8f7c%5C%22%20id%3D%5C%22u810a8f7c%5C%22%3E%E6%8E%A8%E8%8D%90%E6%96%87%E7%AB%A0%EF%BC%88%E6%96%87%E7%AB%A0%E6%98%AF%E5%90%A6%E7%BD%AE%E9%A1%B6%EF%BC%89%EF%BC%8C%E5%A6%82%E6%9E%9C%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u2c7d4d92%5C%22%20id%3D%5C%22u2c7d4d92%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u90e87b0d%5C%22%20id%3D%5C%22u90e87b0d%5C%22%3Etop%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u672bd5e8%5C%22%20id%3D%5C%22u672bd5e8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4f5fca7c%5C%22%20id%3D%5C%22u4f5fca7c%5C%22%3E%20%E5%80%BC%E4%B8%BA%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue4d26757%5C%22%20id%3D%5C%22ue4d26757%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8c64234e%5C%22%20id%3D%5C%22u8c64234e%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ud9c014f4%5C%22%20id%3D%5C%22ud9c014f4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufe1731d1%5C%22%20id%3D%5C%22ufe1731d1%5C%22%3E%EF%BC%8C%E5%88%99%E4%BC%9A%E4%BD%9C%E4%B8%BA%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90%E6%96%87%E7%AB%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u33a046ae%5C%22%20id%3D%5C%22u33a046ae%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u52e02e59%5C%22%20id%3D%5C%22u52e02e59%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7fff03d6%5C%22%20id%3D%5C%22u7fff03d6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4fd00d9d%5C%22%20id%3D%5C%22u4fd00d9d%5C%22%3Ehide%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u39665806%5C%22%20id%3D%5C%22u39665806%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uced8afea%5C%22%20id%3D%5C%22uced8afea%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u141e95c8%5C%22%20id%3D%5C%22u141e95c8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u53167fbc%5C%22%20id%3D%5C%22u53167fbc%5C%22%3Efalse%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uea1bc7ff%5C%22%20id%3D%5C%22uea1bc7ff%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc8f594b9%5C%22%20id%3D%5C%22uc8f594b9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u070f2d19%5C%22%20id%3D%5C%22u070f2d19%5C%22%3E%E9%9A%90%E8%97%8F%E6%96%87%E7%AB%A0%EF%BC%8C%E5%A6%82%E6%9E%9C%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ua6510edd%5C%22%20id%3D%5C%22ua6510edd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u51ba827b%5C%22%20id%3D%5C%22u51ba827b%5C%22%3Ehide%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u8be31a04%5C%22%20id%3D%5C%22u8be31a04%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue5e76371%5C%22%20id%3D%5C%22ue5e76371%5C%22%3E%E5%80%BC%E4%B8%BA%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ueb4968c5%5C%22%20id%3D%5C%22ueb4968c5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u655c31a4%5C%22%20id%3D%5C%22u655c31a4%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uf9052015%5C%22%20id%3D%5C%22uf9052015%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u18eb6293%5C%22%20id%3D%5C%22u18eb6293%5C%22%3E%EF%BC%8C%E5%88%99%E6%96%87%E7%AB%A0%E4%B8%8D%E4%BC%9A%E5%9C%A8%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud73e5e1f%5C%22%20id%3D%5C%22ud73e5e1f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2952f38d%5C%22%20id%3D%5C%22u2952f38d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u125b770f%5C%22%20id%3D%5C%22u125b770f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6180a368%5C%22%20id%3D%5C%22u6180a368%5C%22%3Ecover%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u066c3fff%5C%22%20id%3D%5C%22u066c3fff%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u41f7d515%5C%22%20id%3D%5C%22u41f7d515%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u0fa175ba%5C%22%20id%3D%5C%22u0fa175ba%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf7e867f4%5C%22%20id%3D%5C%22uf7e867f4%5C%22%3Efalse%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u83a33395%5C%22%20id%3D%5C%22u83a33395%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5d867467%5C%22%20id%3D%5C%22u5d867467%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub2a725ae%5C%22%20id%3D%5C%22ub2a725ae%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4f140c58%5C%22%20id%3D%5C%22u4f140c58%5C%22%3Ev1.0.2%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ua2248411%5C%22%20id%3D%5C%22ua2248411%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u755f705f%5C%22%20id%3D%5C%22u755f705f%5C%22%3E%E7%89%88%E6%9C%AC%E6%96%B0%E5%A2%9E%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%AF%A5%E6%96%87%E7%AB%A0%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%8A%A0%E5%85%A5%E5%88%B0%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%B0%81%E9%9D%A2%E4%B8%AD%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u06567d3b%5C%22%20id%3D%5C%22u06567d3b%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uee131761%5C%22%20id%3D%5C%22uee131761%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf966d16d%5C%22%20id%3D%5C%22uf966d16d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u002fdb08%5C%22%20id%3D%5C%22u002fdb08%5C%22%3EcoverImg%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub46c9793%5C%22%20id%3D%5C%22ub46c9793%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf47ca700%5C%22%20id%3D%5C%22uf47ca700%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u72e7550c%5C%22%20id%3D%5C%22u72e7550c%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u675d5926%5C%22%20id%3D%5C%22u675d5926%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u465c3e41%5C%22%20id%3D%5C%22u465c3e41%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22udec1169d%5C%22%20id%3D%5C%22udec1169d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u63443e66%5C%22%20id%3D%5C%22u63443e66%5C%22%3Ev1.0.2%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ufc3305a7%5C%22%20id%3D%5C%22ufc3305a7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u12349bf3%5C%22%20id%3D%5C%22u12349bf3%5C%22%3E%E7%89%88%E6%9C%AC%E6%96%B0%E5%A2%9E%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%AF%A5%E6%96%87%E7%AB%A0%E5%9C%A8%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%B0%81%E9%9D%A2%E9%9C%80%E8%A6%81%E6%98%BE%E7%A4%BA%E7%9A%84%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%EF%BC%8C%E5%88%99%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8%E6%96%87%E7%AB%A0%E7%9A%84%E7%89%B9%E8%89%B2%E5%9B%BE%E7%89%87%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u59aa01e8%5C%22%20id%3D%5C%22u59aa01e8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ufd94d2b3%5C%22%20id%3D%5C%22ufd94d2b3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u81f4efee%5C%22%20id%3D%5C%22u81f4efee%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u809c8737%5C%22%20id%3D%5C%22u809c8737%5C%22%3Epassword%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf066e1d5%5C%22%20id%3D%5C%22uf066e1d5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud3fc32b9%5C%22%20id%3D%5C%22ud3fc32b9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u27cc633b%5C%22%20id%3D%5C%22u27cc633b%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5624e537%5C%22%20id%3D%5C%22u5624e537%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufe55bcef%5C%22%20id%3D%5C%22ufe55bcef%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0ab6a5e6%5C%22%20id%3D%5C%22u0ab6a5e6%5C%22%3E%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E5%AF%86%E7%A0%81%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%A6%81%E5%AF%B9%E6%96%87%E7%AB%A0%E8%AE%BE%E7%BD%AE%E9%98%85%E8%AF%BB%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u01d0807b%5C%22%20id%3D%5C%22u01d0807b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufdd026bb%5C%22%20id%3D%5C%22ufdd026bb%5C%22%3Epassword%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u8aa7af27%5C%22%20id%3D%5C%22u8aa7af27%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0fe65c02%5C%22%20id%3D%5C%22u0fe65c02%5C%22%3E%20%E7%9A%84%E5%80%BC%EF%BC%8C%E8%AF%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E6%98%AF%E7%94%A8%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ucbbaba24%5C%22%20id%3D%5C%22ucbbaba24%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u37ba83f6%5C%22%20id%3D%5C%22u37ba83f6%5C%22%3ESHA256%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u7d5b3755%5C%22%20id%3D%5C%22u7d5b3755%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf7f55076%5C%22%20id%3D%5C%22uf7f55076%5C%22%3E%20%E5%8A%A0%E5%AF%86%E5%90%8E%E7%9A%84%E5%AF%86%E7%A0%81%EF%BC%8C%E9%98%B2%E6%AD%A2%E8%A2%AB%E4%BB%96%E4%BA%BA%E8%AF%86%E7%A0%B4%E3%80%82%E5%89%8D%E6%8F%90%E6%98%AF%E5%9C%A8%E4%B8%BB%E9%A2%98%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u1c2133d0%5C%22%20id%3D%5C%22u1c2133d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3432d7e1%5C%22%20id%3D%5C%22u3432d7e1%5C%22%3Econfig.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u34d62a42%5C%22%20id%3D%5C%22u34d62a42%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u79b86588%5C%22%20id%3D%5C%22u79b86588%5C%22%3E%20%E4%B8%AD%E6%BF%80%E6%B4%BB%E4%BA%86%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue92f51ee%5C%22%20id%3D%5C%22ue92f51ee%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9a916ae1%5C%22%20id%3D%5C%22u9a916ae1%5C%22%3EverifyPassword%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uf32c6271%5C%22%20id%3D%5C%22uf32c6271%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf0775f99%5C%22%20id%3D%5C%22uf0775f99%5C%22%3E%20%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5cc91db1%5C%22%20id%3D%5C%22u5cc91db1%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u02fb4ca8%5C%22%20id%3D%5C%22u02fb4ca8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u60014343%5C%22%20id%3D%5C%22u60014343%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u71d369f8%5C%22%20id%3D%5C%22u71d369f8%5C%22%3Etoc%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u41e40a8e%5C%22%20id%3D%5C%22u41e40a8e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0a093cba%5C%22%20id%3D%5C%22u0a093cba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u774a311f%5C%22%20id%3D%5C%22u774a311f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue077aa7b%5C%22%20id%3D%5C%22ue077aa7b%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u024814c6%5C%22%20id%3D%5C%22u024814c6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u48f7c534%5C%22%20id%3D%5C%22u48f7c534%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf4dc194c%5C%22%20id%3D%5C%22uf4dc194c%5C%22%3E%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%20TOC%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%92%88%E5%AF%B9%E6%9F%90%E7%AF%87%E6%96%87%E7%AB%A0%E5%8D%95%E7%8B%AC%E5%85%B3%E9%97%AD%20TOC%20%E7%9A%84%E5%8A%9F%E8%83%BD%E3%80%82%E5%89%8D%E6%8F%90%E6%98%AF%E5%9C%A8%E4%B8%BB%E9%A2%98%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u97ef2be6%5C%22%20id%3D%5C%22u97ef2be6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8bf0715d%5C%22%20id%3D%5C%22u8bf0715d%5C%22%3Econfig.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uac5a03fb%5C%22%20id%3D%5C%22uac5a03fb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6cff8275%5C%22%20id%3D%5C%22u6cff8275%5C%22%3E%20%E4%B8%AD%E6%BF%80%E6%B4%BB%E4%BA%86%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u9d6fcd06%5C%22%20id%3D%5C%22u9d6fcd06%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u65e3b620%5C%22%20id%3D%5C%22u65e3b620%5C%22%3Etoc%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ua6084f68%5C%22%20id%3D%5C%22ua6084f68%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u02117c9d%5C%22%20id%3D%5C%22u02117c9d%5C%22%3E%20%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u2211c0b6%5C%22%20id%3D%5C%22u2211c0b6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uffbb16bd%5C%22%20id%3D%5C%22uffbb16bd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf25f61be%5C%22%20id%3D%5C%22uf25f61be%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6b644029%5C%22%20id%3D%5C%22u6b644029%5C%22%3Emathjax%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u984a568e%5C%22%20id%3D%5C%22u984a568e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u261d0572%5C%22%20id%3D%5C%22u261d0572%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u1bcf2fb5%5C%22%20id%3D%5C%22u1bcf2fb5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u12ab3e5d%5C%22%20id%3D%5C%22u12ab3e5d%5C%22%3Efalse%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uca52d232%5C%22%20id%3D%5C%22uca52d232%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0aac6efb%5C%22%20id%3D%5C%22u0aac6efb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udf71cf6a%5C%22%20id%3D%5C%22udf71cf6a%5C%22%3E%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%94%AF%E6%8C%81%20%EF%BC%8C%E6%9C%AC%E6%96%87%E7%AB%A0%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ud65d8c18%5C%22%20id%3D%5C%22ud65d8c18%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub3807e45%5C%22%20id%3D%5C%22ub3807e45%5C%22%3Emathjax%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u28b72b92%5C%22%20id%3D%5C%22u28b72b92%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8d3fd700%5C%22%20id%3D%5C%22u8d3fd700%5C%22%3E%EF%BC%8C%E4%B8%94%E9%9C%80%E8%A6%81%E5%9C%A8%E4%B8%BB%E9%A2%98%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u02a395c0%5C%22%20id%3D%5C%22u02a395c0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u51a87450%5C%22%20id%3D%5C%22u51a87450%5C%22%3E_config.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ue8d10778%5C%22%20id%3D%5C%22ue8d10778%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub8a5514f%5C%22%20id%3D%5C%22ub8a5514f%5C%22%3E%20%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B9%9F%E9%9C%80%E8%A6%81%E5%BC%80%E5%90%AF%E6%89%8D%E8%A1%8C%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7f5a894b%5C%22%20id%3D%5C%22u7f5a894b%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22udc0f3f6b%5C%22%20id%3D%5C%22udc0f3f6b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1d1af7d0%5C%22%20id%3D%5C%22u1d1af7d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u24ebe160%5C%22%20id%3D%5C%22u24ebe160%5C%22%3Esummary%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u661c7c44%5C%22%20id%3D%5C%22u661c7c44%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2db2d8e7%5C%22%20id%3D%5C%22u2db2d8e7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u386eec1c%5C%22%20id%3D%5C%22u386eec1c%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc30d634e%5C%22%20id%3D%5C%22uc30d634e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6c817ddb%5C%22%20id%3D%5C%22u6c817ddb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucf046c64%5C%22%20id%3D%5C%22ucf046c64%5C%22%3E%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%86%85%E5%AE%B9%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%9C%89%E5%80%BC%EF%BC%8C%E6%96%87%E7%AB%A0%E5%8D%A1%E7%89%87%E6%91%98%E8%A6%81%E5%B0%B1%E6%98%BE%E7%A4%BA%E8%BF%99%E6%AE%B5%E6%96%87%E5%AD%97%EF%BC%8C%E5%90%A6%E5%88%99%E7%A8%8B%E5%BA%8F%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%88%AA%E5%8F%96%E6%96%87%E7%AB%A0%E7%9A%84%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9%E4%BD%9C%E4%B8%BA%E6%91%98%E8%A6%81%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u331577cf%5C%22%20id%3D%5C%22u331577cf%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6f699941%5C%22%20id%3D%5C%22u6f699941%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue029f29c%5C%22%20id%3D%5C%22ue029f29c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua57db0a8%5C%22%20id%3D%5C%22ua57db0a8%5C%22%3Ecategories%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u7aa646c0%5C%22%20id%3D%5C%22u7aa646c0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue84caca8%5C%22%20id%3D%5C%22ue84caca8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5c37d08a%5C%22%20id%3D%5C%22u5c37d08a%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u82bdbd77%5C%22%20id%3D%5C%22u82bdbd77%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u599e842e%5C%22%20id%3D%5C%22u599e842e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uce937d22%5C%22%20id%3D%5C%22uce937d22%5C%22%3E%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%EF%BC%8C%E6%9C%AC%E4%B8%BB%E9%A2%98%E7%9A%84%E5%88%86%E7%B1%BB%E8%A1%A8%E7%A4%BA%E5%AE%8F%E8%A7%82%E4%B8%8A%E5%A4%A7%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%8C%E5%8F%AA%E5%BB%BA%E8%AE%AE%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%80%E4%B8%AA%E5%88%86%E7%B1%BB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u00cd9a3c%5C%22%20id%3D%5C%22u00cd9a3c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4d99a191%5C%22%20id%3D%5C%22u4d99a191%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u164e5377%5C%22%20id%3D%5C%22u164e5377%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua7a26da7%5C%22%20id%3D%5C%22ua7a26da7%5C%22%3Etags%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub33200fd%5C%22%20id%3D%5C%22ub33200fd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0e765164%5C%22%20id%3D%5C%22u0e765164%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufe10db90%5C%22%20id%3D%5C%22ufe10db90%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u488fe8f1%5C%22%20id%3D%5C%22u488fe8f1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud19d38f6%5C%22%20id%3D%5C%22ud19d38f6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u84fc8660%5C%22%20id%3D%5C%22u84fc8660%5C%22%3E%E6%96%87%E7%AB%A0%E6%A0%87%E7%AD%BE%EF%BC%8C%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E5%8F%AF%E4%BB%A5%E5%A4%9A%E4%B8%AA%E6%A0%87%E7%AD%BE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub2bb6de5%5C%22%20id%3D%5C%22ub2bb6de5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4f4e169e%5C%22%20id%3D%5C%22u4f4e169e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubd3a6276%5C%22%20id%3D%5C%22ubd3a6276%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9fe20a41%5C%22%20id%3D%5C%22u9fe20a41%5C%22%3Ekeywords%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u37fe353a%5C%22%20id%3D%5C%22u37fe353a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5b6071b8%5C%22%20id%3D%5C%22u5b6071b8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u125d499b%5C%22%20id%3D%5C%22u125d499b%5C%22%3E%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1345d7de%5C%22%20id%3D%5C%22u1345d7de%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u467a8448%5C%22%20id%3D%5C%22u467a8448%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7c31c068%5C%22%20id%3D%5C%22u7c31c068%5C%22%3E%E6%96%87%E7%AB%A0%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%8CSEO%20%E6%97%B6%E9%9C%80%E8%A6%81%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u95174272%5C%22%20id%3D%5C%22u95174272%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uf0a04368%5C%22%20id%3D%5C%22uf0a04368%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1f686adf%5C%22%20id%3D%5C%22u1f686adf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u73f590ce%5C%22%20id%3D%5C%22u73f590ce%5C%22%3EreprintPolicy%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u85b20a05%5C%22%20id%3D%5C%22u85b20a05%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u77bf6092%5C%22%20id%3D%5C%22u77bf6092%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u051dab30%5C%22%20id%3D%5C%22u051dab30%5C%22%3Ecc_by%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u302505bb%5C%22%20id%3D%5C%22u302505bb%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uaca1a01f%5C%22%20id%3D%5C%22uaca1a01f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4a89a4cd%5C%22%20id%3D%5C%22u4a89a4cd%5C%22%3E%E6%96%87%E7%AB%A0%E8%BD%AC%E8%BD%BD%E8%A7%84%E5%88%99%EF%BC%8C%20%E5%8F%AF%E4%BB%A5%E6%98%AF%20cc_by%2C%20cc_by_nd%2C%20cc_by_sa%2C%20cc_by_nc%2C%20cc_by_nc_nd%2C%20cc_by_nc_sa%2C%20cc0%2C%20noreprint%20%E6%88%96%20pay%20%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u41b8773f\" id=\"u41b8773f\"><br></p><blockquote data-lake-id=\"ud0d9d6f1\" id=\"ud0d9d6f1\"><p data-lake-id=\"u6cd1ed2a\" id=\"u6cd1ed2a\"><strong><span data-lake-id=\"u648fdc42\" id=\"u648fdc42\">注意</span></strong><span data-lake-id=\"u4a8eabaa\" id=\"u4a8eabaa\">:</span></p><p data-lake-id=\"u7c249378\" id=\"u7c249378\"><span data-lake-id=\"ucf3f3751\" id=\"ucf3f3751\"> </span></p><ol list=\"u779f7750\"><li fid=\"u53b02065\" data-lake-id=\"u772b4f85\" id=\"u772b4f85\"><span data-lake-id=\"u11eb2520\" id=\"u11eb2520\">如果 </span><code data-lake-id=\"u2be4466e\" id=\"u2be4466e\"><span data-lake-id=\"ufcbe988a\" id=\"ufcbe988a\">img</span></code><span data-lake-id=\"u4a32fc1e\" id=\"u4a32fc1e\"> 属性不填写的话，文章特色图会根据文章标题的 </span><code data-lake-id=\"udf96b1b4\" id=\"udf96b1b4\"><span data-lake-id=\"uf7758449\" id=\"uf7758449\">hashcode</span></code><span data-lake-id=\"u394214aa\" id=\"u394214aa\"> 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章的特色图</span><strong><span data-lake-id=\"u5949deb9\" id=\"u5949deb9\">各有特色</span></strong><span data-lake-id=\"u4d8b2ac0\" id=\"u4d8b2ac0\">。</span></li></ol><ol list=\"u7b5139f6\" start=\"2\"><li fid=\"uf7841830\" data-lake-id=\"u7932899f\" id=\"u7932899f\"><code data-lake-id=\"u16324cce\" id=\"u16324cce\"><span data-lake-id=\"u21678341\" id=\"u21678341\">date</span></code><span data-lake-id=\"u4445a791\" id=\"u4445a791\"> 的值尽量保证每篇文章是唯一的，因为本主题中 </span><code data-lake-id=\"u67bf864e\" id=\"u67bf864e\"><span data-lake-id=\"u7b69c396\" id=\"u7b69c396\">Gitalk</span></code><span data-lake-id=\"u6fec32aa\" id=\"u6fec32aa\"> 和 </span><code data-lake-id=\"u7f069866\" id=\"u7f069866\"><span data-lake-id=\"u8645ae40\" id=\"u8645ae40\">Gitment</span></code><span data-lake-id=\"ua6834fda\" id=\"ua6834fda\"> 识别 </span><code data-lake-id=\"u5713c47d\" id=\"u5713c47d\"><span data-lake-id=\"uddca6ff0\" id=\"uddca6ff0\">id</span></code><span data-lake-id=\"u4010ed60\" id=\"u4010ed60\"> 是通过 </span><code data-lake-id=\"u683ec600\" id=\"u683ec600\"><span data-lake-id=\"u38f109bc\" id=\"u38f109bc\">date</span></code><span data-lake-id=\"u8ac3f269\" id=\"u8ac3f269\"> 的值来作为唯一标识的。</span></li></ol><ol list=\"ub67c3fd2\" start=\"3\"><li fid=\"uc844e40d\" data-lake-id=\"ue541e540\" id=\"ue541e540\"><span data-lake-id=\"udd16be60\" id=\"udd16be60\">如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 </span><code data-lake-id=\"ub6cfa500\" id=\"ub6cfa500\"><span data-lake-id=\"ua942c02e\" id=\"ua942c02e\">_config.yml</span></code><span data-lake-id=\"u32bcd0f2\" id=\"u32bcd0f2\"> 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：</span><a href=\"http://tool.oschina.net/encrypt?type=2\" target=\"_blank\" data-lake-id=\"u266f571a\" id=\"u266f571a\"><span data-lake-id=\"u8f41f018\" id=\"u8f41f018\">开源中国在线工具</span></a><span data-lake-id=\"ub74eee06\" id=\"ub74eee06\">、</span><a href=\"http://encode.chahuo.com/\" target=\"_blank\" data-lake-id=\"ud1d3a1b7\" id=\"ud1d3a1b7\"><span data-lake-id=\"u7df1612b\" id=\"u7df1612b\">chahuo</span></a><span data-lake-id=\"u5e7487c7\" id=\"u5e7487c7\">、</span><a href=\"http://tool.chinaz.com/tools/hash.aspx\" target=\"_blank\" data-lake-id=\"u17e8d6ec\" id=\"u17e8d6ec\"><span data-lake-id=\"ua0b7314c\" id=\"ua0b7314c\">站长工具</span></a><span data-lake-id=\"uf01c02b0\" id=\"uf01c02b0\">。</span></li></ol><ol list=\"udeafbd25\" start=\"4\"><li fid=\"u38a05cc1\" data-lake-id=\"ubf64fc3f\" id=\"ubf64fc3f\"><span data-lake-id=\"u870dbb07\" id=\"u870dbb07\">您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则</span></li></ol><p data-lake-id=\"u8ab0e825\" id=\"u8ab0e825\"><span data-lake-id=\"u0e4db6ae\" id=\"u0e4db6ae\"> </span></p></blockquote><p data-lake-id=\"u09d2b366\" id=\"u09d2b366\"><br></p><p data-lake-id=\"ud964ca74\" id=\"ud964ca74\"><span data-lake-id=\"u41d7fbac\" id=\"u41d7fbac\">以下为文章的 </span><code data-lake-id=\"u9c9e5262\" id=\"u9c9e5262\"><span data-lake-id=\"u4b63ece2\" id=\"u4b63ece2\">Front-matter</span></code><span data-lake-id=\"uc9c7fb4b\" id=\"uc9c7fb4b\"> 示例。</span></p><p data-lake-id=\"ud183c128\" id=\"ud183c128\"><br></p><h3 data-lake-id=\"acc8fdeb\" id=\"acc8fdeb\"><span data-lake-id=\"u29d638f9\" id=\"u29d638f9\">最简示例</span></h3><p data-lake-id=\"ub1f4a413\" id=\"ub1f4a413\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20typora-vue-theme%E4%B8%BB%E9%A2%98%E4%BB%8B%E7%BB%8D%5Cndate%3A%202018-09-07%2009%3A25%3A00%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2249910120%22%7D\"></card><p data-lake-id=\"uad48b4ee\" id=\"uad48b4ee\"><br></p><h3 data-lake-id=\"d65a0c85\" id=\"d65a0c85\"><span data-lake-id=\"ub81c1c48\" id=\"ub81c1c48\">最全示例</span></h3><p data-lake-id=\"ub4de882a\" id=\"ub4de882a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20typora-vue-theme%E4%B8%BB%E9%A2%98%E4%BB%8B%E7%BB%8D%5Cndate%3A%202018-09-07%2009%3A25%3A00%5Cnauthor%3A%20%E8%B5%B5%E5%A5%87%5Cnimg%3A%20%2Fsource%2Fimages%2Fxxx.jpg%5Cntop%3A%20true%5Cnhide%3A%20false%5Cncover%3A%20true%5CncoverImg%3A%20%2Fimages%2F1.jpg%5Cnpassword%3A%208d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92%5Cntoc%3A%20false%5Cnmathjax%3A%20false%5Cnsummary%3A%20%E8%BF%99%E6%98%AF%E4%BD%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%86%85%E5%AE%B9%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%9C%89%E5%80%BC%EF%BC%8C%E6%96%87%E7%AB%A0%E5%8D%A1%E7%89%87%E6%91%98%E8%A6%81%E5%B0%B1%E6%98%BE%E7%A4%BA%E8%BF%99%E6%AE%B5%E6%96%87%E5%AD%97%EF%BC%8C%E5%90%A6%E5%88%99%E7%A8%8B%E5%BA%8F%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%88%AA%E5%8F%96%E6%96%87%E7%AB%A0%E7%9A%84%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9%E4%BD%9C%E4%B8%BA%E6%91%98%E8%A6%81%5Cncategories%3A%20Markdown%5Cntags%3A%5Cn%20%20-%20Typora%5Cn%20%20-%20Markdown%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2209ceb3ea%22%7D\"></card><p data-lake-id=\"u080c1dc1\" id=\"u080c1dc1\"><br></p><h2 data-lake-id=\"d01e1d9f\" id=\"d01e1d9f\"><span data-lake-id=\"uc68f2375\" id=\"uc68f2375\">效果截图</span></h2><p data-lake-id=\"u27c4eb68\" id=\"u27c4eb68\"><br></p><p data-lake-id=\"u8bd2daaf\" id=\"u8bd2daaf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1280%2C%22originHeight%22%3A616%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Vdjjt%22%7D\"></card></p><p data-lake-id=\"uf194e5bc\" id=\"uf194e5bc\"><br></p><p data-lake-id=\"u2cb89dbf\" id=\"u2cb89dbf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1280%2C%22originHeight%22%3A799%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22nG9fd%22%7D\"></card></p><p data-lake-id=\"u9d88f83e\" id=\"u9d88f83e\"><br></p><p data-lake-id=\"u1943a9d9\" id=\"u1943a9d9\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-3.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1277%2C%22originHeight%22%3A791%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22UAEeA%22%7D\"></card></p><p data-lake-id=\"ua85108ed\" id=\"ua85108ed\"><br></p><p data-lake-id=\"ua12e62c8\" id=\"ua12e62c8\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-7.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1265%2C%22originHeight%22%3A755%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22SdiVz%22%7D\"></card></p><p data-lake-id=\"u82209149\" id=\"u82209149\"><br></p><p data-lake-id=\"ufc3dbbea\" id=\"ufc3dbbea\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-8.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1278%2C%22originHeight%22%3A751%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22cSOUu%22%7D\"></card></p><p data-lake-id=\"u351a5634\" id=\"u351a5634\"><br></p><h2 data-lake-id=\"68ec7375\" id=\"68ec7375\"><span data-lake-id=\"u77e1ddf5\" id=\"u77e1ddf5\">自定制修改</span></h2><p data-lake-id=\"u3aea40c1\" id=\"u3aea40c1\"><br></p><p data-lake-id=\"u03dc80d7\" id=\"u03dc80d7\"><span data-lake-id=\"u144ecd46\" id=\"u144ecd46\">在本主题的 </span><code data-lake-id=\"uc102bb58\" id=\"uc102bb58\"><span data-lake-id=\"ubf07033c\" id=\"ubf07033c\">_config.yml</span></code><span data-lake-id=\"u7f1d7c03\" id=\"u7f1d7c03\"> 中可以修改部分自定义信息，有以下几个部分：</span></p><p data-lake-id=\"uc9899d54\" id=\"uc9899d54\"><br></p><ul list=\"u5894c3c2\"><li fid=\"ud929e3e6\" data-lake-id=\"u3b79abc9\" id=\"u3b79abc9\"><span data-lake-id=\"u8c5b6082\" id=\"u8c5b6082\">菜单</span></li></ul><ul list=\"ucd936570\"><li fid=\"uc74991d6\" data-lake-id=\"u1ba44b5b\" id=\"u1ba44b5b\"><span data-lake-id=\"u4be1f203\" id=\"u4be1f203\">我的梦想</span></li></ul><ul list=\"u9a7c1447\"><li fid=\"u0b5667d1\" data-lake-id=\"u354a4bfd\" id=\"u354a4bfd\"><span data-lake-id=\"u5b0b6771\" id=\"u5b0b6771\">首页的音乐播放器和视频播放器配置</span></li></ul><ul list=\"uba2b90e7\"><li fid=\"u82d5fa0e\" data-lake-id=\"uc2806479\" id=\"uc2806479\"><span data-lake-id=\"u643d3237\" id=\"u643d3237\">是否显示推荐文章名称和按钮配置</span></li></ul><ul list=\"u2a528acc\"><li fid=\"uda85f52f\" data-lake-id=\"ud37d3f01\" id=\"ud37d3f01\"><code data-lake-id=\"ua84cc8a0\" id=\"ua84cc8a0\"><span data-lake-id=\"u0d863086\" id=\"u0d863086\">favicon</span></code><span data-lake-id=\"ud535045d\" id=\"ud535045d\"> 和 </span><code data-lake-id=\"ufa884694\" id=\"ufa884694\"><span data-lake-id=\"u02b1b4bd\" id=\"u02b1b4bd\">Logo</span></code></li></ul><ul list=\"u9ba42b36\"><li fid=\"uc04863af\" data-lake-id=\"u5af2e8c9\" id=\"u5af2e8c9\"><span data-lake-id=\"uf94e32c5\" id=\"uf94e32c5\">个人信息</span></li></ul><ul list=\"u33ef8306\"><li fid=\"u05d78494\" data-lake-id=\"ueead241a\" id=\"ueead241a\"><span data-lake-id=\"u6f8e8721\" id=\"u6f8e8721\">TOC 目录</span></li></ul><ul list=\"uc34cb62f\"><li fid=\"uf6a5b415\" data-lake-id=\"u07181950\" id=\"u07181950\"><span data-lake-id=\"u30baf11f\" id=\"u30baf11f\">文章打赏信息</span></li></ul><ul list=\"u7f6474b1\"><li fid=\"udb8b29f7\" data-lake-id=\"u464d2439\" id=\"u464d2439\"><span data-lake-id=\"u57592a78\" id=\"u57592a78\">复制文章内容时追加版权信息</span></li></ul><ul list=\"uc34b51d9\"><li fid=\"u505053fb\" data-lake-id=\"ubfdb9765\" id=\"ubfdb9765\"><span data-lake-id=\"u17861492\" id=\"u17861492\">MathJax</span></li></ul><ul list=\"ubf18bcea\"><li fid=\"ub180cd45\" data-lake-id=\"u5bb675e9\" id=\"u5bb675e9\"><span data-lake-id=\"u3eabf435\" id=\"u3eabf435\">文章字数统计、阅读时长</span></li></ul><ul list=\"ue6efab60\"><li fid=\"u2fac904b\" data-lake-id=\"u30224fce\" id=\"u30224fce\"><span data-lake-id=\"u1f3366e6\" id=\"u1f3366e6\">点击页面的'爱心'效果</span></li></ul><ul list=\"uf2654213\"><li fid=\"u31f6b239\" data-lake-id=\"u00520467\" id=\"u00520467\"><span data-lake-id=\"uf6dc43df\" id=\"uf6dc43df\">我的项目</span></li></ul><ul list=\"ub44626ea\"><li fid=\"ufff543ef\" data-lake-id=\"uf92fa5c1\" id=\"uf92fa5c1\"><span data-lake-id=\"ue6154af2\" id=\"ue6154af2\">我的技能</span></li></ul><ul list=\"u6a7b651b\"><li fid=\"u9b10b24f\" data-lake-id=\"ue570f2fd\" id=\"ue570f2fd\"><span data-lake-id=\"ue670ae1e\" id=\"ue670ae1e\">我的相册</span></li></ul><ul list=\"u21b9d07d\"><li fid=\"u31712f66\" data-lake-id=\"u671878f4\" id=\"u671878f4\"><code data-lake-id=\"u1b2b9e41\" id=\"u1b2b9e41\"><span data-lake-id=\"uc7abdf65\" id=\"uc7abdf65\">Gitalk</span></code><span data-lake-id=\"u83968806\" id=\"u83968806\">、</span><code data-lake-id=\"ub3ea6392\" id=\"ub3ea6392\"><span data-lake-id=\"ud21d41e1\" id=\"ud21d41e1\">Gitment</span></code><span data-lake-id=\"u852cc514\" id=\"u852cc514\">、</span><code data-lake-id=\"uec9face1\" id=\"uec9face1\"><span data-lake-id=\"u3ab20f0e\" id=\"u3ab20f0e\">Valine</span></code><span data-lake-id=\"ude12209b\" id=\"ude12209b\"> 和 </span><code data-lake-id=\"u9d7e0fff\" id=\"u9d7e0fff\"><span data-lake-id=\"u8ae9b2d0\" id=\"u8ae9b2d0\">disqus</span></code><span data-lake-id=\"u4d6dbe3a\" id=\"u4d6dbe3a\"> 评论配置</span></li></ul><ul list=\"ua58a3a1e\"><li fid=\"u6b1f1f0d\" data-lake-id=\"u02d2e610\" id=\"u02d2e610\"><a href=\"http://busuanzi.ibruce.info/\" target=\"_blank\" data-lake-id=\"u6148aa21\" id=\"u6148aa21\"><span data-lake-id=\"u6b54be2c\" id=\"u6b54be2c\">不蒜子统计</span></a><span data-lake-id=\"u40df4791\" id=\"u40df4791\">和谷歌分析（</span><code data-lake-id=\"ua91a6edc\" id=\"ua91a6edc\"><span data-lake-id=\"u6086259c\" id=\"u6086259c\">Google Analytics</span></code><span data-lake-id=\"u53a7a3a7\" id=\"u53a7a3a7\">）</span></li></ul><ul list=\"u03dcc30e\"><li fid=\"u1d4573c1\" data-lake-id=\"uf93b2644\" id=\"uf93b2644\"><span data-lake-id=\"u509092fa\" id=\"u509092fa\">默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 </span><code data-lake-id=\"u958fd2a0\" id=\"u958fd2a0\"><span data-lake-id=\"u9eb812f3\" id=\"u9eb812f3\">hashcode</span></code><span data-lake-id=\"u2104ded6\" id=\"u2104ded6\"> 值取余，来选择展示对应的特色图</span></li></ul><p data-lake-id=\"u693fd7a0\" id=\"u693fd7a0\"><br></p><p data-lake-id=\"ubb1e3a1a\" id=\"ubb1e3a1a\"><strong><span data-lake-id=\"u53b19634\" id=\"u53b19634\">我认为个人博客应该都有自己的风格和特色</span></strong><span data-lake-id=\"ud8255521\" id=\"ud8255521\">。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 </span><code data-lake-id=\"u25346c8d\" id=\"u25346c8d\"><span data-lake-id=\"uf8a7c4a8\" id=\"uf8a7c4a8\">_config.yml</span></code><span data-lake-id=\"ua180bb00\" id=\"ua180bb00\"> 中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：</span></p><p data-lake-id=\"u6db73004\" id=\"u6db73004\"><br></p><h3 data-lake-id=\"eae5850e\" id=\"eae5850e\"><span data-lake-id=\"u76431178\" id=\"u76431178\">修改主题颜色</span></h3><p data-lake-id=\"ufb440692\" id=\"ufb440692\"><br></p><p data-lake-id=\"u6281cb65\" id=\"u6281cb65\"><span data-lake-id=\"ubb9ca9e0\" id=\"ubb9ca9e0\">在主题文件的 </span><code data-lake-id=\"u582ec7d1\" id=\"u582ec7d1\"><span data-lake-id=\"u2d11c0c5\" id=\"u2d11c0c5\">/source/css/matery.css</span></code><span data-lake-id=\"u5790be57\" id=\"u5790be57\"> 文件中，搜索 </span><code data-lake-id=\"ubd198d5b\" id=\"ubd198d5b\"><span data-lake-id=\"uabcda99d\" id=\"uabcda99d\">.bg-color</span></code><span data-lake-id=\"u2520efad\" id=\"u2520efad\"> 来修改背景颜色：</span></p><p data-lake-id=\"u70dbb199\" id=\"u70dbb199\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22css%22%2C%22code%22%3A%22%2F*%20%E6%95%B4%E4%BD%93%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%AF%BC%E8%88%AA%E3%80%81%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%9A%84%E5%AF%BC%E8%88%AA%E3%80%81%E9%A1%B5%E5%B0%BE%E3%80%81%E6%A0%87%E7%AD%BE%E9%A1%B5%E7%AD%89%E7%9A%84%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2.%20*%2F%5Cn.bg-color%20%7B%5Cn%20%20%20%20background-image%3A%20linear-gradient(to%20right%2C%20%234cbf30%200%25%2C%20%230f9d58%20100%25)%3B%5Cn%7D%5Cn%5Cn%40-webkit-keyframes%20rainbow%20%7B%5Cn%20%20%20%2F*%20%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2.%20*%2F%5Cn%7D%5Cn%5Cn%40keyframes%20rainbow%20%7B%5Cn%20%20%20%20%2F*%20%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2.%20*%2F%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e990e251%22%7D\"></card><p data-lake-id=\"uc4e16e23\" id=\"uc4e16e23\"><br></p><h3 data-lake-id=\"f06f3b27\" id=\"f06f3b27\"><span data-lake-id=\"u59a1f6f4\" id=\"u59a1f6f4\">修改 banner 图和文章特色图</span></h3><p data-lake-id=\"u8b917ffb\" id=\"u8b917ffb\"><br></p><p data-lake-id=\"u97102c19\" id=\"u97102c19\"><span data-lake-id=\"u947876cf\" id=\"u947876cf\">你可以直接在 </span><code data-lake-id=\"ued4e7a0a\" id=\"ued4e7a0a\"><span data-lake-id=\"ub1380fb8\" id=\"ub1380fb8\">/source/medias/banner</span></code><span data-lake-id=\"ua0464205\" id=\"ua0464205\"> 文件夹中更换你喜欢的 </span><code data-lake-id=\"u451411d0\" id=\"u451411d0\"><span data-lake-id=\"ua4435c2e\" id=\"ua4435c2e\">banner</span></code><span data-lake-id=\"u84957521\" id=\"u84957521\"> 图片，主题代码中是每天动态切换一张，只需 </span><code data-lake-id=\"ua1072eef\" id=\"ua1072eef\"><span data-lake-id=\"u5d19a965\" id=\"u5d19a965\">7</span></code><span data-lake-id=\"u3f7f50ee\" id=\"u3f7f50ee\"> 张即可。如果你会 </span><code data-lake-id=\"u375ab082\" id=\"u375ab082\"><span data-lake-id=\"ub6386dbc\" id=\"ub6386dbc\">JavaScript</span></code><span data-lake-id=\"u9b4e2d7c\" id=\"u9b4e2d7c\"> 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，</span><code data-lake-id=\"u182df4fb\" id=\"u182df4fb\"><span data-lake-id=\"ub1071104\" id=\"ub1071104\">banner</span></code><span data-lake-id=\"u0361e732\" id=\"u0361e732\"> 切换的代码位置在 </span><code data-lake-id=\"uec8327b3\" id=\"uec8327b3\"><span data-lake-id=\"u54c5193a\" id=\"u54c5193a\">/layout/_partial/bg-cover-content.ejs</span></code><span data-lake-id=\"u247d7709\" id=\"u247d7709\"> 文件的 </span><code data-lake-id=\"u08a33846\" id=\"u08a33846\"><span data-lake-id=\"ua44ff084\" id=\"ua44ff084\">&lt;script&gt;&lt;/script&gt;</span></code><span data-lake-id=\"u7b851289\" id=\"u7b851289\"> 代码中：</span></p><p data-lake-id=\"u0a5c9530\" id=\"u0a5c9530\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%24('.bg-cover').css('background-image'%2C%20'url(%2Fmedias%2Fbanner%2F'%20%2B%20new%20Date().getDay()%20%2B%20'.jpg)')%3B%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22790f03e9%22%7D\"></card><p data-lake-id=\"u85941fef\" id=\"u85941fef\"><br></p><p data-lake-id=\"u6bfd33af\" id=\"u6bfd33af\"><span data-lake-id=\"ua41af5b6\" id=\"ua41af5b6\">在 </span><code data-lake-id=\"u96850cfd\" id=\"u96850cfd\"><span data-lake-id=\"u08756291\" id=\"u08756291\">/source/medias/featureimages</span></code><span data-lake-id=\"ue62f90c3\" id=\"ue62f90c3\"> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 </span><code data-lake-id=\"u594dda48\" id=\"u594dda48\"><span data-lake-id=\"u5dec547a\" id=\"u5dec547a\">_config.yml</span></code><span data-lake-id=\"u800f7547\" id=\"u800f7547\"> 做同步修改。</span></p><p data-lake-id=\"u7e457665\" id=\"u7e457665\"><br></p><h2 data-lake-id=\"a60df95b\" id=\"a60df95b\"><span data-lake-id=\"uc45a070e\" id=\"uc45a070e\">版本变更记录</span></h2><p data-lake-id=\"u2e3f64da\" id=\"u2e3f64da\"><br></p><p data-lake-id=\"ub6f482bf\" id=\"ub6f482bf\"><span data-lake-id=\"udda4e5ec\" id=\"udda4e5ec\">参见 </span><a href=\"https://github.com/blinkfox/hexo-theme-matery/blob/master/CHANGELOG.md\" target=\"_blank\" data-lake-id=\"u68a65a9c\" id=\"u68a65a9c\"><span data-lake-id=\"u7f946b35\" id=\"u7f946b35\">CHANGELOG.md</span></a></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"traditional\" /><meta name=\"viewport\" content=\"fixed\" /><blockquote data-lake-id=\"ub935d377\" id=\"ub935d377\"><p data-lake-id=\"uf3c13715\" id=\"uf3c13715\"><span data-lake-id=\"u1c43f23a\" id=\"u1c43f23a\">这是一个采用 </span><code data-lake-id=\"ua869010a\" id=\"ua869010a\"><span data-lake-id=\"ucf518f1d\" id=\"ucf518f1d\">Material Design</span></code><span data-lake-id=\"uc2923076\" id=\"uc2923076\"> 和响应式设计的 Hexo 博客主题。</span></p></blockquote><p data-lake-id=\"ua94bef1a\" id=\"ua94bef1a\"><br></p><h2 data-lake-id=\"c666ad11\" id=\"c666ad11\"><span data-lake-id=\"u47c97e0d\" id=\"u47c97e0d\">特性</span></h2><p data-lake-id=\"u676debef\" id=\"u676debef\"><br></p><ul list=\"u8b416de5\"><li fid=\"uece29290\" data-lake-id=\"u8b224731\" id=\"u8b224731\"><span data-lake-id=\"u56fbbe43\" id=\"u56fbbe43\">简单漂亮，文章内容美观易读</span></li></ul><ul list=\"ud029453f\"><li fid=\"u8d7503ce\" data-lake-id=\"u78f22053\" id=\"u78f22053\"><a href=\"https://material.io/\" target=\"_blank\" data-lake-id=\"u5c6ce663\" id=\"u5c6ce663\"><span data-lake-id=\"u76baa9af\" id=\"u76baa9af\">Material Design</span></a><span data-lake-id=\"ufd1e64da\" id=\"ufd1e64da\"> 设计</span></li></ul><ul list=\"u2d43ae47\"><li fid=\"u2fac91b8\" data-lake-id=\"ue77aef63\" id=\"ue77aef63\"><span data-lake-id=\"ubc4623a3\" id=\"ubc4623a3\">响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</span></li></ul><ul list=\"uf564ba1e\"><li fid=\"u06343748\" data-lake-id=\"u663910c2\" id=\"u663910c2\"><span data-lake-id=\"uaf1744cd\" id=\"uaf1744cd\">首页轮播文章及每天动态切换 </span><code data-lake-id=\"u3dd36aba\" id=\"u3dd36aba\"><span data-lake-id=\"u3ad16ecb\" id=\"u3ad16ecb\">Banner</span></code><span data-lake-id=\"u2f9bf967\" id=\"u2f9bf967\"> 图片</span></li></ul><ul list=\"u261daa4f\"><li fid=\"u2c0abdc6\" data-lake-id=\"u30d1cb4f\" id=\"u30d1cb4f\"><span data-lake-id=\"u83f77420\" id=\"u83f77420\">瀑布流式的博客文章列表（文章无特色图片时会有 </span><code data-lake-id=\"ued345a3c\" id=\"ued345a3c\"><span data-lake-id=\"u235c017d\" id=\"u235c017d\">24</span></code><span data-lake-id=\"u9516a912\" id=\"u9516a912\"> 张漂亮的图片代替）</span></li></ul><ul list=\"u0873e121\"><li fid=\"u29179f9a\" data-lake-id=\"ua540b699\" id=\"ua540b699\"><span data-lake-id=\"ucd568156\" id=\"ucd568156\">时间轴式的归档页</span></li></ul><ul list=\"u7327522d\"><li fid=\"u8a56085e\" data-lake-id=\"u4ac68ef0\" id=\"u4ac68ef0\"><strong><span data-lake-id=\"u92110df2\" id=\"u92110df2\">词云</span></strong><span data-lake-id=\"u987c67c6\" id=\"u987c67c6\">的标签页和</span><strong><span data-lake-id=\"u44b99a7b\" id=\"u44b99a7b\">雷达图</span></strong><span data-lake-id=\"uc36740ca\" id=\"uc36740ca\">的分类页</span></li></ul><ul list=\"u7a85cf2f\"><li fid=\"uf3d8b6b5\" data-lake-id=\"u51eabcca\" id=\"u51eabcca\"><span data-lake-id=\"ub931f782\" id=\"ub931f782\">丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）</span></li></ul><ul list=\"u93f55f72\"><li fid=\"u09bb64a4\" data-lake-id=\"uf39d5700\" id=\"uf39d5700\"><span data-lake-id=\"ube481900\" id=\"ube481900\">可自定义的数据的友情链接页面</span></li></ul><ul list=\"uce45c116\"><li fid=\"u990a6418\" data-lake-id=\"u079af402\" id=\"u079af402\"><span data-lake-id=\"u2f7b7d0c\" id=\"u2f7b7d0c\">支持文章置顶和文章打赏</span></li></ul><ul list=\"uebf6417a\"><li fid=\"ud4fa3e67\" data-lake-id=\"ub4b7d7ef\" id=\"ub4b7d7ef\"><span data-lake-id=\"u916e6c1e\" id=\"u916e6c1e\">支持 </span><code data-lake-id=\"u9cc5ef2c\" id=\"u9cc5ef2c\"><span data-lake-id=\"uaf7b8e91\" id=\"uaf7b8e91\">MathJax</span></code></li></ul><ul list=\"u93325bd1\"><li fid=\"u16b512d9\" data-lake-id=\"u739c1491\" id=\"u739c1491\"><code data-lake-id=\"uc4bb4414\" id=\"uc4bb4414\"><span data-lake-id=\"u70f89463\" id=\"u70f89463\">TOC</span></code><span data-lake-id=\"u93ac07d4\" id=\"u93ac07d4\"> 目录</span></li></ul><ul list=\"udd1863e3\"><li fid=\"u373dd312\" data-lake-id=\"u299ec020\" id=\"u299ec020\"><span data-lake-id=\"u7fa359dd\" id=\"u7fa359dd\">可设置复制文章内容时追加版权信息</span></li></ul><ul list=\"uba7cdd42\"><li fid=\"ua91c074b\" data-lake-id=\"ue00b423f\" id=\"ue00b423f\"><span data-lake-id=\"u02a22509\" id=\"u02a22509\">可设置阅读文章时做密码验证</span></li></ul><ul list=\"u47721032\"><li fid=\"ub5ac393f\" data-lake-id=\"uf934127e\" id=\"uf934127e\"><a href=\"https://gitalk.github.io/\" target=\"_blank\" data-lake-id=\"u7eb909c3\" id=\"u7eb909c3\"><span data-lake-id=\"ub0686e40\" id=\"ub0686e40\">Gitalk</span></a><span data-lake-id=\"ue8a492a6\" id=\"ue8a492a6\">、</span><a href=\"https://imsun.github.io/gitment/\" target=\"_blank\" data-lake-id=\"ud9a54c23\" id=\"ud9a54c23\"><span data-lake-id=\"u1cb3df92\" id=\"u1cb3df92\">Gitment</span></a><span data-lake-id=\"u8400c5cf\" id=\"u8400c5cf\">、</span><a href=\"https://valine.js.org/\" target=\"_blank\" data-lake-id=\"u2a6829d1\" id=\"u2a6829d1\"><span data-lake-id=\"u414b56eb\" id=\"u414b56eb\">Valine</span></a><span data-lake-id=\"u686ded26\" id=\"u686ded26\"> 和 </span><a href=\"https://disqus.com/\" target=\"_blank\" data-lake-id=\"uf5cc5d85\" id=\"uf5cc5d85\"><span data-lake-id=\"u64bcf149\" id=\"u64bcf149\">Disqus</span></a><span data-lake-id=\"u52e1b5a2\" id=\"u52e1b5a2\"> 评论模块（推荐使用 </span><code data-lake-id=\"u64b98993\" id=\"u64b98993\"><span data-lake-id=\"u32fb4568\" id=\"u32fb4568\">Gitalk</span></code><span data-lake-id=\"ub2c74570\" id=\"ub2c74570\">）</span></li></ul><ul list=\"uc1dd1d5d\"><li fid=\"u861d4c05\" data-lake-id=\"ub6548ee6\" id=\"ub6548ee6\"><span data-lake-id=\"u391de559\" id=\"u391de559\">集成了</span><a href=\"http://busuanzi.ibruce.info/\" target=\"_blank\" data-lake-id=\"ua1742db4\" id=\"ua1742db4\"><span data-lake-id=\"ua0b63298\" id=\"ua0b63298\">不蒜子统计</span></a><span data-lake-id=\"ue7ee1bdc\" id=\"ue7ee1bdc\">、谷歌分析（</span><code data-lake-id=\"ud5d362bc\" id=\"ud5d362bc\"><span data-lake-id=\"ue87ec741\" id=\"ue87ec741\">Google Analytics</span></code><span data-lake-id=\"u171bc615\" id=\"u171bc615\">）和文章字数统计等功能</span></li></ul><ul list=\"u7d4b553e\"><li fid=\"u58ac5c65\" data-lake-id=\"uf30bd63a\" id=\"uf30bd63a\"><span data-lake-id=\"u1a48fbfe\" id=\"u1a48fbfe\">支持在首页的音乐播放和视频播放功能</span></li></ul><ul list=\"uaae7f233\"><li fid=\"uf9c4aa51\" data-lake-id=\"ue0181f94\" id=\"ue0181f94\"><span data-lake-id=\"uf59f854f\" id=\"uf59f854f\">支持</span><code data-lake-id=\"u2858d471\" id=\"u2858d471\"><span data-lake-id=\"uc752dc9f\" id=\"uc752dc9f\">emoji</span></code><span data-lake-id=\"ua47cf1ef\" id=\"ua47cf1ef\">表情，用</span><code data-lake-id=\"u23d8e309\" id=\"u23d8e309\"><span data-lake-id=\"u55307076\" id=\"u55307076\">markdown emoji</span></code><span data-lake-id=\"u73d2f51f\" id=\"u73d2f51f\">语法书写直接生成对应的能</span><strong><span data-lake-id=\"u6f3299d1\" id=\"u6f3299d1\">跳跃</span></strong><span data-lake-id=\"ucd0d8a68\" id=\"ucd0d8a68\">的表情。</span></li></ul><ul list=\"u5b7717db\"><li fid=\"u08c9887f\" data-lake-id=\"u9608aef0\" id=\"u9608aef0\"><span data-lake-id=\"u9c7b33e5\" id=\"u9c7b33e5\">支持 </span><a href=\"http://www.daovoice.io/\" target=\"_blank\" data-lake-id=\"u7598c19a\" id=\"u7598c19a\"><span data-lake-id=\"u9f5ca207\" id=\"u9f5ca207\">DaoVoice</span></a><span data-lake-id=\"ucc10716e\" id=\"ucc10716e\">、</span><a href=\"https://www.tidio.com/\" target=\"_blank\" data-lake-id=\"u4f7e2051\" id=\"u4f7e2051\"><span data-lake-id=\"uc5df49a3\" id=\"uc5df49a3\">Tidio</span></a><span data-lake-id=\"ue0b021e0\" id=\"ue0b021e0\"> 在线聊天功能。</span></li></ul><p data-lake-id=\"u8d1fa7d5\" id=\"u8d1fa7d5\"><br></p><h2 data-lake-id=\"5584b352\" id=\"5584b352\"><span data-lake-id=\"ua71c5365\" id=\"ua71c5365\">贡献者</span></h2><p data-lake-id=\"ueddc28ea\" id=\"ueddc28ea\"><br></p><p data-lake-id=\"u8269da17\" id=\"u8269da17\"><span data-lake-id=\"ua0a743a8\" id=\"ua0a743a8\">感谢下面列出的贡献者，没有他们，hexo-theme-matery 不会这么完美。</span></p><p data-lake-id=\"u9340b783\" id=\"u9340b783\"><br></p><ul list=\"ufbc54a65\"><li fid=\"u41b40eb6\" data-lake-id=\"u35806387\" id=\"u35806387\"><a href=\"https://github.com/HarborZeng\" target=\"_blank\" data-lake-id=\"u3d06f95f\" id=\"u3d06f95f\"><span data-lake-id=\"u51f97f51\" id=\"u51f97f51\">@HarborZeng</span></a></li></ul><ul list=\"u3701c9a2\"><li fid=\"u70ac5e09\" data-lake-id=\"u8abb5332\" id=\"u8abb5332\"><a href=\"https://github.com/shw2018\" target=\"_blank\" data-lake-id=\"u30c32dfb\" id=\"u30c32dfb\"><span data-lake-id=\"u7d580c6c\" id=\"u7d580c6c\">@shw2018</span></a></li></ul><ul list=\"uab4e2f0f\"><li fid=\"u04f49eaa\" data-lake-id=\"ue1c5c54c\" id=\"ue1c5c54c\"><a href=\"https://github.com/L1cardo\" target=\"_blank\" data-lake-id=\"u85ee5c22\" id=\"u85ee5c22\"><span data-lake-id=\"u7725fca2\" id=\"u7725fca2\">@L1cardo</span></a></li></ul><ul list=\"u190f9b48\"><li fid=\"u7a276c6a\" data-lake-id=\"u84881055\" id=\"u84881055\"><a href=\"https://github.com/Five-great\" target=\"_blank\" data-lake-id=\"u258a9997\" id=\"u258a9997\"><span data-lake-id=\"u026441d2\" id=\"u026441d2\">@Five-great</span></a></li></ul><p data-lake-id=\"ud6a73a81\" id=\"ud6a73a81\"><br></p><h2 data-lake-id=\"f26ef914\" id=\"f26ef914\"><span data-lake-id=\"ua8b2585e\" id=\"ua8b2585e\">下载</span></h2><p data-lake-id=\"u04caaa3f\" id=\"u04caaa3f\"><br></p><p data-lake-id=\"u07b48ed8\" id=\"u07b48ed8\"><span data-lake-id=\"u83bebcf3\" id=\"u83bebcf3\">本主题</span><strong><span data-lake-id=\"ubddbd4c6\" id=\"ubddbd4c6\">推荐你使用 Hexo 5.0.0 及以上的版本</span></strong><span data-lake-id=\"uc90be464\" id=\"uc90be464\">。如果，你已经有一个自己的 </span><a href=\"https://hexo.io/zh-cn/\" target=\"_blank\" data-lake-id=\"u9fd79abc\" id=\"u9fd79abc\"><span data-lake-id=\"u5a7221b9\" id=\"u5a7221b9\">Hexo</span></a><span data-lake-id=\"ub93051aa\" id=\"ub93051aa\"> 博客了，建议你将 Hexo 升级到最新稳定的版本。</span></p><p data-lake-id=\"udbecd9b9\" id=\"udbecd9b9\"><br></p><p data-lake-id=\"u87d54826\" id=\"u87d54826\"><span data-lake-id=\"u44b7967f\" id=\"u44b7967f\">点击 </span><a href=\"https://codeload.github.com/blinkfox/hexo-theme-matery/zip/master\" target=\"_blank\" data-lake-id=\"u6d0e3442\" id=\"u6d0e3442\"><span data-lake-id=\"u64ea7ba0\" id=\"u64ea7ba0\">这里</span></a><span data-lake-id=\"u59869fe6\" id=\"u59869fe6\"> 下载 </span><code data-lake-id=\"ue35e3991\" id=\"ue35e3991\"><span data-lake-id=\"ufb98ff7a\" id=\"ufb98ff7a\">master</span></code><span data-lake-id=\"uf9d6d639\" id=\"uf9d6d639\"> 分支的最新稳定版的代码，解压缩后，将 </span><code data-lake-id=\"ucd95ce2f\" id=\"ucd95ce2f\"><span data-lake-id=\"ud3216d7c\" id=\"ud3216d7c\">hexo-theme-matery</span></code><span data-lake-id=\"u9ba14e3b\" id=\"u9ba14e3b\"> 的文件夹复制到你 Hexo 的 </span><code data-lake-id=\"ud6221bf5\" id=\"ud6221bf5\"><span data-lake-id=\"u2f7048dc\" id=\"u2f7048dc\">themes</span></code><span data-lake-id=\"uc3b83731\" id=\"uc3b83731\"> 文件夹中即可。</span></p><p data-lake-id=\"uccb8c075\" id=\"uccb8c075\"><br></p><p data-lake-id=\"u30b2f552\" id=\"u30b2f552\"><span data-lake-id=\"u9133dec5\" id=\"u9133dec5\">当然你也可以在你的 </span><code data-lake-id=\"u41b738ba\" id=\"u41b738ba\"><span data-lake-id=\"u7bb48d92\" id=\"u7bb48d92\">themes</span></code><span data-lake-id=\"u70fa9b38\" id=\"u70fa9b38\"> 文件夹下使用 </span><code data-lake-id=\"uf619dfe0\" id=\"uf619dfe0\"><span data-lake-id=\"u88250ea3\" id=\"u88250ea3\">git clone</span></code><span data-lake-id=\"u5e61ae4e\" id=\"u5e61ae4e\"> 命令来下载:</span></p><p data-lake-id=\"ud157ff33\" id=\"ud157ff33\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22git%20clone%20https%3A%2F%2Fgithub.com%2Fblinkfox%2Fhexo-theme-matery.git%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22a1f414e5%22%7D\"></card><p data-lake-id=\"ub248c6f8\" id=\"ub248c6f8\"><br></p><h2 data-lake-id=\"224e2ccd\" id=\"224e2ccd\"><span data-lake-id=\"u9e5d207b\" id=\"u9e5d207b\">配置</span></h2><p data-lake-id=\"u37ff7c3f\" id=\"u37ff7c3f\"><br></p><h3 data-lake-id=\"583547cc\" id=\"583547cc\"><span data-lake-id=\"ue052fbc0\" id=\"ue052fbc0\">切换主题</span></h3><p data-lake-id=\"u7167fb03\" id=\"u7167fb03\"><br></p><p data-lake-id=\"u2e98e30a\" id=\"u2e98e30a\"><span data-lake-id=\"u86152ae4\" id=\"u86152ae4\">修改 Hexo 根目录下的 </span><code data-lake-id=\"ub9e46adf\" id=\"ub9e46adf\"><span data-lake-id=\"u66115920\" id=\"u66115920\">_config.yml</span></code><span data-lake-id=\"u853ceb93\" id=\"u853ceb93\"> 的  </span><code data-lake-id=\"udd961394\" id=\"udd961394\"><span data-lake-id=\"uf022488a\" id=\"uf022488a\">theme</span></code><span data-lake-id=\"u5ede160e\" id=\"u5ede160e\"> 的值：</span><code data-lake-id=\"u4a6b9985\" id=\"u4a6b9985\"><span data-lake-id=\"ubd73aadc\" id=\"ubd73aadc\">theme: hexo-theme-matery</span></code></p><p data-lake-id=\"ub790f6f0\" id=\"ub790f6f0\"><br></p><h4 data-lake-id=\"d2b1f64c\" id=\"d2b1f64c\"><code data-lake-id=\"u57895783\" id=\"u57895783\"><span data-lake-id=\"ub802e3d4\" id=\"ub802e3d4\">_config.yml</span></code><span data-lake-id=\"u31ef13f3\" id=\"u31ef13f3\"> 文件的其它修改建议:</span></h4><p data-lake-id=\"u9ea0acab\" id=\"u9ea0acab\"><br></p><ul list=\"udacd5719\"><li fid=\"u16b0b508\" data-lake-id=\"ua36ed93e\" id=\"ua36ed93e\"><span data-lake-id=\"u82b53d3a\" id=\"u82b53d3a\">请修改 </span><code data-lake-id=\"ub09eac95\" id=\"ub09eac95\"><span data-lake-id=\"ua9752134\" id=\"ua9752134\">_config.yml</span></code><span data-lake-id=\"ud8faaee9\" id=\"ud8faaee9\"> 的 </span><code data-lake-id=\"udb911c81\" id=\"udb911c81\"><span data-lake-id=\"u71593225\" id=\"u71593225\">url</span></code><span data-lake-id=\"u43d5e543\" id=\"u43d5e543\"> 的值为你的网站主 </span><code data-lake-id=\"u1a8dd663\" id=\"u1a8dd663\"><span data-lake-id=\"uf6c36072\" id=\"uf6c36072\">URL</span></code><span data-lake-id=\"u48fe7a34\" id=\"u48fe7a34\">（如：</span><code data-lake-id=\"u04a7c2c5\" id=\"u04a7c2c5\"><span data-lake-id=\"u18e15987\" id=\"u18e15987\">http://xxx.github.io</span></code><span data-lake-id=\"ub92fff6f\" id=\"ub92fff6f\">）。</span></li></ul><ul list=\"udd8f8474\"><li fid=\"uef1ce137\" data-lake-id=\"ubda7070a\" id=\"ubda7070a\"><span data-lake-id=\"u7177dbd3\" id=\"u7177dbd3\">建议修改两个 </span><code data-lake-id=\"uc4087534\" id=\"uc4087534\"><span data-lake-id=\"ub20c1f5a\" id=\"ub20c1f5a\">per_page</span></code><span data-lake-id=\"u4ea1ed01\" id=\"u4ea1ed01\"> 的分页条数值为 </span><code data-lake-id=\"uc576d617\" id=\"uc576d617\"><span data-lake-id=\"u6ab77dcf\" id=\"u6ab77dcf\">6</span></code><span data-lake-id=\"uefe545ef\" id=\"uefe545ef\"> 的倍数，如：</span><code data-lake-id=\"uf27e0cc6\" id=\"uf27e0cc6\"><span data-lake-id=\"u9eae066f\" id=\"u9eae066f\">12</span></code><span data-lake-id=\"u5788fd5f\" id=\"u5788fd5f\">、</span><code data-lake-id=\"u19d7510e\" id=\"u19d7510e\"><span data-lake-id=\"u991d5fab\" id=\"u991d5fab\">18</span></code><span data-lake-id=\"ua8e744ff\" id=\"ua8e744ff\"> 等，这样文章列表在各个屏幕下都能较好的显示。</span></li></ul><ul list=\"u5ab7df50\"><li fid=\"u92fd3e71\" data-lake-id=\"u290c87e0\" id=\"u290c87e0\"><span data-lake-id=\"uf33a2677\" id=\"uf33a2677\">如果你是中文用户，则建议修改 </span><code data-lake-id=\"uf0f4090b\" id=\"uf0f4090b\"><span data-lake-id=\"uac08dc1b\" id=\"uac08dc1b\">language</span></code><span data-lake-id=\"u287160f7\" id=\"u287160f7\"> 的值为 </span><code data-lake-id=\"u57da5277\" id=\"u57da5277\"><span data-lake-id=\"u89b3557c\" id=\"u89b3557c\">zh-CN</span></code><span data-lake-id=\"uc4110269\" id=\"uc4110269\">。</span></li></ul><p data-lake-id=\"u991a5280\" id=\"u991a5280\"><br></p><h3 data-lake-id=\"0fe7d221\" id=\"0fe7d221\"><span data-lake-id=\"u065a3513\" id=\"u065a3513\">新建分类 categories 页</span></h3><p data-lake-id=\"uc0692634\" id=\"uc0692634\"><br></p><p data-lake-id=\"u9925e9d4\" id=\"u9925e9d4\"><code data-lake-id=\"u88dd98c6\" id=\"u88dd98c6\"><span data-lake-id=\"u5fb40d97\" id=\"u5fb40d97\">categories</span></code><span data-lake-id=\"u9744513d\" id=\"u9744513d\"> 页是用来展示所有分类的页面，如果在你的博客 </span><code data-lake-id=\"ucfd014cf\" id=\"ucfd014cf\"><span data-lake-id=\"u928b61ed\" id=\"u928b61ed\">source</span></code><span data-lake-id=\"u61e2b634\" id=\"u61e2b634\"> 目录下还没有 </span><code data-lake-id=\"ud56b091a\" id=\"ud56b091a\"><span data-lake-id=\"u4480dc51\" id=\"u4480dc51\">categories/index.md</span></code><span data-lake-id=\"u7c93268c\" id=\"u7c93268c\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u41b8d9d9\" id=\"u41b8d9d9\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22categories%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2238f3b3f7%22%7D\"></card><p data-lake-id=\"u23659e90\" id=\"u23659e90\"><br></p><p data-lake-id=\"ub93906c5\" id=\"ub93906c5\"><span data-lake-id=\"uc26e9d4a\" id=\"uc26e9d4a\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"u34acecc0\" id=\"u34acecc0\"><span data-lake-id=\"ue819e6e0\" id=\"ue819e6e0\">/source/categories/index.md</span></code><span data-lake-id=\"u095dc856\" id=\"u095dc856\">，至少需要以下内容：</span></p><p data-lake-id=\"u2076d387\" id=\"u2076d387\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20categories%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22categories%5C%22%5Cnlayout%3A%20%5C%22categories%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e1569199%22%7D\"></card><p data-lake-id=\"u4a9e88bc\" id=\"u4a9e88bc\"><br></p><h3 data-lake-id=\"1ae9b7f3\" id=\"1ae9b7f3\"><span data-lake-id=\"uf8c53ac2\" id=\"uf8c53ac2\">新建标签 tags 页</span></h3><p data-lake-id=\"u6bac6644\" id=\"u6bac6644\"><br></p><p data-lake-id=\"u3da5793f\" id=\"u3da5793f\"><code data-lake-id=\"u8ca40c3a\" id=\"u8ca40c3a\"><span data-lake-id=\"uddb3fccd\" id=\"uddb3fccd\">tags</span></code><span data-lake-id=\"ue260f3b6\" id=\"ue260f3b6\"> 页是用来展示所有标签的页面，如果在你的博客 </span><code data-lake-id=\"uf6fded3b\" id=\"uf6fded3b\"><span data-lake-id=\"u6bc6df16\" id=\"u6bc6df16\">source</span></code><span data-lake-id=\"uf362f5d9\" id=\"uf362f5d9\"> 目录下还没有 </span><code data-lake-id=\"ucc86d0a3\" id=\"ucc86d0a3\"><span data-lake-id=\"u77798ea8\" id=\"u77798ea8\">tags/index.md</span></code><span data-lake-id=\"u58eb91e7\" id=\"u58eb91e7\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u8af2b94f\" id=\"u8af2b94f\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22tags%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22788934cf%22%7D\"></card><p data-lake-id=\"u76198f00\" id=\"u76198f00\"><br></p><p data-lake-id=\"u1ead5676\" id=\"u1ead5676\"><span data-lake-id=\"ua1a90767\" id=\"ua1a90767\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"uf36152db\" id=\"uf36152db\"><span data-lake-id=\"u8e4ad1fe\" id=\"u8e4ad1fe\">/source/tags/index.md</span></code><span data-lake-id=\"ubd2744a0\" id=\"ubd2744a0\">，至少需要以下内容：</span></p><p data-lake-id=\"ub186dc32\" id=\"ub186dc32\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20tags%5Cndate%3A%202018-09-30%2018%3A23%3A38%5Cntype%3A%20%5C%22tags%5C%22%5Cnlayout%3A%20%5C%22tags%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2291169731%22%7D\"></card><p data-lake-id=\"ua197d13a\" id=\"ua197d13a\"><br></p><h3 data-lake-id=\"ea164841\" id=\"ea164841\"><span data-lake-id=\"ua14b3559\" id=\"ua14b3559\">新建关于我 about 页</span></h3><p data-lake-id=\"u8741edb9\" id=\"u8741edb9\"><br></p><p data-lake-id=\"ubdbbd035\" id=\"ubdbbd035\"><code data-lake-id=\"u69b2e1fc\" id=\"u69b2e1fc\"><span data-lake-id=\"uf416bae4\" id=\"uf416bae4\">about</span></code><span data-lake-id=\"ua9e8b537\" id=\"ua9e8b537\"> 页是用来展示</span><strong><span data-lake-id=\"u139f11ed\" id=\"u139f11ed\">关于我和我的博客</span></strong><span data-lake-id=\"u4206674f\" id=\"u4206674f\">信息的页面，如果在你的博客 </span><code data-lake-id=\"u9838eee9\" id=\"u9838eee9\"><span data-lake-id=\"u679fd68b\" id=\"u679fd68b\">source</span></code><span data-lake-id=\"u0ed4f1d6\" id=\"u0ed4f1d6\"> 目录下还没有 </span><code data-lake-id=\"uca646968\" id=\"uca646968\"><span data-lake-id=\"uea2faf7d\" id=\"uea2faf7d\">about/index.md</span></code><span data-lake-id=\"u968169c2\" id=\"u968169c2\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u63737614\" id=\"u63737614\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22about%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225fae1368%22%7D\"></card><p data-lake-id=\"u4f9c085c\" id=\"u4f9c085c\"><br></p><p data-lake-id=\"u65084750\" id=\"u65084750\"><span data-lake-id=\"ue9d5b415\" id=\"ue9d5b415\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"ud39fbaa8\" id=\"ud39fbaa8\"><span data-lake-id=\"udefde78a\" id=\"udefde78a\">/source/about/index.md</span></code><span data-lake-id=\"u1db147fb\" id=\"u1db147fb\">，至少需要以下内容：</span></p><p data-lake-id=\"u279e24c1\" id=\"u279e24c1\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20about%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22about%5C%22%5Cnlayout%3A%20%5C%22about%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22aecac7ea%22%7D\"></card><p data-lake-id=\"u414e60cf\" id=\"u414e60cf\"><br></p><h3 data-lake-id=\"7cbe81da\" id=\"7cbe81da\"><span data-lake-id=\"u30659858\" id=\"u30659858\">新建留言板 contact 页（可选的）</span></h3><p data-lake-id=\"u64ee2cb4\" id=\"u64ee2cb4\"><br></p><p data-lake-id=\"uc5f70bcf\" id=\"uc5f70bcf\"><code data-lake-id=\"u34a5b35e\" id=\"u34a5b35e\"><span data-lake-id=\"u184550b3\" id=\"u184550b3\">contact</span></code><span data-lake-id=\"udd4a9e36\" id=\"udd4a9e36\"> 页是用来展示</span><strong><span data-lake-id=\"ub1b9e481\" id=\"ub1b9e481\">留言板</span></strong><span data-lake-id=\"u98fafd05\" id=\"u98fafd05\">信息的页面，如果在你的博客 </span><code data-lake-id=\"ub6499278\" id=\"ub6499278\"><span data-lake-id=\"uc9069c12\" id=\"uc9069c12\">source</span></code><span data-lake-id=\"ud119cd7e\" id=\"ud119cd7e\"> 目录下还没有 </span><code data-lake-id=\"ua649bdc8\" id=\"ua649bdc8\"><span data-lake-id=\"u1ba36a1e\" id=\"u1ba36a1e\">contact/index.md</span></code><span data-lake-id=\"u770d207f\" id=\"u770d207f\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"u7a3aefc0\" id=\"u7a3aefc0\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22contact%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c7743a7a%22%7D\"></card><p data-lake-id=\"u4e4901b2\" id=\"u4e4901b2\"><br></p><p data-lake-id=\"u9a03b812\" id=\"u9a03b812\"><span data-lake-id=\"u52cd6441\" id=\"u52cd6441\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"u9e741d24\" id=\"u9e741d24\"><span data-lake-id=\"u0d8e9e72\" id=\"u0d8e9e72\">/source/contact/index.md</span></code><span data-lake-id=\"u86e6cd80\" id=\"u86e6cd80\">，至少需要以下内容：</span></p><p data-lake-id=\"ubd2f813c\" id=\"ubd2f813c\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20contact%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22contact%5C%22%5Cnlayout%3A%20%5C%22contact%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%224a854438%22%7D\"></card><p data-lake-id=\"u3f1c2fb2\" id=\"u3f1c2fb2\"><br></p><blockquote data-lake-id=\"u579be605\" id=\"u579be605\"><p data-lake-id=\"u28dab0de\" id=\"u28dab0de\"><strong><span data-lake-id=\"u7a5b4494\" id=\"u7a5b4494\">注</span></strong><span data-lake-id=\"u8ed8fd42\" id=\"u8ed8fd42\">：本留言板功能依赖于第三方评论系统，请</span><strong><span data-lake-id=\"u338057e4\" id=\"u338057e4\">激活</span></strong><span data-lake-id=\"ucf56c995\" id=\"ucf56c995\">你的评论系统才有效果。并且在主题的 </span><code data-lake-id=\"u04f481a8\" id=\"u04f481a8\"><span data-lake-id=\"u42943b32\" id=\"u42943b32\">_config.yml</span></code><span data-lake-id=\"u6461b590\" id=\"u6461b590\"> 文件中，第 </span><code data-lake-id=\"u66c3515d\" id=\"u66c3515d\"><span data-lake-id=\"uc52295b9\" id=\"uc52295b9\">19</span></code><span data-lake-id=\"u9ebbb9e1\" id=\"u9ebbb9e1\"> 至 </span><code data-lake-id=\"u009209e4\" id=\"u009209e4\"><span data-lake-id=\"u3be37c0c\" id=\"u3be37c0c\">21</span></code><span data-lake-id=\"ua89ba8ef\" id=\"ua89ba8ef\"> 行的“</span><strong><span data-lake-id=\"u8e454d48\" id=\"u8e454d48\">菜单</span></strong><span data-lake-id=\"uf3031850\" id=\"uf3031850\">”配置，取消关于留言板的注释即可。</span></p></blockquote><p data-lake-id=\"u44d97afa\" id=\"u44d97afa\"><br></p><h3 data-lake-id=\"f42b41b9\" id=\"f42b41b9\"><span data-lake-id=\"ua2befa1d\" id=\"ua2befa1d\">新建友情链接 friends 页（可选的）</span></h3><p data-lake-id=\"u4823aad8\" id=\"u4823aad8\"><br></p><p data-lake-id=\"u3bdba874\" id=\"u3bdba874\"><code data-lake-id=\"u73400982\" id=\"u73400982\"><span data-lake-id=\"ua77c086a\" id=\"ua77c086a\">friends</span></code><span data-lake-id=\"ua74dd457\" id=\"ua74dd457\"> 页是用来展示</span><strong><span data-lake-id=\"u7a6de201\" id=\"u7a6de201\">友情链接</span></strong><span data-lake-id=\"u56c4dc9e\" id=\"u56c4dc9e\">信息的页面，如果在你的博客 </span><code data-lake-id=\"u23677614\" id=\"u23677614\"><span data-lake-id=\"u5209952d\" id=\"u5209952d\">source</span></code><span data-lake-id=\"u36aed7eb\" id=\"u36aed7eb\"> 目录下还没有 </span><code data-lake-id=\"u5d49cdb3\" id=\"u5d49cdb3\"><span data-lake-id=\"u9db26a84\" id=\"u9db26a84\">friends/index.md</span></code><span data-lake-id=\"u107ce05b\" id=\"u107ce05b\"> 文件，那么你就需要新建一个，命令如下：</span></p><p data-lake-id=\"ufd8abc3e\" id=\"ufd8abc3e\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20%5C%22friends%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2284c23dc5%22%7D\"></card><p data-lake-id=\"uc28c0fd0\" id=\"uc28c0fd0\"><br></p><p data-lake-id=\"u51a6679f\" id=\"u51a6679f\"><span data-lake-id=\"uce8201a6\" id=\"uce8201a6\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"uf6cb2948\" id=\"uf6cb2948\"><span data-lake-id=\"uc5b5e662\" id=\"uc5b5e662\">/source/friends/index.md</span></code><span data-lake-id=\"uae1cb76d\" id=\"uae1cb76d\">，至少需要以下内容：</span></p><p data-lake-id=\"u2af792ea\" id=\"u2af792ea\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20friends%5Cndate%3A%202018-12-12%2021%3A25%3A30%5Cntype%3A%20%5C%22friends%5C%22%5Cnlayout%3A%20%5C%22friends%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2225194a3a%22%7D\"></card><p data-lake-id=\"u0ce10f77\" id=\"u0ce10f77\"><br></p><p data-lake-id=\"ua725e649\" id=\"ua725e649\"><span data-lake-id=\"u2b2a4377\" id=\"u2b2a4377\">同时，在你的博客 </span><code data-lake-id=\"ue55db927\" id=\"ue55db927\"><span data-lake-id=\"u0d82b45e\" id=\"u0d82b45e\">source</span></code><span data-lake-id=\"u1fc3d0cb\" id=\"u1fc3d0cb\"> 目录下新建 </span><code data-lake-id=\"udfd14106\" id=\"udfd14106\"><span data-lake-id=\"u43b5b56b\" id=\"u43b5b56b\">_data</span></code><span data-lake-id=\"uea2b3289\" id=\"uea2b3289\"> 目录，在 </span><code data-lake-id=\"u1c8e8c1e\" id=\"u1c8e8c1e\"><span data-lake-id=\"uabd494f0\" id=\"uabd494f0\">_data</span></code><span data-lake-id=\"u204bd1e0\" id=\"u204bd1e0\"> 目录中新建 </span><code data-lake-id=\"u5303795f\" id=\"u5303795f\"><span data-lake-id=\"u9eb92dd8\" id=\"u9eb92dd8\">friends.json</span></code><span data-lake-id=\"u8870b31f\" id=\"u8870b31f\"> 文件，文件内容如下所示：</span></p><p data-lake-id=\"u6ca9fc12\" id=\"u6ca9fc12\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%7B%5Cn%20%20%20%20%5C%22avatar%5C%22%3A%20%5C%22http%3A%2F%2Fimage.luokangyuan.com%2F1_qq_27922023.jpg%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22%E7%A0%81%E9%85%B1%5C%22%2C%5Cn%20%20%20%20%5C%22introduction%5C%22%3A%20%5C%22%E6%88%91%E4%B8%8D%E6%98%AF%E5%A4%A7%E4%BD%AC%EF%BC%8C%E5%8F%AA%E6%98%AF%E5%9C%A8%E8%BF%BD%E5%AF%BB%E5%A4%A7%E4%BD%AC%E7%9A%84%E8%84%9A%E6%AD%A5%5C%22%2C%5Cn%20%20%20%20%5C%22url%5C%22%3A%20%5C%22http%3A%2F%2Fluokangyuan.com%2F%5C%22%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E5%89%8D%E5%8E%BB%E5%AD%A6%E4%B9%A0%5C%22%5Cn%7D%2C%20%7B%5Cn%20%20%20%20%5C%22avatar%5C%22%3A%20%5C%22http%3A%2F%2Fimage.luokangyuan.com%2F4027734.jpeg%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22%E9%97%AA%E7%83%81%E4%B9%8B%E7%8B%90%5C%22%2C%5Cn%20%20%20%20%5C%22introduction%5C%22%3A%20%5C%22%E7%BC%96%E7%A8%8B%E7%95%8C%E5%A4%A7%E4%BD%AC%EF%BC%8C%E6%8A%80%E6%9C%AF%E7%89%9B%EF%BC%8C%E4%BA%BA%E8%BF%98%E7%89%B9%E5%88%AB%E5%A5%BD%EF%BC%8C%E4%B8%8D%E6%87%82%E7%9A%84%E9%83%BD%E5%8F%AF%E4%BB%A5%E8%AF%B7%E6%95%99%E5%A4%A7%E4%BD%AC%5C%22%2C%5Cn%20%20%20%20%5C%22url%5C%22%3A%20%5C%22https%3A%2F%2Fblinkfox.github.io%2F%5C%22%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E5%89%8D%E5%8E%BB%E5%AD%A6%E4%B9%A0%5C%22%5Cn%7D%2C%20%7B%5Cn%20%20%20%20%5C%22avatar%5C%22%3A%20%5C%22http%3A%2F%2Fimage.luokangyuan.com%2Favatar.jpg%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22ja_rome%5C%22%2C%5Cn%20%20%20%20%5C%22introduction%5C%22%3A%20%5C%22%E5%B9%B3%E5%87%A1%E7%9A%84%E8%84%9A%E6%AD%A5%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%B5%B0%E5%87%BA%E4%BC%9F%E5%A4%A7%E7%9A%84%E8%A1%8C%E7%A8%8B%5C%22%2C%5Cn%20%20%20%20%5C%22url%5C%22%3A%20%5C%22https%3A%2F%2Fme.csdn.net%2Fjlh912008548%5C%22%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E5%89%8D%E5%8E%BB%E5%AD%A6%E4%B9%A0%5C%22%5Cn%7D%5D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22ec83b335%22%7D\"></card><p data-lake-id=\"ue4bd3bb6\" id=\"ue4bd3bb6\"><br></p><h3 data-lake-id=\"46dd66e0\" id=\"46dd66e0\"><span data-lake-id=\"u0b41b06b\" id=\"u0b41b06b\">新建 404 页</span></h3><p data-lake-id=\"u692d8604\" id=\"u692d8604\"><br></p><p data-lake-id=\"u6a480448\" id=\"u6a480448\"><span data-lake-id=\"ua773187c\" id=\"ua773187c\">如果在你的博客 </span><code data-lake-id=\"u7488aaae\" id=\"u7488aaae\"><span data-lake-id=\"u73001416\" id=\"u73001416\">source</span></code><span data-lake-id=\"u056da3cf\" id=\"u056da3cf\"> 目录下还没有 </span><code data-lake-id=\"u4d7e3f57\" id=\"u4d7e3f57\"><span data-lake-id=\"u3dc34a40\" id=\"u3dc34a40\">404.md</span></code><span data-lake-id=\"u0d1d3014\" id=\"u0d1d3014\"> 文件，那么你就需要新建一个</span></p><p data-lake-id=\"u6e13a4ce\" id=\"u6e13a4ce\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22hexo%20new%20page%20404%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2200937270%22%7D\"></card><p data-lake-id=\"u65ed2807\" id=\"u65ed2807\"><br></p><p data-lake-id=\"ub565af56\" id=\"ub565af56\"><span data-lake-id=\"u3e875d87\" id=\"u3e875d87\">编辑你刚刚新建的页面文件 </span><code data-lake-id=\"u3a301056\" id=\"u3a301056\"><span data-lake-id=\"uf3cad2f1\" id=\"uf3cad2f1\">/source/404/index.md</span></code><span data-lake-id=\"u9f981992\" id=\"u9f981992\">，至少需要以下内容：</span></p><p data-lake-id=\"ue41539dd\" id=\"ue41539dd\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20404%5Cndate%3A%202018-09-30%2017%3A25%3A30%5Cntype%3A%20%5C%22404%5C%22%5Cnlayout%3A%20%5C%22404%5C%22%5Cndescription%3A%20%5C%22Oops%EF%BD%9E%EF%BC%8C%E6%88%91%E5%B4%A9%E6%BA%83%E4%BA%86%EF%BC%81%E6%89%BE%E4%B8%8D%E5%88%B0%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84%E9%A1%B5%E9%9D%A2%20%3A(%5C%22%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225b3b3988%22%7D\"></card><p data-lake-id=\"ue9e92405\" id=\"ue9e92405\"><br></p><h3 data-lake-id=\"8464a785\" id=\"8464a785\"><span data-lake-id=\"ude5c9f44\" id=\"ude5c9f44\">菜单导航配置</span></h3><p data-lake-id=\"u7db76fe2\" id=\"u7db76fe2\"><br></p><h4 data-lake-id=\"1a6527d0\" id=\"1a6527d0\"><span data-lake-id=\"u29302177\" id=\"u29302177\">配置基本菜单导航的名称、路径url和图标icon.</span></h4><p data-lake-id=\"u7d3f9728\" id=\"u7d3f9728\"><br></p><p data-lake-id=\"u52baf7db\" id=\"u52baf7db\"><span data-lake-id=\"u2b9132af\" id=\"u2b9132af\">1.菜单导航名称可以是中文也可以是英文(如：</span><code data-lake-id=\"u32beb4bd\" id=\"u32beb4bd\"><span data-lake-id=\"ud1f643b9\" id=\"ud1f643b9\">Index</span></code><span data-lake-id=\"ufc911d0e\" id=\"ufc911d0e\">或</span><code data-lake-id=\"udb49d677\" id=\"udb49d677\"><span data-lake-id=\"u3595213d\" id=\"u3595213d\">主页</span></code><span data-lake-id=\"u6f6a548f\" id=\"u6f6a548f\">)<br /></span><span data-lake-id=\"u3d169ad3\" id=\"u3d169ad3\">2.图标icon 可以在</span><a href=\"https://fontawesome.com/icons\" target=\"_blank\" data-lake-id=\"udabf9f4e\" id=\"udabf9f4e\"><span data-lake-id=\"u7ded8621\" id=\"u7ded8621\">Font Awesome</span></a><span data-lake-id=\"u60a8ee99\" id=\"u60a8ee99\"> 中查找</span></p><p data-lake-id=\"uc5930d8c\" id=\"uc5930d8c\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22menu%3A%5Cn%20%20Index%3A%5Cn%20%20%20%20url%3A%20%2F%5Cn%20%20%20%20icon%3A%20fas%20fa-home%5Cn%20%20Tags%3A%5Cn%20%20%20%20url%3A%20%2Ftags%5Cn%20%20%20%20icon%3A%20fas%20fa-tags%5Cn%20%20Categories%3A%5Cn%20%20%20%20url%3A%20%2Fcategories%5Cn%20%20%20%20icon%3A%20fas%20fa-bookmark%5Cn%20%20Archives%3A%5Cn%20%20%20%20url%3A%20%2Farchives%5Cn%20%20%20%20icon%3A%20fas%20fa-archive%5Cn%20%20About%3A%5Cn%20%20%20%20url%3A%20%2Fabout%5Cn%20%20%20%20icon%3A%20fas%20fa-user-circle%5Cn%20%20Friends%3A%5Cn%20%20%20%20url%3A%20%2Ffriends%5Cn%20%20%20%20icon%3A%20fas%20fa-address-book%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2278cbd64d%22%7D\"></card><p data-lake-id=\"u43711e63\" id=\"u43711e63\"><br></p><h4 data-lake-id=\"5b0f493d\" id=\"5b0f493d\"><span data-lake-id=\"u9a3ddbc9\" id=\"u9a3ddbc9\">二级菜单配置方法</span></h4><p data-lake-id=\"u3a2d637b\" id=\"u3a2d637b\"><br></p><p data-lake-id=\"u08c2e703\" id=\"u08c2e703\"><span data-lake-id=\"u35e38ffa\" id=\"u35e38ffa\">如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作</span></p><p data-lake-id=\"ucb1daf17\" id=\"ucb1daf17\"><br></p><ol list=\"uef4f83b3\"><li fid=\"u9237f134\" data-lake-id=\"ub626539c\" id=\"ub626539c\"><span data-lake-id=\"u3ccaa100\" id=\"u3ccaa100\">在需要添加二级菜单的一级菜单下添加</span><code data-lake-id=\"u8dec3d1f\" id=\"u8dec3d1f\"><span data-lake-id=\"ud3f1fcf2\" id=\"ud3f1fcf2\">children</span></code><span data-lake-id=\"u8f218846\" id=\"u8f218846\">关键字(如:</span><code data-lake-id=\"ua1d478b8\" id=\"ua1d478b8\"><span data-lake-id=\"u2dfcdbb6\" id=\"u2dfcdbb6\">About</span></code><span data-lake-id=\"udaaec005\" id=\"udaaec005\">菜单下添加</span><code data-lake-id=\"ucf70af77\" id=\"ucf70af77\"><span data-lake-id=\"ub74df345\" id=\"ub74df345\">children</span></code><span data-lake-id=\"ud7016266\" id=\"ud7016266\">)</span></li></ol><ol list=\"u595044b4\" start=\"2\"><li fid=\"u8beebe07\" data-lake-id=\"u31a9ffa6\" id=\"u31a9ffa6\"><span data-lake-id=\"ue604a3e2\" id=\"ue604a3e2\">在</span><code data-lake-id=\"u3ec21aa8\" id=\"u3ec21aa8\"><span data-lake-id=\"u02a65ba7\" id=\"u02a65ba7\">children</span></code><span data-lake-id=\"u222dfa3a\" id=\"u222dfa3a\">下创建二级菜单的 名称name,路径url和图标icon.</span></li></ol><ol list=\"u5ab19ac1\" start=\"3\"><li fid=\"u2d0067f1\" data-lake-id=\"u96d2cfba\" id=\"u96d2cfba\"><span data-lake-id=\"u2d65679b\" id=\"u2d65679b\">注意每个二级菜单模块前要加 </span><code data-lake-id=\"ua26cbad8\" id=\"ua26cbad8\"><span data-lake-id=\"u4e0bde7e\" id=\"u4e0bde7e\">-</span></code><span data-lake-id=\"ub90cc630\" id=\"ub90cc630\">.</span></li></ol><ol list=\"u6f6d4f81\" start=\"4\"><li fid=\"ub8113200\" data-lake-id=\"u9807234f\" id=\"u9807234f\"><span data-lake-id=\"u8e9ca2cb\" id=\"u8e9ca2cb\">注意缩进格式</span></li></ol><p data-lake-id=\"u17ab91bb\" id=\"u17ab91bb\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22menu%3A%5Cn%20%20Index%3A%5Cn%20%20%20%20url%3A%20%2F%5Cn%20%20%20%20icon%3A%20fas%20fa-home%5Cn%20%20Tags%3A%5Cn%20%20%20%20url%3A%20%2Ftags%5Cn%20%20%20%20icon%3A%20fas%20fa-tags%5Cn%20%20Categories%3A%5Cn%20%20%20%20url%3A%20%2Fcategories%5Cn%20%20%20%20icon%3A%20fas%20fa-bookmark%5Cn%20%20Archives%3A%5Cn%20%20%20%20url%3A%20%2Farchives%5Cn%20%20%20%20icon%3A%20fas%20fa-archive%5Cn%20%20About%3A%5Cn%20%20%20%20url%3A%20%2Fabout%5Cn%20%20%20%20icon%3A%20fas%20fa-user-circle-o%5Cn%20%20Friends%3A%5Cn%20%20%20%20url%3A%20%2Ffriends%5Cn%20%20%20%20icon%3A%20fas%20fa-address-book%5Cn%20%20Medias%3A%5Cn%20%20%20%20icon%3A%20fas%20fa-list%5Cn%20%20%20%20children%3A%5Cn%20%20%20%20%20%20-%20name%3A%20Music%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fmusic%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-music%5Cn%20%20%20%20%20%20-%20name%3A%20Movies%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fmovies%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-film%5Cn%20%20%20%20%20%20-%20name%3A%20Books%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fbooks%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-book%5Cn%20%20%20%20%20%20-%20name%3A%20Galleries%5Cn%20%20%20%20%20%20%20%20url%3A%20%2Fgalleries%5Cn%20%20%20%20%20%20%20%20icon%3A%20fas%20fa-image%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22d9b0ee30%22%7D\"></card><p data-lake-id=\"u532fe467\" id=\"u532fe467\"><br></p><h3 data-lake-id=\"38bbd995\" id=\"38bbd995\"><span data-lake-id=\"u369c774b\" id=\"u369c774b\">代码高亮</span></h3><p data-lake-id=\"u2b920783\" id=\"u2b920783\"><br></p><p data-lake-id=\"ub0e420b9\" id=\"ub0e420b9\"><span data-lake-id=\"uffc5d178\" id=\"uffc5d178\">从 Hexo5.0 版本开始自带了 </span><code data-lake-id=\"u2ead1f04\" id=\"u2ead1f04\"><span data-lake-id=\"ufa52d0e1\" id=\"ufa52d0e1\">prismjs</span></code><span data-lake-id=\"ued45bb1c\" id=\"ued45bb1c\"> 代码语法高亮的支持，本主题对此进行了改造支持。</span></p><p data-lake-id=\"u6649e4ca\" id=\"u6649e4ca\"><br></p><p data-lake-id=\"ue1a356b0\" id=\"ue1a356b0\"><span data-lake-id=\"u460ecbb4\" id=\"u460ecbb4\">如果你的博客中曾经安装过 </span><code data-lake-id=\"uec5e202b\" id=\"uec5e202b\"><span data-lake-id=\"u7710118a\" id=\"u7710118a\">hexo-prism-plugin</span></code><span data-lake-id=\"udefac40d\" id=\"udefac40d\"> 的插件，那么你须要执行 </span><code data-lake-id=\"u1a4dbcb8\" id=\"u1a4dbcb8\"><span data-lake-id=\"u87eb70bb\" id=\"u87eb70bb\">npm uninstall hexo-prism-plugin</span></code><span data-lake-id=\"u572f82a6\" id=\"u572f82a6\"> 来卸载掉它，否则生成的代码中会有 </span><code data-lake-id=\"u833517dd\" id=\"u833517dd\"><span data-lake-id=\"u63128db1\" id=\"u63128db1\">&amp;#123;</span></code><span data-lake-id=\"ufc4e3653\" id=\"ufc4e3653\"> 和 </span><code data-lake-id=\"uc11389b3\" id=\"uc11389b3\"><span data-lake-id=\"u441f9382\" id=\"u441f9382\">&amp;#125;</span></code><span data-lake-id=\"u2539d5ee\" id=\"u2539d5ee\"> 的转义字符。</span></p><p data-lake-id=\"u9d89c586\" id=\"u9d89c586\"><br></p><p data-lake-id=\"u42d44e89\" id=\"u42d44e89\"><span data-lake-id=\"u954c8232\" id=\"u954c8232\">然后，修改 Hexo 根目录下 </span><code data-lake-id=\"u3d09cbac\" id=\"u3d09cbac\"><span data-lake-id=\"ue7ee5a7f\" id=\"ue7ee5a7f\">_config.yml</span></code><span data-lake-id=\"ufdb6deb9\" id=\"ufdb6deb9\"> 文件中 </span><code data-lake-id=\"ueda4c388\" id=\"ueda4c388\"><span data-lake-id=\"ud3967567\" id=\"ud3967567\">highlight.enable</span></code><span data-lake-id=\"ua63b3303\" id=\"ua63b3303\"> 的值为 </span><code data-lake-id=\"u6e4eb964\" id=\"u6e4eb964\"><span data-lake-id=\"ue1b4065f\" id=\"ue1b4065f\">false</span></code><span data-lake-id=\"u7fa324d2\" id=\"u7fa324d2\">，并将 </span><code data-lake-id=\"uac37db5b\" id=\"uac37db5b\"><span data-lake-id=\"u6387223f\" id=\"u6387223f\">prismjs.enable</span></code><span data-lake-id=\"u7cf662d4\" id=\"u7cf662d4\"> 的值设置为 </span><code data-lake-id=\"ub36f1ccb\" id=\"ub36f1ccb\"><span data-lake-id=\"uf6a1f80a\" id=\"uf6a1f80a\">true</span></code><span data-lake-id=\"u11236a4c\" id=\"u11236a4c\">，主要配置如下：</span></p><p data-lake-id=\"u6caa8fa3\" id=\"u6caa8fa3\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22highlight%3A%5Cn%20%20enable%3A%20false%5Cn%20%20line_number%3A%20true%5Cn%20%20auto_detect%3A%20false%5Cn%20%20tab_replace%3A%20''%5Cn%20%20wrap%3A%20true%5Cn%20%20hljs%3A%20false%5Cnprismjs%3A%5Cn%20%20enable%3A%20true%5Cn%20%20preprocess%3A%20true%5Cn%20%20line_number%3A%20true%5Cn%20%20tab_replace%3A%20''%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22b87420f5%22%7D\"></card><p data-lake-id=\"uc81947bc\" id=\"uc81947bc\"><br></p><p data-lake-id=\"u7fefb6dd\" id=\"u7fefb6dd\"><span data-lake-id=\"u0b19b5c3\" id=\"u0b19b5c3\">主题中默认的 </span><code data-lake-id=\"u91a0263b\" id=\"u91a0263b\"><span data-lake-id=\"u557e2ec0\" id=\"u557e2ec0\">prismjs</span></code><span data-lake-id=\"u4af89244\" id=\"u4af89244\"> 主题是 </span><code data-lake-id=\"u765a7a60\" id=\"u765a7a60\"><span data-lake-id=\"ub62195a6\" id=\"ub62195a6\">Tomorrow Night</span></code><span data-lake-id=\"uf7bb7d68\" id=\"uf7bb7d68\">，如果你想定制自己的主题，可以前往 </span><a href=\"https://prismjs.com/download.html\" target=\"_blank\" data-lake-id=\"u175e242a\" id=\"u175e242a\"><span data-lake-id=\"u24d591b4\" id=\"u24d591b4\">prismjs 下载页面</span></a><span data-lake-id=\"ua8a83ad2\" id=\"ua8a83ad2\"> 定制下载自己喜欢的主题 </span><code data-lake-id=\"u7697a694\" id=\"u7697a694\"><span data-lake-id=\"ua0815552\" id=\"ua0815552\">css</span></code><span data-lake-id=\"u1003b906\" id=\"u1003b906\"> 文件，然后将此 css 主题文件取名为 </span><code data-lake-id=\"u322df076\" id=\"u322df076\"><span data-lake-id=\"u5aeb43a0\" id=\"u5aeb43a0\">prism.css</span></code><span data-lake-id=\"u141425e2\" id=\"u141425e2\">，替换掉 </span><code data-lake-id=\"u55c164e3\" id=\"u55c164e3\"><span data-lake-id=\"ua44f227b\" id=\"ua44f227b\">hexo-theme-matery</span></code><span data-lake-id=\"ue770e0f1\" id=\"ue770e0f1\"> 主题文件夹中的 </span><code data-lake-id=\"u5671191d\" id=\"u5671191d\"><span data-lake-id=\"uc4d12b08\" id=\"uc4d12b08\">source/libs/prism/prism.css</span></code><span data-lake-id=\"ue55b93ad\" id=\"ue55b93ad\"> 文件即可。</span></p><p data-lake-id=\"u1c0068d8\" id=\"u1c0068d8\"><br></p><h3 data-lake-id=\"e5f71fc3\" id=\"e5f71fc3\"><span data-lake-id=\"u58e2f4a2\" id=\"u58e2f4a2\">搜索</span></h3><p data-lake-id=\"u523df8d4\" id=\"u523df8d4\"><br></p><p data-lake-id=\"udd5801b8\" id=\"udd5801b8\"><span data-lake-id=\"udaadf8d6\" id=\"udaadf8d6\">本主题中还使用到了 </span><a href=\"https://github.com/wzpan/hexo-generator-search\" target=\"_blank\" data-lake-id=\"udb4949ae\" id=\"udb4949ae\"><span data-lake-id=\"u1615281e\" id=\"u1615281e\">hexo-generator-search</span></a><span data-lake-id=\"u284b98a2\" id=\"u284b98a2\"> 的 Hexo 插件来做内容搜索，安装命令如下：</span></p><p data-lake-id=\"u0dee8562\" id=\"u0dee8562\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20install%20hexo-generator-search%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%227270f801%22%7D\"></card><p data-lake-id=\"ue1c9a87e\" id=\"ue1c9a87e\"><br></p><p data-lake-id=\"udaea13de\" id=\"udaea13de\"><span data-lake-id=\"uf7271dec\" id=\"uf7271dec\">在 Hexo 根目录下的 </span><code data-lake-id=\"uaaffd865\" id=\"uaaffd865\"><span data-lake-id=\"u93014ac4\" id=\"u93014ac4\">_config.yml</span></code><span data-lake-id=\"u8b731b61\" id=\"u8b731b61\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"uaae6d251\" id=\"uaae6d251\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22search%3A%5Cn%20%20path%3A%20search.xml%5Cn%20%20field%3A%20post%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2200790eb3%22%7D\"></card><p data-lake-id=\"ufd6b5ce0\" id=\"ufd6b5ce0\"><br></p><h3 data-lake-id=\"bfe676d1\" id=\"bfe676d1\"><span data-lake-id=\"u295fa19e\" id=\"u295fa19e\">中文链接转拼音（建议安装）</span></h3><p data-lake-id=\"u1333cc00\" id=\"u1333cc00\"><br></p><p data-lake-id=\"u70b69831\" id=\"u70b69831\"><span data-lake-id=\"u155ed21a\" id=\"u155ed21a\">如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 </span><code data-lake-id=\"ub0e4e84e\" id=\"ub0e4e84e\"><span data-lake-id=\"u16ab1d30\" id=\"u16ab1d30\">SEO</span></code><span data-lake-id=\"u21eb63bb\" id=\"u21eb63bb\">，且 </span><code data-lake-id=\"ua2044e09\" id=\"ua2044e09\"><span data-lake-id=\"u3000fc15\" id=\"u3000fc15\">gitment</span></code><span data-lake-id=\"u98fce821\" id=\"u98fce821\"> 评论对中文链接也不支持。我们可以用 </span><a href=\"https://github.com/viko16/hexo-permalink-pinyin\" target=\"_blank\" data-lake-id=\"ucf473f4e\" id=\"ucf473f4e\"><span data-lake-id=\"u4b05b2ba\" id=\"u4b05b2ba\">hexo-permalink-pinyin</span></a><span data-lake-id=\"u6d94d64d\" id=\"u6d94d64d\"> Hexo 插件使在生成文章时生成中文拼音的永久链接。</span></p><p data-lake-id=\"u8d17b7f7\" id=\"u8d17b7f7\"><br></p><p data-lake-id=\"uaa4184fc\" id=\"uaa4184fc\"><span data-lake-id=\"uef27396f\" id=\"uef27396f\">安装命令如下：</span></p><p data-lake-id=\"u2ed31ed1\" id=\"u2ed31ed1\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20i%20hexo-permalink-pinyin%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226c67f6af%22%7D\"></card><p data-lake-id=\"u257612b2\" id=\"u257612b2\"><br></p><p data-lake-id=\"u25806065\" id=\"u25806065\"><span data-lake-id=\"u2df00474\" id=\"u2df00474\">在 Hexo 根目录下的 </span><code data-lake-id=\"ua10aa1ec\" id=\"ua10aa1ec\"><span data-lake-id=\"u46cd7a55\" id=\"u46cd7a55\">_config.yml</span></code><span data-lake-id=\"ub0e66e05\" id=\"ub0e66e05\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"ub599eecc\" id=\"ub599eecc\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22permalink_pinyin%3A%5Cn%20%20enable%3A%20true%5Cn%20%20separator%3A%20'-'%20%23%20default%3A%20'-'%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22bde97b43%22%7D\"></card><p data-lake-id=\"u86dc76db\" id=\"u86dc76db\"><br></p><blockquote data-lake-id=\"ue4a38401\" id=\"ue4a38401\"><p data-lake-id=\"ue168795f\" id=\"ue168795f\"><strong><span data-lake-id=\"u5cf487ea\" id=\"u5cf487ea\">注</span></strong><span data-lake-id=\"u69209184\" id=\"u69209184\">：除了此插件外，</span><a href=\"https://github.com/rozbo/hexo-abbrlink\" target=\"_blank\" data-lake-id=\"u370da748\" id=\"u370da748\"><span data-lake-id=\"u5d8e924b\" id=\"u5d8e924b\">hexo-abbrlink</span></a><span data-lake-id=\"u4998cf07\" id=\"u4998cf07\"> 插件也可以生成非中文的链接。</span></p></blockquote><p data-lake-id=\"uc493329d\" id=\"uc493329d\"><br></p><h3 data-lake-id=\"d913dca0\" id=\"d913dca0\"><span data-lake-id=\"u70895691\" id=\"u70895691\">文章字数统计插件（建议安装）</span></h3><p data-lake-id=\"uddaa964d\" id=\"uddaa964d\"><br></p><p data-lake-id=\"uae2875cd\" id=\"uae2875cd\"><span data-lake-id=\"uf4e80f4c\" id=\"uf4e80f4c\">如果你想要在文章中显示文章字数、阅读时长信息，可以安装 </span><a href=\"https://github.com/willin/hexo-wordcount\" target=\"_blank\" data-lake-id=\"uc47b6a8e\" id=\"uc47b6a8e\"><span data-lake-id=\"u39b3e5e8\" id=\"u39b3e5e8\">hexo-wordcount</span></a><span data-lake-id=\"u431723b1\" id=\"u431723b1\">插件。</span></p><p data-lake-id=\"u0995dfd8\" id=\"u0995dfd8\"><br></p><p data-lake-id=\"ue7e1c5a6\" id=\"ue7e1c5a6\"><span data-lake-id=\"u5e8fd811\" id=\"u5e8fd811\">安装命令如下：</span></p><p data-lake-id=\"u5d39786d\" id=\"u5d39786d\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20i%20--save%20hexo-wordcount%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%221b09e7db%22%7D\"></card><p data-lake-id=\"uebce8d66\" id=\"uebce8d66\"><br></p><p data-lake-id=\"u2117be37\" id=\"u2117be37\"><span data-lake-id=\"u14997cd2\" id=\"u14997cd2\">然后只需在本主题下的 </span><code data-lake-id=\"uf312e675\" id=\"uf312e675\"><span data-lake-id=\"u431c2518\" id=\"u431c2518\">_config.yml</span></code><span data-lake-id=\"u3405e5b6\" id=\"u3405e5b6\"> 文件中，将各个文章字数相关的配置激活即可：</span></p><p data-lake-id=\"ue441ffca\" id=\"ue441ffca\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22postInfo%3A%5Cn%20%20date%3A%20true%5Cn%20%20update%3A%20false%5Cn%20%20wordCount%3A%20false%20%23%20%E8%AE%BE%E7%BD%AE%E6%96%87%E7%AB%A0%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E4%B8%BA%20true.%5Cn%20%20totalCount%3A%20false%20%23%20%E8%AE%BE%E7%BD%AE%E7%AB%99%E7%82%B9%E6%96%87%E7%AB%A0%E6%80%BB%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E4%B8%BA%20true.%5Cn%20%20min2read%3A%20false%20%23%20%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF.%5Cn%20%20readCount%3A%20false%20%23%20%E9%98%85%E8%AF%BB%E6%AC%A1%E6%95%B0.%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2288a8614b%22%7D\"></card><p data-lake-id=\"u3db6dd2a\" id=\"u3db6dd2a\"><br></p><h3 data-lake-id=\"2a5faabd\" id=\"2a5faabd\"><span data-lake-id=\"u3d308e38\" id=\"u3d308e38\">添加emoji表情支持（可选的）</span></h3><p data-lake-id=\"u8903bf3a\" id=\"u8903bf3a\"><br></p><p data-lake-id=\"u8935248b\" id=\"u8935248b\"><span data-lake-id=\"u4a75a22a\" id=\"u4a75a22a\">本主题新增了对</span><code data-lake-id=\"u4b84e76b\" id=\"u4b84e76b\"><span data-lake-id=\"u02bd41f4\" id=\"u02bd41f4\">emoji</span></code><span data-lake-id=\"u08241b67\" id=\"u08241b67\">表情的支持，使用到了 </span><a href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\" target=\"_blank\" data-lake-id=\"u8fdeaaca\" id=\"u8fdeaaca\"><span data-lake-id=\"u32af0594\" id=\"u32af0594\">hexo-filter-github-emojis</span></a><span data-lake-id=\"u71bab4f7\" id=\"u71bab4f7\"> 的 Hexo 插件来支持 </span><code data-lake-id=\"u7008e341\" id=\"u7008e341\"><span data-lake-id=\"ub2c8c880\" id=\"ub2c8c880\">emoji</span></code><span data-lake-id=\"u1eb1a192\" id=\"u1eb1a192\">表情的生成，把对应的</span><code data-lake-id=\"uab95c363\" id=\"uab95c363\"><span data-lake-id=\"ua484a26e\" id=\"ua484a26e\">markdown emoji</span></code><span data-lake-id=\"u98b775a1\" id=\"u98b775a1\">语法（</span><code data-lake-id=\"ua4d7a4c3\" id=\"ua4d7a4c3\"><span data-lake-id=\"u56356347\" id=\"u56356347\">::</span></code><span data-lake-id=\"u60639064\" id=\"u60639064\">,例如：</span><code data-lake-id=\"u36e46c6a\" id=\"u36e46c6a\"><span data-lake-id=\"u794edab8\" id=\"u794edab8\">:smile:</span></code><span data-lake-id=\"u16a4e0ef\" id=\"u16a4e0ef\">）转变成会跳跃的</span><code data-lake-id=\"u55c973eb\" id=\"u55c973eb\"><span data-lake-id=\"u90a03dd3\" id=\"u90a03dd3\">emoji</span></code><span data-lake-id=\"u38432a5b\" id=\"u38432a5b\">表情，安装命令如下：</span></p><p data-lake-id=\"u37e2c0f7\" id=\"u37e2c0f7\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20install%20hexo-filter-github-emojis%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22059a943f%22%7D\"></card><p data-lake-id=\"u4e63b5e6\" id=\"u4e63b5e6\"><br></p><p data-lake-id=\"uec6e685a\" id=\"uec6e685a\"><span data-lake-id=\"ud84ed3ef\" id=\"ud84ed3ef\">在 Hexo 根目录下的 </span><code data-lake-id=\"ue261bdba\" id=\"ue261bdba\"><span data-lake-id=\"u42dc3570\" id=\"u42dc3570\">_config.yml</span></code><span data-lake-id=\"uce90a633\" id=\"uce90a633\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"u96a2df14\" id=\"u96a2df14\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22githubEmojis%3A%5Cn%20%20enable%3A%20true%5Cn%20%20className%3A%20github-emoji%5Cn%20%20inject%3A%20true%5Cn%20%20styles%3A%5Cn%20%20customEmojis%3A%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22f573d599%22%7D\"></card><p data-lake-id=\"ud392d8a2\" id=\"ud392d8a2\"><br></p><p data-lake-id=\"uaf2f848b\" id=\"uaf2f848b\"><span data-lake-id=\"u88c08a01\" id=\"u88c08a01\">执行 </span><code data-lake-id=\"u69bdd7ef\" id=\"u69bdd7ef\"><span data-lake-id=\"ufb8bdb22\" id=\"ufb8bdb22\">hexo clean &amp;&amp; hexo g</span></code><span data-lake-id=\"u3b128ddf\" id=\"u3b128ddf\"> 重新生成博客文件，然后就可以在文章中对应位置看到你用</span><code data-lake-id=\"u9df364b3\" id=\"u9df364b3\"><span data-lake-id=\"u4c9c5960\" id=\"u4c9c5960\">emoji</span></code><span data-lake-id=\"u20058442\" id=\"u20058442\">语法写的表情了。</span></p><p data-lake-id=\"u01f957ab\" id=\"u01f957ab\"><br></p><h3 data-lake-id=\"93a6c56a\" id=\"93a6c56a\"><span data-lake-id=\"u58f5782b\" id=\"u58f5782b\">添加 RSS 订阅支持（可选的）</span></h3><p data-lake-id=\"u3c6c1942\" id=\"u3c6c1942\"><br></p><p data-lake-id=\"u4ac018b1\" id=\"u4ac018b1\"><span data-lake-id=\"u0dbd9908\" id=\"u0dbd9908\">本主题中还使用到了 </span><a href=\"https://github.com/hexojs/hexo-generator-feed\" target=\"_blank\" data-lake-id=\"u1eba1665\" id=\"u1eba1665\"><span data-lake-id=\"uef8d5d1e\" id=\"uef8d5d1e\">hexo-generator-feed</span></a><span data-lake-id=\"u848b8c83\" id=\"u848b8c83\"> 的 Hexo 插件来做 </span><code data-lake-id=\"u9a3da841\" id=\"u9a3da841\"><span data-lake-id=\"ub432291c\" id=\"ub432291c\">RSS</span></code><span data-lake-id=\"u8df91e71\" id=\"u8df91e71\">，安装命令如下：</span></p><p data-lake-id=\"uf256a891\" id=\"uf256a891\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22npm%20install%20hexo-generator-feed%20--save%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%225053cdf9%22%7D\"></card><p data-lake-id=\"u1bb64213\" id=\"u1bb64213\"><br></p><p data-lake-id=\"u7e4698ba\" id=\"u7e4698ba\"><span data-lake-id=\"u4cb2d7e5\" id=\"u4cb2d7e5\">在 Hexo 根目录下的 </span><code data-lake-id=\"u2c99ade0\" id=\"u2c99ade0\"><span data-lake-id=\"udf37c434\" id=\"udf37c434\">_config.yml</span></code><span data-lake-id=\"uc4f0f2f0\" id=\"uc4f0f2f0\"> 文件中，新增以下的配置项：</span></p><p data-lake-id=\"u8e89796a\" id=\"u8e89796a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22feed%3A%5Cn%20%20type%3A%20atom%5Cn%20%20path%3A%20atom.xml%5Cn%20%20limit%3A%2020%5Cn%20%20hub%3A%5Cn%20%20content%3A%5Cn%20%20content_limit%3A%20140%5Cn%20%20content_limit_delim%3A%20'%20'%5Cn%20%20order_by%3A%20-date%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22c9f8aae9%22%7D\"></card><p data-lake-id=\"uc0f05af2\" id=\"uc0f05af2\"><br></p><p data-lake-id=\"uace16395\" id=\"uace16395\"><span data-lake-id=\"u02c6baa8\" id=\"u02c6baa8\">执行 </span><code data-lake-id=\"uab373efc\" id=\"uab373efc\"><span data-lake-id=\"u8154d262\" id=\"u8154d262\">hexo clean &amp;&amp; hexo g</span></code><span data-lake-id=\"u50e0ce68\" id=\"u50e0ce68\"> 重新生成博客文件，然后在 </span><code data-lake-id=\"u07e546c6\" id=\"u07e546c6\"><span data-lake-id=\"uff2b7d3e\" id=\"uff2b7d3e\">public</span></code><span data-lake-id=\"ub47837b5\" id=\"ub47837b5\"> 文件夹中即可看到 </span><code data-lake-id=\"u5bae33bd\" id=\"u5bae33bd\"><span data-lake-id=\"u68cd9d65\" id=\"u68cd9d65\">atom.xml</span></code><span data-lake-id=\"uf6eda1ee\" id=\"uf6eda1ee\"> 文件，说明你已经安装成功了。</span></p><p data-lake-id=\"u59b939a7\" id=\"u59b939a7\"><br></p><h3 data-lake-id=\"97dc6720\" id=\"97dc6720\"><span data-lake-id=\"u1c93db78\" id=\"u1c93db78\">添加 </span><a href=\"http://www.daovoice.io/\" target=\"_blank\" data-lake-id=\"u0689f55a\" id=\"u0689f55a\"><span data-lake-id=\"u19425d75\" id=\"u19425d75\">DaoVoice</span></a><span data-lake-id=\"u8f7b8442\" id=\"u8f7b8442\"> 在线聊天功能（可选的）</span></h3><p data-lake-id=\"u6ba8248c\" id=\"u6ba8248c\"><br></p><p data-lake-id=\"u9ba6c2c1\" id=\"u9ba6c2c1\"><span data-lake-id=\"u4b86ebae\" id=\"u4b86ebae\">前往 </span><a href=\"http://www.daovoice.io/\" target=\"_blank\" data-lake-id=\"u96236b2a\" id=\"u96236b2a\"><span data-lake-id=\"u73da600e\" id=\"u73da600e\">DaoVoice</span></a><span data-lake-id=\"ub0904a6c\" id=\"ub0904a6c\"> 官网注册并且获取 </span><code data-lake-id=\"ufc6fe71d\" id=\"ufc6fe71d\"><span data-lake-id=\"u9817d524\" id=\"u9817d524\">app_id</span></code><span data-lake-id=\"ud94e104a\" id=\"ud94e104a\">，并将 </span><code data-lake-id=\"udc5b64ee\" id=\"udc5b64ee\"><span data-lake-id=\"u6cb70751\" id=\"u6cb70751\">app_id</span></code><span data-lake-id=\"uee5639a9\" id=\"uee5639a9\"> 填入主题的 </span><code data-lake-id=\"u5b6b9f8e\" id=\"u5b6b9f8e\"><span data-lake-id=\"ucecf7553\" id=\"ucecf7553\">_config.yml</span></code><span data-lake-id=\"uf1ce8f0c\" id=\"uf1ce8f0c\"> 文件中。</span></p><p data-lake-id=\"ucc321545\" id=\"ucc321545\"><br></p><h3 data-lake-id=\"a4e75667\" id=\"a4e75667\"><span data-lake-id=\"uee9f6cce\" id=\"uee9f6cce\">添加 </span><a href=\"https://www.tidio.com/\" target=\"_blank\" data-lake-id=\"uade01e81\" id=\"uade01e81\"><span data-lake-id=\"uc85fa568\" id=\"uc85fa568\">Tidio</span></a><span data-lake-id=\"ud88c756e\" id=\"ud88c756e\"> 在线聊天功能（可选的）</span></h3><p data-lake-id=\"ua1338c52\" id=\"ua1338c52\"><br></p><p data-lake-id=\"uf8cd35b1\" id=\"uf8cd35b1\"><span data-lake-id=\"ub04abb69\" id=\"ub04abb69\">前往 </span><a href=\"https://www.tidio.com/\" target=\"_blank\" data-lake-id=\"u7c811e1c\" id=\"u7c811e1c\"><span data-lake-id=\"u4f8f104d\" id=\"u4f8f104d\">Tidio</span></a><span data-lake-id=\"u0b28eb46\" id=\"u0b28eb46\"> 官网注册并且获取 </span><code data-lake-id=\"u52359257\" id=\"u52359257\"><span data-lake-id=\"uc771201c\" id=\"uc771201c\">Public Key</span></code><span data-lake-id=\"u710981e6\" id=\"u710981e6\">，并将 </span><code data-lake-id=\"u01582c47\" id=\"u01582c47\"><span data-lake-id=\"u6ca3cf61\" id=\"u6ca3cf61\">Public Key</span></code><span data-lake-id=\"u1ec83dee\" id=\"u1ec83dee\"> 填入主题的 </span><code data-lake-id=\"ub24a582c\" id=\"ub24a582c\"><span data-lake-id=\"ud4c70a7e\" id=\"ud4c70a7e\">_config.yml</span></code><span data-lake-id=\"u89635019\" id=\"u89635019\"> 文件中。</span></p><p data-lake-id=\"uba30dc02\" id=\"uba30dc02\"><br></p><h3 data-lake-id=\"0cc7004f\" id=\"0cc7004f\"><span data-lake-id=\"ud8e15125\" id=\"ud8e15125\">修改页脚</span></h3><p data-lake-id=\"u1bd88406\" id=\"u1bd88406\"><br></p><p data-lake-id=\"ub51f5c72\" id=\"ub51f5c72\"><span data-lake-id=\"u7b1e33bc\" id=\"u7b1e33bc\">页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 </span><code data-lake-id=\"u4cdb7035\" id=\"u4cdb7035\"><span data-lake-id=\"ue767503e\" id=\"ue767503e\">/layout/_partial/footer.ejs</span></code><span data-lake-id=\"ub8a27e18\" id=\"ub8a27e18\"> 文件中，包括站点、使用的主题、访问量等。</span></p><p data-lake-id=\"u64935535\" id=\"u64935535\"><br></p><h3 data-lake-id=\"02c0f2fd\" id=\"02c0f2fd\"><span data-lake-id=\"u92bafc4b\" id=\"u92bafc4b\">修改社交链接</span></h3><p data-lake-id=\"ud00d1c03\" id=\"ud00d1c03\"><br></p><p data-lake-id=\"u34dcb1cd\" id=\"u34dcb1cd\"><span data-lake-id=\"ub7c273df\" id=\"ub7c273df\">在主题的 </span><code data-lake-id=\"u7c995ece\" id=\"u7c995ece\"><span data-lake-id=\"u9d2e2022\" id=\"u9d2e2022\">_config.yml</span></code><span data-lake-id=\"uf14d9c7a\" id=\"uf14d9c7a\"> 文件中，默认支持 </span><code data-lake-id=\"uda92d3c0\" id=\"uda92d3c0\"><span data-lake-id=\"u6ab01c45\" id=\"u6ab01c45\">QQ</span></code><span data-lake-id=\"ufa2c6f61\" id=\"ufa2c6f61\">、</span><code data-lake-id=\"uf51f9086\" id=\"uf51f9086\"><span data-lake-id=\"ue99cd938\" id=\"ue99cd938\">GitHub</span></code><span data-lake-id=\"uedafe585\" id=\"uedafe585\"> 和邮箱等的配置，你可以在主题文件的 </span><code data-lake-id=\"u10c95ecd\" id=\"u10c95ecd\"><span data-lake-id=\"u6ef87fc5\" id=\"u6ef87fc5\">/layout/_partial/social-link.ejs</span></code><span data-lake-id=\"u0f91d90d\" id=\"u0f91d90d\"> 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：</span></p><p data-lake-id=\"ubeaa1405\" id=\"ubeaa1405\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22html%22%2C%22code%22%3A%22%3C%25%20if%20(theme.socialLink.github)%20%7B%20%25%3E%5Cn%20%20%20%20%3Ca%20href%3D%5C%22%3C%25%3D%20theme.socialLink.github%20%25%3E%5C%22%20class%3D%5C%22tooltipped%5C%22%20target%3D%5C%22_blank%5C%22%20data-tooltip%3D%5C%22%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84GitHub%5C%22%20data-position%3D%5C%22top%5C%22%20data-delay%3D%5C%2250%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Ci%20class%3D%5C%22fab%20fa-github%5C%22%3E%3C%2Fi%3E%5Cn%20%20%20%20%3C%2Fa%3E%5Cn%3C%25%20%7D%20%25%3E%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%226731cc66%22%7D\"></card><p data-lake-id=\"u7ad08731\" id=\"u7ad08731\"><br></p><p data-lake-id=\"u61fe7224\" id=\"u61fe7224\"><span data-lake-id=\"u45896500\" id=\"u45896500\">其中，社交图标（如：</span><code data-lake-id=\"u7b539599\" id=\"u7b539599\"><span data-lake-id=\"u0e71a257\" id=\"u0e71a257\">fa-github</span></code><span data-lake-id=\"u2ec6f041\" id=\"u2ec6f041\">）你可以在 </span><a href=\"https://fontawesome.com/icons\" target=\"_blank\" data-lake-id=\"u4adf4d38\" id=\"u4adf4d38\"><span data-lake-id=\"u37b0297c\" id=\"u37b0297c\">Font Awesome</span></a><span data-lake-id=\"u9c2e5b67\" id=\"u9c2e5b67\"> 中搜索找到。以下是常用社交图标的标识，供你参考：</span></p><p data-lake-id=\"uf38dff5e\" id=\"uf38dff5e\"><br></p><ul list=\"ufef12b42\"><li fid=\"u3d5b73ec\" data-lake-id=\"ud6faccf7\" id=\"ud6faccf7\"><span data-lake-id=\"u1857fd8a\" id=\"u1857fd8a\">Facebook: </span><code data-lake-id=\"udab1d7bf\" id=\"udab1d7bf\"><span data-lake-id=\"u6e274629\" id=\"u6e274629\">fab fa-facebook</span></code></li></ul><ul list=\"u72526e6e\"><li fid=\"u7e8f39b4\" data-lake-id=\"ud2c29052\" id=\"ud2c29052\"><span data-lake-id=\"u63b1398b\" id=\"u63b1398b\">Twitter: </span><code data-lake-id=\"uc645ac41\" id=\"uc645ac41\"><span data-lake-id=\"u15ddc8fd\" id=\"u15ddc8fd\">fab fa-twitter</span></code></li></ul><ul list=\"u5728f90b\"><li fid=\"udeb31a04\" data-lake-id=\"ua2107516\" id=\"ua2107516\"><span data-lake-id=\"ua65a7607\" id=\"ua65a7607\">Google-plus: </span><code data-lake-id=\"ue6a12009\" id=\"ue6a12009\"><span data-lake-id=\"u0eb97a2a\" id=\"u0eb97a2a\">fab fa-google-plus</span></code></li></ul><ul list=\"u1630dd9d\"><li fid=\"u93ba1010\" data-lake-id=\"u8c2579b4\" id=\"u8c2579b4\"><span data-lake-id=\"ud258c2c3\" id=\"ud258c2c3\">Linkedin: </span><code data-lake-id=\"uf167d2c2\" id=\"uf167d2c2\"><span data-lake-id=\"udbb8cf6c\" id=\"udbb8cf6c\">fab fa-linkedin</span></code></li></ul><ul list=\"ub6ff1f4e\"><li fid=\"uee94fc23\" data-lake-id=\"u5929c734\" id=\"u5929c734\"><span data-lake-id=\"ua9cd2633\" id=\"ua9cd2633\">Tumblr: </span><code data-lake-id=\"u1fdde016\" id=\"u1fdde016\"><span data-lake-id=\"u154ab30c\" id=\"u154ab30c\">fab fa-tumblr</span></code></li></ul><ul list=\"ucf939e91\"><li fid=\"u2aad114e\" data-lake-id=\"u04b1916f\" id=\"u04b1916f\"><span data-lake-id=\"u831c7137\" id=\"u831c7137\">Medium: </span><code data-lake-id=\"u47aa0f89\" id=\"u47aa0f89\"><span data-lake-id=\"u158e32b4\" id=\"u158e32b4\">fab fa-medium</span></code></li></ul><ul list=\"uc5a9066f\"><li fid=\"u98c60a54\" data-lake-id=\"uc8b47783\" id=\"uc8b47783\"><span data-lake-id=\"u532108b3\" id=\"u532108b3\">Slack: </span><code data-lake-id=\"u2758517a\" id=\"u2758517a\"><span data-lake-id=\"u11701157\" id=\"u11701157\">fab fa-slack</span></code></li></ul><ul list=\"u7c8f8c7a\"><li fid=\"ude0786ee\" data-lake-id=\"uf854b8e2\" id=\"uf854b8e2\"><span data-lake-id=\"u92d856eb\" id=\"u92d856eb\">Sina Weibo: </span><code data-lake-id=\"u6bd446a1\" id=\"u6bd446a1\"><span data-lake-id=\"u6da7a4c4\" id=\"u6da7a4c4\">fab fa-weibo</span></code></li></ul><ul list=\"u93795701\"><li fid=\"uede08259\" data-lake-id=\"u593dd941\" id=\"u593dd941\"><span data-lake-id=\"u24d34166\" id=\"u24d34166\">Wechat: </span><code data-lake-id=\"u0fa9dbc4\" id=\"u0fa9dbc4\"><span data-lake-id=\"uf40d43e7\" id=\"uf40d43e7\">fab fa-weixin</span></code></li></ul><ul list=\"u4d012be7\"><li fid=\"u89853e95\" data-lake-id=\"u133aa5ed\" id=\"u133aa5ed\"><span data-lake-id=\"u91c49b48\" id=\"u91c49b48\">QQ: </span><code data-lake-id=\"ue6b048cb\" id=\"ue6b048cb\"><span data-lake-id=\"u1982a7dd\" id=\"u1982a7dd\">fab fa-qq</span></code></li></ul><ul list=\"u8b5e1c33\"><li fid=\"ud90c30e7\" data-lake-id=\"uf3d8f0ee\" id=\"uf3d8f0ee\"><span data-lake-id=\"u0840b4bb\" id=\"u0840b4bb\">Zhihu: </span><code data-lake-id=\"uebaea5a4\" id=\"uebaea5a4\"><span data-lake-id=\"u09b2f122\" id=\"u09b2f122\">fab fa-zhihu</span></code></li></ul><p data-lake-id=\"u1d9fc507\" id=\"u1d9fc507\"><br></p><blockquote data-lake-id=\"ua402383d\" id=\"ua402383d\"><p data-lake-id=\"u4af6d214\" id=\"u4af6d214\"><strong><span data-lake-id=\"ud77aad42\" id=\"ud77aad42\">注意</span></strong><span data-lake-id=\"uabdc1f26\" id=\"uabdc1f26\">: 本主题中使用的 </span><code data-lake-id=\"ubba3e14a\" id=\"ubba3e14a\"><span data-lake-id=\"u2897838b\" id=\"u2897838b\">Font Awesome</span></code><span data-lake-id=\"u20e8679d\" id=\"u20e8679d\"> 版本为 </span><code data-lake-id=\"u87cb5970\" id=\"u87cb5970\"><span data-lake-id=\"ue55691f0\" id=\"ue55691f0\">5.11.0</span></code><span data-lake-id=\"ude9782da\" id=\"ude9782da\">。</span></p></blockquote><p data-lake-id=\"u488c4ac3\" id=\"u488c4ac3\"><br></p><h3 data-lake-id=\"1ea40b9f\" id=\"1ea40b9f\"><span data-lake-id=\"u253a6ea9\" id=\"u253a6ea9\">修改打赏的二维码图片</span></h3><p data-lake-id=\"u6f0506b3\" id=\"u6f0506b3\"><br></p><p data-lake-id=\"ud73a45d3\" id=\"ud73a45d3\"><span data-lake-id=\"u5a48e6cb\" id=\"u5a48e6cb\">在主题文件的 </span><code data-lake-id=\"u580f03ce\" id=\"u580f03ce\"><span data-lake-id=\"ub4fca1e8\" id=\"ub4fca1e8\">source/medias/reward</span></code><span data-lake-id=\"uc2f18816\" id=\"uc2f18816\"> 文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。</span></p><p data-lake-id=\"u4aadb362\" id=\"u4aadb362\"><br></p><h3 data-lake-id=\"e979df71\" id=\"e979df71\"><span data-lake-id=\"ud6e63761\" id=\"ud6e63761\">配置音乐播放器（可选的）</span></h3><p data-lake-id=\"ub128e2b9\" id=\"ub128e2b9\"><br></p><p data-lake-id=\"udc1912d2\" id=\"udc1912d2\"><span data-lake-id=\"u8a1eb3e9\" id=\"u8a1eb3e9\">要支持音乐播放，在主题的 </span><code data-lake-id=\"u189837e8\" id=\"u189837e8\"><span data-lake-id=\"u2968c44d\" id=\"u2968c44d\">_config.yml</span></code><span data-lake-id=\"ubffc0df7\" id=\"ubffc0df7\"> 配置文件中激活music配置即可：</span></p><p data-lake-id=\"u569029f3\" id=\"u569029f3\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22%23%20%E6%98%AF%E5%90%A6%E5%9C%A8%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%E9%9F%B3%E4%B9%90%5Cnmusic%3A%5Cn%20%20enable%3A%20true%5Cn%20%20title%3A%20%20%20%20%20%5Ct%20%20%20%20%23%20%E9%9D%9E%E5%90%B8%E5%BA%95%E6%A8%A1%E5%BC%8F%E6%9C%89%E6%95%88%5Cn%20%20%20%20enable%3A%20true%5Cn%20%20%20%20show%3A%20%E5%90%AC%E5%90%AC%E9%9F%B3%E4%B9%90%5Cn%20%20server%3A%20netease%20%20%20%23%20require%20music%20platform%3A%20netease%2C%20tencent%2C%20kugou%2C%20xiami%2C%20baidu%5Cn%20%20type%3A%20playlist%20%20%20%20%23%20require%20song%2C%20playlist%2C%20album%2C%20search%2C%20artist%5Cn%20%20id%3A%20503838841%20%20%20%20%20%23%20require%20song%20id%20%2F%20playlist%20id%20%2F%20album%20id%20%2F%20search%20keyword%5Cn%20%20fixed%3A%20false%20%20%20%20%20%20%23%20%E5%BC%80%E5%90%AF%E5%90%B8%E5%BA%95%E6%A8%A1%E5%BC%8F%5Cn%20%20autoplay%3A%20false%20%20%20%23%20%E6%98%AF%E5%90%A6%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE%5Cn%20%20theme%3A%20'%2342b983'%5Cn%20%20loop%3A%20'all'%20%20%20%20%20%20%20%23%20%E9%9F%B3%E9%A2%91%E5%BE%AA%E7%8E%AF%E6%92%AD%E6%94%BE%2C%20%E5%8F%AF%E9%80%89%E5%80%BC%3A%20'all'%2C%20'one'%2C%20'none'%5Cn%20%20order%3A%20'random'%20%20%20%23%20%E9%9F%B3%E9%A2%91%E5%BE%AA%E7%8E%AF%E9%A1%BA%E5%BA%8F%2C%20%E5%8F%AF%E9%80%89%E5%80%BC%3A%20'list'%2C%20'random'%5Cn%20%20preload%3A%20'auto'%20%20%20%23%20%E9%A2%84%E5%8A%A0%E8%BD%BD%EF%BC%8C%E5%8F%AF%E9%80%89%E5%80%BC%3A%20'none'%2C%20'metadata'%2C%20'auto'%5Cn%20%20volume%3A%200.7%20%20%20%20%20%20%20%23%20%E9%BB%98%E8%AE%A4%E9%9F%B3%E9%87%8F%EF%BC%8C%E8%AF%B7%E6%B3%A8%E6%84%8F%E6%92%AD%E6%94%BE%E5%99%A8%E4%BC%9A%E8%AE%B0%E5%BF%86%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%EF%BC%8C%E7%94%A8%E6%88%B7%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE%E9%9F%B3%E9%87%8F%E5%90%8E%E9%BB%98%E8%AE%A4%E9%9F%B3%E9%87%8F%E5%8D%B3%E5%A4%B1%E6%95%88%5Cn%20%20listFolded%3A%20true%20%20%23%20%E5%88%97%E8%A1%A8%E9%BB%98%E8%AE%A4%E6%8A%98%E5%8F%A0%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2276ff3ec8%22%7D\"></card><p data-lake-id=\"u03721977\" id=\"u03721977\"><br></p><blockquote data-lake-id=\"u717b0280\" id=\"u717b0280\"><p data-lake-id=\"ua7572534\" id=\"ua7572534\"><code data-lake-id=\"ubb23fb13\" id=\"ubb23fb13\"><span data-lake-id=\"ue1160169\" id=\"ue1160169\">server</span></code><span data-lake-id=\"u1014d795\" id=\"u1014d795\">可选</span><code data-lake-id=\"u969c097e\" id=\"u969c097e\"><span data-lake-id=\"u78cbb448\" id=\"u78cbb448\">netease</span></code><span data-lake-id=\"u118095d2\" id=\"u118095d2\">（网易云音乐），</span><code data-lake-id=\"udbf889ea\" id=\"udbf889ea\"><span data-lake-id=\"ubb94d9c2\" id=\"ubb94d9c2\">tencent</span></code><span data-lake-id=\"u6d831691\" id=\"u6d831691\">（QQ音乐），</span><code data-lake-id=\"u4525c271\" id=\"u4525c271\"><span data-lake-id=\"u9c4989fd\" id=\"u9c4989fd\">kugou</span></code><span data-lake-id=\"ue8d77c28\" id=\"ue8d77c28\">（酷狗音乐），</span><code data-lake-id=\"ub79b4154\" id=\"ub79b4154\"><span data-lake-id=\"uc446fb8b\" id=\"uc446fb8b\">xiami</span></code><span data-lake-id=\"u14eb67a5\" id=\"u14eb67a5\">（虾米音乐），</span></p><p data-lake-id=\"ue4dc68b0\" id=\"ue4dc68b0\"><span data-lake-id=\"uacc037d9\" id=\"uacc037d9\"> </span></p><p data-lake-id=\"u3d4bccaf\" id=\"u3d4bccaf\"><code data-lake-id=\"ua2a63c2c\" id=\"ua2a63c2c\"><span data-lake-id=\"uf586403c\" id=\"uf586403c\">baidu</span></code><span data-lake-id=\"u3420b926\" id=\"u3420b926\">（百度音乐）。</span></p><p data-lake-id=\"u663ec405\" id=\"u663ec405\"><span data-lake-id=\"u7e28de47\" id=\"u7e28de47\"> </span></p><p data-lake-id=\"u6c3b645e\" id=\"u6c3b645e\"><code data-lake-id=\"u31ac8d5c\" id=\"u31ac8d5c\"><span data-lake-id=\"ue84a0c82\" id=\"ue84a0c82\">type</span></code><span data-lake-id=\"ubd395bdf\" id=\"ubd395bdf\">可选</span><code data-lake-id=\"ufb45528a\" id=\"ufb45528a\"><span data-lake-id=\"uc05912b9\" id=\"uc05912b9\">song</span></code><span data-lake-id=\"u44e7cbd9\" id=\"u44e7cbd9\">（歌曲），</span><code data-lake-id=\"ub84770e9\" id=\"ub84770e9\"><span data-lake-id=\"u0adab45d\" id=\"u0adab45d\">playlist</span></code><span data-lake-id=\"ufde28c45\" id=\"ufde28c45\">（歌单），</span><code data-lake-id=\"u53de0555\" id=\"u53de0555\"><span data-lake-id=\"ub9fb5110\" id=\"ub9fb5110\">album</span></code><span data-lake-id=\"u2077c943\" id=\"u2077c943\">（专辑），</span><code data-lake-id=\"u1d601eb8\" id=\"u1d601eb8\"><span data-lake-id=\"u90cd8c74\" id=\"u90cd8c74\">search</span></code><span data-lake-id=\"u89b474bc\" id=\"u89b474bc\">（搜索关键字），</span><code data-lake-id=\"ub205487d\" id=\"ub205487d\"><span data-lake-id=\"u4f696560\" id=\"u4f696560\">artist</span></code><span data-lake-id=\"ue50aad43\" id=\"ue50aad43\">（歌手）</span></p><p data-lake-id=\"ubbc45025\" id=\"ubbc45025\"><span data-lake-id=\"udf76b3f6\" id=\"udf76b3f6\"> </span></p><p data-lake-id=\"u14c884cd\" id=\"u14c884cd\"><code data-lake-id=\"uf784883e\" id=\"uf784883e\"><span data-lake-id=\"u3dd40e04\" id=\"u3dd40e04\">id</span></code><span data-lake-id=\"uacf25873\" id=\"uacf25873\">获取方法示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，浏览器地址栏后面会有一串数字，</span><code data-lake-id=\"u9f3916b0\" id=\"u9f3916b0\"><span data-lake-id=\"ub9e22297\" id=\"ub9e22297\">playlist</span></code><span data-lake-id=\"uc21b310b\" id=\"uc21b310b\">的</span><code data-lake-id=\"ud676613a\" id=\"ud676613a\"><span data-lake-id=\"ub35af853\" id=\"ub35af853\">id</span></code></p><p data-lake-id=\"ufbfea646\" id=\"ufbfea646\"><span data-lake-id=\"ue87115a5\" id=\"ue87115a5\"> </span></p><p data-lake-id=\"u362d0e3d\" id=\"u362d0e3d\"><span data-lake-id=\"ub950218a\" id=\"ub950218a\">即为这串数字。</span></p></blockquote><p data-lake-id=\"u2b52a998\" id=\"u2b52a998\"><br></p><h2 data-lake-id=\"c105517c\" id=\"c105517c\"><span data-lake-id=\"ue9ba9ebf\" id=\"ue9ba9ebf\">文章 Front-matter 介绍</span></h2><p data-lake-id=\"u6f9c7fb7\" id=\"u6f9c7fb7\"><br></p><h3 data-lake-id=\"1ac1f175\" id=\"1ac1f175\"><span data-lake-id=\"u370484ae\" id=\"u370484ae\">Front-matter 选项详解</span></h3><p data-lake-id=\"uff095cb3\" id=\"uff095cb3\"><br></p><p data-lake-id=\"u264a547d\" id=\"u264a547d\"><code data-lake-id=\"ub2665f0e\" id=\"ub2665f0e\"><span data-lake-id=\"u6b1377f2\" id=\"u6b1377f2\">Front-matter</span></code><span data-lake-id=\"u6ee70cbe\" id=\"u6ee70cbe\"> 选项中的所有内容均为</span><strong><span data-lake-id=\"ub01c7904\" id=\"ub01c7904\">非必填</span></strong><span data-lake-id=\"u02ac1efd\" id=\"u02ac1efd\">的。但我仍然建议至少填写 </span><code data-lake-id=\"ua4e01fa4\" id=\"ua4e01fa4\"><span data-lake-id=\"u3cca822b\" id=\"u3cca822b\">title</span></code><span data-lake-id=\"u15b3a452\" id=\"u15b3a452\"> 和 </span><code data-lake-id=\"u95352e93\" id=\"u95352e93\"><span data-lake-id=\"u11ece046\" id=\"u11ece046\">date</span></code><span data-lake-id=\"ubfeb8219\" id=\"ubfeb8219\"> 的值。</span></p><card type=\"block\" name=\"table\" value=\"data:%7B%22id%22%3A%222a022d38%22%2C%22rows%22%3A17%2C%22cols%22%3A3%2C%22html%22%3A%22%3Ctable%20data-lake-id%3D%5C%222a022d38%5C%22%20id%3D%5C%222a022d38%5C%22%20class%3D%5C%22lake-table%5C%22%20style%3D%5C%22width%3A%20750px%5C%22%3E%3Ccolgroup%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3Ccol%20width%3D%5C%22250%5C%22%3E%3C%2Fcolgroup%3E%3Ctbody%3E%3Ctr%20data-lake-id%3D%5C%22uf8d7a619%5C%22%20id%3D%5C%22uf8d7a619%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u40a40aa0%5C%22%20id%3D%5C%22u40a40aa0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u3bc0e560%5C%22%20id%3D%5C%22u3bc0e560%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5f77c6a3%5C%22%20id%3D%5C%22u5f77c6a3%5C%22%3E%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ubdb744e3%5C%22%20id%3D%5C%22ubdb744e3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2ee63a93%5C%22%20id%3D%5C%22u2ee63a93%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue6dcd22b%5C%22%20id%3D%5C%22ue6dcd22b%5C%22%3E%E9%BB%98%E8%AE%A4%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u97d64239%5C%22%20id%3D%5C%22u97d64239%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u675994c3%5C%22%20id%3D%5C%22u675994c3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u17dbee68%5C%22%20id%3D%5C%22u17dbee68%5C%22%3E%E6%8F%8F%E8%BF%B0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud35ccd1a%5C%22%20id%3D%5C%22ud35ccd1a%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u7aabed8f%5C%22%20id%3D%5C%22u7aabed8f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1f06b63f%5C%22%20id%3D%5C%22u1f06b63f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua055a174%5C%22%20id%3D%5C%22ua055a174%5C%22%3Etitle%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u07a0ec08%5C%22%20id%3D%5C%22u07a0ec08%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u719f5f2c%5C%22%20id%3D%5C%22u719f5f2c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub2b7a070%5C%22%20id%3D%5C%22ub2b7a070%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ubbe7196b%5C%22%20id%3D%5C%22ubbe7196b%5C%22%3EMarkdown%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uf152ba96%5C%22%20id%3D%5C%22uf152ba96%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8fb03656%5C%22%20id%3D%5C%22u8fb03656%5C%22%3E%20%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%87%E9%A2%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u73797221%5C%22%20id%3D%5C%22u73797221%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u92ebe5ec%5C%22%20id%3D%5C%22u92ebe5ec%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uafe53d06%5C%22%20id%3D%5C%22uafe53d06%5C%22%3E%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%EF%BC%8C%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%E5%A1%AB%E5%86%99%E6%AD%A4%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ue61df9c2%5C%22%20id%3D%5C%22ue61df9c2%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6a7a1533%5C%22%20id%3D%5C%22u6a7a1533%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uaed6a91a%5C%22%20id%3D%5C%22uaed6a91a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue91c7ec8%5C%22%20id%3D%5C%22ue91c7ec8%5C%22%3Edate%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u438d81f6%5C%22%20id%3D%5C%22u438d81f6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6ae3cde1%5C%22%20id%3D%5C%22u6ae3cde1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1c2a97ba%5C%22%20id%3D%5C%22u1c2a97ba%5C%22%3E%E6%96%87%E4%BB%B6%E5%88%9B%E5%BB%BA%E6%97%B6%E7%9A%84%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf0eba95c%5C%22%20id%3D%5C%22uf0eba95c%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1001c2be%5C%22%20id%3D%5C%22u1001c2be%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue99e9c03%5C%22%20id%3D%5C%22ue99e9c03%5C%22%3E%E5%8F%91%E5%B8%83%E6%97%B6%E9%97%B4%EF%BC%8C%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%E5%A1%AB%E5%86%99%E6%AD%A4%E9%80%89%E9%A1%B9%EF%BC%8C%E4%B8%94%E6%9C%80%E5%A5%BD%E4%BF%9D%E8%AF%81%E5%85%A8%E5%B1%80%E5%94%AF%E4%B8%80%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7ddfc3f9%5C%22%20id%3D%5C%22u7ddfc3f9%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u0ad298dc%5C%22%20id%3D%5C%22u0ad298dc%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue8b44023%5C%22%20id%3D%5C%22ue8b44023%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u2b594569%5C%22%20id%3D%5C%22u2b594569%5C%22%3Eauthor%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6518328f%5C%22%20id%3D%5C%22u6518328f%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8fc7855d%5C%22%20id%3D%5C%22u8fc7855d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u75a10bf3%5C%22%20id%3D%5C%22u75a10bf3%5C%22%3E%E6%A0%B9%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u1b879d69%5C%22%20id%3D%5C%22u1b879d69%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uac5764aa%5C%22%20id%3D%5C%22uac5764aa%5C%22%3E_config.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ud7e2ae2f%5C%22%20id%3D%5C%22ud7e2ae2f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue10c5b8f%5C%22%20id%3D%5C%22ue10c5b8f%5C%22%3E%20%E4%B8%AD%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u2c0bf86d%5C%22%20id%3D%5C%22u2c0bf86d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf502304f%5C%22%20id%3D%5C%22uf502304f%5C%22%3Eauthor%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uefa36258%5C%22%20id%3D%5C%22uefa36258%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u30013837%5C%22%20id%3D%5C%22u30013837%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u52dba603%5C%22%20id%3D%5C%22u52dba603%5C%22%3E%E6%96%87%E7%AB%A0%E4%BD%9C%E8%80%85%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ued4b9893%5C%22%20id%3D%5C%22ued4b9893%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uda32d29a%5C%22%20id%3D%5C%22uda32d29a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u70f7e42a%5C%22%20id%3D%5C%22u70f7e42a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0697e7a3%5C%22%20id%3D%5C%22u0697e7a3%5C%22%3Eimg%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5613dc68%5C%22%20id%3D%5C%22u5613dc68%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u92c67dc3%5C%22%20id%3D%5C%22u92c67dc3%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u28dc92d1%5C%22%20id%3D%5C%22u28dc92d1%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ud6802e60%5C%22%20id%3D%5C%22ud6802e60%5C%22%3EfeatureImages%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u3544f98e%5C%22%20id%3D%5C%22u3544f98e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u1a6b56be%5C%22%20id%3D%5C%22u1a6b56be%5C%22%3E%20%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%AA%E5%80%BC%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u096730f9%5C%22%20id%3D%5C%22u096730f9%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufefbd5b3%5C%22%20id%3D%5C%22ufefbd5b3%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3cf0c0a3%5C%22%20id%3D%5C%22u3cf0c0a3%5C%22%3E%E6%96%87%E7%AB%A0%E7%89%B9%E5%BE%81%E5%9B%BE%EF%BC%8C%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BA%8A(%E8%85%BE%E8%AE%AF%E4%BA%91%E3%80%81%E4%B8%83%E7%89%9B%E4%BA%91%E3%80%81%E5%8F%88%E6%8B%8D%E4%BA%91%E7%AD%89)%E6%9D%A5%E5%81%9A%E5%9B%BE%E7%89%87%E7%9A%84%E8%B7%AF%E5%BE%84.%E5%A6%82%3A%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u150804fe%5C%22%20id%3D%5C%22u150804fe%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9567cae4%5C%22%20id%3D%5C%22u9567cae4%5C%22%3Ehttp%3A%2F%2Fxxx.com%2Fxxx.jpg%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5fb6f27d%5C%22%20id%3D%5C%22u5fb6f27d%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uaf4120ad%5C%22%20id%3D%5C%22uaf4120ad%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc874850a%5C%22%20id%3D%5C%22uc874850a%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u90b9c8e9%5C%22%20id%3D%5C%22u90b9c8e9%5C%22%3Etop%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u09260dcf%5C%22%20id%3D%5C%22u09260dcf%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6fc57b3c%5C%22%20id%3D%5C%22u6fc57b3c%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22uf5666069%5C%22%20id%3D%5C%22uf5666069%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9e7655c3%5C%22%20id%3D%5C%22u9e7655c3%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u6c22c36b%5C%22%20id%3D%5C%22u6c22c36b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u8a440ffa%5C%22%20id%3D%5C%22u8a440ffa%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u810a8f7c%5C%22%20id%3D%5C%22u810a8f7c%5C%22%3E%E6%8E%A8%E8%8D%90%E6%96%87%E7%AB%A0%EF%BC%88%E6%96%87%E7%AB%A0%E6%98%AF%E5%90%A6%E7%BD%AE%E9%A1%B6%EF%BC%89%EF%BC%8C%E5%A6%82%E6%9E%9C%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u2c7d4d92%5C%22%20id%3D%5C%22u2c7d4d92%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u90e87b0d%5C%22%20id%3D%5C%22u90e87b0d%5C%22%3Etop%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u672bd5e8%5C%22%20id%3D%5C%22u672bd5e8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4f5fca7c%5C%22%20id%3D%5C%22u4f5fca7c%5C%22%3E%20%E5%80%BC%E4%B8%BA%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue4d26757%5C%22%20id%3D%5C%22ue4d26757%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8c64234e%5C%22%20id%3D%5C%22u8c64234e%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ud9c014f4%5C%22%20id%3D%5C%22ud9c014f4%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufe1731d1%5C%22%20id%3D%5C%22ufe1731d1%5C%22%3E%EF%BC%8C%E5%88%99%E4%BC%9A%E4%BD%9C%E4%B8%BA%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90%E6%96%87%E7%AB%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u33a046ae%5C%22%20id%3D%5C%22u33a046ae%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u52e02e59%5C%22%20id%3D%5C%22u52e02e59%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u7fff03d6%5C%22%20id%3D%5C%22u7fff03d6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4fd00d9d%5C%22%20id%3D%5C%22u4fd00d9d%5C%22%3Ehide%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u39665806%5C%22%20id%3D%5C%22u39665806%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uced8afea%5C%22%20id%3D%5C%22uced8afea%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u141e95c8%5C%22%20id%3D%5C%22u141e95c8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u53167fbc%5C%22%20id%3D%5C%22u53167fbc%5C%22%3Efalse%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uea1bc7ff%5C%22%20id%3D%5C%22uea1bc7ff%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uc8f594b9%5C%22%20id%3D%5C%22uc8f594b9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u070f2d19%5C%22%20id%3D%5C%22u070f2d19%5C%22%3E%E9%9A%90%E8%97%8F%E6%96%87%E7%AB%A0%EF%BC%8C%E5%A6%82%E6%9E%9C%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ua6510edd%5C%22%20id%3D%5C%22ua6510edd%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u51ba827b%5C%22%20id%3D%5C%22u51ba827b%5C%22%3Ehide%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u8be31a04%5C%22%20id%3D%5C%22u8be31a04%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue5e76371%5C%22%20id%3D%5C%22ue5e76371%5C%22%3E%E5%80%BC%E4%B8%BA%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ueb4968c5%5C%22%20id%3D%5C%22ueb4968c5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u655c31a4%5C%22%20id%3D%5C%22u655c31a4%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uf9052015%5C%22%20id%3D%5C%22uf9052015%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u18eb6293%5C%22%20id%3D%5C%22u18eb6293%5C%22%3E%EF%BC%8C%E5%88%99%E6%96%87%E7%AB%A0%E4%B8%8D%E4%BC%9A%E5%9C%A8%E9%A6%96%E9%A1%B5%E6%98%BE%E7%A4%BA%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ud73e5e1f%5C%22%20id%3D%5C%22ud73e5e1f%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u2952f38d%5C%22%20id%3D%5C%22u2952f38d%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u125b770f%5C%22%20id%3D%5C%22u125b770f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6180a368%5C%22%20id%3D%5C%22u6180a368%5C%22%3Ecover%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u066c3fff%5C%22%20id%3D%5C%22u066c3fff%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u41f7d515%5C%22%20id%3D%5C%22u41f7d515%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u0fa175ba%5C%22%20id%3D%5C%22u0fa175ba%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf7e867f4%5C%22%20id%3D%5C%22uf7e867f4%5C%22%3Efalse%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u83a33395%5C%22%20id%3D%5C%22u83a33395%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5d867467%5C%22%20id%3D%5C%22u5d867467%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22ub2a725ae%5C%22%20id%3D%5C%22ub2a725ae%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4f140c58%5C%22%20id%3D%5C%22u4f140c58%5C%22%3Ev1.0.2%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ua2248411%5C%22%20id%3D%5C%22ua2248411%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u755f705f%5C%22%20id%3D%5C%22u755f705f%5C%22%3E%E7%89%88%E6%9C%AC%E6%96%B0%E5%A2%9E%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%AF%A5%E6%96%87%E7%AB%A0%E6%98%AF%E5%90%A6%E9%9C%80%E8%A6%81%E5%8A%A0%E5%85%A5%E5%88%B0%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%B0%81%E9%9D%A2%E4%B8%AD%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u06567d3b%5C%22%20id%3D%5C%22u06567d3b%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uee131761%5C%22%20id%3D%5C%22uee131761%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf966d16d%5C%22%20id%3D%5C%22uf966d16d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u002fdb08%5C%22%20id%3D%5C%22u002fdb08%5C%22%3EcoverImg%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub46c9793%5C%22%20id%3D%5C%22ub46c9793%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf47ca700%5C%22%20id%3D%5C%22uf47ca700%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u72e7550c%5C%22%20id%3D%5C%22u72e7550c%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u675d5926%5C%22%20id%3D%5C%22u675d5926%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u465c3e41%5C%22%20id%3D%5C%22u465c3e41%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22udec1169d%5C%22%20id%3D%5C%22udec1169d%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u63443e66%5C%22%20id%3D%5C%22u63443e66%5C%22%3Ev1.0.2%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ufc3305a7%5C%22%20id%3D%5C%22ufc3305a7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u12349bf3%5C%22%20id%3D%5C%22u12349bf3%5C%22%3E%E7%89%88%E6%9C%AC%E6%96%B0%E5%A2%9E%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%AF%A5%E6%96%87%E7%AB%A0%E5%9C%A8%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%B0%81%E9%9D%A2%E9%9C%80%E8%A6%81%E6%98%BE%E7%A4%BA%E7%9A%84%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%EF%BC%8C%E5%88%99%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8%E6%96%87%E7%AB%A0%E7%9A%84%E7%89%B9%E8%89%B2%E5%9B%BE%E7%89%87%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u59aa01e8%5C%22%20id%3D%5C%22u59aa01e8%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22ufd94d2b3%5C%22%20id%3D%5C%22ufd94d2b3%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u81f4efee%5C%22%20id%3D%5C%22u81f4efee%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u809c8737%5C%22%20id%3D%5C%22u809c8737%5C%22%3Epassword%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uf066e1d5%5C%22%20id%3D%5C%22uf066e1d5%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud3fc32b9%5C%22%20id%3D%5C%22ud3fc32b9%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u27cc633b%5C%22%20id%3D%5C%22u27cc633b%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u5624e537%5C%22%20id%3D%5C%22u5624e537%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ufe55bcef%5C%22%20id%3D%5C%22ufe55bcef%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0ab6a5e6%5C%22%20id%3D%5C%22u0ab6a5e6%5C%22%3E%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E5%AF%86%E7%A0%81%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%A6%81%E5%AF%B9%E6%96%87%E7%AB%A0%E8%AE%BE%E7%BD%AE%E9%98%85%E8%AF%BB%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u01d0807b%5C%22%20id%3D%5C%22u01d0807b%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufdd026bb%5C%22%20id%3D%5C%22ufdd026bb%5C%22%3Epassword%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u8aa7af27%5C%22%20id%3D%5C%22u8aa7af27%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u0fe65c02%5C%22%20id%3D%5C%22u0fe65c02%5C%22%3E%20%E7%9A%84%E5%80%BC%EF%BC%8C%E8%AF%A5%E5%80%BC%E5%BF%85%E9%A1%BB%E6%98%AF%E7%94%A8%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ucbbaba24%5C%22%20id%3D%5C%22ucbbaba24%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u37ba83f6%5C%22%20id%3D%5C%22u37ba83f6%5C%22%3ESHA256%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u7d5b3755%5C%22%20id%3D%5C%22u7d5b3755%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf7f55076%5C%22%20id%3D%5C%22uf7f55076%5C%22%3E%20%E5%8A%A0%E5%AF%86%E5%90%8E%E7%9A%84%E5%AF%86%E7%A0%81%EF%BC%8C%E9%98%B2%E6%AD%A2%E8%A2%AB%E4%BB%96%E4%BA%BA%E8%AF%86%E7%A0%B4%E3%80%82%E5%89%8D%E6%8F%90%E6%98%AF%E5%9C%A8%E4%B8%BB%E9%A2%98%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u1c2133d0%5C%22%20id%3D%5C%22u1c2133d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u3432d7e1%5C%22%20id%3D%5C%22u3432d7e1%5C%22%3Econfig.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u34d62a42%5C%22%20id%3D%5C%22u34d62a42%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u79b86588%5C%22%20id%3D%5C%22u79b86588%5C%22%3E%20%E4%B8%AD%E6%BF%80%E6%B4%BB%E4%BA%86%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ue92f51ee%5C%22%20id%3D%5C%22ue92f51ee%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9a916ae1%5C%22%20id%3D%5C%22u9a916ae1%5C%22%3EverifyPassword%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uf32c6271%5C%22%20id%3D%5C%22uf32c6271%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf0775f99%5C%22%20id%3D%5C%22uf0775f99%5C%22%3E%20%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u5cc91db1%5C%22%20id%3D%5C%22u5cc91db1%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u02fb4ca8%5C%22%20id%3D%5C%22u02fb4ca8%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u60014343%5C%22%20id%3D%5C%22u60014343%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u71d369f8%5C%22%20id%3D%5C%22u71d369f8%5C%22%3Etoc%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u41e40a8e%5C%22%20id%3D%5C%22u41e40a8e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0a093cba%5C%22%20id%3D%5C%22u0a093cba%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u774a311f%5C%22%20id%3D%5C%22u774a311f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ue077aa7b%5C%22%20id%3D%5C%22ue077aa7b%5C%22%3Etrue%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u024814c6%5C%22%20id%3D%5C%22u024814c6%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u48f7c534%5C%22%20id%3D%5C%22u48f7c534%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uf4dc194c%5C%22%20id%3D%5C%22uf4dc194c%5C%22%3E%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%20TOC%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%92%88%E5%AF%B9%E6%9F%90%E7%AF%87%E6%96%87%E7%AB%A0%E5%8D%95%E7%8B%AC%E5%85%B3%E9%97%AD%20TOC%20%E7%9A%84%E5%8A%9F%E8%83%BD%E3%80%82%E5%89%8D%E6%8F%90%E6%98%AF%E5%9C%A8%E4%B8%BB%E9%A2%98%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u97ef2be6%5C%22%20id%3D%5C%22u97ef2be6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8bf0715d%5C%22%20id%3D%5C%22u8bf0715d%5C%22%3Econfig.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22uac5a03fb%5C%22%20id%3D%5C%22uac5a03fb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6cff8275%5C%22%20id%3D%5C%22u6cff8275%5C%22%3E%20%E4%B8%AD%E6%BF%80%E6%B4%BB%E4%BA%86%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u9d6fcd06%5C%22%20id%3D%5C%22u9d6fcd06%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u65e3b620%5C%22%20id%3D%5C%22u65e3b620%5C%22%3Etoc%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ua6084f68%5C%22%20id%3D%5C%22ua6084f68%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u02117c9d%5C%22%20id%3D%5C%22u02117c9d%5C%22%3E%20%E9%80%89%E9%A1%B9%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u2211c0b6%5C%22%20id%3D%5C%22u2211c0b6%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uffbb16bd%5C%22%20id%3D%5C%22uffbb16bd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uf25f61be%5C%22%20id%3D%5C%22uf25f61be%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u6b644029%5C%22%20id%3D%5C%22u6b644029%5C%22%3Emathjax%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u984a568e%5C%22%20id%3D%5C%22u984a568e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u261d0572%5C%22%20id%3D%5C%22u261d0572%5C%22%3E%3Ccode%20data-lake-id%3D%5C%22u1bcf2fb5%5C%22%20id%3D%5C%22u1bcf2fb5%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u12ab3e5d%5C%22%20id%3D%5C%22u12ab3e5d%5C%22%3Efalse%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uca52d232%5C%22%20id%3D%5C%22uca52d232%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0aac6efb%5C%22%20id%3D%5C%22u0aac6efb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22udf71cf6a%5C%22%20id%3D%5C%22udf71cf6a%5C%22%3E%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%94%AF%E6%8C%81%20%EF%BC%8C%E6%9C%AC%E6%96%87%E7%AB%A0%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22ud65d8c18%5C%22%20id%3D%5C%22ud65d8c18%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub3807e45%5C%22%20id%3D%5C%22ub3807e45%5C%22%3Emathjax%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22u28b72b92%5C%22%20id%3D%5C%22u28b72b92%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u8d3fd700%5C%22%20id%3D%5C%22u8d3fd700%5C%22%3E%EF%BC%8C%E4%B8%94%E9%9C%80%E8%A6%81%E5%9C%A8%E4%B8%BB%E9%A2%98%E7%9A%84%20%3C%2Fspan%3E%3Ccode%20data-lake-id%3D%5C%22u02a395c0%5C%22%20id%3D%5C%22u02a395c0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u51a87450%5C%22%20id%3D%5C%22u51a87450%5C%22%3E_config.yml%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fp%3E%3Cp%20data-lake-id%3D%5C%22ue8d10778%5C%22%20id%3D%5C%22ue8d10778%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ub8a5514f%5C%22%20id%3D%5C%22ub8a5514f%5C%22%3E%20%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B9%9F%E9%9C%80%E8%A6%81%E5%BC%80%E5%90%AF%E6%89%8D%E8%A1%8C%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u7f5a894b%5C%22%20id%3D%5C%22u7f5a894b%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22udc0f3f6b%5C%22%20id%3D%5C%22udc0f3f6b%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1d1af7d0%5C%22%20id%3D%5C%22u1d1af7d0%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u24ebe160%5C%22%20id%3D%5C%22u24ebe160%5C%22%3Esummary%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u661c7c44%5C%22%20id%3D%5C%22u661c7c44%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u2db2d8e7%5C%22%20id%3D%5C%22u2db2d8e7%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u386eec1c%5C%22%20id%3D%5C%22u386eec1c%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22uc30d634e%5C%22%20id%3D%5C%22uc30d634e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u6c817ddb%5C%22%20id%3D%5C%22u6c817ddb%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ucf046c64%5C%22%20id%3D%5C%22ucf046c64%5C%22%3E%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%86%85%E5%AE%B9%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%9C%89%E5%80%BC%EF%BC%8C%E6%96%87%E7%AB%A0%E5%8D%A1%E7%89%87%E6%91%98%E8%A6%81%E5%B0%B1%E6%98%BE%E7%A4%BA%E8%BF%99%E6%AE%B5%E6%96%87%E5%AD%97%EF%BC%8C%E5%90%A6%E5%88%99%E7%A8%8B%E5%BA%8F%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%88%AA%E5%8F%96%E6%96%87%E7%AB%A0%E7%9A%84%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9%E4%BD%9C%E4%B8%BA%E6%91%98%E8%A6%81%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u331577cf%5C%22%20id%3D%5C%22u331577cf%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u6f699941%5C%22%20id%3D%5C%22u6f699941%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue029f29c%5C%22%20id%3D%5C%22ue029f29c%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua57db0a8%5C%22%20id%3D%5C%22ua57db0a8%5C%22%3Ecategories%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u7aa646c0%5C%22%20id%3D%5C%22u7aa646c0%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ue84caca8%5C%22%20id%3D%5C%22ue84caca8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u5c37d08a%5C%22%20id%3D%5C%22u5c37d08a%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u82bdbd77%5C%22%20id%3D%5C%22u82bdbd77%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u599e842e%5C%22%20id%3D%5C%22u599e842e%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22uce937d22%5C%22%20id%3D%5C%22uce937d22%5C%22%3E%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%EF%BC%8C%E6%9C%AC%E4%B8%BB%E9%A2%98%E7%9A%84%E5%88%86%E7%B1%BB%E8%A1%A8%E7%A4%BA%E5%AE%8F%E8%A7%82%E4%B8%8A%E5%A4%A7%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%8C%E5%8F%AA%E5%BB%BA%E8%AE%AE%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%80%E4%B8%AA%E5%88%86%E7%B1%BB%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u00cd9a3c%5C%22%20id%3D%5C%22u00cd9a3c%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4d99a191%5C%22%20id%3D%5C%22u4d99a191%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u164e5377%5C%22%20id%3D%5C%22u164e5377%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ua7a26da7%5C%22%20id%3D%5C%22ua7a26da7%5C%22%3Etags%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22ub33200fd%5C%22%20id%3D%5C%22ub33200fd%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u0e765164%5C%22%20id%3D%5C%22u0e765164%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22ufe10db90%5C%22%20id%3D%5C%22ufe10db90%5C%22%3E%E6%97%A0%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u488fe8f1%5C%22%20id%3D%5C%22u488fe8f1%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ud19d38f6%5C%22%20id%3D%5C%22ud19d38f6%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u84fc8660%5C%22%20id%3D%5C%22u84fc8660%5C%22%3E%E6%96%87%E7%AB%A0%E6%A0%87%E7%AD%BE%EF%BC%8C%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E5%8F%AF%E4%BB%A5%E5%A4%9A%E4%B8%AA%E6%A0%87%E7%AD%BE%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22ub2bb6de5%5C%22%20id%3D%5C%22ub2bb6de5%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22u4f4e169e%5C%22%20id%3D%5C%22u4f4e169e%5C%22%3E%3Cp%20data-lake-id%3D%5C%22ubd3a6276%5C%22%20id%3D%5C%22ubd3a6276%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u9fe20a41%5C%22%20id%3D%5C%22u9fe20a41%5C%22%3Ekeywords%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u37fe353a%5C%22%20id%3D%5C%22u37fe353a%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u5b6071b8%5C%22%20id%3D%5C%22u5b6071b8%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u125d499b%5C%22%20id%3D%5C%22u125d499b%5C%22%3E%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u1345d7de%5C%22%20id%3D%5C%22u1345d7de%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u467a8448%5C%22%20id%3D%5C%22u467a8448%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u7c31c068%5C%22%20id%3D%5C%22u7c31c068%5C%22%3E%E6%96%87%E7%AB%A0%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%8CSEO%20%E6%97%B6%E9%9C%80%E8%A6%81%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3Ctr%20data-lake-id%3D%5C%22u95174272%5C%22%20id%3D%5C%22u95174272%5C%22%3E%3Ctd%20data-lake-id%3D%5C%22uf0a04368%5C%22%20id%3D%5C%22uf0a04368%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u1f686adf%5C%22%20id%3D%5C%22u1f686adf%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u73f590ce%5C%22%20id%3D%5C%22u73f590ce%5C%22%3EreprintPolicy%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u85b20a05%5C%22%20id%3D%5C%22u85b20a05%5C%22%3E%3Cp%20data-lake-id%3D%5C%22u77bf6092%5C%22%20id%3D%5C%22u77bf6092%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u051dab30%5C%22%20id%3D%5C%22u051dab30%5C%22%3Ecc_by%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3Ctd%20data-lake-id%3D%5C%22u302505bb%5C%22%20id%3D%5C%22u302505bb%5C%22%3E%3Cp%20data-lake-id%3D%5C%22uaca1a01f%5C%22%20id%3D%5C%22uaca1a01f%5C%22%3E%3Cspan%20data-lake-id%3D%5C%22u4a89a4cd%5C%22%20id%3D%5C%22u4a89a4cd%5C%22%3E%E6%96%87%E7%AB%A0%E8%BD%AC%E8%BD%BD%E8%A7%84%E5%88%99%EF%BC%8C%20%E5%8F%AF%E4%BB%A5%E6%98%AF%20cc_by%2C%20cc_by_nd%2C%20cc_by_sa%2C%20cc_by_nc%2C%20cc_by_nc_nd%2C%20cc_by_nc_sa%2C%20cc0%2C%20noreprint%20%E6%88%96%20pay%20%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%3C%2Fspan%3E%3C%2Fp%3E%3C%2Ftd%3E%3C%2Ftr%3E%3C%2Ftbody%3E%3C%2Ftable%3E%22%2C%22margin%22%3Atrue%7D\"></card><p data-lake-id=\"u41b8773f\" id=\"u41b8773f\"><br></p><blockquote data-lake-id=\"ud0d9d6f1\" id=\"ud0d9d6f1\"><p data-lake-id=\"u6cd1ed2a\" id=\"u6cd1ed2a\"><strong><span data-lake-id=\"u648fdc42\" id=\"u648fdc42\">注意</span></strong><span data-lake-id=\"u4a8eabaa\" id=\"u4a8eabaa\">:</span></p><p data-lake-id=\"u7c249378\" id=\"u7c249378\"><span data-lake-id=\"ucf3f3751\" id=\"ucf3f3751\"> </span></p><ol list=\"u779f7750\"><li fid=\"u53b02065\" data-lake-id=\"u772b4f85\" id=\"u772b4f85\"><span data-lake-id=\"u11eb2520\" id=\"u11eb2520\">如果 </span><code data-lake-id=\"u2be4466e\" id=\"u2be4466e\"><span data-lake-id=\"ufcbe988a\" id=\"ufcbe988a\">img</span></code><span data-lake-id=\"u4a32fc1e\" id=\"u4a32fc1e\"> 属性不填写的话，文章特色图会根据文章标题的 </span><code data-lake-id=\"udf96b1b4\" id=\"udf96b1b4\"><span data-lake-id=\"uf7758449\" id=\"uf7758449\">hashcode</span></code><span data-lake-id=\"u394214aa\" id=\"u394214aa\"> 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章的特色图</span><strong><span data-lake-id=\"u5949deb9\" id=\"u5949deb9\">各有特色</span></strong><span data-lake-id=\"u4d8b2ac0\" id=\"u4d8b2ac0\">。</span></li></ol><ol list=\"u7b5139f6\" start=\"2\"><li fid=\"uf7841830\" data-lake-id=\"u7932899f\" id=\"u7932899f\"><code data-lake-id=\"u16324cce\" id=\"u16324cce\"><span data-lake-id=\"u21678341\" id=\"u21678341\">date</span></code><span data-lake-id=\"u4445a791\" id=\"u4445a791\"> 的值尽量保证每篇文章是唯一的，因为本主题中 </span><code data-lake-id=\"u67bf864e\" id=\"u67bf864e\"><span data-lake-id=\"u7b69c396\" id=\"u7b69c396\">Gitalk</span></code><span data-lake-id=\"u6fec32aa\" id=\"u6fec32aa\"> 和 </span><code data-lake-id=\"u7f069866\" id=\"u7f069866\"><span data-lake-id=\"u8645ae40\" id=\"u8645ae40\">Gitment</span></code><span data-lake-id=\"ua6834fda\" id=\"ua6834fda\"> 识别 </span><code data-lake-id=\"u5713c47d\" id=\"u5713c47d\"><span data-lake-id=\"uddca6ff0\" id=\"uddca6ff0\">id</span></code><span data-lake-id=\"u4010ed60\" id=\"u4010ed60\"> 是通过 </span><code data-lake-id=\"u683ec600\" id=\"u683ec600\"><span data-lake-id=\"u38f109bc\" id=\"u38f109bc\">date</span></code><span data-lake-id=\"u8ac3f269\" id=\"u8ac3f269\"> 的值来作为唯一标识的。</span></li></ol><ol list=\"ub67c3fd2\" start=\"3\"><li fid=\"uc844e40d\" data-lake-id=\"ue541e540\" id=\"ue541e540\"><span data-lake-id=\"udd16be60\" id=\"udd16be60\">如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 </span><code data-lake-id=\"ub6cfa500\" id=\"ub6cfa500\"><span data-lake-id=\"ua942c02e\" id=\"ua942c02e\">_config.yml</span></code><span data-lake-id=\"u32bcd0f2\" id=\"u32bcd0f2\"> 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：</span><a href=\"http://tool.oschina.net/encrypt?type=2\" target=\"_blank\" data-lake-id=\"u266f571a\" id=\"u266f571a\"><span data-lake-id=\"u8f41f018\" id=\"u8f41f018\">开源中国在线工具</span></a><span data-lake-id=\"ub74eee06\" id=\"ub74eee06\">、</span><a href=\"http://encode.chahuo.com/\" target=\"_blank\" data-lake-id=\"ud1d3a1b7\" id=\"ud1d3a1b7\"><span data-lake-id=\"u7df1612b\" id=\"u7df1612b\">chahuo</span></a><span data-lake-id=\"u5e7487c7\" id=\"u5e7487c7\">、</span><a href=\"http://tool.chinaz.com/tools/hash.aspx\" target=\"_blank\" data-lake-id=\"u17e8d6ec\" id=\"u17e8d6ec\"><span data-lake-id=\"ua0b7314c\" id=\"ua0b7314c\">站长工具</span></a><span data-lake-id=\"uf01c02b0\" id=\"uf01c02b0\">。</span></li></ol><ol list=\"udeafbd25\" start=\"4\"><li fid=\"u38a05cc1\" data-lake-id=\"ubf64fc3f\" id=\"ubf64fc3f\"><span data-lake-id=\"u870dbb07\" id=\"u870dbb07\">您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则</span></li></ol><p data-lake-id=\"u8ab0e825\" id=\"u8ab0e825\"><span data-lake-id=\"u0e4db6ae\" id=\"u0e4db6ae\"> </span></p></blockquote><p data-lake-id=\"u09d2b366\" id=\"u09d2b366\"><br></p><p data-lake-id=\"ud964ca74\" id=\"ud964ca74\"><span data-lake-id=\"u41d7fbac\" id=\"u41d7fbac\">以下为文章的 </span><code data-lake-id=\"u9c9e5262\" id=\"u9c9e5262\"><span data-lake-id=\"u4b63ece2\" id=\"u4b63ece2\">Front-matter</span></code><span data-lake-id=\"uc9c7fb4b\" id=\"uc9c7fb4b\"> 示例。</span></p><p data-lake-id=\"ud183c128\" id=\"ud183c128\"><br></p><h3 data-lake-id=\"acc8fdeb\" id=\"acc8fdeb\"><span data-lake-id=\"u29d638f9\" id=\"u29d638f9\">最简示例</span></h3><p data-lake-id=\"ub1f4a413\" id=\"ub1f4a413\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20typora-vue-theme%E4%B8%BB%E9%A2%98%E4%BB%8B%E7%BB%8D%5Cndate%3A%202018-09-07%2009%3A25%3A00%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2249910120%22%7D\"></card><p data-lake-id=\"uad48b4ee\" id=\"uad48b4ee\"><br></p><h3 data-lake-id=\"d65a0c85\" id=\"d65a0c85\"><span data-lake-id=\"ub81c1c48\" id=\"ub81c1c48\">最全示例</span></h3><p data-lake-id=\"ub4de882a\" id=\"ub4de882a\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22yaml%22%2C%22code%22%3A%22---%5Cntitle%3A%20typora-vue-theme%E4%B8%BB%E9%A2%98%E4%BB%8B%E7%BB%8D%5Cndate%3A%202018-09-07%2009%3A25%3A00%5Cnauthor%3A%20%E8%B5%B5%E5%A5%87%5Cnimg%3A%20%2Fsource%2Fimages%2Fxxx.jpg%5Cntop%3A%20true%5Cnhide%3A%20false%5Cncover%3A%20true%5CncoverImg%3A%20%2Fimages%2F1.jpg%5Cnpassword%3A%208d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92%5Cntoc%3A%20false%5Cnmathjax%3A%20false%5Cnsummary%3A%20%E8%BF%99%E6%98%AF%E4%BD%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%86%85%E5%AE%B9%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%9C%89%E5%80%BC%EF%BC%8C%E6%96%87%E7%AB%A0%E5%8D%A1%E7%89%87%E6%91%98%E8%A6%81%E5%B0%B1%E6%98%BE%E7%A4%BA%E8%BF%99%E6%AE%B5%E6%96%87%E5%AD%97%EF%BC%8C%E5%90%A6%E5%88%99%E7%A8%8B%E5%BA%8F%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%88%AA%E5%8F%96%E6%96%87%E7%AB%A0%E7%9A%84%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9%E4%BD%9C%E4%B8%BA%E6%91%98%E8%A6%81%5Cncategories%3A%20Markdown%5Cntags%3A%5Cn%20%20-%20Typora%5Cn%20%20-%20Markdown%5Cn---%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%2209ceb3ea%22%7D\"></card><p data-lake-id=\"u080c1dc1\" id=\"u080c1dc1\"><br></p><h2 data-lake-id=\"d01e1d9f\" id=\"d01e1d9f\"><span data-lake-id=\"uc68f2375\" id=\"uc68f2375\">效果截图</span></h2><p data-lake-id=\"u27c4eb68\" id=\"u27c4eb68\"><br></p><p data-lake-id=\"u8bd2daaf\" id=\"u8bd2daaf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1280%2C%22originHeight%22%3A616%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22Vdjjt%22%7D\"></card></p><p data-lake-id=\"uf194e5bc\" id=\"uf194e5bc\"><br></p><p data-lake-id=\"u2cb89dbf\" id=\"u2cb89dbf\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1280%2C%22originHeight%22%3A799%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22nG9fd%22%7D\"></card></p><p data-lake-id=\"u9d88f83e\" id=\"u9d88f83e\"><br></p><p data-lake-id=\"u1943a9d9\" id=\"u1943a9d9\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-3.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1277%2C%22originHeight%22%3A791%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22UAEeA%22%7D\"></card></p><p data-lake-id=\"ua85108ed\" id=\"ua85108ed\"><br></p><p data-lake-id=\"ua12e62c8\" id=\"ua12e62c8\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-7.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1265%2C%22originHeight%22%3A755%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22SdiVz%22%7D\"></card></p><p data-lake-id=\"u82209149\" id=\"u82209149\"><br></p><p data-lake-id=\"ufc3dbbea\" id=\"ufc3dbbea\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fstatic.blinkfox.com%2Fmatery-20181202-8.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A1278%2C%22originHeight%22%3A751%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22id%22%3A%22cSOUu%22%7D\"></card></p><p data-lake-id=\"u351a5634\" id=\"u351a5634\"><br></p><h2 data-lake-id=\"68ec7375\" id=\"68ec7375\"><span data-lake-id=\"u77e1ddf5\" id=\"u77e1ddf5\">自定制修改</span></h2><p data-lake-id=\"u3aea40c1\" id=\"u3aea40c1\"><br></p><p data-lake-id=\"u03dc80d7\" id=\"u03dc80d7\"><span data-lake-id=\"u144ecd46\" id=\"u144ecd46\">在本主题的 </span><code data-lake-id=\"uc102bb58\" id=\"uc102bb58\"><span data-lake-id=\"ubf07033c\" id=\"ubf07033c\">_config.yml</span></code><span data-lake-id=\"u7f1d7c03\" id=\"u7f1d7c03\"> 中可以修改部分自定义信息，有以下几个部分：</span></p><p data-lake-id=\"uc9899d54\" id=\"uc9899d54\"><br></p><ul list=\"u5894c3c2\"><li fid=\"ud929e3e6\" data-lake-id=\"u3b79abc9\" id=\"u3b79abc9\"><span data-lake-id=\"u8c5b6082\" id=\"u8c5b6082\">菜单</span></li></ul><ul list=\"ucd936570\"><li fid=\"uc74991d6\" data-lake-id=\"u1ba44b5b\" id=\"u1ba44b5b\"><span data-lake-id=\"u4be1f203\" id=\"u4be1f203\">我的梦想</span></li></ul><ul list=\"u9a7c1447\"><li fid=\"u0b5667d1\" data-lake-id=\"u354a4bfd\" id=\"u354a4bfd\"><span data-lake-id=\"u5b0b6771\" id=\"u5b0b6771\">首页的音乐播放器和视频播放器配置</span></li></ul><ul list=\"uba2b90e7\"><li fid=\"u82d5fa0e\" data-lake-id=\"uc2806479\" id=\"uc2806479\"><span data-lake-id=\"u643d3237\" id=\"u643d3237\">是否显示推荐文章名称和按钮配置</span></li></ul><ul list=\"u2a528acc\"><li fid=\"uda85f52f\" data-lake-id=\"ud37d3f01\" id=\"ud37d3f01\"><code data-lake-id=\"ua84cc8a0\" id=\"ua84cc8a0\"><span data-lake-id=\"u0d863086\" id=\"u0d863086\">favicon</span></code><span data-lake-id=\"ud535045d\" id=\"ud535045d\"> 和 </span><code data-lake-id=\"ufa884694\" id=\"ufa884694\"><span data-lake-id=\"u02b1b4bd\" id=\"u02b1b4bd\">Logo</span></code></li></ul><ul list=\"u9ba42b36\"><li fid=\"uc04863af\" data-lake-id=\"u5af2e8c9\" id=\"u5af2e8c9\"><span data-lake-id=\"uf94e32c5\" id=\"uf94e32c5\">个人信息</span></li></ul><ul list=\"u33ef8306\"><li fid=\"u05d78494\" data-lake-id=\"ueead241a\" id=\"ueead241a\"><span data-lake-id=\"u6f8e8721\" id=\"u6f8e8721\">TOC 目录</span></li></ul><ul list=\"uc34cb62f\"><li fid=\"uf6a5b415\" data-lake-id=\"u07181950\" id=\"u07181950\"><span data-lake-id=\"u30baf11f\" id=\"u30baf11f\">文章打赏信息</span></li></ul><ul list=\"u7f6474b1\"><li fid=\"udb8b29f7\" data-lake-id=\"u464d2439\" id=\"u464d2439\"><span data-lake-id=\"u57592a78\" id=\"u57592a78\">复制文章内容时追加版权信息</span></li></ul><ul list=\"uc34b51d9\"><li fid=\"u505053fb\" data-lake-id=\"ubfdb9765\" id=\"ubfdb9765\"><span data-lake-id=\"u17861492\" id=\"u17861492\">MathJax</span></li></ul><ul list=\"ubf18bcea\"><li fid=\"ub180cd45\" data-lake-id=\"u5bb675e9\" id=\"u5bb675e9\"><span data-lake-id=\"u3eabf435\" id=\"u3eabf435\">文章字数统计、阅读时长</span></li></ul><ul list=\"ue6efab60\"><li fid=\"u2fac904b\" data-lake-id=\"u30224fce\" id=\"u30224fce\"><span data-lake-id=\"u1f3366e6\" id=\"u1f3366e6\">点击页面的'爱心'效果</span></li></ul><ul list=\"uf2654213\"><li fid=\"u31f6b239\" data-lake-id=\"u00520467\" id=\"u00520467\"><span data-lake-id=\"uf6dc43df\" id=\"uf6dc43df\">我的项目</span></li></ul><ul list=\"ub44626ea\"><li fid=\"ufff543ef\" data-lake-id=\"uf92fa5c1\" id=\"uf92fa5c1\"><span data-lake-id=\"ue6154af2\" id=\"ue6154af2\">我的技能</span></li></ul><ul list=\"u6a7b651b\"><li fid=\"u9b10b24f\" data-lake-id=\"ue570f2fd\" id=\"ue570f2fd\"><span data-lake-id=\"ue670ae1e\" id=\"ue670ae1e\">我的相册</span></li></ul><ul list=\"u21b9d07d\"><li fid=\"u31712f66\" data-lake-id=\"u671878f4\" id=\"u671878f4\"><code data-lake-id=\"u1b2b9e41\" id=\"u1b2b9e41\"><span data-lake-id=\"uc7abdf65\" id=\"uc7abdf65\">Gitalk</span></code><span data-lake-id=\"u83968806\" id=\"u83968806\">、</span><code data-lake-id=\"ub3ea6392\" id=\"ub3ea6392\"><span data-lake-id=\"ud21d41e1\" id=\"ud21d41e1\">Gitment</span></code><span data-lake-id=\"u852cc514\" id=\"u852cc514\">、</span><code data-lake-id=\"uec9face1\" id=\"uec9face1\"><span data-lake-id=\"u3ab20f0e\" id=\"u3ab20f0e\">Valine</span></code><span data-lake-id=\"ude12209b\" id=\"ude12209b\"> 和 </span><code data-lake-id=\"u9d7e0fff\" id=\"u9d7e0fff\"><span data-lake-id=\"u8ae9b2d0\" id=\"u8ae9b2d0\">disqus</span></code><span data-lake-id=\"u4d6dbe3a\" id=\"u4d6dbe3a\"> 评论配置</span></li></ul><ul list=\"ua58a3a1e\"><li fid=\"u6b1f1f0d\" data-lake-id=\"u02d2e610\" id=\"u02d2e610\"><a href=\"http://busuanzi.ibruce.info/\" target=\"_blank\" data-lake-id=\"u6148aa21\" id=\"u6148aa21\"><span data-lake-id=\"u6b54be2c\" id=\"u6b54be2c\">不蒜子统计</span></a><span data-lake-id=\"u40df4791\" id=\"u40df4791\">和谷歌分析（</span><code data-lake-id=\"ua91a6edc\" id=\"ua91a6edc\"><span data-lake-id=\"u6086259c\" id=\"u6086259c\">Google Analytics</span></code><span data-lake-id=\"u53a7a3a7\" id=\"u53a7a3a7\">）</span></li></ul><ul list=\"u03dcc30e\"><li fid=\"u1d4573c1\" data-lake-id=\"uf93b2644\" id=\"uf93b2644\"><span data-lake-id=\"u509092fa\" id=\"u509092fa\">默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 </span><code data-lake-id=\"u958fd2a0\" id=\"u958fd2a0\"><span data-lake-id=\"u9eb812f3\" id=\"u9eb812f3\">hashcode</span></code><span data-lake-id=\"u2104ded6\" id=\"u2104ded6\"> 值取余，来选择展示对应的特色图</span></li></ul><p data-lake-id=\"u693fd7a0\" id=\"u693fd7a0\"><br></p><p data-lake-id=\"ubb1e3a1a\" id=\"ubb1e3a1a\"><strong><span data-lake-id=\"u53b19634\" id=\"u53b19634\">我认为个人博客应该都有自己的风格和特色</span></strong><span data-lake-id=\"ud8255521\" id=\"ud8255521\">。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的 </span><code data-lake-id=\"u25346c8d\" id=\"u25346c8d\"><span data-lake-id=\"uf8a7c4a8\" id=\"uf8a7c4a8\">_config.yml</span></code><span data-lake-id=\"ua180bb00\" id=\"ua180bb00\"> 中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：</span></p><p data-lake-id=\"u6db73004\" id=\"u6db73004\"><br></p><h3 data-lake-id=\"eae5850e\" id=\"eae5850e\"><span data-lake-id=\"u76431178\" id=\"u76431178\">修改主题颜色</span></h3><p data-lake-id=\"ufb440692\" id=\"ufb440692\"><br></p><p data-lake-id=\"u6281cb65\" id=\"u6281cb65\"><span data-lake-id=\"ubb9ca9e0\" id=\"ubb9ca9e0\">在主题文件的 </span><code data-lake-id=\"u582ec7d1\" id=\"u582ec7d1\"><span data-lake-id=\"u2d11c0c5\" id=\"u2d11c0c5\">/source/css/matery.css</span></code><span data-lake-id=\"u5790be57\" id=\"u5790be57\"> 文件中，搜索 </span><code data-lake-id=\"ubd198d5b\" id=\"ubd198d5b\"><span data-lake-id=\"uabcda99d\" id=\"uabcda99d\">.bg-color</span></code><span data-lake-id=\"u2520efad\" id=\"u2520efad\"> 来修改背景颜色：</span></p><p data-lake-id=\"u70dbb199\" id=\"u70dbb199\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22css%22%2C%22code%22%3A%22%2F*%20%E6%95%B4%E4%BD%93%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%AF%BC%E8%88%AA%E3%80%81%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%9A%84%E5%AF%BC%E8%88%AA%E3%80%81%E9%A1%B5%E5%B0%BE%E3%80%81%E6%A0%87%E7%AD%BE%E9%A1%B5%E7%AD%89%E7%9A%84%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2.%20*%2F%5Cn.bg-color%20%7B%5Cn%20%20%20%20background-image%3A%20linear-gradient(to%20right%2C%20%234cbf30%200%25%2C%20%230f9d58%20100%25)%3B%5Cn%7D%5Cn%5Cn%40-webkit-keyframes%20rainbow%20%7B%5Cn%20%20%20%2F*%20%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2.%20*%2F%5Cn%7D%5Cn%5Cn%40keyframes%20rainbow%20%7B%5Cn%20%20%20%20%2F*%20%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2.%20*%2F%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22e990e251%22%7D\"></card><p data-lake-id=\"uc4e16e23\" id=\"uc4e16e23\"><br></p><h3 data-lake-id=\"f06f3b27\" id=\"f06f3b27\"><span data-lake-id=\"u59a1f6f4\" id=\"u59a1f6f4\">修改 banner 图和文章特色图</span></h3><p data-lake-id=\"u8b917ffb\" id=\"u8b917ffb\"><br></p><p data-lake-id=\"u97102c19\" id=\"u97102c19\"><span data-lake-id=\"u947876cf\" id=\"u947876cf\">你可以直接在 </span><code data-lake-id=\"ued4e7a0a\" id=\"ued4e7a0a\"><span data-lake-id=\"ub1380fb8\" id=\"ub1380fb8\">/source/medias/banner</span></code><span data-lake-id=\"ua0464205\" id=\"ua0464205\"> 文件夹中更换你喜欢的 </span><code data-lake-id=\"u451411d0\" id=\"u451411d0\"><span data-lake-id=\"ua4435c2e\" id=\"ua4435c2e\">banner</span></code><span data-lake-id=\"u84957521\" id=\"u84957521\"> 图片，主题代码中是每天动态切换一张，只需 </span><code data-lake-id=\"ua1072eef\" id=\"ua1072eef\"><span data-lake-id=\"u5d19a965\" id=\"u5d19a965\">7</span></code><span data-lake-id=\"u3f7f50ee\" id=\"u3f7f50ee\"> 张即可。如果你会 </span><code data-lake-id=\"u375ab082\" id=\"u375ab082\"><span data-lake-id=\"ub6386dbc\" id=\"ub6386dbc\">JavaScript</span></code><span data-lake-id=\"u9b4e2d7c\" id=\"u9b4e2d7c\"> 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，</span><code data-lake-id=\"u182df4fb\" id=\"u182df4fb\"><span data-lake-id=\"ub1071104\" id=\"ub1071104\">banner</span></code><span data-lake-id=\"u0361e732\" id=\"u0361e732\"> 切换的代码位置在 </span><code data-lake-id=\"uec8327b3\" id=\"uec8327b3\"><span data-lake-id=\"u54c5193a\" id=\"u54c5193a\">/layout/_partial/bg-cover-content.ejs</span></code><span data-lake-id=\"u247d7709\" id=\"u247d7709\"> 文件的 </span><code data-lake-id=\"u08a33846\" id=\"u08a33846\"><span data-lake-id=\"ua44ff084\" id=\"ua44ff084\">&lt;script&gt;&lt;/script&gt;</span></code><span data-lake-id=\"u7b851289\" id=\"u7b851289\"> 代码中：</span></p><p data-lake-id=\"u0a5c9530\" id=\"u0a5c9530\"><br></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22%24('.bg-cover').css('background-image'%2C%20'url(%2Fmedias%2Fbanner%2F'%20%2B%20new%20Date().getDay()%20%2B%20'.jpg)')%3B%22%2C%22autoWrap%22%3Afalse%2C%22theme%22%3A%22default%22%2C%22heightLimit%22%3Atrue%2C%22id%22%3A%22790f03e9%22%7D\"></card><p data-lake-id=\"u85941fef\" id=\"u85941fef\"><br></p><p data-lake-id=\"u6bfd33af\" id=\"u6bfd33af\"><span data-lake-id=\"ua41af5b6\" id=\"ua41af5b6\">在 </span><code data-lake-id=\"u96850cfd\" id=\"u96850cfd\"><span data-lake-id=\"u08756291\" id=\"u08756291\">/source/medias/featureimages</span></code><span data-lake-id=\"ue62f90c3\" id=\"ue62f90c3\"> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 </span><code data-lake-id=\"u594dda48\" id=\"u594dda48\"><span data-lake-id=\"u5dec547a\" id=\"u5dec547a\">_config.yml</span></code><span data-lake-id=\"u800f7547\" id=\"u800f7547\"> 做同步修改。</span></p><p data-lake-id=\"u7e457665\" id=\"u7e457665\"><br></p><h2 data-lake-id=\"a60df95b\" id=\"a60df95b\"><span data-lake-id=\"uc45a070e\" id=\"uc45a070e\">版本变更记录</span></h2><p data-lake-id=\"u2e3f64da\" id=\"u2e3f64da\"><br></p><p data-lake-id=\"ub6f482bf\" id=\"ub6f482bf\"><span data-lake-id=\"udda4e5ec\" id=\"udda4e5ec\">参见 </span><a href=\"https://github.com/blinkfox/hexo-theme-matery/blob/master/CHANGELOG.md\" target=\"_blank\" data-lake-id=\"u68a65a9c\" id=\"u68a65a9c\"><span data-lake-id=\"u7f946b35\" id=\"u7f946b35\">CHANGELOG.md</span></a></p>",
    "public": 1,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2021-07-08T07:43:47.000Z",
    "deleted_at": null,
    "created_at": "2021-07-08T07:42:35.000Z",
    "updated_at": "2021-07-08T07:43:47.000Z",
    "published_at": "2021-07-08T07:43:47.000Z",
    "first_published_at": "2021-07-08T07:42:35.000Z",
    "word_count": 4823,
    "cover": null,
    "description": "这是一个采用 Material Design 和响应式设计的 Hexo 博客主题。特性简单漂亮，文章内容美观易读Material Design 设计响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现首页轮播文章及每天动态切换 Banner 图片瀑布流式的博客文章列表（文章无特色图片时会...",
    "custom_description": null,
    "hits": 1,
    "_serializer": "v2.doc_detail"
  }
]